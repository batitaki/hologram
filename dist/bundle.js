/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t,n,r={8594:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const o=(i={},function(e){return void 0===i[e]&&(i[e]=(t=e,r.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91)),i[e];var t});var i},597:(e,t,n)=>{"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r=n(7294))&&r.__esModule?r:{default:r};t.Z=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,a=void 0===r?24:r,s=e.height,l=void 0===s?24:s,u=e.style,c=void 0===u?{}:u,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return i.default.createElement("svg",o({viewBox:"0 0 24 24",style:o({fill:n,width:a,height:l},c)},d),i.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},3891:(e,t,n)=>{"use strict";var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r=n(7294))&&r.__esModule?r:{default:r};t.Z=function(e){var t=e.fill,n=void 0===t?"currentColor":t,r=e.width,a=void 0===r?24:r,s=e.height,l=void 0===s?24:s,u=e.style,c=void 0===u?{}:u,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["fill","width","height","style"]);return i.default.createElement("svg",o({viewBox:"0 0 24 24",style:o({fill:n,width:a,height:l},c)},d),i.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},4979:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var o={},i={};function a(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=l(e,(0|e)<0?-1:0,!0),a&&(i[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=o[e])?r:(n=l(e,e<0?-1:0,!1),a&&(o[e]=n),n)}function s(e,t){if(isNaN(e))return t?b:g;if(t){if(e<0)return b;if(e>=h)return k}else{if(e<=-f)return _;if(e+1>=f)return w}return e<0?s(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=l;var u=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"==typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var o=s(u(n,8)),i=g,a=0;a<e.length;a+=8){var l=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+l),n);if(l<8){var p=s(u(n,l));i=i.mul(p).add(s(d))}else i=(i=i.mul(o)).add(s(d))}return i.unsigned=t,i}function d(e,t){return"number"==typeof e?s(e,t):"string"==typeof e?c(e,t):l(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var p=4294967296,h=p*p,f=h/2,m=a(1<<24),g=a(0);n.ZERO=g;var b=a(0,!0);n.UZERO=b;var y=a(1);n.ONE=y;var v=a(1,!0);n.UONE=v;var x=a(-1);n.NEG_ONE=x;var w=l(-1,2147483647,!1);n.MAX_VALUE=w;var k=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var _=l(0,-2147483648,!1);n.MIN_VALUE=_;var S=n.prototype;S.toInt=function(){return this.unsigned?this.low>>>0:this.low},S.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},S.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(_)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var o=s(u(e,6),this.unsigned),i=this,a="";;){var l=i.div(o),c=(i.sub(l.mul(o)).toInt()>>>0).toString(e);if((i=l).isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},S.getHighBits=function(){return this.high},S.getHighBitsUnsigned=function(){return this.high>>>0},S.getLowBits=function(){return this.low},S.getLowBitsUnsigned=function(){return this.low>>>0},S.getNumBitsAbs=function(){if(this.isNegative())return this.eq(_)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},S.isZero=function(){return 0===this.high&&0===this.low},S.eqz=S.isZero,S.isNegative=function(){return!this.unsigned&&this.high<0},S.isPositive=function(){return this.unsigned||this.high>=0},S.isOdd=function(){return 1==(1&this.low)},S.isEven=function(){return 0==(1&this.low)},S.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},S.eq=S.equals,S.notEquals=function(e){return!this.eq(e)},S.neq=S.notEquals,S.ne=S.notEquals,S.lessThan=function(e){return this.comp(e)<0},S.lt=S.lessThan,S.lessThanOrEqual=function(e){return this.comp(e)<=0},S.lte=S.lessThanOrEqual,S.le=S.lessThanOrEqual,S.greaterThan=function(e){return this.comp(e)>0},S.gt=S.greaterThan,S.greaterThanOrEqual=function(e){return this.comp(e)>=0},S.gte=S.greaterThanOrEqual,S.ge=S.greaterThanOrEqual,S.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},S.comp=S.compare,S.negate=function(){return!this.unsigned&&this.eq(_)?_:this.not().add(y)},S.neg=S.negate,S.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,o=this.low>>>16,i=65535&this.low,a=e.high>>>16,s=65535&e.high,u=e.low>>>16,c=0,p=0,h=0,f=0;return h+=(f+=i+(65535&e.low))>>>16,p+=(h+=o+u)>>>16,c+=(p+=n+s)>>>16,c+=t+a,l((h&=65535)<<16|(f&=65535),(c&=65535)<<16|(p&=65535),this.unsigned)},S.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},S.sub=S.subtract,S.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(_))return e.isOdd()?_:g;if(e.eq(_))return this.isOdd()?_:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,o=65535&this.high,i=this.low>>>16,a=65535&this.low,u=e.high>>>16,c=65535&e.high,p=e.low>>>16,h=65535&e.low,f=0,b=0,y=0,v=0;return y+=(v+=a*h)>>>16,b+=(y+=i*h)>>>16,y&=65535,b+=(y+=a*p)>>>16,f+=(b+=o*h)>>>16,b&=65535,f+=(b+=i*p)>>>16,b&=65535,f+=(b+=a*c)>>>16,f+=n*h+o*p+i*c+a*u,l((y&=65535)<<16|(v&=65535),(f&=65535)<<16|(b&=65535),this.unsigned)},S.mul=S.multiply,S.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,o,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?b:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return b;if(e.gt(this.shru(1)))return v;i=b}else{if(this.eq(_))return e.eq(y)||e.eq(x)?_:e.eq(_)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:x:(o=this.sub(e.mul(n)),i=n.add(o.div(e)));if(e.eq(_))return this.unsigned?b:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=g}for(o=this;o.gte(e);){n=Math.max(1,Math.floor(o.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),c=a<=48?1:u(2,a-48),p=s(n),h=p.mul(e);h.isNegative()||h.gt(o);)h=(p=s(n-=c,this.unsigned)).mul(e);p.isZero()&&(p=y),i=i.add(p),o=o.sub(h)}return i},S.div=S.divide,S.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},S.mod=S.modulo,S.rem=S.modulo,S.not=function(){return l(~this.low,~this.high,this.unsigned)},S.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},S.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},S.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},S.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},S.shl=S.shiftLeft,S.shiftRight=function(e){return r(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},S.shr=S.shiftRight,S.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},S.shru=S.shiftRightUnsigned,S.shr_u=S.shiftRightUnsigned,S.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},S.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},S.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},S.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},S.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},8702:function(e){e.exports=function(){"use strict";const e=new Map,t={set(t,n,r){e.has(t)||e.set(t,new Map);const o=e.get(t);o.has(n)||0===o.size?o.set(n,r):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(o.keys())[0]}.`)},get:(t,n)=>e.has(t)&&e.get(t).get(n)||null,remove(t,n){if(!e.has(t))return;const r=e.get(t);r.delete(n),0===r.size&&e.delete(t)}},n="transitionend",r=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>`#${CSS.escape(t)}`))),e),o=e=>{e.dispatchEvent(new Event(n))},i=e=>!(!e||"object"!=typeof e)&&(void 0!==e.jquery&&(e=e[0]),void 0!==e.nodeType),a=e=>i(e)?e.jquery?e[0]:e:"string"==typeof e&&e.length>0?document.querySelector(r(e)):null,s=e=>{if(!i(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},l=e=>!e||e.nodeType!==Node.ELEMENT_NODE||!!e.classList.contains("disabled")||(void 0!==e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled")),u=e=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?u(e.parentNode):null},c=()=>{},d=e=>{e.offsetHeight},p=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,h=[],f=()=>"rtl"===document.documentElement.dir,m=e=>{var t;t=()=>{const t=p();if(t){const n=e.NAME,r=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=r,e.jQueryInterface)}},"loading"===document.readyState?(h.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of h)e()})),h.push(t)):t()},g=(e,t=[],n=e)=>"function"==typeof e?e(...t):n,b=(e,t,r=!0)=>{if(!r)return void g(e);const i=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const r=Number.parseFloat(t),o=Number.parseFloat(n);return r||o?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let a=!1;const s=({target:r})=>{r===t&&(a=!0,t.removeEventListener(n,s),g(e))};t.addEventListener(n,s),setTimeout((()=>{a||o(t)}),i)},y=(e,t,n,r)=>{const o=e.length;let i=e.indexOf(t);return-1===i?!n&&r?e[o-1]:e[0]:(i+=n?1:-1,r&&(i=(i+o)%o),e[Math.max(0,Math.min(i,o-1))])},v=/[^.]*(?=\..*)\.|.*/,x=/\..*/,w=/::\d+$/,k={};let _=1;const S={mouseenter:"mouseover",mouseleave:"mouseout"},E=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function T(e,t){return t&&`${t}::${_++}`||e.uidEvent||_++}function C(e){const t=T(e);return e.uidEvent=t,k[t]=k[t]||{},k[t]}function I(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function j(e,t,n){const r="string"==typeof t,o=r?n:t||n;let i=R(e);return E.has(i)||(i=e),[r,o,i]}function A(e,t,n,r,o){if("string"!=typeof t||!e)return;let[i,a,s]=j(t,n,r);if(t in S){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};a=e(a)}const l=C(e),u=l[s]||(l[s]={}),c=I(u,a,i?n:null);if(c)return void(c.oneOff=c.oneOff&&o);const d=T(a,t.replace(v,"")),p=i?function(e,t,n){return function r(o){const i=e.querySelectorAll(t);for(let{target:a}=o;a&&a!==this;a=a.parentNode)for(const s of i)if(s===a)return M(o,{delegateTarget:a}),r.oneOff&&P.off(e,o.type,t,n),n.apply(a,[o])}}(e,n,a):function(e,t){return function n(r){return M(r,{delegateTarget:e}),n.oneOff&&P.off(e,r.type,t),t.apply(e,[r])}}(e,a);p.delegationSelector=i?n:null,p.callable=a,p.oneOff=o,p.uidEvent=d,u[d]=p,e.addEventListener(s,p,i)}function O(e,t,n,r,o){const i=I(t[n],r,o);i&&(e.removeEventListener(n,i,Boolean(o)),delete t[n][i.uidEvent])}function N(e,t,n,r){const o=t[n]||{};for(const[i,a]of Object.entries(o))i.includes(r)&&O(e,t,n,a.callable,a.delegationSelector)}function R(e){return e=e.replace(x,""),S[e]||e}const P={on(e,t,n,r){A(e,t,n,r,!1)},one(e,t,n,r){A(e,t,n,r,!0)},off(e,t,n,r){if("string"!=typeof t||!e)return;const[o,i,a]=j(t,n,r),s=a!==t,l=C(e),u=l[a]||{},c=t.startsWith(".");if(void 0===i){if(c)for(const n of Object.keys(l))N(e,l,n,t.slice(1));for(const[n,r]of Object.entries(u)){const o=n.replace(w,"");s&&!t.includes(o)||O(e,l,a,r.callable,r.delegationSelector)}}else{if(!Object.keys(u).length)return;O(e,l,a,i,o?n:null)}},trigger(e,t,n){if("string"!=typeof t||!e)return null;const r=p();let o=null,i=!0,a=!0,s=!1;t!==R(t)&&r&&(o=r.Event(t,n),r(e).trigger(o),i=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),s=o.isDefaultPrevented());const l=M(new Event(t,{bubbles:i,cancelable:!0}),n);return s&&l.preventDefault(),a&&e.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function M(e,t={}){for(const[n,r]of Object.entries(t))try{e[n]=r}catch(t){Object.defineProperty(e,n,{configurable:!0,get:()=>r})}return e}function D(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!=typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function L(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLowerCase()}`))}const F={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${L(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${L(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const r of n){let n=r.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=D(e.dataset[r])}return t},getDataAttribute:(e,t)=>D(e.getAttribute(`data-bs-${L(t)}`))};class B{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=i(t)?F.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"==typeof n?n:{},...i(t)?F.getDataAttributes(t):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,o]of Object.entries(t)){const t=e[r],a=i(t)?"element":null==(n=t)?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${a}" but expected type "${o}".`)}var n}}class $ extends B{constructor(e,n){super(),(e=a(e))&&(this._element=e,this._config=this._getConfig(n),t.set(this._element,this.constructor.DATA_KEY,this))}dispose(){t.remove(this._element,this.constructor.DATA_KEY),P.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){b(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return t.get(a(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,"object"==typeof t?t:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const z=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&"#"!==n?r(n.trim()):null}return t},U={find:(e,t=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(t,e)),findOne:(e,t=document.documentElement)=>Element.prototype.querySelector.call(t,e),children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let r=e.parentNode.closest(t);for(;r;)n.push(r),r=r.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>`${e}:not([tabindex^="-"])`)).join(",");return this.find(t,e).filter((e=>!l(e)&&s(e)))},getSelectorFromElement(e){const t=z(e);return t&&U.findOne(t)?t:null},getElementFromSelector(e){const t=z(e);return t?U.findOne(t):null},getMultipleElementsFromSelector(e){const t=z(e);return t?U.find(t):[]}},V=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,r=e.NAME;P.on(document,n,`[data-bs-dismiss="${r}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),l(this))return;const o=U.getElementFromSelector(this)||this.closest(`.${r}`);e.getOrCreateInstance(o)[t]()}))},G=".bs.alert",W=`close${G}`,H=`closed${G}`;class q extends ${static get NAME(){return"alert"}close(){if(P.trigger(this._element,W).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),P.trigger(this._element,H),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=q.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}V(q,"close"),m(q);const X='[data-bs-toggle="button"]';class Y extends ${static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=Y.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}P.on(document,"click.bs.button.data-api",X,(e=>{e.preventDefault();const t=e.target.closest(X);Y.getOrCreateInstance(t).toggle()})),m(Y);const K=".bs.swipe",Z=`touchstart${K}`,J=`touchmove${K}`,Q=`touchend${K}`,ee=`pointerdown${K}`,te=`pointerup${K}`,ne={endCallback:null,leftCallback:null,rightCallback:null},re={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class oe extends B{constructor(e,t){super(),this._element=e,e&&oe.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ne}static get DefaultType(){return re}static get NAME(){return"swipe"}dispose(){P.off(this._element,K)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),g(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&g(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(P.on(this._element,ee,(e=>this._start(e))),P.on(this._element,te,(e=>this._end(e))),this._element.classList.add("pointer-event")):(P.on(this._element,Z,(e=>this._start(e))),P.on(this._element,J,(e=>this._move(e))),P.on(this._element,Q,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ie=".bs.carousel",ae=".data-api",se="next",le="prev",ue="left",ce="right",de=`slide${ie}`,pe=`slid${ie}`,he=`keydown${ie}`,fe=`mouseenter${ie}`,me=`mouseleave${ie}`,ge=`dragstart${ie}`,be=`load${ie}${ae}`,ye=`click${ie}${ae}`,ve="carousel",xe="active",we=".active",ke=".carousel-item",_e=we+ke,Se={ArrowLeft:ce,ArrowRight:ue},Ee={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Te={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ce extends ${constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===ve&&this.cycle()}static get Default(){return Ee}static get DefaultType(){return Te}static get NAME(){return"carousel"}next(){this._slide(se)}nextWhenVisible(){!document.hidden&&s(this._element)&&this.next()}prev(){this._slide(le)}pause(){this._isSliding&&o(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?P.one(this._element,pe,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void P.one(this._element,pe,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const r=e>n?se:le;this._slide(r,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&P.on(this._element,he,(e=>this._keydown(e))),"hover"===this._config.pause&&(P.on(this._element,fe,(()=>this.pause())),P.on(this._element,me,(()=>this._maybeEnableCycle()))),this._config.touch&&oe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const e of U.find(".carousel-item img",this._element))P.on(e,ge,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(ue)),rightCallback:()=>this._slide(this._directionToOrder(ce)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new oe(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Se[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=U.findOne(we,this._indicatorsElement);t.classList.remove(xe),t.removeAttribute("aria-current");const n=U.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(xe),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),r=e===se,o=t||y(this._getItems(),n,r,this._config.wrap);if(o===n)return;const i=this._getItemIndex(o),a=t=>P.trigger(this._element,t,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:i});if(a(de).defaultPrevented)return;if(!n||!o)return;const s=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=o;const l=r?"carousel-item-start":"carousel-item-end",u=r?"carousel-item-next":"carousel-item-prev";o.classList.add(u),d(o),n.classList.add(l),o.classList.add(l),this._queueCallback((()=>{o.classList.remove(l,u),o.classList.add(xe),n.classList.remove(xe,u,l),this._isSliding=!1,a(pe)}),n,this._isAnimated()),s&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return U.findOne(_e,this._element)}_getItems(){return U.find(ke,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return f()?e===ue?le:se:e===ue?se:le}_orderToDirection(e){return f()?e===le?ue:ce:e===le?ce:ue}static jQueryInterface(e){return this.each((function(){const t=Ce.getOrCreateInstance(this,e);if("number"!=typeof e){if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}else t.to(e)}))}}P.on(document,ye,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=U.getElementFromSelector(this);if(!t||!t.classList.contains(ve))return;e.preventDefault();const n=Ce.getOrCreateInstance(t),r=this.getAttribute("data-bs-slide-to");return r?(n.to(r),void n._maybeEnableCycle()):"next"===F.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),P.on(window,be,(()=>{const e=U.find('[data-bs-ride="carousel"]');for(const t of e)Ce.getOrCreateInstance(t)})),m(Ce);const Ie=".bs.collapse",je=`show${Ie}`,Ae=`shown${Ie}`,Oe=`hide${Ie}`,Ne=`hidden${Ie}`,Re=`click${Ie}.data-api`,Pe="show",Me="collapse",De="collapsing",Le=`:scope .${Me} .${Me}`,Fe='[data-bs-toggle="collapse"]',Be={parent:null,toggle:!0},$e={parent:"(null|element)",toggle:"boolean"};class ze extends ${constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=U.find(Fe);for(const e of n){const t=U.getSelectorFromElement(e),n=U.find(t).filter((e=>e===this._element));null!==t&&n.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Be}static get DefaultType(){return $e}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>ze.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(P.trigger(this._element,je).defaultPrevented)return;for(const t of e)t.hide();const t=this._getDimension();this._element.classList.remove(Me),this._element.classList.add(De),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${t[0].toUpperCase()+t.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(De),this._element.classList.add(Me,Pe),this._element.style[t]="",P.trigger(this._element,Ae)}),this._element,!0),this._element.style[t]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(P.trigger(this._element,Oe).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,d(this._element),this._element.classList.add(De),this._element.classList.remove(Me,Pe);for(const e of this._triggerArray){const t=U.getElementFromSelector(e);t&&!this._isShown(t)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(De),this._element.classList.add(Me),P.trigger(this._element,Ne)}),this._element,!0)}_isShown(e=this._element){return e.classList.contains(Pe)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=a(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Fe);for(const t of e){const e=U.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=U.find(Le,this._config.parent);return U.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"==typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=ze.getOrCreateInstance(this,t);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e]()}}))}}P.on(document,Re,Fe,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const e of U.getMultipleElementsFromSelector(this))ze.getOrCreateInstance(e,{toggle:!1}).toggle()})),m(ze);var Ue="top",Ve="bottom",Ge="right",We="left",He="auto",qe=[Ue,Ve,Ge,We],Xe="start",Ye="end",Ke="clippingParents",Ze="viewport",Je="popper",Qe="reference",et=qe.reduce((function(e,t){return e.concat([t+"-"+Xe,t+"-"+Ye])}),[]),tt=[].concat(qe,[He]).reduce((function(e,t){return e.concat([t,t+"-"+Xe,t+"-"+Ye])}),[]),nt="beforeRead",rt="read",ot="afterRead",it="beforeMain",at="main",st="afterMain",lt="beforeWrite",ut="write",ct="afterWrite",dt=[nt,rt,ot,it,at,st,lt,ut,ct];function pt(e){return e?(e.nodeName||"").toLowerCase():null}function ht(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ft(e){return e instanceof ht(e).Element||e instanceof Element}function mt(e){return e instanceof ht(e).HTMLElement||e instanceof HTMLElement}function gt(e){return"undefined"!=typeof ShadowRoot&&(e instanceof ht(e).ShadowRoot||e instanceof ShadowRoot)}const bt={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];mt(o)&&pt(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],o=t.attributes[e]||{},i=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});mt(r)&&pt(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};function yt(e){return e.split("-")[0]}var vt=Math.max,xt=Math.min,wt=Math.round;function kt(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function _t(){return!/^((?!chrome|android).)*safari/i.test(kt())}function St(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&mt(e)&&(o=e.offsetWidth>0&&wt(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&wt(r.height)/e.offsetHeight||1);var a=(ft(e)?ht(e):window).visualViewport,s=!_t()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/o,u=(r.top+(s&&a?a.offsetTop:0))/i,c=r.width/o,d=r.height/i;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function Et(e){var t=St(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Tt(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&gt(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ct(e){return ht(e).getComputedStyle(e)}function It(e){return["table","td","th"].indexOf(pt(e))>=0}function jt(e){return((ft(e)?e.ownerDocument:e.document)||window.document).documentElement}function At(e){return"html"===pt(e)?e:e.assignedSlot||e.parentNode||(gt(e)?e.host:null)||jt(e)}function Ot(e){return mt(e)&&"fixed"!==Ct(e).position?e.offsetParent:null}function Nt(e){for(var t=ht(e),n=Ot(e);n&&It(n)&&"static"===Ct(n).position;)n=Ot(n);return n&&("html"===pt(n)||"body"===pt(n)&&"static"===Ct(n).position)?t:n||function(e){var t=/firefox/i.test(kt());if(/Trident/i.test(kt())&&mt(e)&&"fixed"===Ct(e).position)return null;var n=At(e);for(gt(n)&&(n=n.host);mt(n)&&["html","body"].indexOf(pt(n))<0;){var r=Ct(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Rt(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Pt(e,t,n){return vt(e,xt(t,n))}function Mt(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Dt(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const Lt={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,a=n.modifiersData.popperOffsets,s=yt(n.placement),l=Rt(s),u=[We,Ge].indexOf(s)>=0?"height":"width";if(i&&a){var c=function(e,t){return Mt("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Dt(e,qe))}(o.padding,n),d=Et(i),p="y"===l?Ue:We,h="y"===l?Ve:Ge,f=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],m=a[l]-n.rects.reference[l],g=Nt(i),b=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,v=c[p],x=b-d[u]-c[h],w=b/2-d[u]/2+y,k=Pt(v,w,x),_=l;n.modifiersData[r]=((t={})[_]=k,t.centerOffset=k-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Tt(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ft(e){return e.split("-")[1]}var Bt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function $t(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=a.x,h=void 0===p?0:p,f=a.y,m=void 0===f?0:f,g="function"==typeof c?c({x:h,y:m}):{x:h,y:m};h=g.x,m=g.y;var b=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),v=We,x=Ue,w=window;if(u){var k=Nt(n),_="clientHeight",S="clientWidth";k===ht(n)&&"static"!==Ct(k=jt(n)).position&&"absolute"===s&&(_="scrollHeight",S="scrollWidth"),(o===Ue||(o===We||o===Ge)&&i===Ye)&&(x=Ve,m-=(d&&k===w&&w.visualViewport?w.visualViewport.height:k[_])-r.height,m*=l?1:-1),o!==We&&(o!==Ue&&o!==Ve||i!==Ye)||(v=Ge,h-=(d&&k===w&&w.visualViewport?w.visualViewport.width:k[S])-r.width,h*=l?1:-1)}var E,T=Object.assign({position:s},u&&Bt),C=!0===c?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:wt(n*o)/o||0,y:wt(r*o)/o||0}}({x:h,y:m},ht(n)):{x:h,y:m};return h=C.x,m=C.y,l?Object.assign({},T,((E={})[x]=y?"0":"",E[v]=b?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",E)):Object.assign({},T,((t={})[x]=y?m+"px":"",t[v]=b?h+"px":"",t.transform="",t))}const zt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,a=void 0===i||i,s=n.roundOffsets,l=void 0===s||s,u={placement:yt(t.placement),variation:Ft(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,$t(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,$t(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Ut={passive:!0};const Vt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,a=r.resize,s=void 0===a||a,l=ht(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach((function(e){e.addEventListener("scroll",n.update,Ut)})),s&&l.addEventListener("resize",n.update,Ut),function(){i&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Ut)})),s&&l.removeEventListener("resize",n.update,Ut)}},data:{}};var Gt={left:"right",right:"left",bottom:"top",top:"bottom"};function Wt(e){return e.replace(/left|right|bottom|top/g,(function(e){return Gt[e]}))}var Ht={start:"end",end:"start"};function qt(e){return e.replace(/start|end/g,(function(e){return Ht[e]}))}function Xt(e){var t=ht(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Yt(e){return St(jt(e)).left+Xt(e).scrollLeft}function Kt(e){var t=Ct(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Zt(e){return["html","body","#document"].indexOf(pt(e))>=0?e.ownerDocument.body:mt(e)&&Kt(e)?e:Zt(At(e))}function Jt(e,t){var n;void 0===t&&(t=[]);var r=Zt(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=ht(r),a=o?[i].concat(i.visualViewport||[],Kt(r)?r:[]):r,s=t.concat(a);return o?s:s.concat(Jt(At(a)))}function Qt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function en(e,t,n){return t===Ze?Qt(function(e,t){var n=ht(e),r=jt(e),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var u=_t();(u||!u&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s+Yt(e),y:l}}(e,n)):ft(t)?function(e,t){var n=St(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Qt(function(e){var t,n=jt(e),r=Xt(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=vt(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=vt(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+Yt(e),l=-r.scrollTop;return"rtl"===Ct(o||n).direction&&(s+=vt(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(jt(e)))}function tn(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?yt(o):null,a=o?Ft(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case Ue:t={x:s,y:n.y-r.height};break;case Ve:t={x:s,y:n.y+n.height};break;case Ge:t={x:n.x+n.width,y:l};break;case We:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=i?Rt(i):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case Xe:t[u]=t[u]-(n[c]/2-r[c]/2);break;case Ye:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function nn(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,a=void 0===i?e.strategy:i,s=n.boundary,l=void 0===s?Ke:s,u=n.rootBoundary,c=void 0===u?Ze:u,d=n.elementContext,p=void 0===d?Je:d,h=n.altBoundary,f=void 0!==h&&h,m=n.padding,g=void 0===m?0:m,b=Mt("number"!=typeof g?g:Dt(g,qe)),y=p===Je?Qe:Je,v=e.rects.popper,x=e.elements[f?y:p],w=function(e,t,n,r){var o="clippingParents"===t?function(e){var t=Jt(At(e)),n=["absolute","fixed"].indexOf(Ct(e).position)>=0&&mt(e)?Nt(e):e;return ft(n)?t.filter((function(e){return ft(e)&&Tt(e,n)&&"body"!==pt(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),a=i[0],s=i.reduce((function(t,n){var o=en(e,n,r);return t.top=vt(o.top,t.top),t.right=xt(o.right,t.right),t.bottom=xt(o.bottom,t.bottom),t.left=vt(o.left,t.left),t}),en(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}(ft(x)?x:x.contextElement||jt(e.elements.popper),l,c,a),k=St(e.elements.reference),_=tn({reference:k,element:v,strategy:"absolute",placement:o}),S=Qt(Object.assign({},v,_)),E=p===Je?S:k,T={top:w.top-E.top+b.top,bottom:E.bottom-w.bottom+b.bottom,left:w.left-E.left+b.left,right:E.right-w.right+b.right},C=e.modifiersData.offset;if(p===Je&&C){var I=C[o];Object.keys(T).forEach((function(e){var t=[Ge,Ve].indexOf(e)>=0?1:-1,n=[Ue,Ve].indexOf(e)>=0?"y":"x";T[e]+=I[n]*t}))}return T}const rn={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,f=void 0===h||h,m=n.allowedAutoPlacements,g=t.options.placement,b=yt(g),y=l||(b!==g&&f?function(e){if(yt(e)===He)return[];var t=Wt(e);return[qt(e),t,qt(t)]}(g):[Wt(g)]),v=[g].concat(y).reduce((function(e,n){return e.concat(yt(n)===He?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?tt:l,c=Ft(r),d=c?s?et:et.filter((function(e){return Ft(e)===c})):qe,p=d.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=d);var h=p.reduce((function(t,n){return t[n]=nn(e,{placement:n,boundary:o,rootBoundary:i,padding:a})[yt(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,k=new Map,_=!0,S=v[0],E=0;E<v.length;E++){var T=v[E],C=yt(T),I=Ft(T)===Xe,j=[Ue,Ve].indexOf(C)>=0,A=j?"width":"height",O=nn(t,{placement:T,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),N=j?I?Ge:We:I?Ve:Ue;x[A]>w[A]&&(N=Wt(N));var R=Wt(N),P=[];if(i&&P.push(O[C]<=0),s&&P.push(O[N]<=0,O[R]<=0),P.every((function(e){return e}))){S=T,_=!1;break}k.set(T,P)}if(_)for(var M=function(e){var t=v.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},D=f?3:1;D>0&&"break"!==M(D);D--);t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function on(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function an(e){return[Ue,Ge,Ve,We].some((function(t){return e[t]>=0}))}const sn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,a=nn(t,{elementContext:"reference"}),s=nn(t,{altBoundary:!0}),l=on(a,r),u=on(s,o,i),c=an(l),d=an(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}},ln={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,a=tt.reduce((function(e,n){return e[n]=function(e,t,n){var r=yt(e),o=[We,Ue].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=i[0],s=i[1];return a=a||0,s=(s||0)*o,[We,Ge].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,i),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}},un={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=tn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},cn={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,h=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,g=nn(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),b=yt(t.placement),y=Ft(t.placement),v=!y,x=Rt(b),w="x"===x?"y":"x",k=t.modifiersData.popperOffsets,_=t.rects.reference,S=t.rects.popper,E="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"==typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),C=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(k){if(i){var j,A="y"===x?Ue:We,O="y"===x?Ve:Ge,N="y"===x?"height":"width",R=k[x],P=R+g[A],M=R-g[O],D=h?-S[N]/2:0,L=y===Xe?_[N]:S[N],F=y===Xe?-S[N]:-_[N],B=t.elements.arrow,$=h&&B?Et(B):{width:0,height:0},z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=z[A],V=z[O],G=Pt(0,_[N],$[N]),W=v?_[N]/2-D-G-U-T.mainAxis:L-G-U-T.mainAxis,H=v?-_[N]/2+D+G+V+T.mainAxis:F+G+V+T.mainAxis,q=t.elements.arrow&&Nt(t.elements.arrow),X=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,Y=null!=(j=null==C?void 0:C[x])?j:0,K=R+H-Y,Z=Pt(h?xt(P,R+W-Y-X):P,R,h?vt(M,K):M);k[x]=Z,I[x]=Z-R}if(s){var J,Q="x"===x?Ue:We,ee="x"===x?Ve:Ge,te=k[w],ne="y"===w?"height":"width",re=te+g[Q],oe=te-g[ee],ie=-1!==[Ue,We].indexOf(b),ae=null!=(J=null==C?void 0:C[w])?J:0,se=ie?re:te-_[ne]-S[ne]-ae+T.altAxis,le=ie?te+_[ne]+S[ne]-ae-T.altAxis:oe,ue=h&&ie?function(e,t,n){var r=Pt(e,t,n);return r>n?n:r}(se,te,le):Pt(h?se:re,te,h?le:oe);k[w]=ue,I[w]=ue-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};function dn(e,t,n){void 0===n&&(n=!1);var r,o,i=mt(t),a=mt(t)&&function(e){var t=e.getBoundingClientRect(),n=wt(t.width)/e.offsetWidth||1,r=wt(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=jt(t),l=St(e,a,n),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!n)&&(("body"!==pt(t)||Kt(s))&&(u=(r=t)!==ht(r)&&mt(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:Xt(r)),mt(t)?((c=St(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=Yt(s))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function pn(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}var hn={placement:"bottom",modifiers:[],strategy:"absolute"};function fn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function mn(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?hn:o;return function(e,t,n){void 0===n&&(n=i);var o,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},hn,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,c={state:s,setOptions:function(n){var o="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},i,s.options,o),s.scrollParents={reference:ft(e)?Jt(e):e.contextElement?Jt(e.contextElement):[],popper:Jt(t)};var a,u,p=function(e){var t=pn(e);return dt.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,s.options.modifiers),u=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(u).map((function(e){return u[e]}))));return s.orderedModifiers=p.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var i=o({state:s,name:t,instance:c,options:r});l.push(i||function(){})}})),c.update()},forceUpdate:function(){if(!u){var e=s.elements,t=e.reference,n=e.popper;if(fn(t,n)){s.rects={reference:dn(t,Nt(n),"fixed"===s.options.strategy),popper:Et(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var o=s.orderedModifiers[r],i=o.fn,a=o.options,l=void 0===a?{}:a,d=o.name;"function"==typeof i&&(s=i({state:s,options:l,name:d,instance:c})||s)}else s.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(e){c.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(o())}))}))),a}),destroy:function(){d(),u=!0}};if(!fn(e,t))return c;function d(){l.forEach((function(e){return e()})),l=[]}return c.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var gn=mn(),bn=mn({defaultModifiers:[Vt,un,zt,bt]}),yn=mn({defaultModifiers:[Vt,un,zt,bt,ln,rn,cn,Lt,sn]});const vn=Object.freeze(Object.defineProperty({__proto__:null,afterMain:st,afterRead:ot,afterWrite:ct,applyStyles:bt,arrow:Lt,auto:He,basePlacements:qe,beforeMain:it,beforeRead:nt,beforeWrite:lt,bottom:Ve,clippingParents:Ke,computeStyles:zt,createPopper:yn,createPopperBase:gn,createPopperLite:bn,detectOverflow:nn,end:Ye,eventListeners:Vt,flip:rn,hide:sn,left:We,main:at,modifierPhases:dt,offset:ln,placements:tt,popper:Je,popperGenerator:mn,popperOffsets:un,preventOverflow:cn,read:rt,reference:Qe,right:Ge,start:Xe,top:Ue,variationPlacements:et,viewport:Ze,write:ut},Symbol.toStringTag,{value:"Module"})),xn="dropdown",wn=".bs.dropdown",kn=".data-api",_n="ArrowUp",Sn="ArrowDown",En=`hide${wn}`,Tn=`hidden${wn}`,Cn=`show${wn}`,In=`shown${wn}`,jn=`click${wn}${kn}`,An=`keydown${wn}${kn}`,On=`keyup${wn}${kn}`,Nn="show",Rn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Pn=`${Rn}.${Nn}`,Mn=".dropdown-menu",Dn=f()?"top-end":"top-start",Ln=f()?"top-start":"top-end",Fn=f()?"bottom-end":"bottom-start",Bn=f()?"bottom-start":"bottom-end",$n=f()?"left-start":"right-start",zn=f()?"right-start":"left-start",Un={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Vn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Gn extends ${constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,Mn)[0]||U.prev(this._element,Mn)[0]||U.findOne(Mn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Un}static get DefaultType(){return Vn}static get NAME(){return xn}toggle(){return this._isShown()?this.hide():this.show()}show(){if(l(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!P.trigger(this._element,Cn,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))P.on(e,"mouseover",c);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Nn),this._element.classList.add(Nn),P.trigger(this._element,In,e)}}hide(){if(l(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!P.trigger(this._element,En,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))P.off(e,"mouseover",c);this._popper&&this._popper.destroy(),this._menu.classList.remove(Nn),this._element.classList.remove(Nn),this._element.setAttribute("aria-expanded","false"),F.removeDataAttribute(this._menu,"popper"),P.trigger(this._element,Tn,e)}}_getConfig(e){if("object"==typeof(e=super._getConfig(e)).reference&&!i(e.reference)&&"function"!=typeof e.reference.getBoundingClientRect)throw new TypeError(`${xn.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(void 0===vn)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=this._parent:i(this._config.reference)?e=a(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=yn(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Nn)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return $n;if(e.classList.contains("dropstart"))return zn;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?Ln:Dn:t?Bn:Fn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(F.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...g(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=U.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>s(e)));n.length&&y(n,t,e===Sn,!n.includes(t)).focus()}static jQueryInterface(e){return this.each((function(){const t=Gn.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=U.find(Pn);for(const n of t){const t=Gn.getInstance(n);if(!t||!1===t._config.autoClose)continue;const r=e.composedPath(),o=r.includes(t._menu);if(r.includes(t._element)||"inside"===t._config.autoClose&&!o||"outside"===t._config.autoClose&&o)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const i={relatedTarget:t._element};"click"===e.type&&(i.clickEvent=e),t._completeHide(i)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,r=[_n,Sn].includes(e.key);if(!r&&!n)return;if(t&&!n)return;e.preventDefault();const o=this.matches(Rn)?this:U.prev(this,Rn)[0]||U.next(this,Rn)[0]||U.findOne(Rn,e.delegateTarget.parentNode),i=Gn.getOrCreateInstance(o);if(r)return e.stopPropagation(),i.show(),void i._selectMenuItem(e);i._isShown()&&(e.stopPropagation(),i.hide(),o.focus())}}P.on(document,An,Rn,Gn.dataApiKeydownHandler),P.on(document,An,Mn,Gn.dataApiKeydownHandler),P.on(document,jn,Gn.clearMenus),P.on(document,On,Gn.clearMenus),P.on(document,jn,Rn,(function(e){e.preventDefault(),Gn.getOrCreateInstance(this).toggle()})),m(Gn);const Wn="backdrop",Hn="show",qn=`mousedown.bs.${Wn}`,Xn={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Yn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Kn extends B{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Xn}static get DefaultType(){return Yn}static get NAME(){return Wn}show(e){if(!this._config.isVisible)return void g(e);this._append();const t=this._getElement();this._config.isAnimated&&d(t),t.classList.add(Hn),this._emulateAnimation((()=>{g(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(Hn),this._emulateAnimation((()=>{this.dispose(),g(e)}))):g(e)}dispose(){this._isAppended&&(P.off(this._element,qn),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=a(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),P.on(e,qn,(()=>{g(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){b(e,this._getElement(),this._config.isAnimated)}}const Zn=".bs.focustrap",Jn=`focusin${Zn}`,Qn=`keydown.tab${Zn}`,er="backward",tr={autofocus:!0,trapElement:null},nr={autofocus:"boolean",trapElement:"element"};class rr extends B{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return tr}static get DefaultType(){return nr}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),P.off(document,Zn),P.on(document,Jn,(e=>this._handleFocusin(e))),P.on(document,Qn,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,P.off(document,Zn))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=U.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===er?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?er:"forward")}}const or=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ir=".sticky-top",ar="padding-right",sr="margin-right";class lr{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ar,(t=>t+e)),this._setElementAttributes(or,ar,(t=>t+e)),this._setElementAttributes(ir,sr,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ar),this._resetElementAttributes(or,ar),this._resetElementAttributes(ir,sr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const r=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+r)return;this._saveInitialAttribute(e,t);const o=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,`${n(Number.parseFloat(o))}px`)}))}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&F.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=F.getDataAttribute(e,t);null!==n?(F.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(i(e))t(e);else for(const n of U.find(e,this._element))t(n)}}const ur=".bs.modal",cr=`hide${ur}`,dr=`hidePrevented${ur}`,pr=`hidden${ur}`,hr=`show${ur}`,fr=`shown${ur}`,mr=`resize${ur}`,gr=`click.dismiss${ur}`,br=`mousedown.dismiss${ur}`,yr=`keydown.dismiss${ur}`,vr=`click${ur}.data-api`,xr="modal-open",wr="show",kr="modal-static",_r={backdrop:!0,focus:!0,keyboard:!0},Sr={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Er extends ${constructor(e,t){super(e,t),this._dialog=U.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new lr,this._addEventListeners()}static get Default(){return _r}static get DefaultType(){return Sr}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||P.trigger(this._element,hr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(xr),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){this._isShown&&!this._isTransitioning&&(P.trigger(this._element,cr).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(wr),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated())))}dispose(){P.off(window,ur),P.off(this._dialog,ur),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Kn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new rr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=U.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),d(this._element),this._element.classList.add(wr),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,P.trigger(this._element,fr,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){P.on(this._element,yr,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),P.on(window,mr,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),P.on(this._element,br,(e=>{P.one(this._element,gr,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(xr),this._resetAdjustments(),this._scrollBar.reset(),P.trigger(this._element,pr)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(P.trigger(this._element,dr).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(kr)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(kr),this._queueCallback((()=>{this._element.classList.remove(kr),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=f()?"paddingLeft":"paddingRight";this._element.style[e]=`${t}px`}if(!n&&e){const e=f()?"paddingRight":"paddingLeft";this._element.style[e]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Er.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===n[e])throw new TypeError(`No method named "${e}"`);n[e](t)}}))}}P.on(document,vr,'[data-bs-toggle="modal"]',(function(e){const t=U.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),P.one(t,hr,(e=>{e.defaultPrevented||P.one(t,pr,(()=>{s(this)&&this.focus()}))}));const n=U.findOne(".modal.show");n&&Er.getInstance(n).hide(),Er.getOrCreateInstance(t).toggle(this)})),V(Er),m(Er);const Tr=".bs.offcanvas",Cr=".data-api",Ir=`load${Tr}${Cr}`,jr="show",Ar="showing",Or="hiding",Nr=".offcanvas.show",Rr=`show${Tr}`,Pr=`shown${Tr}`,Mr=`hide${Tr}`,Dr=`hidePrevented${Tr}`,Lr=`hidden${Tr}`,Fr=`resize${Tr}`,Br=`click${Tr}${Cr}`,$r=`keydown.dismiss${Tr}`,zr={backdrop:!0,keyboard:!0,scroll:!1},Ur={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Vr extends ${constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return zr}static get DefaultType(){return Ur}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||P.trigger(this._element,Rr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||(new lr).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ar),this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(jr),this._element.classList.remove(Ar),P.trigger(this._element,Pr,{relatedTarget:e})}),this._element,!0))}hide(){this._isShown&&(P.trigger(this._element,Mr).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Or),this._backdrop.hide(),this._queueCallback((()=>{this._element.classList.remove(jr,Or),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new lr).reset(),P.trigger(this._element,Lr)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new Kn({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():P.trigger(this._element,Dr)}:null})}_initializeFocusTrap(){return new rr({trapElement:this._element})}_addEventListeners(){P.on(this._element,$r,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():P.trigger(this._element,Dr))}))}static jQueryInterface(e){return this.each((function(){const t=Vr.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}P.on(document,Br,'[data-bs-toggle="offcanvas"]',(function(e){const t=U.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this))return;P.one(t,Lr,(()=>{s(this)&&this.focus()}));const n=U.findOne(Nr);n&&n!==t&&Vr.getInstance(n).hide(),Vr.getOrCreateInstance(t).toggle(this)})),P.on(window,Ir,(()=>{for(const e of U.find(Nr))Vr.getOrCreateInstance(e).show()})),P.on(window,Fr,(()=>{for(const e of U.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&Vr.getOrCreateInstance(e).hide()})),V(Vr),m(Vr);const Gr={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Wr=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Hr=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,qr=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!Wr.has(n)||Boolean(Hr.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))},Xr={allowList:Gr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Yr={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Kr={entry:"(string|element|function|null)",selector:"(string|element)"};class Zr extends B{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Xr}static get DefaultType(){return Yr}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[t,n]of Object.entries(this._config.content))this._setContent(e,n,t);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},Kr)}_setContent(e,t,n){const r=U.findOne(n,e);r&&((t=this._resolvePossibleFunction(t))?i(t)?this._putElementInTemplate(a(t),r):this._config.html?r.innerHTML=this._maybeSanitize(t):r.textContent=t:r.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"==typeof n)return n(e);const r=(new window.DOMParser).parseFromString(e,"text/html"),o=[].concat(...r.body.querySelectorAll("*"));for(const e of o){const n=e.nodeName.toLowerCase();if(!Object.keys(t).includes(n)){e.remove();continue}const r=[].concat(...e.attributes),o=[].concat(t["*"]||[],t[n]||[]);for(const t of r)qr(t,o)||e.removeAttribute(t.nodeName)}return r.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return g(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Jr=new Set(["sanitize","allowList","sanitizeFn"]),Qr="fade",eo="show",to=".modal",no="hide.bs.modal",ro="hover",oo="focus",io={AUTO:"auto",TOP:"top",RIGHT:f()?"left":"right",BOTTOM:"bottom",LEFT:f()?"right":"left"},ao={allowList:Gr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},so={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class lo extends ${constructor(e,t){if(void 0===vn)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return ao}static get DefaultType(){return so}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),P.off(this._element.closest(to),no,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=P.trigger(this._element,this.constructor.eventName("show")),t=(u(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(n),P.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(eo),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))P.on(e,"mouseover",c);this._queueCallback((()=>{P.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(this._isShown()&&!P.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(eo),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))P.off(e,"mouseover",c);this._activeTrigger.click=!1,this._activeTrigger[oo]=!1,this._activeTrigger[ro]=!1,this._isHovered=null,this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),P.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Qr,eo),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Qr),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Zr({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Qr)}_isShown(){return this.tip&&this.tip.classList.contains(eo)}_createPopper(e){const t=g(this._config.placement,[this,e,this._element]),n=io[t.toUpperCase()];return yn(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"==typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"==typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return g(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...g(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)P.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===ro?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===ro?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");P.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?oo:ro]=!0,t._enter()})),P.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?oo:ro]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},P.on(this._element.closest(to),no,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=F.getDataAttributes(this._element);for(const e of Object.keys(t))Jr.has(e)&&delete t[e];return e={...t,..."object"==typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:a(e.container),"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"==typeof e.title&&(e.title=e.title.toString()),"number"==typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=lo.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}m(lo);const uo={...lo.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},co={...lo.DefaultType,content:"(null|string|element|function)"};class po extends lo{static get Default(){return uo}static get DefaultType(){return co}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=po.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e]()}}))}}m(po);const ho=".bs.scrollspy",fo=`activate${ho}`,mo=`click${ho}`,go=`load${ho}.data-api`,bo="active",yo="[href]",vo=".nav-link",xo=`${vo}, .nav-item > ${vo}, .list-group-item`,wo={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ko={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _o extends ${constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return wo}static get DefaultType(){return ko}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=a(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,"string"==typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(P.off(this._config.target,mo),P.on(this._config.target,mo,yo,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,r=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:r,behavior:"smooth"});n.scrollTop=r}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get(`#${e.target.id}`),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},r=(this._rootElement||document.documentElement).scrollTop,o=r>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=r;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const e=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&e){if(n(i),!r)return}else o||e||n(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=U.find(yo,this._config.target);for(const t of e){if(!t.hash||l(t))continue;const e=U.findOne(decodeURI(t.hash),this._element);s(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(bo),this._activateParents(e),P.trigger(this._element,fo,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))U.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(bo);else for(const t of U.parents(e,".nav, .list-group"))for(const e of U.prev(t,xo))e.classList.add(bo)}_clearActiveClass(e){e.classList.remove(bo);const t=U.find(`${yo}.${bo}`,e);for(const e of t)e.classList.remove(bo)}static jQueryInterface(e){return this.each((function(){const t=_o.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}P.on(window,go,(()=>{for(const e of U.find('[data-bs-spy="scroll"]'))_o.getOrCreateInstance(e)})),m(_o);const So=".bs.tab",Eo=`hide${So}`,To=`hidden${So}`,Co=`show${So}`,Io=`shown${So}`,jo=`click${So}`,Ao=`keydown${So}`,Oo=`load${So}`,No="ArrowLeft",Ro="ArrowRight",Po="ArrowUp",Mo="ArrowDown",Do="Home",Lo="End",Fo="active",Bo="fade",$o="show",zo=".dropdown-toggle",Uo=`:not(${zo})`,Vo='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Go=`.nav-link${Uo}, .list-group-item${Uo}, [role="tab"]${Uo}, ${Vo}`,Wo=`.${Fo}[data-bs-toggle="tab"], .${Fo}[data-bs-toggle="pill"], .${Fo}[data-bs-toggle="list"]`;class Ho extends ${constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),P.on(this._element,Ao,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?P.trigger(t,Eo,{relatedTarget:e}):null;P.trigger(e,Co,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){e&&(e.classList.add(Fo),this._activate(U.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),P.trigger(e,Io,{relatedTarget:t})):e.classList.add($o)}),e,e.classList.contains(Bo)))}_deactivate(e,t){e&&(e.classList.remove(Fo),e.blur(),this._deactivate(U.getElementFromSelector(e)),this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),P.trigger(e,To,{relatedTarget:t})):e.classList.remove($o)}),e,e.classList.contains(Bo)))}_keydown(e){if(![No,Ro,Po,Mo,Do,Lo].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!l(e)));let n;if([Do,Lo].includes(e.key))n=t[e.key===Do?0:t.length-1];else{const r=[Ro,Mo].includes(e.key);n=y(t,e.target,r,!0)}n&&(n.focus({preventScroll:!0}),Ho.getOrCreateInstance(n).show())}_getChildren(){return U.find(Go,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const e of t)this._setInitialAttributesOnChild(e)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=U.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const r=(e,r)=>{const o=U.findOne(e,n);o&&o.classList.toggle(r,t)};r(zo,Fo),r(".dropdown-menu",$o),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(Fo)}_getInnerElement(e){return e.matches(Go)?e:U.findOne(Go,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=Ho.getOrCreateInstance(this);if("string"==typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError(`No method named "${e}"`);t[e]()}}))}}P.on(document,jo,Vo,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),l(this)||Ho.getOrCreateInstance(this).show()})),P.on(window,Oo,(()=>{for(const e of U.find(Wo))Ho.getOrCreateInstance(e)})),m(Ho);const qo=".bs.toast",Xo=`mouseover${qo}`,Yo=`mouseout${qo}`,Ko=`focusin${qo}`,Zo=`focusout${qo}`,Jo=`hide${qo}`,Qo=`hidden${qo}`,ei=`show${qo}`,ti=`shown${qo}`,ni="hide",ri="show",oi="showing",ii={animation:"boolean",autohide:"boolean",delay:"number"},ai={animation:!0,autohide:!0,delay:5e3};class si extends ${constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ai}static get DefaultType(){return ii}static get NAME(){return"toast"}show(){P.trigger(this._element,ei).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ni),d(this._element),this._element.classList.add(ri,oi),this._queueCallback((()=>{this._element.classList.remove(oi),P.trigger(this._element,ti),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this.isShown()&&(P.trigger(this._element,Jo).defaultPrevented||(this._element.classList.add(oi),this._queueCallback((()=>{this._element.classList.add(ni),this._element.classList.remove(oi,ri),P.trigger(this._element,Qo)}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ri),super.dispose()}isShown(){return this._element.classList.contains(ri)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){P.on(this._element,Xo,(e=>this._onInteraction(e,!0))),P.on(this._element,Yo,(e=>this._onInteraction(e,!1))),P.on(this._element,Ko,(e=>this._onInteraction(e,!0))),P.on(this._element,Zo,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=si.getOrCreateInstance(this,e);if("string"==typeof e){if(void 0===t[e])throw new TypeError(`No method named "${e}"`);t[e](this)}}))}}return V(si),m(si),{Alert:q,Button:Y,Carousel:Ce,Collapse:ze,Dropdown:Gn,Modal:Er,Offcanvas:Vr,Popover:po,ScrollSpy:_o,Tab:Ho,Toast:si,Tooltip:lo}}()},4666:(e,t,n)=>{"use strict";n.d(t,{Z:()=>X});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i),s=n(1667),l=n.n(s),u=new URL(n(6770),n.b),c=new URL(n(6711),n.b),d=new URL(n(6199),n.b),p=new URL(n(2204),n.b),h=new URL(n(8931),n.b),f=new URL(n(7486),n.b),m=new URL(n(9609),n.b),g=new URL(n(2469),n.b),b=new URL(n(991),n.b),y=new URL(n(5122),n.b),v=new URL(n(4144),n.b),x=new URL(n(2221),n.b),w=new URL(n(2956),n.b),k=new URL(n(3460),n.b),_=new URL(n(5321),n.b),S=new URL(n(1281),n.b),E=new URL(n(6254),n.b),T=new URL(n(5647),n.b),C=new URL(n(1692),n.b),I=a()(o()),j=l()(u),A=l()(c),O=l()(d),N=l()(p),R=l()(h),P=l()(f),M=l()(m),D=l()(g),L=l()(b),F=l()(y),B=l()(v),$=l()(x),z=l()(w),U=l()(k),V=l()(_),G=l()(S),W=l()(E),H=l()(T),q=l()(C);I.push([e.id,`@charset "UTF-8";/*!\n * Bootstrap  v5.3.2 (https://getbootstrap.com/)\n * Copyright 2011-2023 The Bootstrap Authors\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n */:root,[data-bs-theme=light]{--bs-blue:#0d6efd;--bs-indigo:#6610f2;--bs-purple:#6f42c1;--bs-pink:#d63384;--bs-red:#dc3545;--bs-orange:#fd7e14;--bs-yellow:#ffc107;--bs-green:#198754;--bs-teal:#20c997;--bs-cyan:#0dcaf0;--bs-black:#000;--bs-white:#fff;--bs-gray:#6c757d;--bs-gray-dark:#343a40;--bs-gray-100:#f8f9fa;--bs-gray-200:#e9ecef;--bs-gray-300:#dee2e6;--bs-gray-400:#ced4da;--bs-gray-500:#adb5bd;--bs-gray-600:#6c757d;--bs-gray-700:#495057;--bs-gray-800:#343a40;--bs-gray-900:#212529;--bs-primary:#0d6efd;--bs-secondary:#6c757d;--bs-success:#198754;--bs-info:#0dcaf0;--bs-warning:#ffc107;--bs-danger:#dc3545;--bs-light:#f8f9fa;--bs-dark:#212529;--bs-primary-rgb:13,110,253;--bs-secondary-rgb:108,117,125;--bs-success-rgb:25,135,84;--bs-info-rgb:13,202,240;--bs-warning-rgb:255,193,7;--bs-danger-rgb:220,53,69;--bs-light-rgb:248,249,250;--bs-dark-rgb:33,37,41;--bs-primary-text-emphasis:#052c65;--bs-secondary-text-emphasis:#2b2f32;--bs-success-text-emphasis:#0a3622;--bs-info-text-emphasis:#055160;--bs-warning-text-emphasis:#664d03;--bs-danger-text-emphasis:#58151c;--bs-light-text-emphasis:#495057;--bs-dark-text-emphasis:#495057;--bs-primary-bg-subtle:#cfe2ff;--bs-secondary-bg-subtle:#e2e3e5;--bs-success-bg-subtle:#d1e7dd;--bs-info-bg-subtle:#cff4fc;--bs-warning-bg-subtle:#fff3cd;--bs-danger-bg-subtle:#f8d7da;--bs-light-bg-subtle:#fcfcfd;--bs-dark-bg-subtle:#ced4da;--bs-primary-border-subtle:#9ec5fe;--bs-secondary-border-subtle:#c4c8cb;--bs-success-border-subtle:#a3cfbb;--bs-info-border-subtle:#9eeaf9;--bs-warning-border-subtle:#ffe69c;--bs-danger-border-subtle:#f1aeb5;--bs-light-border-subtle:#e9ecef;--bs-dark-border-subtle:#adb5bd;--bs-white-rgb:255,255,255;--bs-black-rgb:0,0,0;--bs-font-sans-serif:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue","Noto Sans","Liberation Sans",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";--bs-font-monospace:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;--bs-gradient:linear-gradient(180deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0));--bs-body-font-family:var(--bs-font-sans-serif);--bs-body-font-size:1rem;--bs-body-font-weight:400;--bs-body-line-height:1.5;--bs-body-color:#212529;--bs-body-color-rgb:33,37,41;--bs-body-bg:#fff;--bs-body-bg-rgb:255,255,255;--bs-emphasis-color:#000;--bs-emphasis-color-rgb:0,0,0;--bs-secondary-color:rgba(33, 37, 41, 0.75);--bs-secondary-color-rgb:33,37,41;--bs-secondary-bg:#e9ecef;--bs-secondary-bg-rgb:233,236,239;--bs-tertiary-color:rgba(33, 37, 41, 0.5);--bs-tertiary-color-rgb:33,37,41;--bs-tertiary-bg:#f8f9fa;--bs-tertiary-bg-rgb:248,249,250;--bs-heading-color:inherit;--bs-link-color:#0d6efd;--bs-link-color-rgb:13,110,253;--bs-link-decoration:underline;--bs-link-hover-color:#0a58ca;--bs-link-hover-color-rgb:10,88,202;--bs-code-color:#d63384;--bs-highlight-color:#212529;--bs-highlight-bg:#fff3cd;--bs-border-width:1px;--bs-border-style:solid;--bs-border-color:#dee2e6;--bs-border-color-translucent:rgba(0, 0, 0, 0.175);--bs-border-radius:0.375rem;--bs-border-radius-sm:0.25rem;--bs-border-radius-lg:0.5rem;--bs-border-radius-xl:1rem;--bs-border-radius-xxl:2rem;--bs-border-radius-2xl:var(--bs-border-radius-xxl);--bs-border-radius-pill:50rem;--bs-box-shadow:0 0.5rem 1rem rgba(0, 0, 0, 0.15);--bs-box-shadow-sm:0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);--bs-box-shadow-lg:0 1rem 3rem rgba(0, 0, 0, 0.175);--bs-box-shadow-inset:inset 0 1px 2px rgba(0, 0, 0, 0.075);--bs-focus-ring-width:0.25rem;--bs-focus-ring-opacity:0.25;--bs-focus-ring-color:rgba(13, 110, 253, 0.25);--bs-form-valid-color:#198754;--bs-form-valid-border-color:#198754;--bs-form-invalid-color:#dc3545;--bs-form-invalid-border-color:#dc3545}[data-bs-theme=dark]{color-scheme:dark;--bs-body-color:#dee2e6;--bs-body-color-rgb:222,226,230;--bs-body-bg:#212529;--bs-body-bg-rgb:33,37,41;--bs-emphasis-color:#fff;--bs-emphasis-color-rgb:255,255,255;--bs-secondary-color:rgba(222, 226, 230, 0.75);--bs-secondary-color-rgb:222,226,230;--bs-secondary-bg:#343a40;--bs-secondary-bg-rgb:52,58,64;--bs-tertiary-color:rgba(222, 226, 230, 0.5);--bs-tertiary-color-rgb:222,226,230;--bs-tertiary-bg:#2b3035;--bs-tertiary-bg-rgb:43,48,53;--bs-primary-text-emphasis:#6ea8fe;--bs-secondary-text-emphasis:#a7acb1;--bs-success-text-emphasis:#75b798;--bs-info-text-emphasis:#6edff6;--bs-warning-text-emphasis:#ffda6a;--bs-danger-text-emphasis:#ea868f;--bs-light-text-emphasis:#f8f9fa;--bs-dark-text-emphasis:#dee2e6;--bs-primary-bg-subtle:#031633;--bs-secondary-bg-subtle:#161719;--bs-success-bg-subtle:#051b11;--bs-info-bg-subtle:#032830;--bs-warning-bg-subtle:#332701;--bs-danger-bg-subtle:#2c0b0e;--bs-light-bg-subtle:#343a40;--bs-dark-bg-subtle:#1a1d20;--bs-primary-border-subtle:#084298;--bs-secondary-border-subtle:#41464b;--bs-success-border-subtle:#0f5132;--bs-info-border-subtle:#087990;--bs-warning-border-subtle:#997404;--bs-danger-border-subtle:#842029;--bs-light-border-subtle:#495057;--bs-dark-border-subtle:#343a40;--bs-heading-color:inherit;--bs-link-color:#6ea8fe;--bs-link-hover-color:#8bb9fe;--bs-link-color-rgb:110,168,254;--bs-link-hover-color-rgb:139,185,254;--bs-code-color:#e685b5;--bs-highlight-color:#dee2e6;--bs-highlight-bg:#664d03;--bs-border-color:#495057;--bs-border-color-translucent:rgba(255, 255, 255, 0.15);--bs-form-valid-color:#75b798;--bs-form-valid-border-color:#75b798;--bs-form-invalid-color:#ea868f;--bs-form-invalid-border-color:#ea868f}*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;border:0;border-top:var(--bs-border-width) solid;opacity:.25}.h1,.h2,.h3,.h4,.h5,.h6,h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2;color:var(--bs-heading-color)}.h1,h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){.h1,h1{font-size:2.5rem}}.h2,h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){.h2,h2{font-size:2rem}}.h3,h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){.h3,h3{font-size:1.75rem}}.h4,h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){.h4,h4{font-size:1.5rem}}.h5,h5{font-size:1.25rem}.h6,h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}.small,small{font-size:.875em}.mark,mark{padding:.1875em;color:var(--bs-highlight-color);background-color:var(--bs-highlight-bg)}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,1));text-decoration:underline}a:hover{--bs-link-color-rgb:var(--bs-link-hover-color-rgb)}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:var(--bs-font-monospace);font-size:1em}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:var(--bs-code-color);word-wrap:break-word}a>code{color:inherit}kbd{padding:.1875rem .375rem;font-size:.875em;color:var(--bs-body-bg);background-color:var(--bs-body-color);border-radius:.25rem}kbd kbd{padding:0;font-size:1em}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-secondary-color);text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]:not([type=date]):not([type=datetime-local]):not([type=month]):not([type=week]):not([type=time])::-webkit-calendar-picker-indicator{display:none!important}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}::file-selector-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}.lead{font-size:1.25rem;font-weight:300}.display-1{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-1{font-size:5rem}}.display-2{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-2{font-size:4.5rem}}.display-3{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-3{font-size:4rem}}.display-4{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-4{font-size:3.5rem}}.display-5{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-5{font-size:3rem}}.display-6{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media (min-width:1200px){.display-6{font-size:2.5rem}}.list-unstyled{padding-left:0;list-style:none}.list-inline{padding-left:0;list-style:none}.list-inline-item{display:inline-block}.list-inline-item:not(:last-child){margin-right:.5rem}.initialism{font-size:.875em;text-transform:uppercase}.blockquote{margin-bottom:1rem;font-size:1.25rem}.blockquote>:last-child{margin-bottom:0}.blockquote-footer{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer::before{content:""}.img-fluid{max-width:100%;height:auto}.img-thumbnail{padding:.25rem;background-color:var(--bs-body-bg);border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);max-width:100%;height:auto}.figure{display:inline-block}.figure-img{margin-bottom:.5rem;line-height:1}.figure-caption{font-size:.875em;color:var(--bs-secondary-color)}.container,.container-fluid,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{--bs-gutter-x:1.5rem;--bs-gutter-y:0;width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-right:auto;margin-left:auto}@media (min-width:576px){.container,.container-sm{max-width:540px}}@media (min-width:768px){.container,.container-md,.container-sm{max-width:720px}}@media (min-width:992px){.container,.container-lg,.container-md,.container-sm{max-width:960px}}@media (min-width:1200px){.container,.container-lg,.container-md,.container-sm,.container-xl{max-width:1140px}}@media (min-width:1400px){.container,.container-lg,.container-md,.container-sm,.container-xl,.container-xxl{max-width:1320px}}:root{--bs-breakpoint-xs:0;--bs-breakpoint-sm:576px;--bs-breakpoint-md:768px;--bs-breakpoint-lg:992px;--bs-breakpoint-xl:1200px;--bs-breakpoint-xxl:1400px}.row{--bs-gutter-x:1.5rem;--bs-gutter-y:0;display:flex;flex-wrap:wrap;margin-top:calc(-1 * var(--bs-gutter-y));margin-right:calc(-.5 * var(--bs-gutter-x));margin-left:calc(-.5 * var(--bs-gutter-x))}.row>*{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col{flex:1 0 0%}.row-cols-auto>*{flex:0 0 auto;width:auto}.row-cols-1>*{flex:0 0 auto;width:100%}.row-cols-2>*{flex:0 0 auto;width:50%}.row-cols-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-4>*{flex:0 0 auto;width:25%}.row-cols-5>*{flex:0 0 auto;width:20%}.row-cols-6>*{flex:0 0 auto;width:16.66666667%}.col-auto{flex:0 0 auto;width:auto}.col-1{flex:0 0 auto;width:8.33333333%}.col-2{flex:0 0 auto;width:16.66666667%}.col-3{flex:0 0 auto;width:25%}.col-4{flex:0 0 auto;width:33.33333333%}.col-5{flex:0 0 auto;width:41.66666667%}.col-6{flex:0 0 auto;width:50%}.col-7{flex:0 0 auto;width:58.33333333%}.col-8{flex:0 0 auto;width:66.66666667%}.col-9{flex:0 0 auto;width:75%}.col-10{flex:0 0 auto;width:83.33333333%}.col-11{flex:0 0 auto;width:91.66666667%}.col-12{flex:0 0 auto;width:100%}.offset-1{margin-left:8.33333333%}.offset-2{margin-left:16.66666667%}.offset-3{margin-left:25%}.offset-4{margin-left:33.33333333%}.offset-5{margin-left:41.66666667%}.offset-6{margin-left:50%}.offset-7{margin-left:58.33333333%}.offset-8{margin-left:66.66666667%}.offset-9{margin-left:75%}.offset-10{margin-left:83.33333333%}.offset-11{margin-left:91.66666667%}.g-0,.gx-0{--bs-gutter-x:0}.g-0,.gy-0{--bs-gutter-y:0}.g-1,.gx-1{--bs-gutter-x:0.25rem}.g-1,.gy-1{--bs-gutter-y:0.25rem}.g-2,.gx-2{--bs-gutter-x:0.5rem}.g-2,.gy-2{--bs-gutter-y:0.5rem}.g-3,.gx-3{--bs-gutter-x:1rem}.g-3,.gy-3{--bs-gutter-y:1rem}.g-4,.gx-4{--bs-gutter-x:1.5rem}.g-4,.gy-4{--bs-gutter-y:1.5rem}.g-5,.gx-5{--bs-gutter-x:3rem}.g-5,.gy-5{--bs-gutter-y:3rem}@media (min-width:576px){.col-sm{flex:1 0 0%}.row-cols-sm-auto>*{flex:0 0 auto;width:auto}.row-cols-sm-1>*{flex:0 0 auto;width:100%}.row-cols-sm-2>*{flex:0 0 auto;width:50%}.row-cols-sm-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-sm-4>*{flex:0 0 auto;width:25%}.row-cols-sm-5>*{flex:0 0 auto;width:20%}.row-cols-sm-6>*{flex:0 0 auto;width:16.66666667%}.col-sm-auto{flex:0 0 auto;width:auto}.col-sm-1{flex:0 0 auto;width:8.33333333%}.col-sm-2{flex:0 0 auto;width:16.66666667%}.col-sm-3{flex:0 0 auto;width:25%}.col-sm-4{flex:0 0 auto;width:33.33333333%}.col-sm-5{flex:0 0 auto;width:41.66666667%}.col-sm-6{flex:0 0 auto;width:50%}.col-sm-7{flex:0 0 auto;width:58.33333333%}.col-sm-8{flex:0 0 auto;width:66.66666667%}.col-sm-9{flex:0 0 auto;width:75%}.col-sm-10{flex:0 0 auto;width:83.33333333%}.col-sm-11{flex:0 0 auto;width:91.66666667%}.col-sm-12{flex:0 0 auto;width:100%}.offset-sm-0{margin-left:0}.offset-sm-1{margin-left:8.33333333%}.offset-sm-2{margin-left:16.66666667%}.offset-sm-3{margin-left:25%}.offset-sm-4{margin-left:33.33333333%}.offset-sm-5{margin-left:41.66666667%}.offset-sm-6{margin-left:50%}.offset-sm-7{margin-left:58.33333333%}.offset-sm-8{margin-left:66.66666667%}.offset-sm-9{margin-left:75%}.offset-sm-10{margin-left:83.33333333%}.offset-sm-11{margin-left:91.66666667%}.g-sm-0,.gx-sm-0{--bs-gutter-x:0}.g-sm-0,.gy-sm-0{--bs-gutter-y:0}.g-sm-1,.gx-sm-1{--bs-gutter-x:0.25rem}.g-sm-1,.gy-sm-1{--bs-gutter-y:0.25rem}.g-sm-2,.gx-sm-2{--bs-gutter-x:0.5rem}.g-sm-2,.gy-sm-2{--bs-gutter-y:0.5rem}.g-sm-3,.gx-sm-3{--bs-gutter-x:1rem}.g-sm-3,.gy-sm-3{--bs-gutter-y:1rem}.g-sm-4,.gx-sm-4{--bs-gutter-x:1.5rem}.g-sm-4,.gy-sm-4{--bs-gutter-y:1.5rem}.g-sm-5,.gx-sm-5{--bs-gutter-x:3rem}.g-sm-5,.gy-sm-5{--bs-gutter-y:3rem}}@media (min-width:768px){.col-md{flex:1 0 0%}.row-cols-md-auto>*{flex:0 0 auto;width:auto}.row-cols-md-1>*{flex:0 0 auto;width:100%}.row-cols-md-2>*{flex:0 0 auto;width:50%}.row-cols-md-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-md-4>*{flex:0 0 auto;width:25%}.row-cols-md-5>*{flex:0 0 auto;width:20%}.row-cols-md-6>*{flex:0 0 auto;width:16.66666667%}.col-md-auto{flex:0 0 auto;width:auto}.col-md-1{flex:0 0 auto;width:8.33333333%}.col-md-2{flex:0 0 auto;width:16.66666667%}.col-md-3{flex:0 0 auto;width:25%}.col-md-4{flex:0 0 auto;width:33.33333333%}.col-md-5{flex:0 0 auto;width:41.66666667%}.col-md-6{flex:0 0 auto;width:50%}.col-md-7{flex:0 0 auto;width:58.33333333%}.col-md-8{flex:0 0 auto;width:66.66666667%}.col-md-9{flex:0 0 auto;width:75%}.col-md-10{flex:0 0 auto;width:83.33333333%}.col-md-11{flex:0 0 auto;width:91.66666667%}.col-md-12{flex:0 0 auto;width:100%}.offset-md-0{margin-left:0}.offset-md-1{margin-left:8.33333333%}.offset-md-2{margin-left:16.66666667%}.offset-md-3{margin-left:25%}.offset-md-4{margin-left:33.33333333%}.offset-md-5{margin-left:41.66666667%}.offset-md-6{margin-left:50%}.offset-md-7{margin-left:58.33333333%}.offset-md-8{margin-left:66.66666667%}.offset-md-9{margin-left:75%}.offset-md-10{margin-left:83.33333333%}.offset-md-11{margin-left:91.66666667%}.g-md-0,.gx-md-0{--bs-gutter-x:0}.g-md-0,.gy-md-0{--bs-gutter-y:0}.g-md-1,.gx-md-1{--bs-gutter-x:0.25rem}.g-md-1,.gy-md-1{--bs-gutter-y:0.25rem}.g-md-2,.gx-md-2{--bs-gutter-x:0.5rem}.g-md-2,.gy-md-2{--bs-gutter-y:0.5rem}.g-md-3,.gx-md-3{--bs-gutter-x:1rem}.g-md-3,.gy-md-3{--bs-gutter-y:1rem}.g-md-4,.gx-md-4{--bs-gutter-x:1.5rem}.g-md-4,.gy-md-4{--bs-gutter-y:1.5rem}.g-md-5,.gx-md-5{--bs-gutter-x:3rem}.g-md-5,.gy-md-5{--bs-gutter-y:3rem}}@media (min-width:992px){.col-lg{flex:1 0 0%}.row-cols-lg-auto>*{flex:0 0 auto;width:auto}.row-cols-lg-1>*{flex:0 0 auto;width:100%}.row-cols-lg-2>*{flex:0 0 auto;width:50%}.row-cols-lg-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-lg-4>*{flex:0 0 auto;width:25%}.row-cols-lg-5>*{flex:0 0 auto;width:20%}.row-cols-lg-6>*{flex:0 0 auto;width:16.66666667%}.col-lg-auto{flex:0 0 auto;width:auto}.col-lg-1{flex:0 0 auto;width:8.33333333%}.col-lg-2{flex:0 0 auto;width:16.66666667%}.col-lg-3{flex:0 0 auto;width:25%}.col-lg-4{flex:0 0 auto;width:33.33333333%}.col-lg-5{flex:0 0 auto;width:41.66666667%}.col-lg-6{flex:0 0 auto;width:50%}.col-lg-7{flex:0 0 auto;width:58.33333333%}.col-lg-8{flex:0 0 auto;width:66.66666667%}.col-lg-9{flex:0 0 auto;width:75%}.col-lg-10{flex:0 0 auto;width:83.33333333%}.col-lg-11{flex:0 0 auto;width:91.66666667%}.col-lg-12{flex:0 0 auto;width:100%}.offset-lg-0{margin-left:0}.offset-lg-1{margin-left:8.33333333%}.offset-lg-2{margin-left:16.66666667%}.offset-lg-3{margin-left:25%}.offset-lg-4{margin-left:33.33333333%}.offset-lg-5{margin-left:41.66666667%}.offset-lg-6{margin-left:50%}.offset-lg-7{margin-left:58.33333333%}.offset-lg-8{margin-left:66.66666667%}.offset-lg-9{margin-left:75%}.offset-lg-10{margin-left:83.33333333%}.offset-lg-11{margin-left:91.66666667%}.g-lg-0,.gx-lg-0{--bs-gutter-x:0}.g-lg-0,.gy-lg-0{--bs-gutter-y:0}.g-lg-1,.gx-lg-1{--bs-gutter-x:0.25rem}.g-lg-1,.gy-lg-1{--bs-gutter-y:0.25rem}.g-lg-2,.gx-lg-2{--bs-gutter-x:0.5rem}.g-lg-2,.gy-lg-2{--bs-gutter-y:0.5rem}.g-lg-3,.gx-lg-3{--bs-gutter-x:1rem}.g-lg-3,.gy-lg-3{--bs-gutter-y:1rem}.g-lg-4,.gx-lg-4{--bs-gutter-x:1.5rem}.g-lg-4,.gy-lg-4{--bs-gutter-y:1.5rem}.g-lg-5,.gx-lg-5{--bs-gutter-x:3rem}.g-lg-5,.gy-lg-5{--bs-gutter-y:3rem}}@media (min-width:1200px){.col-xl{flex:1 0 0%}.row-cols-xl-auto>*{flex:0 0 auto;width:auto}.row-cols-xl-1>*{flex:0 0 auto;width:100%}.row-cols-xl-2>*{flex:0 0 auto;width:50%}.row-cols-xl-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-xl-4>*{flex:0 0 auto;width:25%}.row-cols-xl-5>*{flex:0 0 auto;width:20%}.row-cols-xl-6>*{flex:0 0 auto;width:16.66666667%}.col-xl-auto{flex:0 0 auto;width:auto}.col-xl-1{flex:0 0 auto;width:8.33333333%}.col-xl-2{flex:0 0 auto;width:16.66666667%}.col-xl-3{flex:0 0 auto;width:25%}.col-xl-4{flex:0 0 auto;width:33.33333333%}.col-xl-5{flex:0 0 auto;width:41.66666667%}.col-xl-6{flex:0 0 auto;width:50%}.col-xl-7{flex:0 0 auto;width:58.33333333%}.col-xl-8{flex:0 0 auto;width:66.66666667%}.col-xl-9{flex:0 0 auto;width:75%}.col-xl-10{flex:0 0 auto;width:83.33333333%}.col-xl-11{flex:0 0 auto;width:91.66666667%}.col-xl-12{flex:0 0 auto;width:100%}.offset-xl-0{margin-left:0}.offset-xl-1{margin-left:8.33333333%}.offset-xl-2{margin-left:16.66666667%}.offset-xl-3{margin-left:25%}.offset-xl-4{margin-left:33.33333333%}.offset-xl-5{margin-left:41.66666667%}.offset-xl-6{margin-left:50%}.offset-xl-7{margin-left:58.33333333%}.offset-xl-8{margin-left:66.66666667%}.offset-xl-9{margin-left:75%}.offset-xl-10{margin-left:83.33333333%}.offset-xl-11{margin-left:91.66666667%}.g-xl-0,.gx-xl-0{--bs-gutter-x:0}.g-xl-0,.gy-xl-0{--bs-gutter-y:0}.g-xl-1,.gx-xl-1{--bs-gutter-x:0.25rem}.g-xl-1,.gy-xl-1{--bs-gutter-y:0.25rem}.g-xl-2,.gx-xl-2{--bs-gutter-x:0.5rem}.g-xl-2,.gy-xl-2{--bs-gutter-y:0.5rem}.g-xl-3,.gx-xl-3{--bs-gutter-x:1rem}.g-xl-3,.gy-xl-3{--bs-gutter-y:1rem}.g-xl-4,.gx-xl-4{--bs-gutter-x:1.5rem}.g-xl-4,.gy-xl-4{--bs-gutter-y:1.5rem}.g-xl-5,.gx-xl-5{--bs-gutter-x:3rem}.g-xl-5,.gy-xl-5{--bs-gutter-y:3rem}}@media (min-width:1400px){.col-xxl{flex:1 0 0%}.row-cols-xxl-auto>*{flex:0 0 auto;width:auto}.row-cols-xxl-1>*{flex:0 0 auto;width:100%}.row-cols-xxl-2>*{flex:0 0 auto;width:50%}.row-cols-xxl-3>*{flex:0 0 auto;width:33.33333333%}.row-cols-xxl-4>*{flex:0 0 auto;width:25%}.row-cols-xxl-5>*{flex:0 0 auto;width:20%}.row-cols-xxl-6>*{flex:0 0 auto;width:16.66666667%}.col-xxl-auto{flex:0 0 auto;width:auto}.col-xxl-1{flex:0 0 auto;width:8.33333333%}.col-xxl-2{flex:0 0 auto;width:16.66666667%}.col-xxl-3{flex:0 0 auto;width:25%}.col-xxl-4{flex:0 0 auto;width:33.33333333%}.col-xxl-5{flex:0 0 auto;width:41.66666667%}.col-xxl-6{flex:0 0 auto;width:50%}.col-xxl-7{flex:0 0 auto;width:58.33333333%}.col-xxl-8{flex:0 0 auto;width:66.66666667%}.col-xxl-9{flex:0 0 auto;width:75%}.col-xxl-10{flex:0 0 auto;width:83.33333333%}.col-xxl-11{flex:0 0 auto;width:91.66666667%}.col-xxl-12{flex:0 0 auto;width:100%}.offset-xxl-0{margin-left:0}.offset-xxl-1{margin-left:8.33333333%}.offset-xxl-2{margin-left:16.66666667%}.offset-xxl-3{margin-left:25%}.offset-xxl-4{margin-left:33.33333333%}.offset-xxl-5{margin-left:41.66666667%}.offset-xxl-6{margin-left:50%}.offset-xxl-7{margin-left:58.33333333%}.offset-xxl-8{margin-left:66.66666667%}.offset-xxl-9{margin-left:75%}.offset-xxl-10{margin-left:83.33333333%}.offset-xxl-11{margin-left:91.66666667%}.g-xxl-0,.gx-xxl-0{--bs-gutter-x:0}.g-xxl-0,.gy-xxl-0{--bs-gutter-y:0}.g-xxl-1,.gx-xxl-1{--bs-gutter-x:0.25rem}.g-xxl-1,.gy-xxl-1{--bs-gutter-y:0.25rem}.g-xxl-2,.gx-xxl-2{--bs-gutter-x:0.5rem}.g-xxl-2,.gy-xxl-2{--bs-gutter-y:0.5rem}.g-xxl-3,.gx-xxl-3{--bs-gutter-x:1rem}.g-xxl-3,.gy-xxl-3{--bs-gutter-y:1rem}.g-xxl-4,.gx-xxl-4{--bs-gutter-x:1.5rem}.g-xxl-4,.gy-xxl-4{--bs-gutter-y:1.5rem}.g-xxl-5,.gx-xxl-5{--bs-gutter-x:3rem}.g-xxl-5,.gy-xxl-5{--bs-gutter-y:3rem}}.table{--bs-table-color-type:initial;--bs-table-bg-type:initial;--bs-table-color-state:initial;--bs-table-bg-state:initial;--bs-table-color:var(--bs-emphasis-color);--bs-table-bg:var(--bs-body-bg);--bs-table-border-color:var(--bs-border-color);--bs-table-accent-bg:transparent;--bs-table-striped-color:var(--bs-emphasis-color);--bs-table-striped-bg:rgba(var(--bs-emphasis-color-rgb), 0.05);--bs-table-active-color:var(--bs-emphasis-color);--bs-table-active-bg:rgba(var(--bs-emphasis-color-rgb), 0.1);--bs-table-hover-color:var(--bs-emphasis-color);--bs-table-hover-bg:rgba(var(--bs-emphasis-color-rgb), 0.075);width:100%;margin-bottom:1rem;vertical-align:top;border-color:var(--bs-table-border-color)}.table>:not(caption)>*>*{padding:.5rem .5rem;color:var(--bs-table-color-state,var(--bs-table-color-type,var(--bs-table-color)));background-color:var(--bs-table-bg);border-bottom-width:var(--bs-border-width);box-shadow:inset 0 0 0 9999px var(--bs-table-bg-state,var(--bs-table-bg-type,var(--bs-table-accent-bg)))}.table>tbody{vertical-align:inherit}.table>thead{vertical-align:bottom}.table-group-divider{border-top:calc(var(--bs-border-width) * 2) solid currentcolor}.caption-top{caption-side:top}.table-sm>:not(caption)>*>*{padding:.25rem .25rem}.table-bordered>:not(caption)>*{border-width:var(--bs-border-width) 0}.table-bordered>:not(caption)>*>*{border-width:0 var(--bs-border-width)}.table-borderless>:not(caption)>*>*{border-bottom-width:0}.table-borderless>:not(:first-child){border-top-width:0}.table-striped>tbody>tr:nth-of-type(odd)>*{--bs-table-color-type:var(--bs-table-striped-color);--bs-table-bg-type:var(--bs-table-striped-bg)}.table-striped-columns>:not(caption)>tr>:nth-child(2n){--bs-table-color-type:var(--bs-table-striped-color);--bs-table-bg-type:var(--bs-table-striped-bg)}.table-active{--bs-table-color-state:var(--bs-table-active-color);--bs-table-bg-state:var(--bs-table-active-bg)}.table-hover>tbody>tr:hover>*{--bs-table-color-state:var(--bs-table-hover-color);--bs-table-bg-state:var(--bs-table-hover-bg)}.table-primary{--bs-table-color:#000;--bs-table-bg:#cfe2ff;--bs-table-border-color:#a6b5cc;--bs-table-striped-bg:#c5d7f2;--bs-table-striped-color:#000;--bs-table-active-bg:#bacbe6;--bs-table-active-color:#000;--bs-table-hover-bg:#bfd1ec;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-secondary{--bs-table-color:#000;--bs-table-bg:#e2e3e5;--bs-table-border-color:#b5b6b7;--bs-table-striped-bg:#d7d8da;--bs-table-striped-color:#000;--bs-table-active-bg:#cbccce;--bs-table-active-color:#000;--bs-table-hover-bg:#d1d2d4;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-success{--bs-table-color:#000;--bs-table-bg:#d1e7dd;--bs-table-border-color:#a7b9b1;--bs-table-striped-bg:#c7dbd2;--bs-table-striped-color:#000;--bs-table-active-bg:#bcd0c7;--bs-table-active-color:#000;--bs-table-hover-bg:#c1d6cc;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-info{--bs-table-color:#000;--bs-table-bg:#cff4fc;--bs-table-border-color:#a6c3ca;--bs-table-striped-bg:#c5e8ef;--bs-table-striped-color:#000;--bs-table-active-bg:#badce3;--bs-table-active-color:#000;--bs-table-hover-bg:#bfe2e9;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-warning{--bs-table-color:#000;--bs-table-bg:#fff3cd;--bs-table-border-color:#ccc2a4;--bs-table-striped-bg:#f2e7c3;--bs-table-striped-color:#000;--bs-table-active-bg:#e6dbb9;--bs-table-active-color:#000;--bs-table-hover-bg:#ece1be;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-danger{--bs-table-color:#000;--bs-table-bg:#f8d7da;--bs-table-border-color:#c6acae;--bs-table-striped-bg:#eccccf;--bs-table-striped-color:#000;--bs-table-active-bg:#dfc2c4;--bs-table-active-color:#000;--bs-table-hover-bg:#e5c7ca;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-light{--bs-table-color:#000;--bs-table-bg:#f8f9fa;--bs-table-border-color:#c6c7c8;--bs-table-striped-bg:#ecedee;--bs-table-striped-color:#000;--bs-table-active-bg:#dfe0e1;--bs-table-active-color:#000;--bs-table-hover-bg:#e5e6e7;--bs-table-hover-color:#000;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-dark{--bs-table-color:#fff;--bs-table-bg:#212529;--bs-table-border-color:#4d5154;--bs-table-striped-bg:#2c3034;--bs-table-striped-color:#fff;--bs-table-active-bg:#373b3e;--bs-table-active-color:#fff;--bs-table-hover-bg:#323539;--bs-table-hover-color:#fff;color:var(--bs-table-color);border-color:var(--bs-table-border-color)}.table-responsive{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width:575.98px){.table-responsive-sm{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:767.98px){.table-responsive-md{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:991.98px){.table-responsive-lg{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1199.98px){.table-responsive-xl{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width:1399.98px){.table-responsive-xxl{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label{margin-bottom:.5rem}.col-form-label{padding-top:calc(.375rem + var(--bs-border-width));padding-bottom:calc(.375rem + var(--bs-border-width));margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg{padding-top:calc(.5rem + var(--bs-border-width));padding-bottom:calc(.5rem + var(--bs-border-width));font-size:1.25rem}.col-form-label-sm{padding-top:calc(.25rem + var(--bs-border-width));padding-bottom:calc(.25rem + var(--bs-border-width));font-size:.875rem}.form-text{margin-top:.25rem;font-size:.875em;color:var(--bs-secondary-color)}.form-control{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-body-bg);background-clip:padding-box;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control{transition:none}}.form-control[type=file]{overflow:hidden}.form-control[type=file]:not(:disabled):not([readonly]){cursor:pointer}.form-control:focus{color:var(--bs-body-color);background-color:var(--bs-body-bg);border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-control::-webkit-date-and-time-value{min-width:85px;height:1.5em;margin:0}.form-control::-webkit-datetime-edit{display:block;padding:0}.form-control::-moz-placeholder{color:var(--bs-secondary-color);opacity:1}.form-control::placeholder{color:var(--bs-secondary-color);opacity:1}.form-control:disabled{background-color:var(--bs-secondary-bg);opacity:1}.form-control::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:var(--bs-body-color);background-color:var(--bs-tertiary-bg);pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--bs-border-width);border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.form-control::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;-webkit-margin-end:.75rem;margin-inline-end:.75rem;color:var(--bs-body-color);background-color:var(--bs-tertiary-bg);pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:var(--bs-border-width);border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-control::-webkit-file-upload-button{-webkit-transition:none;transition:none}.form-control::file-selector-button{transition:none}}.form-control:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:var(--bs-secondary-bg)}.form-control:hover:not(:disabled):not([readonly])::file-selector-button{background-color:var(--bs-secondary-bg)}.form-control-plaintext{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:var(--bs-body-color);background-color:transparent;border:solid transparent;border-width:var(--bs-border-width) 0}.form-control-plaintext:focus{outline:0}.form-control-plaintext.form-control-lg,.form-control-plaintext.form-control-sm{padding-right:0;padding-left:0}.form-control-sm{min-height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2));padding:.25rem .5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.form-control-sm::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-sm::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;-webkit-margin-end:.5rem;margin-inline-end:.5rem}.form-control-lg{min-height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2));padding:.5rem 1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}.form-control-lg::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}.form-control-lg::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;-webkit-margin-end:1rem;margin-inline-end:1rem}textarea.form-control{min-height:calc(1.5em + .75rem + calc(var(--bs-border-width) * 2))}textarea.form-control-sm{min-height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2))}textarea.form-control-lg{min-height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2))}.form-control-color{width:3rem;height:calc(1.5em + .75rem + calc(var(--bs-border-width) * 2));padding:.375rem}.form-control-color:not(:disabled):not([readonly]){cursor:pointer}.form-control-color::-moz-color-swatch{border:0!important;border-radius:var(--bs-border-radius)}.form-control-color::-webkit-color-swatch{border:0!important;border-radius:var(--bs-border-radius)}.form-control-color.form-control-sm{height:calc(1.5em + .5rem + calc(var(--bs-border-width) * 2))}.form-control-color.form-control-lg{height:calc(1.5em + 1rem + calc(var(--bs-border-width) * 2))}.form-select{--bs-form-select-bg-img:url(${j});display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-body-bg);background-image:var(--bs-form-select-bg-img),var(--bs-form-select-bg-icon,none);background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-select{transition:none}}.form-select:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-select[multiple],.form-select[size]:not([size="1"]){padding-right:.75rem;background-image:none}.form-select:disabled{background-color:var(--bs-secondary-bg)}.form-select:-moz-focusring{color:transparent;text-shadow:0 0 0 var(--bs-body-color)}.form-select-sm{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.form-select-lg{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}[data-bs-theme=dark] .form-select{--bs-form-select-bg-img:url(${A})}.form-check{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check .form-check-input{float:left;margin-left:-1.5em}.form-check-reverse{padding-right:1.5em;padding-left:0;text-align:right}.form-check-reverse .form-check-input{float:right;margin-right:-1.5em;margin-left:0}.form-check-input{--bs-form-check-bg:var(--bs-body-bg);flex-shrink:0;width:1em;height:1em;margin-top:.25em;vertical-align:top;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--bs-form-check-bg);background-image:var(--bs-form-check-bg-image);background-repeat:no-repeat;background-position:center;background-size:contain;border:var(--bs-border-width) solid var(--bs-border-color);-webkit-print-color-adjust:exact;color-adjust:exact;print-color-adjust:exact}.form-check-input[type=checkbox]{border-radius:.25em}.form-check-input[type=radio]{border-radius:50%}.form-check-input:active{filter:brightness(90%)}.form-check-input:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.form-check-input:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input:checked[type=checkbox]{--bs-form-check-bg-image:url(${O})}.form-check-input:checked[type=radio]{--bs-form-check-bg-image:url(${N})}.form-check-input[type=checkbox]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;--bs-form-check-bg-image:url(${R})}.form-check-input:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input:disabled~.form-check-label,.form-check-input[disabled]~.form-check-label{cursor:default;opacity:.5}.form-switch{padding-left:2.5em}.form-switch .form-check-input{--bs-form-switch-bg:url(${P});width:2em;margin-left:-2.5em;background-image:var(--bs-form-switch-bg);background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-switch .form-check-input{transition:none}}.form-switch .form-check-input:focus{--bs-form-switch-bg:url(${M})}.form-switch .form-check-input:checked{background-position:right center;--bs-form-switch-bg:url(${D})}.form-switch.form-check-reverse{padding-right:2.5em;padding-left:0}.form-switch.form-check-reverse .form-check-input{margin-right:-2.5em;margin-left:0}.form-check-inline{display:inline-block;margin-right:1rem}.btn-check{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check:disabled+.btn,.btn-check[disabled]+.btn{pointer-events:none;filter:none;opacity:.65}[data-bs-theme=dark] .form-switch .form-check-input:not(:checked):not(:focus){--bs-form-switch-bg:url(${L})}.form-range{width:100%;height:1.5rem;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent}.form-range:focus{outline:0}.form-range:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem rgba(13,110,253,.25)}.form-range::-moz-focus-outer{border:0}.form-range::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;-webkit-appearance:none;appearance:none;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-range::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:var(--bs-secondary-bg);border-color:transparent;border-radius:1rem}.form-range::-moz-range-thumb{width:1rem;height:1rem;-moz-appearance:none;appearance:none;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.form-range::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range::-moz-range-thumb:active{background-color:#b6d4fe}.form-range::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:var(--bs-secondary-bg);border-color:transparent;border-radius:1rem}.form-range:disabled{pointer-events:none}.form-range:disabled::-webkit-slider-thumb{background-color:var(--bs-secondary-color)}.form-range:disabled::-moz-range-thumb{background-color:var(--bs-secondary-color)}.form-floating{position:relative}.form-floating>.form-control,.form-floating>.form-control-plaintext,.form-floating>.form-select{height:calc(3.5rem + calc(var(--bs-border-width) * 2));min-height:calc(3.5rem + calc(var(--bs-border-width) * 2));line-height:1.25}.form-floating>label{position:absolute;top:0;left:0;z-index:2;height:100%;padding:1rem .75rem;overflow:hidden;text-align:start;text-overflow:ellipsis;white-space:nowrap;pointer-events:none;border:var(--bs-border-width) solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion:reduce){.form-floating>label{transition:none}}.form-floating>.form-control,.form-floating>.form-control-plaintext{padding:1rem .75rem}.form-floating>.form-control-plaintext::-moz-placeholder,.form-floating>.form-control::-moz-placeholder{color:transparent}.form-floating>.form-control-plaintext::placeholder,.form-floating>.form-control::placeholder{color:transparent}.form-floating>.form-control-plaintext:not(:-moz-placeholder-shown),.form-floating>.form-control:not(:-moz-placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control-plaintext:focus,.form-floating>.form-control-plaintext:not(:placeholder-shown),.form-floating>.form-control:focus,.form-floating>.form-control:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control-plaintext:-webkit-autofill,.form-floating>.form-control:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-select{padding-top:1.625rem;padding-bottom:.625rem}.form-floating>.form-control:not(:-moz-placeholder-shown)~label{color:rgba(var(--bs-body-color-rgb),.65);transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control-plaintext~label,.form-floating>.form-control:focus~label,.form-floating>.form-control:not(:placeholder-shown)~label,.form-floating>.form-select~label{color:rgba(var(--bs-body-color-rgb),.65);transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control:not(:-moz-placeholder-shown)~label::after{position:absolute;inset:1rem 0.375rem;z-index:-1;height:1.5em;content:"";background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius)}.form-floating>.form-control-plaintext~label::after,.form-floating>.form-control:focus~label::after,.form-floating>.form-control:not(:placeholder-shown)~label::after,.form-floating>.form-select~label::after{position:absolute;inset:1rem 0.375rem;z-index:-1;height:1.5em;content:"";background-color:var(--bs-body-bg);border-radius:var(--bs-border-radius)}.form-floating>.form-control:-webkit-autofill~label{color:rgba(var(--bs-body-color-rgb),.65);transform:scale(.85) translateY(-.5rem) translateX(.15rem)}.form-floating>.form-control-plaintext~label{border-width:var(--bs-border-width) 0}.form-floating>.form-control:disabled~label,.form-floating>:disabled~label{color:#6c757d}.form-floating>.form-control:disabled~label::after,.form-floating>:disabled~label::after{background-color:var(--bs-secondary-bg)}.input-group{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group>.form-control,.input-group>.form-floating,.input-group>.form-select{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group>.form-control:focus,.input-group>.form-floating:focus-within,.input-group>.form-select:focus{z-index:5}.input-group .btn{position:relative;z-index:2}.input-group .btn:focus{z-index:5}.input-group-text{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:var(--bs-body-color);text-align:center;white-space:nowrap;background-color:var(--bs-tertiary-bg);border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius)}.input-group-lg>.btn,.input-group-lg>.form-control,.input-group-lg>.form-select,.input-group-lg>.input-group-text{padding:.5rem 1rem;font-size:1.25rem;border-radius:var(--bs-border-radius-lg)}.input-group-sm>.btn,.input-group-sm>.form-control,.input-group-sm>.form-select,.input-group-sm>.input-group-text{padding:.25rem .5rem;font-size:.875rem;border-radius:var(--bs-border-radius-sm)}.input-group-lg>.form-select,.input-group-sm>.form-select{padding-right:3rem}.input-group:not(.has-validation)>.dropdown-toggle:nth-last-child(n+3),.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-control,.input-group:not(.has-validation)>.form-floating:not(:last-child)>.form-select,.input-group:not(.has-validation)>:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation>.dropdown-toggle:nth-last-child(n+4),.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-control,.input-group.has-validation>.form-floating:nth-last-child(n+3)>.form-select,.input-group.has-validation>:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu):not(.form-floating){border-top-right-radius:0;border-bottom-right-radius:0}.input-group>:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:calc(var(--bs-border-width) * -1);border-top-left-radius:0;border-bottom-left-radius:0}.input-group>.form-floating:not(:first-child)>.form-control,.input-group>.form-floating:not(:first-child)>.form-select{border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:var(--bs-form-valid-color)}.valid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:var(--bs-success);border-radius:var(--bs-border-radius)}.is-valid~.valid-feedback,.is-valid~.valid-tooltip,.was-validated :valid~.valid-feedback,.was-validated :valid~.valid-tooltip{display:block}.form-control.is-valid,.was-validated .form-control:valid{border-color:var(--bs-form-valid-border-color);padding-right:calc(1.5em + .75rem);background-image:url(${F});background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-valid:focus,.was-validated .form-control:valid:focus{border-color:var(--bs-form-valid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)}.was-validated textarea.form-control:valid,textarea.form-control.is-valid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-valid,.was-validated .form-select:valid{border-color:var(--bs-form-valid-border-color)}.form-select.is-valid:not([multiple]):not([size]),.form-select.is-valid:not([multiple])[size="1"],.was-validated .form-select:valid:not([multiple]):not([size]),.was-validated .form-select:valid:not([multiple])[size="1"]{--bs-form-select-bg-icon:url(${F});padding-right:4.125rem;background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-valid:focus,.was-validated .form-select:valid:focus{border-color:var(--bs-form-valid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)}.form-control-color.is-valid,.was-validated .form-control-color:valid{width:calc(3rem + calc(1.5em + .75rem))}.form-check-input.is-valid,.was-validated .form-check-input:valid{border-color:var(--bs-form-valid-border-color)}.form-check-input.is-valid:checked,.was-validated .form-check-input:valid:checked{background-color:var(--bs-form-valid-color)}.form-check-input.is-valid:focus,.was-validated .form-check-input:valid:focus{box-shadow:0 0 0 .25rem rgba(var(--bs-success-rgb),.25)}.form-check-input.is-valid~.form-check-label,.was-validated .form-check-input:valid~.form-check-label{color:var(--bs-form-valid-color)}.form-check-inline .form-check-input~.valid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-valid,.input-group>.form-floating:not(:focus-within).is-valid,.input-group>.form-select:not(:focus).is-valid,.was-validated .input-group>.form-control:not(:focus):valid,.was-validated .input-group>.form-floating:not(:focus-within):valid,.was-validated .input-group>.form-select:not(:focus):valid{z-index:3}.invalid-feedback{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:var(--bs-form-invalid-color)}.invalid-tooltip{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:var(--bs-danger);border-radius:var(--bs-border-radius)}.is-invalid~.invalid-feedback,.is-invalid~.invalid-tooltip,.was-validated :invalid~.invalid-feedback,.was-validated :invalid~.invalid-tooltip{display:block}.form-control.is-invalid,.was-validated .form-control:invalid{border-color:var(--bs-form-invalid-border-color);padding-right:calc(1.5em + .75rem);background-image:url(${B});background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.form-control.is-invalid:focus,.was-validated .form-control:invalid:focus{border-color:var(--bs-form-invalid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)}.was-validated textarea.form-control:invalid,textarea.form-control.is-invalid{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.form-select.is-invalid,.was-validated .form-select:invalid{border-color:var(--bs-form-invalid-border-color)}.form-select.is-invalid:not([multiple]):not([size]),.form-select.is-invalid:not([multiple])[size="1"],.was-validated .form-select:invalid:not([multiple]):not([size]),.was-validated .form-select:invalid:not([multiple])[size="1"]{--bs-form-select-bg-icon:url(${B});padding-right:4.125rem;background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.form-select.is-invalid:focus,.was-validated .form-select:invalid:focus{border-color:var(--bs-form-invalid-border-color);box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)}.form-control-color.is-invalid,.was-validated .form-control-color:invalid{width:calc(3rem + calc(1.5em + .75rem))}.form-check-input.is-invalid,.was-validated .form-check-input:invalid{border-color:var(--bs-form-invalid-border-color)}.form-check-input.is-invalid:checked,.was-validated .form-check-input:invalid:checked{background-color:var(--bs-form-invalid-color)}.form-check-input.is-invalid:focus,.was-validated .form-check-input:invalid:focus{box-shadow:0 0 0 .25rem rgba(var(--bs-danger-rgb),.25)}.form-check-input.is-invalid~.form-check-label,.was-validated .form-check-input:invalid~.form-check-label{color:var(--bs-form-invalid-color)}.form-check-inline .form-check-input~.invalid-feedback{margin-left:.5em}.input-group>.form-control:not(:focus).is-invalid,.input-group>.form-floating:not(:focus-within).is-invalid,.input-group>.form-select:not(:focus).is-invalid,.was-validated .input-group>.form-control:not(:focus):invalid,.was-validated .input-group>.form-floating:not(:focus-within):invalid,.was-validated .input-group>.form-select:not(:focus):invalid{z-index:4}.btn{--bs-btn-padding-x:0.75rem;--bs-btn-padding-y:0.375rem;--bs-btn-font-family: ;--bs-btn-font-size:1rem;--bs-btn-font-weight:400;--bs-btn-line-height:1.5;--bs-btn-color:var(--bs-body-color);--bs-btn-bg:transparent;--bs-btn-border-width:var(--bs-border-width);--bs-btn-border-color:transparent;--bs-btn-border-radius:var(--bs-border-radius);--bs-btn-hover-border-color:transparent;--bs-btn-box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.15),0 1px 1px rgba(0, 0, 0, 0.075);--bs-btn-disabled-opacity:0.65;--bs-btn-focus-box-shadow:0 0 0 0.25rem rgba(var(--bs-btn-focus-shadow-rgb), .5);display:inline-block;padding:var(--bs-btn-padding-y) var(--bs-btn-padding-x);font-family:var(--bs-btn-font-family);font-size:var(--bs-btn-font-size);font-weight:var(--bs-btn-font-weight);line-height:var(--bs-btn-line-height);color:var(--bs-btn-color);text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:var(--bs-btn-border-width) solid var(--bs-btn-border-color);border-radius:var(--bs-btn-border-radius);background-color:var(--bs-btn-bg);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.btn{transition:none}}.btn:hover{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color)}.btn-check+.btn:hover{color:var(--bs-btn-color);background-color:var(--bs-btn-bg);border-color:var(--bs-btn-border-color)}.btn:focus-visible{color:var(--bs-btn-hover-color);background-color:var(--bs-btn-hover-bg);border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:focus-visible+.btn{border-color:var(--bs-btn-hover-border-color);outline:0;box-shadow:var(--bs-btn-focus-box-shadow)}.btn-check:checked+.btn,.btn.active,.btn.show,.btn:first-child:active,:not(.btn-check)+.btn:active{color:var(--bs-btn-active-color);background-color:var(--bs-btn-active-bg);border-color:var(--bs-btn-active-border-color)}.btn-check:checked+.btn:focus-visible,.btn.active:focus-visible,.btn.show:focus-visible,.btn:first-child:active:focus-visible,:not(.btn-check)+.btn:active:focus-visible{box-shadow:var(--bs-btn-focus-box-shadow)}.btn.disabled,.btn:disabled,fieldset:disabled .btn{color:var(--bs-btn-disabled-color);pointer-events:none;background-color:var(--bs-btn-disabled-bg);border-color:var(--bs-btn-disabled-border-color);opacity:var(--bs-btn-disabled-opacity)}.btn-primary{--bs-btn-color:#fff;--bs-btn-bg:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0b5ed7;--bs-btn-hover-border-color:#0a58ca;--bs-btn-focus-shadow-rgb:49,132,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0a58ca;--bs-btn-active-border-color:#0a53be;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#0d6efd;--bs-btn-disabled-border-color:#0d6efd}.btn-secondary{--bs-btn-color:#fff;--bs-btn-bg:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#5c636a;--bs-btn-hover-border-color:#565e64;--bs-btn-focus-shadow-rgb:130,138,145;--bs-btn-active-color:#fff;--bs-btn-active-bg:#565e64;--bs-btn-active-border-color:#51585e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#6c757d;--bs-btn-disabled-border-color:#6c757d}.btn-success{--bs-btn-color:#fff;--bs-btn-bg:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#157347;--bs-btn-hover-border-color:#146c43;--bs-btn-focus-shadow-rgb:60,153,110;--bs-btn-active-color:#fff;--bs-btn-active-bg:#146c43;--bs-btn-active-border-color:#13653f;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#198754;--bs-btn-disabled-border-color:#198754}.btn-info{--bs-btn-color:#000;--bs-btn-bg:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#31d2f2;--bs-btn-hover-border-color:#25cff2;--bs-btn-focus-shadow-rgb:11,172,204;--bs-btn-active-color:#000;--bs-btn-active-bg:#3dd5f3;--bs-btn-active-border-color:#25cff2;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#0dcaf0;--bs-btn-disabled-border-color:#0dcaf0}.btn-warning{--bs-btn-color:#000;--bs-btn-bg:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffca2c;--bs-btn-hover-border-color:#ffc720;--bs-btn-focus-shadow-rgb:217,164,6;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffcd39;--bs-btn-active-border-color:#ffc720;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#ffc107;--bs-btn-disabled-border-color:#ffc107}.btn-danger{--bs-btn-color:#fff;--bs-btn-bg:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#bb2d3b;--bs-btn-hover-border-color:#b02a37;--bs-btn-focus-shadow-rgb:225,83,97;--bs-btn-active-color:#fff;--bs-btn-active-bg:#b02a37;--bs-btn-active-border-color:#a52834;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#dc3545;--bs-btn-disabled-border-color:#dc3545}.btn-light{--bs-btn-color:#000;--bs-btn-bg:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#d3d4d5;--bs-btn-hover-border-color:#c6c7c8;--bs-btn-focus-shadow-rgb:211,212,213;--bs-btn-active-color:#000;--bs-btn-active-bg:#c6c7c8;--bs-btn-active-border-color:#babbbc;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#000;--bs-btn-disabled-bg:#f8f9fa;--bs-btn-disabled-border-color:#f8f9fa}.btn-dark{--bs-btn-color:#fff;--bs-btn-bg:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#424649;--bs-btn-hover-border-color:#373b3e;--bs-btn-focus-shadow-rgb:66,70,73;--bs-btn-active-color:#fff;--bs-btn-active-bg:#4d5154;--bs-btn-active-border-color:#373b3e;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#fff;--bs-btn-disabled-bg:#212529;--bs-btn-disabled-border-color:#212529}.btn-outline-primary{--bs-btn-color:#0d6efd;--bs-btn-border-color:#0d6efd;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#0d6efd;--bs-btn-hover-border-color:#0d6efd;--bs-btn-focus-shadow-rgb:13,110,253;--bs-btn-active-color:#fff;--bs-btn-active-bg:#0d6efd;--bs-btn-active-border-color:#0d6efd;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#0d6efd;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0d6efd;--bs-gradient:none}.btn-outline-secondary{--bs-btn-color:#6c757d;--bs-btn-border-color:#6c757d;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#6c757d;--bs-btn-hover-border-color:#6c757d;--bs-btn-focus-shadow-rgb:108,117,125;--bs-btn-active-color:#fff;--bs-btn-active-bg:#6c757d;--bs-btn-active-border-color:#6c757d;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#6c757d;--bs-gradient:none}.btn-outline-success{--bs-btn-color:#198754;--bs-btn-border-color:#198754;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#198754;--bs-btn-hover-border-color:#198754;--bs-btn-focus-shadow-rgb:25,135,84;--bs-btn-active-color:#fff;--bs-btn-active-bg:#198754;--bs-btn-active-border-color:#198754;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#198754;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#198754;--bs-gradient:none}.btn-outline-info{--bs-btn-color:#0dcaf0;--bs-btn-border-color:#0dcaf0;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#0dcaf0;--bs-btn-hover-border-color:#0dcaf0;--bs-btn-focus-shadow-rgb:13,202,240;--bs-btn-active-color:#000;--bs-btn-active-bg:#0dcaf0;--bs-btn-active-border-color:#0dcaf0;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#0dcaf0;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#0dcaf0;--bs-gradient:none}.btn-outline-warning{--bs-btn-color:#ffc107;--bs-btn-border-color:#ffc107;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#ffc107;--bs-btn-hover-border-color:#ffc107;--bs-btn-focus-shadow-rgb:255,193,7;--bs-btn-active-color:#000;--bs-btn-active-bg:#ffc107;--bs-btn-active-border-color:#ffc107;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#ffc107;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#ffc107;--bs-gradient:none}.btn-outline-danger{--bs-btn-color:#dc3545;--bs-btn-border-color:#dc3545;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#dc3545;--bs-btn-hover-border-color:#dc3545;--bs-btn-focus-shadow-rgb:220,53,69;--bs-btn-active-color:#fff;--bs-btn-active-bg:#dc3545;--bs-btn-active-border-color:#dc3545;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#dc3545;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#dc3545;--bs-gradient:none}.btn-outline-light{--bs-btn-color:#f8f9fa;--bs-btn-border-color:#f8f9fa;--bs-btn-hover-color:#000;--bs-btn-hover-bg:#f8f9fa;--bs-btn-hover-border-color:#f8f9fa;--bs-btn-focus-shadow-rgb:248,249,250;--bs-btn-active-color:#000;--bs-btn-active-bg:#f8f9fa;--bs-btn-active-border-color:#f8f9fa;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#f8f9fa;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#f8f9fa;--bs-gradient:none}.btn-outline-dark{--bs-btn-color:#212529;--bs-btn-border-color:#212529;--bs-btn-hover-color:#fff;--bs-btn-hover-bg:#212529;--bs-btn-hover-border-color:#212529;--bs-btn-focus-shadow-rgb:33,37,41;--bs-btn-active-color:#fff;--bs-btn-active-bg:#212529;--bs-btn-active-border-color:#212529;--bs-btn-active-shadow:inset 0 3px 5px rgba(0, 0, 0, 0.125);--bs-btn-disabled-color:#212529;--bs-btn-disabled-bg:transparent;--bs-btn-disabled-border-color:#212529;--bs-gradient:none}.btn-link{--bs-btn-font-weight:400;--bs-btn-color:var(--bs-link-color);--bs-btn-bg:transparent;--bs-btn-border-color:transparent;--bs-btn-hover-color:var(--bs-link-hover-color);--bs-btn-hover-border-color:transparent;--bs-btn-active-color:var(--bs-link-hover-color);--bs-btn-active-border-color:transparent;--bs-btn-disabled-color:#6c757d;--bs-btn-disabled-border-color:transparent;--bs-btn-box-shadow:0 0 0 #000;--bs-btn-focus-shadow-rgb:49,132,253;text-decoration:underline}.btn-link:focus-visible{color:var(--bs-btn-color)}.btn-link:hover{color:var(--bs-btn-hover-color)}.btn-group-lg>.btn,.btn-lg{--bs-btn-padding-y:0.5rem;--bs-btn-padding-x:1rem;--bs-btn-font-size:1.25rem;--bs-btn-border-radius:var(--bs-border-radius-lg)}.btn-group-sm>.btn,.btn-sm{--bs-btn-padding-y:0.25rem;--bs-btn-padding-x:0.5rem;--bs-btn-font-size:0.875rem;--bs-btn-border-radius:var(--bs-border-radius-sm)}.fade{transition:opacity .15s linear}@media (prefers-reduced-motion:reduce){.fade{transition:none}}.fade:not(.show){opacity:0}.collapse:not(.show){display:none}.collapsing{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion:reduce){.collapsing{transition:none}}.collapsing.collapse-horizontal{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion:reduce){.collapsing.collapse-horizontal{transition:none}}.dropdown,.dropdown-center,.dropend,.dropstart,.dropup,.dropup-center{position:relative}.dropdown-toggle{white-space:nowrap}.dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle:empty::after{margin-left:0}.dropdown-menu{--bs-dropdown-zindex:1000;--bs-dropdown-min-width:10rem;--bs-dropdown-padding-x:0;--bs-dropdown-padding-y:0.5rem;--bs-dropdown-spacer:0.125rem;--bs-dropdown-font-size:1rem;--bs-dropdown-color:var(--bs-body-color);--bs-dropdown-bg:var(--bs-body-bg);--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-border-radius:var(--bs-border-radius);--bs-dropdown-border-width:var(--bs-border-width);--bs-dropdown-inner-border-radius:calc(var(--bs-border-radius) - var(--bs-border-width));--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-divider-margin-y:0.5rem;--bs-dropdown-box-shadow:var(--bs-box-shadow);--bs-dropdown-link-color:var(--bs-body-color);--bs-dropdown-link-hover-color:var(--bs-body-color);--bs-dropdown-link-hover-bg:var(--bs-tertiary-bg);--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:var(--bs-tertiary-color);--bs-dropdown-item-padding-x:1rem;--bs-dropdown-item-padding-y:0.25rem;--bs-dropdown-header-color:#6c757d;--bs-dropdown-header-padding-x:1rem;--bs-dropdown-header-padding-y:0.5rem;position:absolute;z-index:var(--bs-dropdown-zindex);display:none;min-width:var(--bs-dropdown-min-width);padding:var(--bs-dropdown-padding-y) var(--bs-dropdown-padding-x);margin:0;font-size:var(--bs-dropdown-font-size);color:var(--bs-dropdown-color);text-align:left;list-style:none;background-color:var(--bs-dropdown-bg);background-clip:padding-box;border:var(--bs-dropdown-border-width) solid var(--bs-dropdown-border-color);border-radius:var(--bs-dropdown-border-radius)}.dropdown-menu[data-bs-popper]{top:100%;left:0;margin-top:var(--bs-dropdown-spacer)}.dropdown-menu-start{--bs-position:start}.dropdown-menu-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-end{--bs-position:end}.dropdown-menu-end[data-bs-popper]{right:0;left:auto}@media (min-width:576px){.dropdown-menu-sm-start{--bs-position:start}.dropdown-menu-sm-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-sm-end{--bs-position:end}.dropdown-menu-sm-end[data-bs-popper]{right:0;left:auto}}@media (min-width:768px){.dropdown-menu-md-start{--bs-position:start}.dropdown-menu-md-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-md-end{--bs-position:end}.dropdown-menu-md-end[data-bs-popper]{right:0;left:auto}}@media (min-width:992px){.dropdown-menu-lg-start{--bs-position:start}.dropdown-menu-lg-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-lg-end{--bs-position:end}.dropdown-menu-lg-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1200px){.dropdown-menu-xl-start{--bs-position:start}.dropdown-menu-xl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xl-end{--bs-position:end}.dropdown-menu-xl-end[data-bs-popper]{right:0;left:auto}}@media (min-width:1400px){.dropdown-menu-xxl-start{--bs-position:start}.dropdown-menu-xxl-start[data-bs-popper]{right:auto;left:0}.dropdown-menu-xxl-end{--bs-position:end}.dropdown-menu-xxl-end[data-bs-popper]{right:0;left:auto}}.dropup .dropdown-menu[data-bs-popper]{top:auto;bottom:100%;margin-top:0;margin-bottom:var(--bs-dropdown-spacer)}.dropup .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-menu[data-bs-popper]{top:0;right:auto;left:100%;margin-top:0;margin-left:var(--bs-dropdown-spacer)}.dropend .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend .dropdown-toggle:empty::after{margin-left:0}.dropend .dropdown-toggle::after{vertical-align:0}.dropstart .dropdown-menu[data-bs-popper]{top:0;right:100%;left:auto;margin-top:0;margin-right:var(--bs-dropdown-spacer)}.dropstart .dropdown-toggle::after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:""}.dropstart .dropdown-toggle::after{display:none}.dropstart .dropdown-toggle::before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:"";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart .dropdown-toggle:empty::after{margin-left:0}.dropstart .dropdown-toggle::before{vertical-align:0}.dropdown-divider{height:0;margin:var(--bs-dropdown-divider-margin-y) 0;overflow:hidden;border-top:1px solid var(--bs-dropdown-divider-bg);opacity:1}.dropdown-item{display:block;width:100%;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);clear:both;font-weight:400;color:var(--bs-dropdown-link-color);text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0;border-radius:var(--bs-dropdown-item-border-radius,0)}.dropdown-item:focus,.dropdown-item:hover{color:var(--bs-dropdown-link-hover-color);background-color:var(--bs-dropdown-link-hover-bg)}.dropdown-item.active,.dropdown-item:active{color:var(--bs-dropdown-link-active-color);text-decoration:none;background-color:var(--bs-dropdown-link-active-bg)}.dropdown-item.disabled,.dropdown-item:disabled{color:var(--bs-dropdown-link-disabled-color);pointer-events:none;background-color:transparent}.dropdown-menu.show{display:block}.dropdown-header{display:block;padding:var(--bs-dropdown-header-padding-y) var(--bs-dropdown-header-padding-x);margin-bottom:0;font-size:.875rem;color:var(--bs-dropdown-header-color);white-space:nowrap}.dropdown-item-text{display:block;padding:var(--bs-dropdown-item-padding-y) var(--bs-dropdown-item-padding-x);color:var(--bs-dropdown-link-color)}.dropdown-menu-dark{--bs-dropdown-color:#dee2e6;--bs-dropdown-bg:#343a40;--bs-dropdown-border-color:var(--bs-border-color-translucent);--bs-dropdown-box-shadow: ;--bs-dropdown-link-color:#dee2e6;--bs-dropdown-link-hover-color:#fff;--bs-dropdown-divider-bg:var(--bs-border-color-translucent);--bs-dropdown-link-hover-bg:rgba(255, 255, 255, 0.15);--bs-dropdown-link-active-color:#fff;--bs-dropdown-link-active-bg:#0d6efd;--bs-dropdown-link-disabled-color:#adb5bd;--bs-dropdown-header-color:#adb5bd}.btn-group,.btn-group-vertical{position:relative;display:inline-flex;vertical-align:middle}.btn-group-vertical>.btn,.btn-group>.btn{position:relative;flex:1 1 auto}.btn-group-vertical>.btn-check:checked+.btn,.btn-group-vertical>.btn-check:focus+.btn,.btn-group-vertical>.btn.active,.btn-group-vertical>.btn:active,.btn-group-vertical>.btn:focus,.btn-group-vertical>.btn:hover,.btn-group>.btn-check:checked+.btn,.btn-group>.btn-check:focus+.btn,.btn-group>.btn.active,.btn-group>.btn:active,.btn-group>.btn:focus,.btn-group>.btn:hover{z-index:1}.btn-toolbar{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar .input-group{width:auto}.btn-group{border-radius:var(--bs-border-radius)}.btn-group>.btn-group:not(:first-child),.btn-group>:not(.btn-check:first-child)+.btn{margin-left:calc(var(--bs-border-width) * -1)}.btn-group>.btn-group:not(:last-child)>.btn,.btn-group>.btn.dropdown-toggle-split:first-child,.btn-group>.btn:not(:last-child):not(.dropdown-toggle){border-top-right-radius:0;border-bottom-right-radius:0}.btn-group>.btn-group:not(:first-child)>.btn,.btn-group>.btn:nth-child(n+3),.btn-group>:not(.btn-check)+.btn{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split::after,.dropend .dropdown-toggle-split::after,.dropup .dropdown-toggle-split::after{margin-left:0}.dropstart .dropdown-toggle-split::before{margin-right:0}.btn-group-sm>.btn+.dropdown-toggle-split,.btn-sm+.dropdown-toggle-split{padding-right:.375rem;padding-left:.375rem}.btn-group-lg>.btn+.dropdown-toggle-split,.btn-lg+.dropdown-toggle-split{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical>.btn,.btn-group-vertical>.btn-group{width:100%}.btn-group-vertical>.btn-group:not(:first-child),.btn-group-vertical>.btn:not(:first-child){margin-top:calc(var(--bs-border-width) * -1)}.btn-group-vertical>.btn-group:not(:last-child)>.btn,.btn-group-vertical>.btn:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical>.btn-group:not(:first-child)>.btn,.btn-group-vertical>.btn~.btn{border-top-left-radius:0;border-top-right-radius:0}.nav{--bs-nav-link-padding-x:1rem;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-link-color);--bs-nav-link-hover-color:var(--bs-link-hover-color);--bs-nav-link-disabled-color:var(--bs-secondary-color);display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link{display:block;padding:var(--bs-nav-link-padding-y) var(--bs-nav-link-padding-x);font-size:var(--bs-nav-link-font-size);font-weight:var(--bs-nav-link-font-weight);color:var(--bs-nav-link-color);text-decoration:none;background:0 0;border:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion:reduce){.nav-link{transition:none}}.nav-link:focus,.nav-link:hover{color:var(--bs-nav-link-hover-color)}.nav-link:focus-visible{outline:0;box-shadow:0 0 0 .25rem rgba(13,110,253,.25)}.nav-link.disabled,.nav-link:disabled{color:var(--bs-nav-link-disabled-color);pointer-events:none;cursor:default}.nav-tabs{--bs-nav-tabs-border-width:var(--bs-border-width);--bs-nav-tabs-border-color:var(--bs-border-color);--bs-nav-tabs-border-radius:var(--bs-border-radius);--bs-nav-tabs-link-hover-border-color:var(--bs-secondary-bg) var(--bs-secondary-bg) var(--bs-border-color);--bs-nav-tabs-link-active-color:var(--bs-emphasis-color);--bs-nav-tabs-link-active-bg:var(--bs-body-bg);--bs-nav-tabs-link-active-border-color:var(--bs-border-color) var(--bs-border-color) var(--bs-body-bg);border-bottom:var(--bs-nav-tabs-border-width) solid var(--bs-nav-tabs-border-color)}.nav-tabs .nav-link{margin-bottom:calc(-1 * var(--bs-nav-tabs-border-width));border:var(--bs-nav-tabs-border-width) solid transparent;border-top-left-radius:var(--bs-nav-tabs-border-radius);border-top-right-radius:var(--bs-nav-tabs-border-radius)}.nav-tabs .nav-link:focus,.nav-tabs .nav-link:hover{isolation:isolate;border-color:var(--bs-nav-tabs-link-hover-border-color)}.nav-tabs .nav-item.show .nav-link,.nav-tabs .nav-link.active{color:var(--bs-nav-tabs-link-active-color);background-color:var(--bs-nav-tabs-link-active-bg);border-color:var(--bs-nav-tabs-link-active-border-color)}.nav-tabs .dropdown-menu{margin-top:calc(-1 * var(--bs-nav-tabs-border-width));border-top-left-radius:0;border-top-right-radius:0}.nav-pills{--bs-nav-pills-border-radius:var(--bs-border-radius);--bs-nav-pills-link-active-color:#fff;--bs-nav-pills-link-active-bg:#0d6efd}.nav-pills .nav-link{border-radius:var(--bs-nav-pills-border-radius)}.nav-pills .nav-link.active,.nav-pills .show>.nav-link{color:var(--bs-nav-pills-link-active-color);background-color:var(--bs-nav-pills-link-active-bg)}.nav-underline{--bs-nav-underline-gap:1rem;--bs-nav-underline-border-width:0.125rem;--bs-nav-underline-link-active-color:var(--bs-emphasis-color);gap:var(--bs-nav-underline-gap)}.nav-underline .nav-link{padding-right:0;padding-left:0;border-bottom:var(--bs-nav-underline-border-width) solid transparent}.nav-underline .nav-link:focus,.nav-underline .nav-link:hover{border-bottom-color:currentcolor}.nav-underline .nav-link.active,.nav-underline .show>.nav-link{font-weight:700;color:var(--bs-nav-underline-link-active-color);border-bottom-color:currentcolor}.nav-fill .nav-item,.nav-fill>.nav-link{flex:1 1 auto;text-align:center}.nav-justified .nav-item,.nav-justified>.nav-link{flex-basis:0;flex-grow:1;text-align:center}.nav-fill .nav-item .nav-link,.nav-justified .nav-item .nav-link{width:100%}.tab-content>.tab-pane{display:none}.tab-content>.active{display:block}.navbar{--bs-navbar-padding-x:0;--bs-navbar-padding-y:0.5rem;--bs-navbar-color:rgba(var(--bs-emphasis-color-rgb), 0.65);--bs-navbar-hover-color:rgba(var(--bs-emphasis-color-rgb), 0.8);--bs-navbar-disabled-color:rgba(var(--bs-emphasis-color-rgb), 0.3);--bs-navbar-active-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-brand-padding-y:0.3125rem;--bs-navbar-brand-margin-end:1rem;--bs-navbar-brand-font-size:1.25rem;--bs-navbar-brand-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-brand-hover-color:rgba(var(--bs-emphasis-color-rgb), 1);--bs-navbar-nav-link-padding-x:0.5rem;--bs-navbar-toggler-padding-y:0.25rem;--bs-navbar-toggler-padding-x:0.75rem;--bs-navbar-toggler-font-size:1.25rem;--bs-navbar-toggler-icon-bg:url(${$});--bs-navbar-toggler-border-color:rgba(var(--bs-emphasis-color-rgb), 0.15);--bs-navbar-toggler-border-radius:var(--bs-border-radius);--bs-navbar-toggler-focus-width:0.25rem;--bs-navbar-toggler-transition:box-shadow 0.15s ease-in-out;position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding:var(--bs-navbar-padding-y) var(--bs-navbar-padding-x)}.navbar>.container,.navbar>.container-fluid,.navbar>.container-lg,.navbar>.container-md,.navbar>.container-sm,.navbar>.container-xl,.navbar>.container-xxl{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand{padding-top:var(--bs-navbar-brand-padding-y);padding-bottom:var(--bs-navbar-brand-padding-y);margin-right:var(--bs-navbar-brand-margin-end);font-size:var(--bs-navbar-brand-font-size);color:var(--bs-navbar-brand-color);text-decoration:none;white-space:nowrap}.navbar-brand:focus,.navbar-brand:hover{color:var(--bs-navbar-brand-hover-color)}.navbar-nav{--bs-nav-link-padding-x:0;--bs-nav-link-padding-y:0.5rem;--bs-nav-link-font-weight: ;--bs-nav-link-color:var(--bs-navbar-color);--bs-nav-link-hover-color:var(--bs-navbar-hover-color);--bs-nav-link-disabled-color:var(--bs-navbar-disabled-color);display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav .nav-link.active,.navbar-nav .nav-link.show{color:var(--bs-navbar-active-color)}.navbar-nav .dropdown-menu{position:static}.navbar-text{padding-top:.5rem;padding-bottom:.5rem;color:var(--bs-navbar-color)}.navbar-text a,.navbar-text a:focus,.navbar-text a:hover{color:var(--bs-navbar-active-color)}.navbar-collapse{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler{padding:var(--bs-navbar-toggler-padding-y) var(--bs-navbar-toggler-padding-x);font-size:var(--bs-navbar-toggler-font-size);line-height:1;color:var(--bs-navbar-color);background-color:transparent;border:var(--bs-border-width) solid var(--bs-navbar-toggler-border-color);border-radius:var(--bs-navbar-toggler-border-radius);transition:var(--bs-navbar-toggler-transition)}@media (prefers-reduced-motion:reduce){.navbar-toggler{transition:none}}.navbar-toggler:hover{text-decoration:none}.navbar-toggler:focus{text-decoration:none;outline:0;box-shadow:0 0 0 var(--bs-navbar-toggler-focus-width)}.navbar-toggler-icon{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-image:var(--bs-navbar-toggler-icon-bg);background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll{max-height:var(--bs-scroll-height,75vh);overflow-y:auto}@media (min-width:576px){.navbar-expand-sm{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm .navbar-nav{flex-direction:row}.navbar-expand-sm .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-sm .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-sm .navbar-nav-scroll{overflow:visible}.navbar-expand-sm .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-sm .navbar-toggler{display:none}.navbar-expand-sm .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-sm .offcanvas .offcanvas-header{display:none}.navbar-expand-sm .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:768px){.navbar-expand-md{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md .navbar-nav{flex-direction:row}.navbar-expand-md .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-md .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-md .navbar-nav-scroll{overflow:visible}.navbar-expand-md .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-md .navbar-toggler{display:none}.navbar-expand-md .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-md .offcanvas .offcanvas-header{display:none}.navbar-expand-md .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:992px){.navbar-expand-lg{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg .navbar-nav{flex-direction:row}.navbar-expand-lg .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-lg .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-lg .navbar-nav-scroll{overflow:visible}.navbar-expand-lg .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-lg .navbar-toggler{display:none}.navbar-expand-lg .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-lg .offcanvas .offcanvas-header{display:none}.navbar-expand-lg .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1200px){.navbar-expand-xl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl .navbar-nav{flex-direction:row}.navbar-expand-xl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xl .navbar-nav-scroll{overflow:visible}.navbar-expand-xl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xl .navbar-toggler{display:none}.navbar-expand-xl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xl .offcanvas .offcanvas-header{display:none}.navbar-expand-xl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width:1400px){.navbar-expand-xxl{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl .navbar-nav{flex-direction:row}.navbar-expand-xxl .navbar-nav .dropdown-menu{position:absolute}.navbar-expand-xxl .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand-xxl .navbar-nav-scroll{overflow:visible}.navbar-expand-xxl .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand-xxl .navbar-toggler{display:none}.navbar-expand-xxl .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand-xxl .offcanvas .offcanvas-header{display:none}.navbar-expand-xxl .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand .navbar-nav{flex-direction:row}.navbar-expand .navbar-nav .dropdown-menu{position:absolute}.navbar-expand .navbar-nav .nav-link{padding-right:var(--bs-navbar-nav-link-padding-x);padding-left:var(--bs-navbar-nav-link-padding-x)}.navbar-expand .navbar-nav-scroll{overflow:visible}.navbar-expand .navbar-collapse{display:flex!important;flex-basis:auto}.navbar-expand .navbar-toggler{display:none}.navbar-expand .offcanvas{position:static;z-index:auto;flex-grow:1;width:auto!important;height:auto!important;visibility:visible!important;background-color:transparent!important;border:0!important;transform:none!important;transition:none}.navbar-expand .offcanvas .offcanvas-header{display:none}.navbar-expand .offcanvas .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-dark,.navbar[data-bs-theme=dark]{--bs-navbar-color:rgba(255, 255, 255, 0.55);--bs-navbar-hover-color:rgba(255, 255, 255, 0.75);--bs-navbar-disabled-color:rgba(255, 255, 255, 0.25);--bs-navbar-active-color:#fff;--bs-navbar-brand-color:#fff;--bs-navbar-brand-hover-color:#fff;--bs-navbar-toggler-border-color:rgba(255, 255, 255, 0.1);--bs-navbar-toggler-icon-bg:url(${z})}[data-bs-theme=dark] .navbar-toggler-icon{--bs-navbar-toggler-icon-bg:url(${z})}.card{--bs-card-spacer-y:1rem;--bs-card-spacer-x:1rem;--bs-card-title-spacer-y:0.5rem;--bs-card-title-color: ;--bs-card-subtitle-color: ;--bs-card-border-width:var(--bs-border-width);--bs-card-border-color:var(--bs-border-color-translucent);--bs-card-border-radius:var(--bs-border-radius);--bs-card-box-shadow: ;--bs-card-inner-border-radius:calc(var(--bs-border-radius) - (var(--bs-border-width)));--bs-card-cap-padding-y:0.5rem;--bs-card-cap-padding-x:1rem;--bs-card-cap-bg:rgba(var(--bs-body-color-rgb), 0.03);--bs-card-cap-color: ;--bs-card-height: ;--bs-card-color: ;--bs-card-bg:var(--bs-body-bg);--bs-card-img-overlay-padding:1rem;--bs-card-group-margin:0.75rem;position:relative;display:flex;flex-direction:column;min-width:0;height:var(--bs-card-height);color:var(--bs-body-color);word-wrap:break-word;background-color:var(--bs-card-bg);background-clip:border-box;border:var(--bs-card-border-width) solid var(--bs-card-border-color);border-radius:var(--bs-card-border-radius)}.card>hr{margin-right:0;margin-left:0}.card>.list-group{border-top:inherit;border-bottom:inherit}.card>.list-group:first-child{border-top-width:0;border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card>.list-group:last-child{border-bottom-width:0;border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card>.card-header+.list-group,.card>.list-group+.card-footer{border-top:0}.card-body{flex:1 1 auto;padding:var(--bs-card-spacer-y) var(--bs-card-spacer-x);color:var(--bs-card-color)}.card-title{margin-bottom:var(--bs-card-title-spacer-y);color:var(--bs-card-title-color)}.card-subtitle{margin-top:calc(-.5 * var(--bs-card-title-spacer-y));margin-bottom:0;color:var(--bs-card-subtitle-color)}.card-text:last-child{margin-bottom:0}.card-link+.card-link{margin-left:var(--bs-card-spacer-x)}.card-header{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);margin-bottom:0;color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-bottom:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-header:first-child{border-radius:var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius) 0 0}.card-footer{padding:var(--bs-card-cap-padding-y) var(--bs-card-cap-padding-x);color:var(--bs-card-cap-color);background-color:var(--bs-card-cap-bg);border-top:var(--bs-card-border-width) solid var(--bs-card-border-color)}.card-footer:last-child{border-radius:0 0 var(--bs-card-inner-border-radius) var(--bs-card-inner-border-radius)}.card-header-tabs{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-bottom:calc(-1 * var(--bs-card-cap-padding-y));margin-left:calc(-.5 * var(--bs-card-cap-padding-x));border-bottom:0}.card-header-tabs .nav-link.active{background-color:var(--bs-card-bg);border-bottom-color:var(--bs-card-bg)}.card-header-pills{margin-right:calc(-.5 * var(--bs-card-cap-padding-x));margin-left:calc(-.5 * var(--bs-card-cap-padding-x))}.card-img-overlay{position:absolute;top:0;right:0;bottom:0;left:0;padding:var(--bs-card-img-overlay-padding);border-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom,.card-img-top{width:100%}.card-img,.card-img-top{border-top-left-radius:var(--bs-card-inner-border-radius);border-top-right-radius:var(--bs-card-inner-border-radius)}.card-img,.card-img-bottom{border-bottom-right-radius:var(--bs-card-inner-border-radius);border-bottom-left-radius:var(--bs-card-inner-border-radius)}.card-group>.card{margin-bottom:var(--bs-card-group-margin)}@media (min-width:576px){.card-group{display:flex;flex-flow:row wrap}.card-group>.card{flex:1 0 0%;margin-bottom:0}.card-group>.card+.card{margin-left:0;border-left:0}.card-group>.card:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group>.card:not(:last-child) .card-header,.card-group>.card:not(:last-child) .card-img-top{border-top-right-radius:0}.card-group>.card:not(:last-child) .card-footer,.card-group>.card:not(:last-child) .card-img-bottom{border-bottom-right-radius:0}.card-group>.card:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group>.card:not(:first-child) .card-header,.card-group>.card:not(:first-child) .card-img-top{border-top-left-radius:0}.card-group>.card:not(:first-child) .card-footer,.card-group>.card:not(:first-child) .card-img-bottom{border-bottom-left-radius:0}}.accordion{--bs-accordion-color:var(--bs-body-color);--bs-accordion-bg:var(--bs-body-bg);--bs-accordion-transition:color 0.15s ease-in-out,background-color 0.15s ease-in-out,border-color 0.15s ease-in-out,box-shadow 0.15s ease-in-out,border-radius 0.15s ease;--bs-accordion-border-color:var(--bs-border-color);--bs-accordion-border-width:var(--bs-border-width);--bs-accordion-border-radius:var(--bs-border-radius);--bs-accordion-inner-border-radius:calc(var(--bs-border-radius) - (var(--bs-border-width)));--bs-accordion-btn-padding-x:1.25rem;--bs-accordion-btn-padding-y:1rem;--bs-accordion-btn-color:var(--bs-body-color);--bs-accordion-btn-bg:var(--bs-accordion-bg);--bs-accordion-btn-icon:url(${U});--bs-accordion-btn-icon-width:1.25rem;--bs-accordion-btn-icon-transform:rotate(-180deg);--bs-accordion-btn-icon-transition:transform 0.2s ease-in-out;--bs-accordion-btn-active-icon:url(${V});--bs-accordion-btn-focus-border-color:#86b7fe;--bs-accordion-btn-focus-box-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-accordion-body-padding-x:1.25rem;--bs-accordion-body-padding-y:1rem;--bs-accordion-active-color:var(--bs-primary-text-emphasis);--bs-accordion-active-bg:var(--bs-primary-bg-subtle)}.accordion-button{position:relative;display:flex;align-items:center;width:100%;padding:var(--bs-accordion-btn-padding-y) var(--bs-accordion-btn-padding-x);font-size:1rem;color:var(--bs-accordion-btn-color);text-align:left;background-color:var(--bs-accordion-btn-bg);border:0;border-radius:0;overflow-anchor:none;transition:var(--bs-accordion-transition)}@media (prefers-reduced-motion:reduce){.accordion-button{transition:none}}.accordion-button:not(.collapsed){color:var(--bs-accordion-active-color);background-color:var(--bs-accordion-active-bg);box-shadow:inset 0 calc(-1 * var(--bs-accordion-border-width)) 0 var(--bs-accordion-border-color)}.accordion-button:not(.collapsed)::after{background-image:var(--bs-accordion-btn-active-icon);transform:var(--bs-accordion-btn-icon-transform)}.accordion-button::after{flex-shrink:0;width:var(--bs-accordion-btn-icon-width);height:var(--bs-accordion-btn-icon-width);margin-left:auto;content:"";background-image:var(--bs-accordion-btn-icon);background-repeat:no-repeat;background-size:var(--bs-accordion-btn-icon-width);transition:var(--bs-accordion-btn-icon-transition)}@media (prefers-reduced-motion:reduce){.accordion-button::after{transition:none}}.accordion-button:hover{z-index:2}.accordion-button:focus{z-index:3;border-color:var(--bs-accordion-btn-focus-border-color);outline:0;box-shadow:var(--bs-accordion-btn-focus-box-shadow)}.accordion-header{margin-bottom:0}.accordion-item{color:var(--bs-accordion-color);background-color:var(--bs-accordion-bg);border:var(--bs-accordion-border-width) solid var(--bs-accordion-border-color)}.accordion-item:first-of-type{border-top-left-radius:var(--bs-accordion-border-radius);border-top-right-radius:var(--bs-accordion-border-radius)}.accordion-item:first-of-type .accordion-button{border-top-left-radius:var(--bs-accordion-inner-border-radius);border-top-right-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:not(:first-of-type){border-top:0}.accordion-item:last-of-type{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-item:last-of-type .accordion-button.collapsed{border-bottom-right-radius:var(--bs-accordion-inner-border-radius);border-bottom-left-radius:var(--bs-accordion-inner-border-radius)}.accordion-item:last-of-type .accordion-collapse{border-bottom-right-radius:var(--bs-accordion-border-radius);border-bottom-left-radius:var(--bs-accordion-border-radius)}.accordion-body{padding:var(--bs-accordion-body-padding-y) var(--bs-accordion-body-padding-x)}.accordion-flush .accordion-collapse{border-width:0}.accordion-flush .accordion-item{border-right:0;border-left:0;border-radius:0}.accordion-flush .accordion-item:first-child{border-top:0}.accordion-flush .accordion-item:last-child{border-bottom:0}.accordion-flush .accordion-item .accordion-button,.accordion-flush .accordion-item .accordion-button.collapsed{border-radius:0}[data-bs-theme=dark] .accordion-button::after{--bs-accordion-btn-icon:url(${G});--bs-accordion-btn-active-icon:url(${G})}.breadcrumb{--bs-breadcrumb-padding-x:0;--bs-breadcrumb-padding-y:0;--bs-breadcrumb-margin-bottom:1rem;--bs-breadcrumb-bg: ;--bs-breadcrumb-border-radius: ;--bs-breadcrumb-divider-color:var(--bs-secondary-color);--bs-breadcrumb-item-padding-x:0.5rem;--bs-breadcrumb-item-active-color:var(--bs-secondary-color);display:flex;flex-wrap:wrap;padding:var(--bs-breadcrumb-padding-y) var(--bs-breadcrumb-padding-x);margin-bottom:var(--bs-breadcrumb-margin-bottom);font-size:var(--bs-breadcrumb-font-size);list-style:none;background-color:var(--bs-breadcrumb-bg);border-radius:var(--bs-breadcrumb-border-radius)}.breadcrumb-item+.breadcrumb-item{padding-left:var(--bs-breadcrumb-item-padding-x)}.breadcrumb-item+.breadcrumb-item::before{float:left;padding-right:var(--bs-breadcrumb-item-padding-x);color:var(--bs-breadcrumb-divider-color);content:var(--bs-breadcrumb-divider, "/")}.breadcrumb-item.active{color:var(--bs-breadcrumb-item-active-color)}.pagination{--bs-pagination-padding-x:0.75rem;--bs-pagination-padding-y:0.375rem;--bs-pagination-font-size:1rem;--bs-pagination-color:var(--bs-link-color);--bs-pagination-bg:var(--bs-body-bg);--bs-pagination-border-width:var(--bs-border-width);--bs-pagination-border-color:var(--bs-border-color);--bs-pagination-border-radius:var(--bs-border-radius);--bs-pagination-hover-color:var(--bs-link-hover-color);--bs-pagination-hover-bg:var(--bs-tertiary-bg);--bs-pagination-hover-border-color:var(--bs-border-color);--bs-pagination-focus-color:var(--bs-link-hover-color);--bs-pagination-focus-bg:var(--bs-secondary-bg);--bs-pagination-focus-box-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-pagination-active-color:#fff;--bs-pagination-active-bg:#0d6efd;--bs-pagination-active-border-color:#0d6efd;--bs-pagination-disabled-color:var(--bs-secondary-color);--bs-pagination-disabled-bg:var(--bs-secondary-bg);--bs-pagination-disabled-border-color:var(--bs-border-color);display:flex;padding-left:0;list-style:none}.page-link{position:relative;display:block;padding:var(--bs-pagination-padding-y) var(--bs-pagination-padding-x);font-size:var(--bs-pagination-font-size);color:var(--bs-pagination-color);text-decoration:none;background-color:var(--bs-pagination-bg);border:var(--bs-pagination-border-width) solid var(--bs-pagination-border-color);transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion:reduce){.page-link{transition:none}}.page-link:hover{z-index:2;color:var(--bs-pagination-hover-color);background-color:var(--bs-pagination-hover-bg);border-color:var(--bs-pagination-hover-border-color)}.page-link:focus{z-index:3;color:var(--bs-pagination-focus-color);background-color:var(--bs-pagination-focus-bg);outline:0;box-shadow:var(--bs-pagination-focus-box-shadow)}.active>.page-link,.page-link.active{z-index:3;color:var(--bs-pagination-active-color);background-color:var(--bs-pagination-active-bg);border-color:var(--bs-pagination-active-border-color)}.disabled>.page-link,.page-link.disabled{color:var(--bs-pagination-disabled-color);pointer-events:none;background-color:var(--bs-pagination-disabled-bg);border-color:var(--bs-pagination-disabled-border-color)}.page-item:not(:first-child) .page-link{margin-left:calc(var(--bs-border-width) * -1)}.page-item:first-child .page-link{border-top-left-radius:var(--bs-pagination-border-radius);border-bottom-left-radius:var(--bs-pagination-border-radius)}.page-item:last-child .page-link{border-top-right-radius:var(--bs-pagination-border-radius);border-bottom-right-radius:var(--bs-pagination-border-radius)}.pagination-lg{--bs-pagination-padding-x:1.5rem;--bs-pagination-padding-y:0.75rem;--bs-pagination-font-size:1.25rem;--bs-pagination-border-radius:var(--bs-border-radius-lg)}.pagination-sm{--bs-pagination-padding-x:0.5rem;--bs-pagination-padding-y:0.25rem;--bs-pagination-font-size:0.875rem;--bs-pagination-border-radius:var(--bs-border-radius-sm)}.badge{--bs-badge-padding-x:0.65em;--bs-badge-padding-y:0.35em;--bs-badge-font-size:0.75em;--bs-badge-font-weight:700;--bs-badge-color:#fff;--bs-badge-border-radius:var(--bs-border-radius);display:inline-block;padding:var(--bs-badge-padding-y) var(--bs-badge-padding-x);font-size:var(--bs-badge-font-size);font-weight:var(--bs-badge-font-weight);line-height:1;color:var(--bs-badge-color);text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:var(--bs-badge-border-radius)}.badge:empty{display:none}.btn .badge{position:relative;top:-1px}.alert{--bs-alert-bg:transparent;--bs-alert-padding-x:1rem;--bs-alert-padding-y:1rem;--bs-alert-margin-bottom:1rem;--bs-alert-color:inherit;--bs-alert-border-color:transparent;--bs-alert-border:var(--bs-border-width) solid var(--bs-alert-border-color);--bs-alert-border-radius:var(--bs-border-radius);--bs-alert-link-color:inherit;position:relative;padding:var(--bs-alert-padding-y) var(--bs-alert-padding-x);margin-bottom:var(--bs-alert-margin-bottom);color:var(--bs-alert-color);background-color:var(--bs-alert-bg);border:var(--bs-alert-border);border-radius:var(--bs-alert-border-radius)}.alert-heading{color:inherit}.alert-link{font-weight:700;color:var(--bs-alert-link-color)}.alert-dismissible{padding-right:3rem}.alert-dismissible .btn-close{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary{--bs-alert-color:var(--bs-primary-text-emphasis);--bs-alert-bg:var(--bs-primary-bg-subtle);--bs-alert-border-color:var(--bs-primary-border-subtle);--bs-alert-link-color:var(--bs-primary-text-emphasis)}.alert-secondary{--bs-alert-color:var(--bs-secondary-text-emphasis);--bs-alert-bg:var(--bs-secondary-bg-subtle);--bs-alert-border-color:var(--bs-secondary-border-subtle);--bs-alert-link-color:var(--bs-secondary-text-emphasis)}.alert-success{--bs-alert-color:var(--bs-success-text-emphasis);--bs-alert-bg:var(--bs-success-bg-subtle);--bs-alert-border-color:var(--bs-success-border-subtle);--bs-alert-link-color:var(--bs-success-text-emphasis)}.alert-info{--bs-alert-color:var(--bs-info-text-emphasis);--bs-alert-bg:var(--bs-info-bg-subtle);--bs-alert-border-color:var(--bs-info-border-subtle);--bs-alert-link-color:var(--bs-info-text-emphasis)}.alert-warning{--bs-alert-color:var(--bs-warning-text-emphasis);--bs-alert-bg:var(--bs-warning-bg-subtle);--bs-alert-border-color:var(--bs-warning-border-subtle);--bs-alert-link-color:var(--bs-warning-text-emphasis)}.alert-danger{--bs-alert-color:var(--bs-danger-text-emphasis);--bs-alert-bg:var(--bs-danger-bg-subtle);--bs-alert-border-color:var(--bs-danger-border-subtle);--bs-alert-link-color:var(--bs-danger-text-emphasis)}.alert-light{--bs-alert-color:var(--bs-light-text-emphasis);--bs-alert-bg:var(--bs-light-bg-subtle);--bs-alert-border-color:var(--bs-light-border-subtle);--bs-alert-link-color:var(--bs-light-text-emphasis)}.alert-dark{--bs-alert-color:var(--bs-dark-text-emphasis);--bs-alert-bg:var(--bs-dark-bg-subtle);--bs-alert-border-color:var(--bs-dark-border-subtle);--bs-alert-link-color:var(--bs-dark-text-emphasis)}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress,.progress-stacked{--bs-progress-height:1rem;--bs-progress-font-size:0.75rem;--bs-progress-bg:var(--bs-secondary-bg);--bs-progress-border-radius:var(--bs-border-radius);--bs-progress-box-shadow:var(--bs-box-shadow-inset);--bs-progress-bar-color:#fff;--bs-progress-bar-bg:#0d6efd;--bs-progress-bar-transition:width 0.6s ease;display:flex;height:var(--bs-progress-height);overflow:hidden;font-size:var(--bs-progress-font-size);background-color:var(--bs-progress-bg);border-radius:var(--bs-progress-border-radius)}.progress-bar{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:var(--bs-progress-bar-color);text-align:center;white-space:nowrap;background-color:var(--bs-progress-bar-bg);transition:var(--bs-progress-bar-transition)}@media (prefers-reduced-motion:reduce){.progress-bar{transition:none}}.progress-bar-striped{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:var(--bs-progress-height) var(--bs-progress-height)}.progress-stacked>.progress{overflow:visible}.progress-stacked>.progress>.progress-bar{width:100%}.progress-bar-animated{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion:reduce){.progress-bar-animated{animation:none}}.list-group{--bs-list-group-color:var(--bs-body-color);--bs-list-group-bg:var(--bs-body-bg);--bs-list-group-border-color:var(--bs-border-color);--bs-list-group-border-width:var(--bs-border-width);--bs-list-group-border-radius:var(--bs-border-radius);--bs-list-group-item-padding-x:1rem;--bs-list-group-item-padding-y:0.5rem;--bs-list-group-action-color:var(--bs-secondary-color);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-tertiary-bg);--bs-list-group-action-active-color:var(--bs-body-color);--bs-list-group-action-active-bg:var(--bs-secondary-bg);--bs-list-group-disabled-color:var(--bs-secondary-color);--bs-list-group-disabled-bg:var(--bs-body-bg);--bs-list-group-active-color:#fff;--bs-list-group-active-bg:#0d6efd;--bs-list-group-active-border-color:#0d6efd;display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:var(--bs-list-group-border-radius)}.list-group-numbered{list-style-type:none;counter-reset:section}.list-group-numbered>.list-group-item::before{content:counters(section, ".") ". ";counter-increment:section}.list-group-item-action{width:100%;color:var(--bs-list-group-action-color);text-align:inherit}.list-group-item-action:focus,.list-group-item-action:hover{z-index:1;color:var(--bs-list-group-action-hover-color);text-decoration:none;background-color:var(--bs-list-group-action-hover-bg)}.list-group-item-action:active{color:var(--bs-list-group-action-active-color);background-color:var(--bs-list-group-action-active-bg)}.list-group-item{position:relative;display:block;padding:var(--bs-list-group-item-padding-y) var(--bs-list-group-item-padding-x);color:var(--bs-list-group-color);text-decoration:none;background-color:var(--bs-list-group-bg);border:var(--bs-list-group-border-width) solid var(--bs-list-group-border-color)}.list-group-item:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled,.list-group-item:disabled{color:var(--bs-list-group-disabled-color);pointer-events:none;background-color:var(--bs-list-group-disabled-bg)}.list-group-item.active{z-index:2;color:var(--bs-list-group-active-color);background-color:var(--bs-list-group-active-bg);border-color:var(--bs-list-group-active-border-color)}.list-group-item+.list-group-item{border-top-width:0}.list-group-item+.list-group-item.active{margin-top:calc(-1 * var(--bs-list-group-border-width));border-top-width:var(--bs-list-group-border-width)}.list-group-horizontal{flex-direction:row}.list-group-horizontal>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal>.list-group-item.active{margin-top:0}.list-group-horizontal>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}@media (min-width:576px){.list-group-horizontal-sm{flex-direction:row}.list-group-horizontal-sm>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-sm>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-sm>.list-group-item.active{margin-top:0}.list-group-horizontal-sm>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-sm>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:768px){.list-group-horizontal-md{flex-direction:row}.list-group-horizontal-md>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-md>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-md>.list-group-item.active{margin-top:0}.list-group-horizontal-md>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-md>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:992px){.list-group-horizontal-lg{flex-direction:row}.list-group-horizontal-lg>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-lg>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-lg>.list-group-item.active{margin-top:0}.list-group-horizontal-lg>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-lg>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1200px){.list-group-horizontal-xl{flex-direction:row}.list-group-horizontal-xl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xl>.list-group-item.active{margin-top:0}.list-group-horizontal-xl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}@media (min-width:1400px){.list-group-horizontal-xxl{flex-direction:row}.list-group-horizontal-xxl>.list-group-item:first-child:not(:last-child){border-bottom-left-radius:var(--bs-list-group-border-radius);border-top-right-radius:0}.list-group-horizontal-xxl>.list-group-item:last-child:not(:first-child){border-top-right-radius:var(--bs-list-group-border-radius);border-bottom-left-radius:0}.list-group-horizontal-xxl>.list-group-item.active{margin-top:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item{border-top-width:var(--bs-list-group-border-width);border-left-width:0}.list-group-horizontal-xxl>.list-group-item+.list-group-item.active{margin-left:calc(-1 * var(--bs-list-group-border-width));border-left-width:var(--bs-list-group-border-width)}}.list-group-flush{border-radius:0}.list-group-flush>.list-group-item{border-width:0 0 var(--bs-list-group-border-width)}.list-group-flush>.list-group-item:last-child{border-bottom-width:0}.list-group-item-primary{--bs-list-group-color:var(--bs-primary-text-emphasis);--bs-list-group-bg:var(--bs-primary-bg-subtle);--bs-list-group-border-color:var(--bs-primary-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-primary-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-primary-border-subtle);--bs-list-group-active-color:var(--bs-primary-bg-subtle);--bs-list-group-active-bg:var(--bs-primary-text-emphasis);--bs-list-group-active-border-color:var(--bs-primary-text-emphasis)}.list-group-item-secondary{--bs-list-group-color:var(--bs-secondary-text-emphasis);--bs-list-group-bg:var(--bs-secondary-bg-subtle);--bs-list-group-border-color:var(--bs-secondary-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-secondary-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-secondary-border-subtle);--bs-list-group-active-color:var(--bs-secondary-bg-subtle);--bs-list-group-active-bg:var(--bs-secondary-text-emphasis);--bs-list-group-active-border-color:var(--bs-secondary-text-emphasis)}.list-group-item-success{--bs-list-group-color:var(--bs-success-text-emphasis);--bs-list-group-bg:var(--bs-success-bg-subtle);--bs-list-group-border-color:var(--bs-success-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-success-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-success-border-subtle);--bs-list-group-active-color:var(--bs-success-bg-subtle);--bs-list-group-active-bg:var(--bs-success-text-emphasis);--bs-list-group-active-border-color:var(--bs-success-text-emphasis)}.list-group-item-info{--bs-list-group-color:var(--bs-info-text-emphasis);--bs-list-group-bg:var(--bs-info-bg-subtle);--bs-list-group-border-color:var(--bs-info-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-info-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-info-border-subtle);--bs-list-group-active-color:var(--bs-info-bg-subtle);--bs-list-group-active-bg:var(--bs-info-text-emphasis);--bs-list-group-active-border-color:var(--bs-info-text-emphasis)}.list-group-item-warning{--bs-list-group-color:var(--bs-warning-text-emphasis);--bs-list-group-bg:var(--bs-warning-bg-subtle);--bs-list-group-border-color:var(--bs-warning-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-warning-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-warning-border-subtle);--bs-list-group-active-color:var(--bs-warning-bg-subtle);--bs-list-group-active-bg:var(--bs-warning-text-emphasis);--bs-list-group-active-border-color:var(--bs-warning-text-emphasis)}.list-group-item-danger{--bs-list-group-color:var(--bs-danger-text-emphasis);--bs-list-group-bg:var(--bs-danger-bg-subtle);--bs-list-group-border-color:var(--bs-danger-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-danger-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-danger-border-subtle);--bs-list-group-active-color:var(--bs-danger-bg-subtle);--bs-list-group-active-bg:var(--bs-danger-text-emphasis);--bs-list-group-active-border-color:var(--bs-danger-text-emphasis)}.list-group-item-light{--bs-list-group-color:var(--bs-light-text-emphasis);--bs-list-group-bg:var(--bs-light-bg-subtle);--bs-list-group-border-color:var(--bs-light-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-light-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-light-border-subtle);--bs-list-group-active-color:var(--bs-light-bg-subtle);--bs-list-group-active-bg:var(--bs-light-text-emphasis);--bs-list-group-active-border-color:var(--bs-light-text-emphasis)}.list-group-item-dark{--bs-list-group-color:var(--bs-dark-text-emphasis);--bs-list-group-bg:var(--bs-dark-bg-subtle);--bs-list-group-border-color:var(--bs-dark-border-subtle);--bs-list-group-action-hover-color:var(--bs-emphasis-color);--bs-list-group-action-hover-bg:var(--bs-dark-border-subtle);--bs-list-group-action-active-color:var(--bs-emphasis-color);--bs-list-group-action-active-bg:var(--bs-dark-border-subtle);--bs-list-group-active-color:var(--bs-dark-bg-subtle);--bs-list-group-active-bg:var(--bs-dark-text-emphasis);--bs-list-group-active-border-color:var(--bs-dark-text-emphasis)}.btn-close{--bs-btn-close-color:#000;--bs-btn-close-bg:url(${W});--bs-btn-close-opacity:0.5;--bs-btn-close-hover-opacity:0.75;--bs-btn-close-focus-shadow:0 0 0 0.25rem rgba(13, 110, 253, 0.25);--bs-btn-close-focus-opacity:1;--bs-btn-close-disabled-opacity:0.25;--bs-btn-close-white-filter:invert(1) grayscale(100%) brightness(200%);box-sizing:content-box;width:1em;height:1em;padding:.25em .25em;color:var(--bs-btn-close-color);background:transparent var(--bs-btn-close-bg) center/1em auto no-repeat;border:0;border-radius:.375rem;opacity:var(--bs-btn-close-opacity)}.btn-close:hover{color:var(--bs-btn-close-color);text-decoration:none;opacity:var(--bs-btn-close-hover-opacity)}.btn-close:focus{outline:0;box-shadow:var(--bs-btn-close-focus-shadow);opacity:var(--bs-btn-close-focus-opacity)}.btn-close.disabled,.btn-close:disabled{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:var(--bs-btn-close-disabled-opacity)}.btn-close-white{filter:var(--bs-btn-close-white-filter)}[data-bs-theme=dark] .btn-close{filter:var(--bs-btn-close-white-filter)}.toast{--bs-toast-zindex:1090;--bs-toast-padding-x:0.75rem;--bs-toast-padding-y:0.5rem;--bs-toast-spacing:1.5rem;--bs-toast-max-width:350px;--bs-toast-font-size:0.875rem;--bs-toast-color: ;--bs-toast-bg:rgba(var(--bs-body-bg-rgb), 0.85);--bs-toast-border-width:var(--bs-border-width);--bs-toast-border-color:var(--bs-border-color-translucent);--bs-toast-border-radius:var(--bs-border-radius);--bs-toast-box-shadow:var(--bs-box-shadow);--bs-toast-header-color:var(--bs-secondary-color);--bs-toast-header-bg:rgba(var(--bs-body-bg-rgb), 0.85);--bs-toast-header-border-color:var(--bs-border-color-translucent);width:var(--bs-toast-max-width);max-width:100%;font-size:var(--bs-toast-font-size);color:var(--bs-toast-color);pointer-events:auto;background-color:var(--bs-toast-bg);background-clip:padding-box;border:var(--bs-toast-border-width) solid var(--bs-toast-border-color);box-shadow:var(--bs-toast-box-shadow);border-radius:var(--bs-toast-border-radius)}.toast.showing{opacity:0}.toast:not(.show){display:none}.toast-container{--bs-toast-zindex:1090;position:absolute;z-index:var(--bs-toast-zindex);width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container>:not(:last-child){margin-bottom:var(--bs-toast-spacing)}.toast-header{display:flex;align-items:center;padding:var(--bs-toast-padding-y) var(--bs-toast-padding-x);color:var(--bs-toast-header-color);background-color:var(--bs-toast-header-bg);background-clip:padding-box;border-bottom:var(--bs-toast-border-width) solid var(--bs-toast-header-border-color);border-top-left-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width));border-top-right-radius:calc(var(--bs-toast-border-radius) - var(--bs-toast-border-width))}.toast-header .btn-close{margin-right:calc(-.5 * var(--bs-toast-padding-x));margin-left:var(--bs-toast-padding-x)}.toast-body{padding:var(--bs-toast-padding-x);word-wrap:break-word}.modal{--bs-modal-zindex:1055;--bs-modal-width:500px;--bs-modal-padding:1rem;--bs-modal-margin:0.5rem;--bs-modal-color: ;--bs-modal-bg:var(--bs-body-bg);--bs-modal-border-color:var(--bs-border-color-translucent);--bs-modal-border-width:var(--bs-border-width);--bs-modal-border-radius:var(--bs-border-radius-lg);--bs-modal-box-shadow:var(--bs-box-shadow-sm);--bs-modal-inner-border-radius:calc(var(--bs-border-radius-lg) - (var(--bs-border-width)));--bs-modal-header-padding-x:1rem;--bs-modal-header-padding-y:1rem;--bs-modal-header-padding:1rem 1rem;--bs-modal-header-border-color:var(--bs-border-color);--bs-modal-header-border-width:var(--bs-border-width);--bs-modal-title-line-height:1.5;--bs-modal-footer-gap:0.5rem;--bs-modal-footer-bg: ;--bs-modal-footer-border-color:var(--bs-border-color);--bs-modal-footer-border-width:var(--bs-border-width);position:fixed;top:0;left:0;z-index:var(--bs-modal-zindex);display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog{position:relative;width:auto;margin:var(--bs-modal-margin);pointer-events:none}.modal.fade .modal-dialog{transition:transform .3s ease-out;transform:translate(0,-50px)}@media (prefers-reduced-motion:reduce){.modal.fade .modal-dialog{transition:none}}.modal.show .modal-dialog{transform:none}.modal.modal-static .modal-dialog{transform:scale(1.02)}.modal-dialog-scrollable{height:calc(100% - var(--bs-modal-margin) * 2)}.modal-dialog-scrollable .modal-content{max-height:100%;overflow:hidden}.modal-dialog-scrollable .modal-body{overflow-y:auto}.modal-dialog-centered{display:flex;align-items:center;min-height:calc(100% - var(--bs-modal-margin) * 2)}.modal-content{position:relative;display:flex;flex-direction:column;width:100%;color:var(--bs-modal-color);pointer-events:auto;background-color:var(--bs-modal-bg);background-clip:padding-box;border:var(--bs-modal-border-width) solid var(--bs-modal-border-color);border-radius:var(--bs-modal-border-radius);outline:0}.modal-backdrop{--bs-backdrop-zindex:1050;--bs-backdrop-bg:#000;--bs-backdrop-opacity:0.5;position:fixed;top:0;left:0;z-index:var(--bs-backdrop-zindex);width:100vw;height:100vh;background-color:var(--bs-backdrop-bg)}.modal-backdrop.fade{opacity:0}.modal-backdrop.show{opacity:var(--bs-backdrop-opacity)}.modal-header{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:var(--bs-modal-header-padding);border-bottom:var(--bs-modal-header-border-width) solid var(--bs-modal-header-border-color);border-top-left-radius:var(--bs-modal-inner-border-radius);border-top-right-radius:var(--bs-modal-inner-border-radius)}.modal-header .btn-close{padding:calc(var(--bs-modal-header-padding-y) * .5) calc(var(--bs-modal-header-padding-x) * .5);margin:calc(-.5 * var(--bs-modal-header-padding-y)) calc(-.5 * var(--bs-modal-header-padding-x)) calc(-.5 * var(--bs-modal-header-padding-y)) auto}.modal-title{margin-bottom:0;line-height:var(--bs-modal-title-line-height)}.modal-body{position:relative;flex:1 1 auto;padding:var(--bs-modal-padding)}.modal-footer{display:flex;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:calc(var(--bs-modal-padding) - var(--bs-modal-footer-gap) * .5);background-color:var(--bs-modal-footer-bg);border-top:var(--bs-modal-footer-border-width) solid var(--bs-modal-footer-border-color);border-bottom-right-radius:var(--bs-modal-inner-border-radius);border-bottom-left-radius:var(--bs-modal-inner-border-radius)}.modal-footer>*{margin:calc(var(--bs-modal-footer-gap) * .5)}@media (min-width:576px){.modal{--bs-modal-margin:1.75rem;--bs-modal-box-shadow:var(--bs-box-shadow)}.modal-dialog{max-width:var(--bs-modal-width);margin-right:auto;margin-left:auto}.modal-sm{--bs-modal-width:300px}}@media (min-width:992px){.modal-lg,.modal-xl{--bs-modal-width:800px}}@media (min-width:1200px){.modal-xl{--bs-modal-width:1140px}}.modal-fullscreen{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen .modal-footer,.modal-fullscreen .modal-header{border-radius:0}.modal-fullscreen .modal-body{overflow-y:auto}@media (max-width:575.98px){.modal-fullscreen-sm-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down .modal-footer,.modal-fullscreen-sm-down .modal-header{border-radius:0}.modal-fullscreen-sm-down .modal-body{overflow-y:auto}}@media (max-width:767.98px){.modal-fullscreen-md-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down .modal-footer,.modal-fullscreen-md-down .modal-header{border-radius:0}.modal-fullscreen-md-down .modal-body{overflow-y:auto}}@media (max-width:991.98px){.modal-fullscreen-lg-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down .modal-footer,.modal-fullscreen-lg-down .modal-header{border-radius:0}.modal-fullscreen-lg-down .modal-body{overflow-y:auto}}@media (max-width:1199.98px){.modal-fullscreen-xl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down .modal-footer,.modal-fullscreen-xl-down .modal-header{border-radius:0}.modal-fullscreen-xl-down .modal-body{overflow-y:auto}}@media (max-width:1399.98px){.modal-fullscreen-xxl-down{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down .modal-content{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down .modal-footer,.modal-fullscreen-xxl-down .modal-header{border-radius:0}.modal-fullscreen-xxl-down .modal-body{overflow-y:auto}}.tooltip{--bs-tooltip-zindex:1080;--bs-tooltip-max-width:200px;--bs-tooltip-padding-x:0.5rem;--bs-tooltip-padding-y:0.25rem;--bs-tooltip-margin: ;--bs-tooltip-font-size:0.875rem;--bs-tooltip-color:var(--bs-body-bg);--bs-tooltip-bg:var(--bs-emphasis-color);--bs-tooltip-border-radius:var(--bs-border-radius);--bs-tooltip-opacity:0.9;--bs-tooltip-arrow-width:0.8rem;--bs-tooltip-arrow-height:0.4rem;z-index:var(--bs-tooltip-zindex);display:block;margin:var(--bs-tooltip-margin);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-tooltip-font-size);word-wrap:break-word;opacity:0}.tooltip.show{opacity:var(--bs-tooltip-opacity)}.tooltip .tooltip-arrow{display:block;width:var(--bs-tooltip-arrow-width);height:var(--bs-tooltip-arrow-height)}.tooltip .tooltip-arrow::before{position:absolute;content:"";border-color:transparent;border-style:solid}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow,.bs-tooltip-top .tooltip-arrow{bottom:calc(-1 * var(--bs-tooltip-arrow-height))}.bs-tooltip-auto[data-popper-placement^=top] .tooltip-arrow::before,.bs-tooltip-top .tooltip-arrow::before{top:-1px;border-width:var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-top-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow,.bs-tooltip-end .tooltip-arrow{left:calc(-1 * var(--bs-tooltip-arrow-height));width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=right] .tooltip-arrow::before,.bs-tooltip-end .tooltip-arrow::before{right:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height) calc(var(--bs-tooltip-arrow-width) * .5) 0;border-right-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow,.bs-tooltip-bottom .tooltip-arrow{top:calc(-1 * var(--bs-tooltip-arrow-height))}.bs-tooltip-auto[data-popper-placement^=bottom] .tooltip-arrow::before,.bs-tooltip-bottom .tooltip-arrow::before{bottom:-1px;border-width:0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-bottom-color:var(--bs-tooltip-bg)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow,.bs-tooltip-start .tooltip-arrow{right:calc(-1 * var(--bs-tooltip-arrow-height));width:var(--bs-tooltip-arrow-height);height:var(--bs-tooltip-arrow-width)}.bs-tooltip-auto[data-popper-placement^=left] .tooltip-arrow::before,.bs-tooltip-start .tooltip-arrow::before{left:-1px;border-width:calc(var(--bs-tooltip-arrow-width) * .5) 0 calc(var(--bs-tooltip-arrow-width) * .5) var(--bs-tooltip-arrow-height);border-left-color:var(--bs-tooltip-bg)}.tooltip-inner{max-width:var(--bs-tooltip-max-width);padding:var(--bs-tooltip-padding-y) var(--bs-tooltip-padding-x);color:var(--bs-tooltip-color);text-align:center;background-color:var(--bs-tooltip-bg);border-radius:var(--bs-tooltip-border-radius)}.popover{--bs-popover-zindex:1070;--bs-popover-max-width:276px;--bs-popover-font-size:0.875rem;--bs-popover-bg:var(--bs-body-bg);--bs-popover-border-width:var(--bs-border-width);--bs-popover-border-color:var(--bs-border-color-translucent);--bs-popover-border-radius:var(--bs-border-radius-lg);--bs-popover-inner-border-radius:calc(var(--bs-border-radius-lg) - var(--bs-border-width));--bs-popover-box-shadow:var(--bs-box-shadow);--bs-popover-header-padding-x:1rem;--bs-popover-header-padding-y:0.5rem;--bs-popover-header-font-size:1rem;--bs-popover-header-color:inherit;--bs-popover-header-bg:var(--bs-secondary-bg);--bs-popover-body-padding-x:1rem;--bs-popover-body-padding-y:1rem;--bs-popover-body-color:var(--bs-body-color);--bs-popover-arrow-width:1rem;--bs-popover-arrow-height:0.5rem;--bs-popover-arrow-border:var(--bs-popover-border-color);z-index:var(--bs-popover-zindex);display:block;max-width:var(--bs-popover-max-width);font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;white-space:normal;word-spacing:normal;line-break:auto;font-size:var(--bs-popover-font-size);word-wrap:break-word;background-color:var(--bs-popover-bg);background-clip:padding-box;border:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-radius:var(--bs-popover-border-radius)}.popover .popover-arrow{display:block;width:var(--bs-popover-arrow-width);height:var(--bs-popover-arrow-height)}.popover .popover-arrow::after,.popover .popover-arrow::before{position:absolute;display:block;content:"";border-color:transparent;border-style:solid;border-width:0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow,.bs-popover-top>.popover-arrow{bottom:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::after,.bs-popover-top>.popover-arrow::before{border-width:var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::before,.bs-popover-top>.popover-arrow::before{bottom:0;border-top-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=top]>.popover-arrow::after,.bs-popover-top>.popover-arrow::after{bottom:var(--bs-popover-border-width);border-top-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow,.bs-popover-end>.popover-arrow{left:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::after,.bs-popover-end>.popover-arrow::before{border-width:calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height) calc(var(--bs-popover-arrow-width) * .5) 0}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::before,.bs-popover-end>.popover-arrow::before{left:0;border-right-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=right]>.popover-arrow::after,.bs-popover-end>.popover-arrow::after{left:var(--bs-popover-border-width);border-right-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow,.bs-popover-bottom>.popover-arrow{top:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width))}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::before{border-width:0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::before,.bs-popover-bottom>.popover-arrow::before{top:0;border-bottom-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=bottom]>.popover-arrow::after,.bs-popover-bottom>.popover-arrow::after{top:var(--bs-popover-border-width);border-bottom-color:var(--bs-popover-bg)}.bs-popover-auto[data-popper-placement^=bottom] .popover-header::before,.bs-popover-bottom .popover-header::before{position:absolute;top:0;left:50%;display:block;width:var(--bs-popover-arrow-width);margin-left:calc(-.5 * var(--bs-popover-arrow-width));content:"";border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-header-bg)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow,.bs-popover-start>.popover-arrow{right:calc(-1 * (var(--bs-popover-arrow-height)) - var(--bs-popover-border-width));width:var(--bs-popover-arrow-height);height:var(--bs-popover-arrow-width)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::after,.bs-popover-start>.popover-arrow::before{border-width:calc(var(--bs-popover-arrow-width) * .5) 0 calc(var(--bs-popover-arrow-width) * .5) var(--bs-popover-arrow-height)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::before,.bs-popover-start>.popover-arrow::before{right:0;border-left-color:var(--bs-popover-arrow-border)}.bs-popover-auto[data-popper-placement^=left]>.popover-arrow::after,.bs-popover-start>.popover-arrow::after{right:var(--bs-popover-border-width);border-left-color:var(--bs-popover-bg)}.popover-header{padding:var(--bs-popover-header-padding-y) var(--bs-popover-header-padding-x);margin-bottom:0;font-size:var(--bs-popover-header-font-size);color:var(--bs-popover-header-color);background-color:var(--bs-popover-header-bg);border-bottom:var(--bs-popover-border-width) solid var(--bs-popover-border-color);border-top-left-radius:var(--bs-popover-inner-border-radius);border-top-right-radius:var(--bs-popover-inner-border-radius)}.popover-header:empty{display:none}.popover-body{padding:var(--bs-popover-body-padding-y) var(--bs-popover-body-padding-x);color:var(--bs-popover-body-color)}.carousel{position:relative}.carousel.pointer-event{touch-action:pan-y}.carousel-inner{position:relative;width:100%;overflow:hidden}.carousel-inner::after{display:block;clear:both;content:""}.carousel-item{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion:reduce){.carousel-item{transition:none}}.carousel-item-next,.carousel-item-prev,.carousel-item.active{display:block}.active.carousel-item-end,.carousel-item-next:not(.carousel-item-start){transform:translateX(100%)}.active.carousel-item-start,.carousel-item-prev:not(.carousel-item-end){transform:translateX(-100%)}.carousel-fade .carousel-item{opacity:0;transition-property:opacity;transform:none}.carousel-fade .carousel-item-next.carousel-item-start,.carousel-fade .carousel-item-prev.carousel-item-end,.carousel-fade .carousel-item.active{z-index:1;opacity:1}.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion:reduce){.carousel-fade .active.carousel-item-end,.carousel-fade .active.carousel-item-start{transition:none}}.carousel-control-next,.carousel-control-prev{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:0 0;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion:reduce){.carousel-control-next,.carousel-control-prev{transition:none}}.carousel-control-next:focus,.carousel-control-next:hover,.carousel-control-prev:focus,.carousel-control-prev:hover{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev{left:0}.carousel-control-next{right:0}.carousel-control-next-icon,.carousel-control-prev-icon{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon{background-image:url(${H})}.carousel-control-next-icon{background-image:url(${q})}.carousel-indicators{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%}.carousel-indicators [data-bs-target]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion:reduce){.carousel-indicators [data-bs-target]{transition:none}}.carousel-indicators .active{opacity:1}.carousel-caption{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark .carousel-control-next-icon,.carousel-dark .carousel-control-prev-icon{filter:invert(1) grayscale(100)}.carousel-dark .carousel-indicators [data-bs-target]{background-color:#000}.carousel-dark .carousel-caption{color:#000}[data-bs-theme=dark] .carousel .carousel-control-next-icon,[data-bs-theme=dark] .carousel .carousel-control-prev-icon,[data-bs-theme=dark].carousel .carousel-control-next-icon,[data-bs-theme=dark].carousel .carousel-control-prev-icon{filter:invert(1) grayscale(100)}[data-bs-theme=dark] .carousel .carousel-indicators [data-bs-target],[data-bs-theme=dark].carousel .carousel-indicators [data-bs-target]{background-color:#000}[data-bs-theme=dark] .carousel .carousel-caption,[data-bs-theme=dark].carousel .carousel-caption{color:#000}.spinner-border,.spinner-grow{display:inline-block;width:var(--bs-spinner-width);height:var(--bs-spinner-height);vertical-align:var(--bs-spinner-vertical-align);border-radius:50%;animation:var(--bs-spinner-animation-speed) linear infinite var(--bs-spinner-animation-name)}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-0.125em;--bs-spinner-border-width:0.25em;--bs-spinner-animation-speed:0.75s;--bs-spinner-animation-name:spinner-border;border:var(--bs-spinner-border-width) solid currentcolor;border-right-color:transparent}.spinner-border-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem;--bs-spinner-border-width:0.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow{--bs-spinner-width:2rem;--bs-spinner-height:2rem;--bs-spinner-vertical-align:-0.125em;--bs-spinner-animation-speed:0.75s;--bs-spinner-animation-name:spinner-grow;background-color:currentcolor;opacity:0}.spinner-grow-sm{--bs-spinner-width:1rem;--bs-spinner-height:1rem}@media (prefers-reduced-motion:reduce){.spinner-border,.spinner-grow{--bs-spinner-animation-speed:1.5s}}.offcanvas,.offcanvas-lg,.offcanvas-md,.offcanvas-sm,.offcanvas-xl,.offcanvas-xxl{--bs-offcanvas-zindex:1045;--bs-offcanvas-width:400px;--bs-offcanvas-height:30vh;--bs-offcanvas-padding-x:1rem;--bs-offcanvas-padding-y:1rem;--bs-offcanvas-color:var(--bs-body-color);--bs-offcanvas-bg:var(--bs-body-bg);--bs-offcanvas-border-width:var(--bs-border-width);--bs-offcanvas-border-color:var(--bs-border-color-translucent);--bs-offcanvas-box-shadow:var(--bs-box-shadow-sm);--bs-offcanvas-transition:transform 0.3s ease-in-out;--bs-offcanvas-title-line-height:1.5}@media (max-width:575.98px){.offcanvas-sm{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:575.98px) and (prefers-reduced-motion:reduce){.offcanvas-sm{transition:none}}@media (max-width:575.98px){.offcanvas-sm.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-sm.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-sm.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-sm.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-sm.show:not(.hiding),.offcanvas-sm.showing{transform:none}.offcanvas-sm.hiding,.offcanvas-sm.show,.offcanvas-sm.showing{visibility:visible}}@media (min-width:576px){.offcanvas-sm{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-sm .offcanvas-header{display:none}.offcanvas-sm .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:767.98px){.offcanvas-md{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:767.98px) and (prefers-reduced-motion:reduce){.offcanvas-md{transition:none}}@media (max-width:767.98px){.offcanvas-md.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-md.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-md.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-md.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-md.show:not(.hiding),.offcanvas-md.showing{transform:none}.offcanvas-md.hiding,.offcanvas-md.show,.offcanvas-md.showing{visibility:visible}}@media (min-width:768px){.offcanvas-md{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-md .offcanvas-header{display:none}.offcanvas-md .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:991.98px){.offcanvas-lg{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:991.98px) and (prefers-reduced-motion:reduce){.offcanvas-lg{transition:none}}@media (max-width:991.98px){.offcanvas-lg.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-lg.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-lg.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-lg.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-lg.show:not(.hiding),.offcanvas-lg.showing{transform:none}.offcanvas-lg.hiding,.offcanvas-lg.show,.offcanvas-lg.showing{visibility:visible}}@media (min-width:992px){.offcanvas-lg{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-lg .offcanvas-header{display:none}.offcanvas-lg .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1199.98px){.offcanvas-xl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:1199.98px) and (prefers-reduced-motion:reduce){.offcanvas-xl{transition:none}}@media (max-width:1199.98px){.offcanvas-xl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-xl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-xl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-xl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-xl.show:not(.hiding),.offcanvas-xl.showing{transform:none}.offcanvas-xl.hiding,.offcanvas-xl.show,.offcanvas-xl.showing{visibility:visible}}@media (min-width:1200px){.offcanvas-xl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xl .offcanvas-header{display:none}.offcanvas-xl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}@media (max-width:1399.98px){.offcanvas-xxl{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}}@media (max-width:1399.98px) and (prefers-reduced-motion:reduce){.offcanvas-xxl{transition:none}}@media (max-width:1399.98px){.offcanvas-xxl.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas-xxl.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas-xxl.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas-xxl.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas-xxl.show:not(.hiding),.offcanvas-xxl.showing{transform:none}.offcanvas-xxl.hiding,.offcanvas-xxl.show,.offcanvas-xxl.showing{visibility:visible}}@media (min-width:1400px){.offcanvas-xxl{--bs-offcanvas-height:auto;--bs-offcanvas-border-width:0;background-color:transparent!important}.offcanvas-xxl .offcanvas-header{display:none}.offcanvas-xxl .offcanvas-body{display:flex;flex-grow:0;padding:0;overflow-y:visible;background-color:transparent!important}}.offcanvas{position:fixed;bottom:0;z-index:var(--bs-offcanvas-zindex);display:flex;flex-direction:column;max-width:100%;color:var(--bs-offcanvas-color);visibility:hidden;background-color:var(--bs-offcanvas-bg);background-clip:padding-box;outline:0;transition:var(--bs-offcanvas-transition)}@media (prefers-reduced-motion:reduce){.offcanvas{transition:none}}.offcanvas.offcanvas-start{top:0;left:0;width:var(--bs-offcanvas-width);border-right:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(-100%)}.offcanvas.offcanvas-end{top:0;right:0;width:var(--bs-offcanvas-width);border-left:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateX(100%)}.offcanvas.offcanvas-top{top:0;right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-bottom:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(-100%)}.offcanvas.offcanvas-bottom{right:0;left:0;height:var(--bs-offcanvas-height);max-height:100%;border-top:var(--bs-offcanvas-border-width) solid var(--bs-offcanvas-border-color);transform:translateY(100%)}.offcanvas.show:not(.hiding),.offcanvas.showing{transform:none}.offcanvas.hiding,.offcanvas.show,.offcanvas.showing{visibility:visible}.offcanvas-backdrop{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade{opacity:0}.offcanvas-backdrop.show{opacity:.5}.offcanvas-header{display:flex;align-items:center;justify-content:space-between;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x)}.offcanvas-header .btn-close{padding:calc(var(--bs-offcanvas-padding-y) * .5) calc(var(--bs-offcanvas-padding-x) * .5);margin-top:calc(-.5 * var(--bs-offcanvas-padding-y));margin-right:calc(-.5 * var(--bs-offcanvas-padding-x));margin-bottom:calc(-.5 * var(--bs-offcanvas-padding-y))}.offcanvas-title{margin-bottom:0;line-height:var(--bs-offcanvas-title-line-height)}.offcanvas-body{flex-grow:1;padding:var(--bs-offcanvas-padding-y) var(--bs-offcanvas-padding-x);overflow-y:auto}.placeholder{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentcolor;opacity:.5}.placeholder.btn::before{display:inline-block;content:""}.placeholder-xs{min-height:.6em}.placeholder-sm{min-height:.8em}.placeholder-lg{min-height:1.2em}.placeholder-glow .placeholder{animation:placeholder-glow 2s ease-in-out infinite}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,0.8) 75%,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;animation:placeholder-wave 2s linear infinite}@keyframes placeholder-wave{100%{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix::after{display:block;clear:both;content:""}.text-bg-primary{color:#fff!important;background-color:RGBA(var(--bs-primary-rgb),var(--bs-bg-opacity,1))!important}.text-bg-secondary{color:#fff!important;background-color:RGBA(var(--bs-secondary-rgb),var(--bs-bg-opacity,1))!important}.text-bg-success{color:#fff!important;background-color:RGBA(var(--bs-success-rgb),var(--bs-bg-opacity,1))!important}.text-bg-info{color:#000!important;background-color:RGBA(var(--bs-info-rgb),var(--bs-bg-opacity,1))!important}.text-bg-warning{color:#000!important;background-color:RGBA(var(--bs-warning-rgb),var(--bs-bg-opacity,1))!important}.text-bg-danger{color:#fff!important;background-color:RGBA(var(--bs-danger-rgb),var(--bs-bg-opacity,1))!important}.text-bg-light{color:#000!important;background-color:RGBA(var(--bs-light-rgb),var(--bs-bg-opacity,1))!important}.text-bg-dark{color:#fff!important;background-color:RGBA(var(--bs-dark-rgb),var(--bs-bg-opacity,1))!important}.link-primary{color:RGBA(var(--bs-primary-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-primary-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-primary-rgb),var(--bs-link-underline-opacity,1))!important}.link-primary:focus,.link-primary:hover{color:RGBA(10,88,202,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(10,88,202,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(10,88,202,var(--bs-link-underline-opacity,1))!important}.link-secondary{color:RGBA(var(--bs-secondary-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-secondary-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-secondary-rgb),var(--bs-link-underline-opacity,1))!important}.link-secondary:focus,.link-secondary:hover{color:RGBA(86,94,100,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(86,94,100,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(86,94,100,var(--bs-link-underline-opacity,1))!important}.link-success{color:RGBA(var(--bs-success-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-success-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-success-rgb),var(--bs-link-underline-opacity,1))!important}.link-success:focus,.link-success:hover{color:RGBA(20,108,67,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(20,108,67,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(20,108,67,var(--bs-link-underline-opacity,1))!important}.link-info{color:RGBA(var(--bs-info-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-info-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-info-rgb),var(--bs-link-underline-opacity,1))!important}.link-info:focus,.link-info:hover{color:RGBA(61,213,243,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(61,213,243,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(61,213,243,var(--bs-link-underline-opacity,1))!important}.link-warning{color:RGBA(var(--bs-warning-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-warning-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-warning-rgb),var(--bs-link-underline-opacity,1))!important}.link-warning:focus,.link-warning:hover{color:RGBA(255,205,57,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(255,205,57,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(255,205,57,var(--bs-link-underline-opacity,1))!important}.link-danger{color:RGBA(var(--bs-danger-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-danger-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-danger-rgb),var(--bs-link-underline-opacity,1))!important}.link-danger:focus,.link-danger:hover{color:RGBA(176,42,55,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(176,42,55,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(176,42,55,var(--bs-link-underline-opacity,1))!important}.link-light{color:RGBA(var(--bs-light-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-light-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-light-rgb),var(--bs-link-underline-opacity,1))!important}.link-light:focus,.link-light:hover{color:RGBA(249,250,251,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(249,250,251,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(249,250,251,var(--bs-link-underline-opacity,1))!important}.link-dark{color:RGBA(var(--bs-dark-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-dark-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-dark-rgb),var(--bs-link-underline-opacity,1))!important}.link-dark:focus,.link-dark:hover{color:RGBA(26,30,33,var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(26,30,33,var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(26,30,33,var(--bs-link-underline-opacity,1))!important}.link-body-emphasis{color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-opacity,1))!important;-webkit-text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,1))!important}.link-body-emphasis:focus,.link-body-emphasis:hover{color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-opacity,.75))!important;-webkit-text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,0.75))!important;text-decoration-color:RGBA(var(--bs-emphasis-color-rgb),var(--bs-link-underline-opacity,0.75))!important}.focus-ring:focus{outline:0;box-shadow:var(--bs-focus-ring-x,0) var(--bs-focus-ring-y,0) var(--bs-focus-ring-blur,0) var(--bs-focus-ring-width) var(--bs-focus-ring-color)}.icon-link{display:inline-flex;gap:.375rem;align-items:center;-webkit-text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,0.5));text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity,0.5));text-underline-offset:0.25em;-webkit-backface-visibility:hidden;backface-visibility:hidden}.icon-link>.bi{flex-shrink:0;width:1em;height:1em;fill:currentcolor;transition:.2s ease-in-out transform}@media (prefers-reduced-motion:reduce){.icon-link>.bi{transition:none}}.icon-link-hover:focus-visible>.bi,.icon-link-hover:hover>.bi{transform:var(--bs-icon-link-transform,translate3d(.25em,0,0))}.ratio{position:relative;width:100%}.ratio::before{display:block;padding-top:var(--bs-aspect-ratio);content:""}.ratio>*{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1{--bs-aspect-ratio:100%}.ratio-4x3{--bs-aspect-ratio:75%}.ratio-16x9{--bs-aspect-ratio:56.25%}.ratio-21x9{--bs-aspect-ratio:42.8571428571%}.fixed-top{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}@media (min-width:576px){.sticky-sm-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-sm-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:768px){.sticky-md-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-md-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:992px){.sticky-lg-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-lg-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1200px){.sticky-xl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}@media (min-width:1400px){.sticky-xxl-top{position:-webkit-sticky;position:sticky;top:0;z-index:1020}.sticky-xxl-bottom{position:-webkit-sticky;position:sticky;bottom:0;z-index:1020}}.hstack{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden,.visually-hidden-focusable:not(:focus):not(:focus-within){width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.visually-hidden-focusable:not(:focus):not(:focus-within):not(caption),.visually-hidden:not(caption){position:absolute!important}.stretched-link::after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:""}.text-truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr{display:inline-block;align-self:stretch;width:var(--bs-border-width);min-height:1em;background-color:currentcolor;opacity:.25}.align-baseline{vertical-align:baseline!important}.align-top{vertical-align:top!important}.align-middle{vertical-align:middle!important}.align-bottom{vertical-align:bottom!important}.align-text-bottom{vertical-align:text-bottom!important}.align-text-top{vertical-align:text-top!important}.float-start{float:left!important}.float-end{float:right!important}.float-none{float:none!important}.object-fit-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-none{-o-object-fit:none!important;object-fit:none!important}.opacity-0{opacity:0!important}.opacity-25{opacity:.25!important}.opacity-50{opacity:.5!important}.opacity-75{opacity:.75!important}.opacity-100{opacity:1!important}.overflow-auto{overflow:auto!important}.overflow-hidden{overflow:hidden!important}.overflow-visible{overflow:visible!important}.overflow-scroll{overflow:scroll!important}.overflow-x-auto{overflow-x:auto!important}.overflow-x-hidden{overflow-x:hidden!important}.overflow-x-visible{overflow-x:visible!important}.overflow-x-scroll{overflow-x:scroll!important}.overflow-y-auto{overflow-y:auto!important}.overflow-y-hidden{overflow-y:hidden!important}.overflow-y-visible{overflow-y:visible!important}.overflow-y-scroll{overflow-y:scroll!important}.d-inline{display:inline!important}.d-inline-block{display:inline-block!important}.d-block{display:block!important}.d-grid{display:grid!important}.d-inline-grid{display:inline-grid!important}.d-table{display:table!important}.d-table-row{display:table-row!important}.d-table-cell{display:table-cell!important}.d-flex{display:flex!important}.d-inline-flex{display:inline-flex!important}.d-none{display:none!important}.shadow{box-shadow:var(--bs-box-shadow)!important}.shadow-sm{box-shadow:var(--bs-box-shadow-sm)!important}.shadow-lg{box-shadow:var(--bs-box-shadow-lg)!important}.shadow-none{box-shadow:none!important}.focus-ring-primary{--bs-focus-ring-color:rgba(var(--bs-primary-rgb), var(--bs-focus-ring-opacity))}.focus-ring-secondary{--bs-focus-ring-color:rgba(var(--bs-secondary-rgb), var(--bs-focus-ring-opacity))}.focus-ring-success{--bs-focus-ring-color:rgba(var(--bs-success-rgb), var(--bs-focus-ring-opacity))}.focus-ring-info{--bs-focus-ring-color:rgba(var(--bs-info-rgb), var(--bs-focus-ring-opacity))}.focus-ring-warning{--bs-focus-ring-color:rgba(var(--bs-warning-rgb), var(--bs-focus-ring-opacity))}.focus-ring-danger{--bs-focus-ring-color:rgba(var(--bs-danger-rgb), var(--bs-focus-ring-opacity))}.focus-ring-light{--bs-focus-ring-color:rgba(var(--bs-light-rgb), var(--bs-focus-ring-opacity))}.focus-ring-dark{--bs-focus-ring-color:rgba(var(--bs-dark-rgb), var(--bs-focus-ring-opacity))}.position-static{position:static!important}.position-relative{position:relative!important}.position-absolute{position:absolute!important}.position-fixed{position:fixed!important}.position-sticky{position:-webkit-sticky!important;position:sticky!important}.top-0{top:0!important}.top-50{top:50%!important}.top-100{top:100%!important}.bottom-0{bottom:0!important}.bottom-50{bottom:50%!important}.bottom-100{bottom:100%!important}.start-0{left:0!important}.start-50{left:50%!important}.start-100{left:100%!important}.end-0{right:0!important}.end-50{right:50%!important}.end-100{right:100%!important}.translate-middle{transform:translate(-50%,-50%)!important}.translate-middle-x{transform:translateX(-50%)!important}.translate-middle-y{transform:translateY(-50%)!important}.border{border:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-0{border:0!important}.border-top{border-top:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-top-0{border-top:0!important}.border-end{border-right:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-end-0{border-right:0!important}.border-bottom{border-bottom:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-bottom-0{border-bottom:0!important}.border-start{border-left:var(--bs-border-width) var(--bs-border-style) var(--bs-border-color)!important}.border-start-0{border-left:0!important}.border-primary{--bs-border-opacity:1;border-color:rgba(var(--bs-primary-rgb),var(--bs-border-opacity))!important}.border-secondary{--bs-border-opacity:1;border-color:rgba(var(--bs-secondary-rgb),var(--bs-border-opacity))!important}.border-success{--bs-border-opacity:1;border-color:rgba(var(--bs-success-rgb),var(--bs-border-opacity))!important}.border-info{--bs-border-opacity:1;border-color:rgba(var(--bs-info-rgb),var(--bs-border-opacity))!important}.border-warning{--bs-border-opacity:1;border-color:rgba(var(--bs-warning-rgb),var(--bs-border-opacity))!important}.border-danger{--bs-border-opacity:1;border-color:rgba(var(--bs-danger-rgb),var(--bs-border-opacity))!important}.border-light{--bs-border-opacity:1;border-color:rgba(var(--bs-light-rgb),var(--bs-border-opacity))!important}.border-dark{--bs-border-opacity:1;border-color:rgba(var(--bs-dark-rgb),var(--bs-border-opacity))!important}.border-black{--bs-border-opacity:1;border-color:rgba(var(--bs-black-rgb),var(--bs-border-opacity))!important}.border-white{--bs-border-opacity:1;border-color:rgba(var(--bs-white-rgb),var(--bs-border-opacity))!important}.border-primary-subtle{border-color:var(--bs-primary-border-subtle)!important}.border-secondary-subtle{border-color:var(--bs-secondary-border-subtle)!important}.border-success-subtle{border-color:var(--bs-success-border-subtle)!important}.border-info-subtle{border-color:var(--bs-info-border-subtle)!important}.border-warning-subtle{border-color:var(--bs-warning-border-subtle)!important}.border-danger-subtle{border-color:var(--bs-danger-border-subtle)!important}.border-light-subtle{border-color:var(--bs-light-border-subtle)!important}.border-dark-subtle{border-color:var(--bs-dark-border-subtle)!important}.border-1{border-width:1px!important}.border-2{border-width:2px!important}.border-3{border-width:3px!important}.border-4{border-width:4px!important}.border-5{border-width:5px!important}.border-opacity-10{--bs-border-opacity:0.1}.border-opacity-25{--bs-border-opacity:0.25}.border-opacity-50{--bs-border-opacity:0.5}.border-opacity-75{--bs-border-opacity:0.75}.border-opacity-100{--bs-border-opacity:1}.w-25{width:25%!important}.w-50{width:50%!important}.w-75{width:75%!important}.w-100{width:100%!important}.w-auto{width:auto!important}.mw-100{max-width:100%!important}.vw-100{width:100vw!important}.min-vw-100{min-width:100vw!important}.h-25{height:25%!important}.h-50{height:50%!important}.h-75{height:75%!important}.h-100{height:100%!important}.h-auto{height:auto!important}.mh-100{max-height:100%!important}.vh-100{height:100vh!important}.min-vh-100{min-height:100vh!important}.flex-fill{flex:1 1 auto!important}.flex-row{flex-direction:row!important}.flex-column{flex-direction:column!important}.flex-row-reverse{flex-direction:row-reverse!important}.flex-column-reverse{flex-direction:column-reverse!important}.flex-grow-0{flex-grow:0!important}.flex-grow-1{flex-grow:1!important}.flex-shrink-0{flex-shrink:0!important}.flex-shrink-1{flex-shrink:1!important}.flex-wrap{flex-wrap:wrap!important}.flex-nowrap{flex-wrap:nowrap!important}.flex-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-start{justify-content:flex-start!important}.justify-content-end{justify-content:flex-end!important}.justify-content-center{justify-content:center!important}.justify-content-between{justify-content:space-between!important}.justify-content-around{justify-content:space-around!important}.justify-content-evenly{justify-content:space-evenly!important}.align-items-start{align-items:flex-start!important}.align-items-end{align-items:flex-end!important}.align-items-center{align-items:center!important}.align-items-baseline{align-items:baseline!important}.align-items-stretch{align-items:stretch!important}.align-content-start{align-content:flex-start!important}.align-content-end{align-content:flex-end!important}.align-content-center{align-content:center!important}.align-content-between{align-content:space-between!important}.align-content-around{align-content:space-around!important}.align-content-stretch{align-content:stretch!important}.align-self-auto{align-self:auto!important}.align-self-start{align-self:flex-start!important}.align-self-end{align-self:flex-end!important}.align-self-center{align-self:center!important}.align-self-baseline{align-self:baseline!important}.align-self-stretch{align-self:stretch!important}.order-first{order:-1!important}.order-0{order:0!important}.order-1{order:1!important}.order-2{order:2!important}.order-3{order:3!important}.order-4{order:4!important}.order-5{order:5!important}.order-last{order:6!important}.m-0{margin:0!important}.m-1{margin:.25rem!important}.m-2{margin:.5rem!important}.m-3{margin:1rem!important}.m-4{margin:1.5rem!important}.m-5{margin:3rem!important}.m-auto{margin:auto!important}.mx-0{margin-right:0!important;margin-left:0!important}.mx-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3{margin-right:1rem!important;margin-left:1rem!important}.mx-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5{margin-right:3rem!important;margin-left:3rem!important}.mx-auto{margin-right:auto!important;margin-left:auto!important}.my-0{margin-top:0!important;margin-bottom:0!important}.my-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-0{margin-top:0!important}.mt-1{margin-top:.25rem!important}.mt-2{margin-top:.5rem!important}.mt-3{margin-top:1rem!important}.mt-4{margin-top:1.5rem!important}.mt-5{margin-top:3rem!important}.mt-auto{margin-top:auto!important}.me-0{margin-right:0!important}.me-1{margin-right:.25rem!important}.me-2{margin-right:.5rem!important}.me-3{margin-right:1rem!important}.me-4{margin-right:1.5rem!important}.me-5{margin-right:3rem!important}.me-auto{margin-right:auto!important}.mb-0{margin-bottom:0!important}.mb-1{margin-bottom:.25rem!important}.mb-2{margin-bottom:.5rem!important}.mb-3{margin-bottom:1rem!important}.mb-4{margin-bottom:1.5rem!important}.mb-5{margin-bottom:3rem!important}.mb-auto{margin-bottom:auto!important}.ms-0{margin-left:0!important}.ms-1{margin-left:.25rem!important}.ms-2{margin-left:.5rem!important}.ms-3{margin-left:1rem!important}.ms-4{margin-left:1.5rem!important}.ms-5{margin-left:3rem!important}.ms-auto{margin-left:auto!important}.p-0{padding:0!important}.p-1{padding:.25rem!important}.p-2{padding:.5rem!important}.p-3{padding:1rem!important}.p-4{padding:1.5rem!important}.p-5{padding:3rem!important}.px-0{padding-right:0!important;padding-left:0!important}.px-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-3{padding-right:1rem!important;padding-left:1rem!important}.px-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5{padding-right:3rem!important;padding-left:3rem!important}.py-0{padding-top:0!important;padding-bottom:0!important}.py-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0{padding-top:0!important}.pt-1{padding-top:.25rem!important}.pt-2{padding-top:.5rem!important}.pt-3{padding-top:1rem!important}.pt-4{padding-top:1.5rem!important}.pt-5{padding-top:3rem!important}.pe-0{padding-right:0!important}.pe-1{padding-right:.25rem!important}.pe-2{padding-right:.5rem!important}.pe-3{padding-right:1rem!important}.pe-4{padding-right:1.5rem!important}.pe-5{padding-right:3rem!important}.pb-0{padding-bottom:0!important}.pb-1{padding-bottom:.25rem!important}.pb-2{padding-bottom:.5rem!important}.pb-3{padding-bottom:1rem!important}.pb-4{padding-bottom:1.5rem!important}.pb-5{padding-bottom:3rem!important}.ps-0{padding-left:0!important}.ps-1{padding-left:.25rem!important}.ps-2{padding-left:.5rem!important}.ps-3{padding-left:1rem!important}.ps-4{padding-left:1.5rem!important}.ps-5{padding-left:3rem!important}.gap-0{gap:0!important}.gap-1{gap:.25rem!important}.gap-2{gap:.5rem!important}.gap-3{gap:1rem!important}.gap-4{gap:1.5rem!important}.gap-5{gap:3rem!important}.row-gap-0{row-gap:0!important}.row-gap-1{row-gap:.25rem!important}.row-gap-2{row-gap:.5rem!important}.row-gap-3{row-gap:1rem!important}.row-gap-4{row-gap:1.5rem!important}.row-gap-5{row-gap:3rem!important}.column-gap-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.font-monospace{font-family:var(--bs-font-monospace)!important}.fs-1{font-size:calc(1.375rem + 1.5vw)!important}.fs-2{font-size:calc(1.325rem + .9vw)!important}.fs-3{font-size:calc(1.3rem + .6vw)!important}.fs-4{font-size:calc(1.275rem + .3vw)!important}.fs-5{font-size:1.25rem!important}.fs-6{font-size:1rem!important}.fst-italic{font-style:italic!important}.fst-normal{font-style:normal!important}.fw-lighter{font-weight:lighter!important}.fw-light{font-weight:300!important}.fw-normal{font-weight:400!important}.fw-medium{font-weight:500!important}.fw-semibold{font-weight:600!important}.fw-bold{font-weight:700!important}.fw-bolder{font-weight:bolder!important}.lh-1{line-height:1!important}.lh-sm{line-height:1.25!important}.lh-base{line-height:1.5!important}.lh-lg{line-height:2!important}.text-start{text-align:left!important}.text-end{text-align:right!important}.text-center{text-align:center!important}.text-decoration-none{text-decoration:none!important}.text-decoration-underline{text-decoration:underline!important}.text-decoration-line-through{text-decoration:line-through!important}.text-lowercase{text-transform:lowercase!important}.text-uppercase{text-transform:uppercase!important}.text-capitalize{text-transform:capitalize!important}.text-wrap{white-space:normal!important}.text-nowrap{white-space:nowrap!important}.text-break{word-wrap:break-word!important;word-break:break-word!important}.text-primary{--bs-text-opacity:1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary{--bs-text-opacity:1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success{--bs-text-opacity:1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info{--bs-text-opacity:1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning{--bs-text-opacity:1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger{--bs-text-opacity:1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light{--bs-text-opacity:1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark{--bs-text-opacity:1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black{--bs-text-opacity:1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white{--bs-text-opacity:1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body{--bs-text-opacity:1;color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity))!important}.text-muted{--bs-text-opacity:1;color:var(--bs-secondary-color)!important}.text-black-50{--bs-text-opacity:1;color:rgba(0,0,0,.5)!important}.text-white-50{--bs-text-opacity:1;color:rgba(255,255,255,.5)!important}.text-body-secondary{--bs-text-opacity:1;color:var(--bs-secondary-color)!important}.text-body-tertiary{--bs-text-opacity:1;color:var(--bs-tertiary-color)!important}.text-body-emphasis{--bs-text-opacity:1;color:var(--bs-emphasis-color)!important}.text-reset{--bs-text-opacity:1;color:inherit!important}.text-opacity-25{--bs-text-opacity:0.25}.text-opacity-50{--bs-text-opacity:0.5}.text-opacity-75{--bs-text-opacity:0.75}.text-opacity-100{--bs-text-opacity:1}.text-primary-emphasis{color:var(--bs-primary-text-emphasis)!important}.text-secondary-emphasis{color:var(--bs-secondary-text-emphasis)!important}.text-success-emphasis{color:var(--bs-success-text-emphasis)!important}.text-info-emphasis{color:var(--bs-info-text-emphasis)!important}.text-warning-emphasis{color:var(--bs-warning-text-emphasis)!important}.text-danger-emphasis{color:var(--bs-danger-text-emphasis)!important}.text-light-emphasis{color:var(--bs-light-text-emphasis)!important}.text-dark-emphasis{color:var(--bs-dark-text-emphasis)!important}.link-opacity-10{--bs-link-opacity:0.1}.link-opacity-10-hover:hover{--bs-link-opacity:0.1}.link-opacity-25{--bs-link-opacity:0.25}.link-opacity-25-hover:hover{--bs-link-opacity:0.25}.link-opacity-50{--bs-link-opacity:0.5}.link-opacity-50-hover:hover{--bs-link-opacity:0.5}.link-opacity-75{--bs-link-opacity:0.75}.link-opacity-75-hover:hover{--bs-link-opacity:0.75}.link-opacity-100{--bs-link-opacity:1}.link-opacity-100-hover:hover{--bs-link-opacity:1}.link-offset-1{text-underline-offset:0.125em!important}.link-offset-1-hover:hover{text-underline-offset:0.125em!important}.link-offset-2{text-underline-offset:0.25em!important}.link-offset-2-hover:hover{text-underline-offset:0.25em!important}.link-offset-3{text-underline-offset:0.375em!important}.link-offset-3-hover:hover{text-underline-offset:0.375em!important}.link-underline-primary{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-primary-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-primary-rgb),var(--bs-link-underline-opacity))!important}.link-underline-secondary{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-secondary-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-secondary-rgb),var(--bs-link-underline-opacity))!important}.link-underline-success{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-success-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-success-rgb),var(--bs-link-underline-opacity))!important}.link-underline-info{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-info-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-info-rgb),var(--bs-link-underline-opacity))!important}.link-underline-warning{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-warning-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-warning-rgb),var(--bs-link-underline-opacity))!important}.link-underline-danger{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-danger-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-danger-rgb),var(--bs-link-underline-opacity))!important}.link-underline-light{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-light-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-light-rgb),var(--bs-link-underline-opacity))!important}.link-underline-dark{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-dark-rgb),var(--bs-link-underline-opacity))!important;text-decoration-color:rgba(var(--bs-dark-rgb),var(--bs-link-underline-opacity))!important}.link-underline{--bs-link-underline-opacity:1;-webkit-text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-underline-opacity,1))!important;text-decoration-color:rgba(var(--bs-link-color-rgb),var(--bs-link-underline-opacity,1))!important}.link-underline-opacity-0{--bs-link-underline-opacity:0}.link-underline-opacity-0-hover:hover{--bs-link-underline-opacity:0}.link-underline-opacity-10{--bs-link-underline-opacity:0.1}.link-underline-opacity-10-hover:hover{--bs-link-underline-opacity:0.1}.link-underline-opacity-25{--bs-link-underline-opacity:0.25}.link-underline-opacity-25-hover:hover{--bs-link-underline-opacity:0.25}.link-underline-opacity-50{--bs-link-underline-opacity:0.5}.link-underline-opacity-50-hover:hover{--bs-link-underline-opacity:0.5}.link-underline-opacity-75{--bs-link-underline-opacity:0.75}.link-underline-opacity-75-hover:hover{--bs-link-underline-opacity:0.75}.link-underline-opacity-100{--bs-link-underline-opacity:1}.link-underline-opacity-100-hover:hover{--bs-link-underline-opacity:1}.bg-primary{--bs-bg-opacity:1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success{--bs-bg-opacity:1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info{--bs-bg-opacity:1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning{--bs-bg-opacity:1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger{--bs-bg-opacity:1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light{--bs-bg-opacity:1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark{--bs-bg-opacity:1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black{--bs-bg-opacity:1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white{--bs-bg-opacity:1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body{--bs-bg-opacity:1;background-color:rgba(var(--bs-body-bg-rgb),var(--bs-bg-opacity))!important}.bg-transparent{--bs-bg-opacity:1;background-color:transparent!important}.bg-body-secondary{--bs-bg-opacity:1;background-color:rgba(var(--bs-secondary-bg-rgb),var(--bs-bg-opacity))!important}.bg-body-tertiary{--bs-bg-opacity:1;background-color:rgba(var(--bs-tertiary-bg-rgb),var(--bs-bg-opacity))!important}.bg-opacity-10{--bs-bg-opacity:0.1}.bg-opacity-25{--bs-bg-opacity:0.25}.bg-opacity-50{--bs-bg-opacity:0.5}.bg-opacity-75{--bs-bg-opacity:0.75}.bg-opacity-100{--bs-bg-opacity:1}.bg-primary-subtle{background-color:var(--bs-primary-bg-subtle)!important}.bg-secondary-subtle{background-color:var(--bs-secondary-bg-subtle)!important}.bg-success-subtle{background-color:var(--bs-success-bg-subtle)!important}.bg-info-subtle{background-color:var(--bs-info-bg-subtle)!important}.bg-warning-subtle{background-color:var(--bs-warning-bg-subtle)!important}.bg-danger-subtle{background-color:var(--bs-danger-bg-subtle)!important}.bg-light-subtle{background-color:var(--bs-light-bg-subtle)!important}.bg-dark-subtle{background-color:var(--bs-dark-bg-subtle)!important}.bg-gradient{background-image:var(--bs-gradient)!important}.user-select-all{-webkit-user-select:all!important;-moz-user-select:all!important;user-select:all!important}.user-select-auto{-webkit-user-select:auto!important;-moz-user-select:auto!important;user-select:auto!important}.user-select-none{-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important}.pe-none{pointer-events:none!important}.pe-auto{pointer-events:auto!important}.rounded{border-radius:var(--bs-border-radius)!important}.rounded-0{border-radius:0!important}.rounded-1{border-radius:var(--bs-border-radius-sm)!important}.rounded-2{border-radius:var(--bs-border-radius)!important}.rounded-3{border-radius:var(--bs-border-radius-lg)!important}.rounded-4{border-radius:var(--bs-border-radius-xl)!important}.rounded-5{border-radius:var(--bs-border-radius-xxl)!important}.rounded-circle{border-radius:50%!important}.rounded-pill{border-radius:var(--bs-border-radius-pill)!important}.rounded-top{border-top-left-radius:var(--bs-border-radius)!important;border-top-right-radius:var(--bs-border-radius)!important}.rounded-top-0{border-top-left-radius:0!important;border-top-right-radius:0!important}.rounded-top-1{border-top-left-radius:var(--bs-border-radius-sm)!important;border-top-right-radius:var(--bs-border-radius-sm)!important}.rounded-top-2{border-top-left-radius:var(--bs-border-radius)!important;border-top-right-radius:var(--bs-border-radius)!important}.rounded-top-3{border-top-left-radius:var(--bs-border-radius-lg)!important;border-top-right-radius:var(--bs-border-radius-lg)!important}.rounded-top-4{border-top-left-radius:var(--bs-border-radius-xl)!important;border-top-right-radius:var(--bs-border-radius-xl)!important}.rounded-top-5{border-top-left-radius:var(--bs-border-radius-xxl)!important;border-top-right-radius:var(--bs-border-radius-xxl)!important}.rounded-top-circle{border-top-left-radius:50%!important;border-top-right-radius:50%!important}.rounded-top-pill{border-top-left-radius:var(--bs-border-radius-pill)!important;border-top-right-radius:var(--bs-border-radius-pill)!important}.rounded-end{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important}.rounded-end-0{border-top-right-radius:0!important;border-bottom-right-radius:0!important}.rounded-end-1{border-top-right-radius:var(--bs-border-radius-sm)!important;border-bottom-right-radius:var(--bs-border-radius-sm)!important}.rounded-end-2{border-top-right-radius:var(--bs-border-radius)!important;border-bottom-right-radius:var(--bs-border-radius)!important}.rounded-end-3{border-top-right-radius:var(--bs-border-radius-lg)!important;border-bottom-right-radius:var(--bs-border-radius-lg)!important}.rounded-end-4{border-top-right-radius:var(--bs-border-radius-xl)!important;border-bottom-right-radius:var(--bs-border-radius-xl)!important}.rounded-end-5{border-top-right-radius:var(--bs-border-radius-xxl)!important;border-bottom-right-radius:var(--bs-border-radius-xxl)!important}.rounded-end-circle{border-top-right-radius:50%!important;border-bottom-right-radius:50%!important}.rounded-end-pill{border-top-right-radius:var(--bs-border-radius-pill)!important;border-bottom-right-radius:var(--bs-border-radius-pill)!important}.rounded-bottom{border-bottom-right-radius:var(--bs-border-radius)!important;border-bottom-left-radius:var(--bs-border-radius)!important}.rounded-bottom-0{border-bottom-right-radius:0!important;border-bottom-left-radius:0!important}.rounded-bottom-1{border-bottom-right-radius:var(--bs-border-radius-sm)!important;border-bottom-left-radius:var(--bs-border-radius-sm)!important}.rounded-bottom-2{border-bottom-right-radius:var(--bs-border-radius)!important;border-bottom-left-radius:var(--bs-border-radius)!important}.rounded-bottom-3{border-bottom-right-radius:var(--bs-border-radius-lg)!important;border-bottom-left-radius:var(--bs-border-radius-lg)!important}.rounded-bottom-4{border-bottom-right-radius:var(--bs-border-radius-xl)!important;border-bottom-left-radius:var(--bs-border-radius-xl)!important}.rounded-bottom-5{border-bottom-right-radius:var(--bs-border-radius-xxl)!important;border-bottom-left-radius:var(--bs-border-radius-xxl)!important}.rounded-bottom-circle{border-bottom-right-radius:50%!important;border-bottom-left-radius:50%!important}.rounded-bottom-pill{border-bottom-right-radius:var(--bs-border-radius-pill)!important;border-bottom-left-radius:var(--bs-border-radius-pill)!important}.rounded-start{border-bottom-left-radius:var(--bs-border-radius)!important;border-top-left-radius:var(--bs-border-radius)!important}.rounded-start-0{border-bottom-left-radius:0!important;border-top-left-radius:0!important}.rounded-start-1{border-bottom-left-radius:var(--bs-border-radius-sm)!important;border-top-left-radius:var(--bs-border-radius-sm)!important}.rounded-start-2{border-bottom-left-radius:var(--bs-border-radius)!important;border-top-left-radius:var(--bs-border-radius)!important}.rounded-start-3{border-bottom-left-radius:var(--bs-border-radius-lg)!important;border-top-left-radius:var(--bs-border-radius-lg)!important}.rounded-start-4{border-bottom-left-radius:var(--bs-border-radius-xl)!important;border-top-left-radius:var(--bs-border-radius-xl)!important}.rounded-start-5{border-bottom-left-radius:var(--bs-border-radius-xxl)!important;border-top-left-radius:var(--bs-border-radius-xxl)!important}.rounded-start-circle{border-bottom-left-radius:50%!important;border-top-left-radius:50%!important}.rounded-start-pill{border-bottom-left-radius:var(--bs-border-radius-pill)!important;border-top-left-radius:var(--bs-border-radius-pill)!important}.visible{visibility:visible!important}.invisible{visibility:hidden!important}.z-n1{z-index:-1!important}.z-0{z-index:0!important}.z-1{z-index:1!important}.z-2{z-index:2!important}.z-3{z-index:3!important}@media (min-width:576px){.float-sm-start{float:left!important}.float-sm-end{float:right!important}.float-sm-none{float:none!important}.object-fit-sm-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-sm-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-sm-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-sm-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-sm-none{-o-object-fit:none!important;object-fit:none!important}.d-sm-inline{display:inline!important}.d-sm-inline-block{display:inline-block!important}.d-sm-block{display:block!important}.d-sm-grid{display:grid!important}.d-sm-inline-grid{display:inline-grid!important}.d-sm-table{display:table!important}.d-sm-table-row{display:table-row!important}.d-sm-table-cell{display:table-cell!important}.d-sm-flex{display:flex!important}.d-sm-inline-flex{display:inline-flex!important}.d-sm-none{display:none!important}.flex-sm-fill{flex:1 1 auto!important}.flex-sm-row{flex-direction:row!important}.flex-sm-column{flex-direction:column!important}.flex-sm-row-reverse{flex-direction:row-reverse!important}.flex-sm-column-reverse{flex-direction:column-reverse!important}.flex-sm-grow-0{flex-grow:0!important}.flex-sm-grow-1{flex-grow:1!important}.flex-sm-shrink-0{flex-shrink:0!important}.flex-sm-shrink-1{flex-shrink:1!important}.flex-sm-wrap{flex-wrap:wrap!important}.flex-sm-nowrap{flex-wrap:nowrap!important}.flex-sm-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-sm-start{justify-content:flex-start!important}.justify-content-sm-end{justify-content:flex-end!important}.justify-content-sm-center{justify-content:center!important}.justify-content-sm-between{justify-content:space-between!important}.justify-content-sm-around{justify-content:space-around!important}.justify-content-sm-evenly{justify-content:space-evenly!important}.align-items-sm-start{align-items:flex-start!important}.align-items-sm-end{align-items:flex-end!important}.align-items-sm-center{align-items:center!important}.align-items-sm-baseline{align-items:baseline!important}.align-items-sm-stretch{align-items:stretch!important}.align-content-sm-start{align-content:flex-start!important}.align-content-sm-end{align-content:flex-end!important}.align-content-sm-center{align-content:center!important}.align-content-sm-between{align-content:space-between!important}.align-content-sm-around{align-content:space-around!important}.align-content-sm-stretch{align-content:stretch!important}.align-self-sm-auto{align-self:auto!important}.align-self-sm-start{align-self:flex-start!important}.align-self-sm-end{align-self:flex-end!important}.align-self-sm-center{align-self:center!important}.align-self-sm-baseline{align-self:baseline!important}.align-self-sm-stretch{align-self:stretch!important}.order-sm-first{order:-1!important}.order-sm-0{order:0!important}.order-sm-1{order:1!important}.order-sm-2{order:2!important}.order-sm-3{order:3!important}.order-sm-4{order:4!important}.order-sm-5{order:5!important}.order-sm-last{order:6!important}.m-sm-0{margin:0!important}.m-sm-1{margin:.25rem!important}.m-sm-2{margin:.5rem!important}.m-sm-3{margin:1rem!important}.m-sm-4{margin:1.5rem!important}.m-sm-5{margin:3rem!important}.m-sm-auto{margin:auto!important}.mx-sm-0{margin-right:0!important;margin-left:0!important}.mx-sm-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto{margin-right:auto!important;margin-left:auto!important}.my-sm-0{margin-top:0!important;margin-bottom:0!important}.my-sm-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0{margin-top:0!important}.mt-sm-1{margin-top:.25rem!important}.mt-sm-2{margin-top:.5rem!important}.mt-sm-3{margin-top:1rem!important}.mt-sm-4{margin-top:1.5rem!important}.mt-sm-5{margin-top:3rem!important}.mt-sm-auto{margin-top:auto!important}.me-sm-0{margin-right:0!important}.me-sm-1{margin-right:.25rem!important}.me-sm-2{margin-right:.5rem!important}.me-sm-3{margin-right:1rem!important}.me-sm-4{margin-right:1.5rem!important}.me-sm-5{margin-right:3rem!important}.me-sm-auto{margin-right:auto!important}.mb-sm-0{margin-bottom:0!important}.mb-sm-1{margin-bottom:.25rem!important}.mb-sm-2{margin-bottom:.5rem!important}.mb-sm-3{margin-bottom:1rem!important}.mb-sm-4{margin-bottom:1.5rem!important}.mb-sm-5{margin-bottom:3rem!important}.mb-sm-auto{margin-bottom:auto!important}.ms-sm-0{margin-left:0!important}.ms-sm-1{margin-left:.25rem!important}.ms-sm-2{margin-left:.5rem!important}.ms-sm-3{margin-left:1rem!important}.ms-sm-4{margin-left:1.5rem!important}.ms-sm-5{margin-left:3rem!important}.ms-sm-auto{margin-left:auto!important}.p-sm-0{padding:0!important}.p-sm-1{padding:.25rem!important}.p-sm-2{padding:.5rem!important}.p-sm-3{padding:1rem!important}.p-sm-4{padding:1.5rem!important}.p-sm-5{padding:3rem!important}.px-sm-0{padding-right:0!important;padding-left:0!important}.px-sm-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0{padding-top:0!important;padding-bottom:0!important}.py-sm-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0{padding-top:0!important}.pt-sm-1{padding-top:.25rem!important}.pt-sm-2{padding-top:.5rem!important}.pt-sm-3{padding-top:1rem!important}.pt-sm-4{padding-top:1.5rem!important}.pt-sm-5{padding-top:3rem!important}.pe-sm-0{padding-right:0!important}.pe-sm-1{padding-right:.25rem!important}.pe-sm-2{padding-right:.5rem!important}.pe-sm-3{padding-right:1rem!important}.pe-sm-4{padding-right:1.5rem!important}.pe-sm-5{padding-right:3rem!important}.pb-sm-0{padding-bottom:0!important}.pb-sm-1{padding-bottom:.25rem!important}.pb-sm-2{padding-bottom:.5rem!important}.pb-sm-3{padding-bottom:1rem!important}.pb-sm-4{padding-bottom:1.5rem!important}.pb-sm-5{padding-bottom:3rem!important}.ps-sm-0{padding-left:0!important}.ps-sm-1{padding-left:.25rem!important}.ps-sm-2{padding-left:.5rem!important}.ps-sm-3{padding-left:1rem!important}.ps-sm-4{padding-left:1.5rem!important}.ps-sm-5{padding-left:3rem!important}.gap-sm-0{gap:0!important}.gap-sm-1{gap:.25rem!important}.gap-sm-2{gap:.5rem!important}.gap-sm-3{gap:1rem!important}.gap-sm-4{gap:1.5rem!important}.gap-sm-5{gap:3rem!important}.row-gap-sm-0{row-gap:0!important}.row-gap-sm-1{row-gap:.25rem!important}.row-gap-sm-2{row-gap:.5rem!important}.row-gap-sm-3{row-gap:1rem!important}.row-gap-sm-4{row-gap:1.5rem!important}.row-gap-sm-5{row-gap:3rem!important}.column-gap-sm-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-sm-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-sm-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-sm-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-sm-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-sm-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-sm-start{text-align:left!important}.text-sm-end{text-align:right!important}.text-sm-center{text-align:center!important}}@media (min-width:768px){.float-md-start{float:left!important}.float-md-end{float:right!important}.float-md-none{float:none!important}.object-fit-md-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-md-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-md-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-md-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-md-none{-o-object-fit:none!important;object-fit:none!important}.d-md-inline{display:inline!important}.d-md-inline-block{display:inline-block!important}.d-md-block{display:block!important}.d-md-grid{display:grid!important}.d-md-inline-grid{display:inline-grid!important}.d-md-table{display:table!important}.d-md-table-row{display:table-row!important}.d-md-table-cell{display:table-cell!important}.d-md-flex{display:flex!important}.d-md-inline-flex{display:inline-flex!important}.d-md-none{display:none!important}.flex-md-fill{flex:1 1 auto!important}.flex-md-row{flex-direction:row!important}.flex-md-column{flex-direction:column!important}.flex-md-row-reverse{flex-direction:row-reverse!important}.flex-md-column-reverse{flex-direction:column-reverse!important}.flex-md-grow-0{flex-grow:0!important}.flex-md-grow-1{flex-grow:1!important}.flex-md-shrink-0{flex-shrink:0!important}.flex-md-shrink-1{flex-shrink:1!important}.flex-md-wrap{flex-wrap:wrap!important}.flex-md-nowrap{flex-wrap:nowrap!important}.flex-md-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-md-start{justify-content:flex-start!important}.justify-content-md-end{justify-content:flex-end!important}.justify-content-md-center{justify-content:center!important}.justify-content-md-between{justify-content:space-between!important}.justify-content-md-around{justify-content:space-around!important}.justify-content-md-evenly{justify-content:space-evenly!important}.align-items-md-start{align-items:flex-start!important}.align-items-md-end{align-items:flex-end!important}.align-items-md-center{align-items:center!important}.align-items-md-baseline{align-items:baseline!important}.align-items-md-stretch{align-items:stretch!important}.align-content-md-start{align-content:flex-start!important}.align-content-md-end{align-content:flex-end!important}.align-content-md-center{align-content:center!important}.align-content-md-between{align-content:space-between!important}.align-content-md-around{align-content:space-around!important}.align-content-md-stretch{align-content:stretch!important}.align-self-md-auto{align-self:auto!important}.align-self-md-start{align-self:flex-start!important}.align-self-md-end{align-self:flex-end!important}.align-self-md-center{align-self:center!important}.align-self-md-baseline{align-self:baseline!important}.align-self-md-stretch{align-self:stretch!important}.order-md-first{order:-1!important}.order-md-0{order:0!important}.order-md-1{order:1!important}.order-md-2{order:2!important}.order-md-3{order:3!important}.order-md-4{order:4!important}.order-md-5{order:5!important}.order-md-last{order:6!important}.m-md-0{margin:0!important}.m-md-1{margin:.25rem!important}.m-md-2{margin:.5rem!important}.m-md-3{margin:1rem!important}.m-md-4{margin:1.5rem!important}.m-md-5{margin:3rem!important}.m-md-auto{margin:auto!important}.mx-md-0{margin-right:0!important;margin-left:0!important}.mx-md-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto{margin-right:auto!important;margin-left:auto!important}.my-md-0{margin-top:0!important;margin-bottom:0!important}.my-md-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0{margin-top:0!important}.mt-md-1{margin-top:.25rem!important}.mt-md-2{margin-top:.5rem!important}.mt-md-3{margin-top:1rem!important}.mt-md-4{margin-top:1.5rem!important}.mt-md-5{margin-top:3rem!important}.mt-md-auto{margin-top:auto!important}.me-md-0{margin-right:0!important}.me-md-1{margin-right:.25rem!important}.me-md-2{margin-right:.5rem!important}.me-md-3{margin-right:1rem!important}.me-md-4{margin-right:1.5rem!important}.me-md-5{margin-right:3rem!important}.me-md-auto{margin-right:auto!important}.mb-md-0{margin-bottom:0!important}.mb-md-1{margin-bottom:.25rem!important}.mb-md-2{margin-bottom:.5rem!important}.mb-md-3{margin-bottom:1rem!important}.mb-md-4{margin-bottom:1.5rem!important}.mb-md-5{margin-bottom:3rem!important}.mb-md-auto{margin-bottom:auto!important}.ms-md-0{margin-left:0!important}.ms-md-1{margin-left:.25rem!important}.ms-md-2{margin-left:.5rem!important}.ms-md-3{margin-left:1rem!important}.ms-md-4{margin-left:1.5rem!important}.ms-md-5{margin-left:3rem!important}.ms-md-auto{margin-left:auto!important}.p-md-0{padding:0!important}.p-md-1{padding:.25rem!important}.p-md-2{padding:.5rem!important}.p-md-3{padding:1rem!important}.p-md-4{padding:1.5rem!important}.p-md-5{padding:3rem!important}.px-md-0{padding-right:0!important;padding-left:0!important}.px-md-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3{padding-right:1rem!important;padding-left:1rem!important}.px-md-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5{padding-right:3rem!important;padding-left:3rem!important}.py-md-0{padding-top:0!important;padding-bottom:0!important}.py-md-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0{padding-top:0!important}.pt-md-1{padding-top:.25rem!important}.pt-md-2{padding-top:.5rem!important}.pt-md-3{padding-top:1rem!important}.pt-md-4{padding-top:1.5rem!important}.pt-md-5{padding-top:3rem!important}.pe-md-0{padding-right:0!important}.pe-md-1{padding-right:.25rem!important}.pe-md-2{padding-right:.5rem!important}.pe-md-3{padding-right:1rem!important}.pe-md-4{padding-right:1.5rem!important}.pe-md-5{padding-right:3rem!important}.pb-md-0{padding-bottom:0!important}.pb-md-1{padding-bottom:.25rem!important}.pb-md-2{padding-bottom:.5rem!important}.pb-md-3{padding-bottom:1rem!important}.pb-md-4{padding-bottom:1.5rem!important}.pb-md-5{padding-bottom:3rem!important}.ps-md-0{padding-left:0!important}.ps-md-1{padding-left:.25rem!important}.ps-md-2{padding-left:.5rem!important}.ps-md-3{padding-left:1rem!important}.ps-md-4{padding-left:1.5rem!important}.ps-md-5{padding-left:3rem!important}.gap-md-0{gap:0!important}.gap-md-1{gap:.25rem!important}.gap-md-2{gap:.5rem!important}.gap-md-3{gap:1rem!important}.gap-md-4{gap:1.5rem!important}.gap-md-5{gap:3rem!important}.row-gap-md-0{row-gap:0!important}.row-gap-md-1{row-gap:.25rem!important}.row-gap-md-2{row-gap:.5rem!important}.row-gap-md-3{row-gap:1rem!important}.row-gap-md-4{row-gap:1.5rem!important}.row-gap-md-5{row-gap:3rem!important}.column-gap-md-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-md-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-md-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-md-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-md-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-md-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-md-start{text-align:left!important}.text-md-end{text-align:right!important}.text-md-center{text-align:center!important}}@media (min-width:992px){.float-lg-start{float:left!important}.float-lg-end{float:right!important}.float-lg-none{float:none!important}.object-fit-lg-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-lg-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-lg-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-lg-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-lg-none{-o-object-fit:none!important;object-fit:none!important}.d-lg-inline{display:inline!important}.d-lg-inline-block{display:inline-block!important}.d-lg-block{display:block!important}.d-lg-grid{display:grid!important}.d-lg-inline-grid{display:inline-grid!important}.d-lg-table{display:table!important}.d-lg-table-row{display:table-row!important}.d-lg-table-cell{display:table-cell!important}.d-lg-flex{display:flex!important}.d-lg-inline-flex{display:inline-flex!important}.d-lg-none{display:none!important}.flex-lg-fill{flex:1 1 auto!important}.flex-lg-row{flex-direction:row!important}.flex-lg-column{flex-direction:column!important}.flex-lg-row-reverse{flex-direction:row-reverse!important}.flex-lg-column-reverse{flex-direction:column-reverse!important}.flex-lg-grow-0{flex-grow:0!important}.flex-lg-grow-1{flex-grow:1!important}.flex-lg-shrink-0{flex-shrink:0!important}.flex-lg-shrink-1{flex-shrink:1!important}.flex-lg-wrap{flex-wrap:wrap!important}.flex-lg-nowrap{flex-wrap:nowrap!important}.flex-lg-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-lg-start{justify-content:flex-start!important}.justify-content-lg-end{justify-content:flex-end!important}.justify-content-lg-center{justify-content:center!important}.justify-content-lg-between{justify-content:space-between!important}.justify-content-lg-around{justify-content:space-around!important}.justify-content-lg-evenly{justify-content:space-evenly!important}.align-items-lg-start{align-items:flex-start!important}.align-items-lg-end{align-items:flex-end!important}.align-items-lg-center{align-items:center!important}.align-items-lg-baseline{align-items:baseline!important}.align-items-lg-stretch{align-items:stretch!important}.align-content-lg-start{align-content:flex-start!important}.align-content-lg-end{align-content:flex-end!important}.align-content-lg-center{align-content:center!important}.align-content-lg-between{align-content:space-between!important}.align-content-lg-around{align-content:space-around!important}.align-content-lg-stretch{align-content:stretch!important}.align-self-lg-auto{align-self:auto!important}.align-self-lg-start{align-self:flex-start!important}.align-self-lg-end{align-self:flex-end!important}.align-self-lg-center{align-self:center!important}.align-self-lg-baseline{align-self:baseline!important}.align-self-lg-stretch{align-self:stretch!important}.order-lg-first{order:-1!important}.order-lg-0{order:0!important}.order-lg-1{order:1!important}.order-lg-2{order:2!important}.order-lg-3{order:3!important}.order-lg-4{order:4!important}.order-lg-5{order:5!important}.order-lg-last{order:6!important}.m-lg-0{margin:0!important}.m-lg-1{margin:.25rem!important}.m-lg-2{margin:.5rem!important}.m-lg-3{margin:1rem!important}.m-lg-4{margin:1.5rem!important}.m-lg-5{margin:3rem!important}.m-lg-auto{margin:auto!important}.mx-lg-0{margin-right:0!important;margin-left:0!important}.mx-lg-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto{margin-right:auto!important;margin-left:auto!important}.my-lg-0{margin-top:0!important;margin-bottom:0!important}.my-lg-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0{margin-top:0!important}.mt-lg-1{margin-top:.25rem!important}.mt-lg-2{margin-top:.5rem!important}.mt-lg-3{margin-top:1rem!important}.mt-lg-4{margin-top:1.5rem!important}.mt-lg-5{margin-top:3rem!important}.mt-lg-auto{margin-top:auto!important}.me-lg-0{margin-right:0!important}.me-lg-1{margin-right:.25rem!important}.me-lg-2{margin-right:.5rem!important}.me-lg-3{margin-right:1rem!important}.me-lg-4{margin-right:1.5rem!important}.me-lg-5{margin-right:3rem!important}.me-lg-auto{margin-right:auto!important}.mb-lg-0{margin-bottom:0!important}.mb-lg-1{margin-bottom:.25rem!important}.mb-lg-2{margin-bottom:.5rem!important}.mb-lg-3{margin-bottom:1rem!important}.mb-lg-4{margin-bottom:1.5rem!important}.mb-lg-5{margin-bottom:3rem!important}.mb-lg-auto{margin-bottom:auto!important}.ms-lg-0{margin-left:0!important}.ms-lg-1{margin-left:.25rem!important}.ms-lg-2{margin-left:.5rem!important}.ms-lg-3{margin-left:1rem!important}.ms-lg-4{margin-left:1.5rem!important}.ms-lg-5{margin-left:3rem!important}.ms-lg-auto{margin-left:auto!important}.p-lg-0{padding:0!important}.p-lg-1{padding:.25rem!important}.p-lg-2{padding:.5rem!important}.p-lg-3{padding:1rem!important}.p-lg-4{padding:1.5rem!important}.p-lg-5{padding:3rem!important}.px-lg-0{padding-right:0!important;padding-left:0!important}.px-lg-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0{padding-top:0!important;padding-bottom:0!important}.py-lg-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0{padding-top:0!important}.pt-lg-1{padding-top:.25rem!important}.pt-lg-2{padding-top:.5rem!important}.pt-lg-3{padding-top:1rem!important}.pt-lg-4{padding-top:1.5rem!important}.pt-lg-5{padding-top:3rem!important}.pe-lg-0{padding-right:0!important}.pe-lg-1{padding-right:.25rem!important}.pe-lg-2{padding-right:.5rem!important}.pe-lg-3{padding-right:1rem!important}.pe-lg-4{padding-right:1.5rem!important}.pe-lg-5{padding-right:3rem!important}.pb-lg-0{padding-bottom:0!important}.pb-lg-1{padding-bottom:.25rem!important}.pb-lg-2{padding-bottom:.5rem!important}.pb-lg-3{padding-bottom:1rem!important}.pb-lg-4{padding-bottom:1.5rem!important}.pb-lg-5{padding-bottom:3rem!important}.ps-lg-0{padding-left:0!important}.ps-lg-1{padding-left:.25rem!important}.ps-lg-2{padding-left:.5rem!important}.ps-lg-3{padding-left:1rem!important}.ps-lg-4{padding-left:1.5rem!important}.ps-lg-5{padding-left:3rem!important}.gap-lg-0{gap:0!important}.gap-lg-1{gap:.25rem!important}.gap-lg-2{gap:.5rem!important}.gap-lg-3{gap:1rem!important}.gap-lg-4{gap:1.5rem!important}.gap-lg-5{gap:3rem!important}.row-gap-lg-0{row-gap:0!important}.row-gap-lg-1{row-gap:.25rem!important}.row-gap-lg-2{row-gap:.5rem!important}.row-gap-lg-3{row-gap:1rem!important}.row-gap-lg-4{row-gap:1.5rem!important}.row-gap-lg-5{row-gap:3rem!important}.column-gap-lg-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-lg-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-lg-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-lg-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-lg-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-lg-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-lg-start{text-align:left!important}.text-lg-end{text-align:right!important}.text-lg-center{text-align:center!important}}@media (min-width:1200px){.float-xl-start{float:left!important}.float-xl-end{float:right!important}.float-xl-none{float:none!important}.object-fit-xl-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-xl-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-xl-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-xl-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-xl-none{-o-object-fit:none!important;object-fit:none!important}.d-xl-inline{display:inline!important}.d-xl-inline-block{display:inline-block!important}.d-xl-block{display:block!important}.d-xl-grid{display:grid!important}.d-xl-inline-grid{display:inline-grid!important}.d-xl-table{display:table!important}.d-xl-table-row{display:table-row!important}.d-xl-table-cell{display:table-cell!important}.d-xl-flex{display:flex!important}.d-xl-inline-flex{display:inline-flex!important}.d-xl-none{display:none!important}.flex-xl-fill{flex:1 1 auto!important}.flex-xl-row{flex-direction:row!important}.flex-xl-column{flex-direction:column!important}.flex-xl-row-reverse{flex-direction:row-reverse!important}.flex-xl-column-reverse{flex-direction:column-reverse!important}.flex-xl-grow-0{flex-grow:0!important}.flex-xl-grow-1{flex-grow:1!important}.flex-xl-shrink-0{flex-shrink:0!important}.flex-xl-shrink-1{flex-shrink:1!important}.flex-xl-wrap{flex-wrap:wrap!important}.flex-xl-nowrap{flex-wrap:nowrap!important}.flex-xl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xl-start{justify-content:flex-start!important}.justify-content-xl-end{justify-content:flex-end!important}.justify-content-xl-center{justify-content:center!important}.justify-content-xl-between{justify-content:space-between!important}.justify-content-xl-around{justify-content:space-around!important}.justify-content-xl-evenly{justify-content:space-evenly!important}.align-items-xl-start{align-items:flex-start!important}.align-items-xl-end{align-items:flex-end!important}.align-items-xl-center{align-items:center!important}.align-items-xl-baseline{align-items:baseline!important}.align-items-xl-stretch{align-items:stretch!important}.align-content-xl-start{align-content:flex-start!important}.align-content-xl-end{align-content:flex-end!important}.align-content-xl-center{align-content:center!important}.align-content-xl-between{align-content:space-between!important}.align-content-xl-around{align-content:space-around!important}.align-content-xl-stretch{align-content:stretch!important}.align-self-xl-auto{align-self:auto!important}.align-self-xl-start{align-self:flex-start!important}.align-self-xl-end{align-self:flex-end!important}.align-self-xl-center{align-self:center!important}.align-self-xl-baseline{align-self:baseline!important}.align-self-xl-stretch{align-self:stretch!important}.order-xl-first{order:-1!important}.order-xl-0{order:0!important}.order-xl-1{order:1!important}.order-xl-2{order:2!important}.order-xl-3{order:3!important}.order-xl-4{order:4!important}.order-xl-5{order:5!important}.order-xl-last{order:6!important}.m-xl-0{margin:0!important}.m-xl-1{margin:.25rem!important}.m-xl-2{margin:.5rem!important}.m-xl-3{margin:1rem!important}.m-xl-4{margin:1.5rem!important}.m-xl-5{margin:3rem!important}.m-xl-auto{margin:auto!important}.mx-xl-0{margin-right:0!important;margin-left:0!important}.mx-xl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto{margin-right:auto!important;margin-left:auto!important}.my-xl-0{margin-top:0!important;margin-bottom:0!important}.my-xl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0{margin-top:0!important}.mt-xl-1{margin-top:.25rem!important}.mt-xl-2{margin-top:.5rem!important}.mt-xl-3{margin-top:1rem!important}.mt-xl-4{margin-top:1.5rem!important}.mt-xl-5{margin-top:3rem!important}.mt-xl-auto{margin-top:auto!important}.me-xl-0{margin-right:0!important}.me-xl-1{margin-right:.25rem!important}.me-xl-2{margin-right:.5rem!important}.me-xl-3{margin-right:1rem!important}.me-xl-4{margin-right:1.5rem!important}.me-xl-5{margin-right:3rem!important}.me-xl-auto{margin-right:auto!important}.mb-xl-0{margin-bottom:0!important}.mb-xl-1{margin-bottom:.25rem!important}.mb-xl-2{margin-bottom:.5rem!important}.mb-xl-3{margin-bottom:1rem!important}.mb-xl-4{margin-bottom:1.5rem!important}.mb-xl-5{margin-bottom:3rem!important}.mb-xl-auto{margin-bottom:auto!important}.ms-xl-0{margin-left:0!important}.ms-xl-1{margin-left:.25rem!important}.ms-xl-2{margin-left:.5rem!important}.ms-xl-3{margin-left:1rem!important}.ms-xl-4{margin-left:1.5rem!important}.ms-xl-5{margin-left:3rem!important}.ms-xl-auto{margin-left:auto!important}.p-xl-0{padding:0!important}.p-xl-1{padding:.25rem!important}.p-xl-2{padding:.5rem!important}.p-xl-3{padding:1rem!important}.p-xl-4{padding:1.5rem!important}.p-xl-5{padding:3rem!important}.px-xl-0{padding-right:0!important;padding-left:0!important}.px-xl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0{padding-top:0!important;padding-bottom:0!important}.py-xl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0{padding-top:0!important}.pt-xl-1{padding-top:.25rem!important}.pt-xl-2{padding-top:.5rem!important}.pt-xl-3{padding-top:1rem!important}.pt-xl-4{padding-top:1.5rem!important}.pt-xl-5{padding-top:3rem!important}.pe-xl-0{padding-right:0!important}.pe-xl-1{padding-right:.25rem!important}.pe-xl-2{padding-right:.5rem!important}.pe-xl-3{padding-right:1rem!important}.pe-xl-4{padding-right:1.5rem!important}.pe-xl-5{padding-right:3rem!important}.pb-xl-0{padding-bottom:0!important}.pb-xl-1{padding-bottom:.25rem!important}.pb-xl-2{padding-bottom:.5rem!important}.pb-xl-3{padding-bottom:1rem!important}.pb-xl-4{padding-bottom:1.5rem!important}.pb-xl-5{padding-bottom:3rem!important}.ps-xl-0{padding-left:0!important}.ps-xl-1{padding-left:.25rem!important}.ps-xl-2{padding-left:.5rem!important}.ps-xl-3{padding-left:1rem!important}.ps-xl-4{padding-left:1.5rem!important}.ps-xl-5{padding-left:3rem!important}.gap-xl-0{gap:0!important}.gap-xl-1{gap:.25rem!important}.gap-xl-2{gap:.5rem!important}.gap-xl-3{gap:1rem!important}.gap-xl-4{gap:1.5rem!important}.gap-xl-5{gap:3rem!important}.row-gap-xl-0{row-gap:0!important}.row-gap-xl-1{row-gap:.25rem!important}.row-gap-xl-2{row-gap:.5rem!important}.row-gap-xl-3{row-gap:1rem!important}.row-gap-xl-4{row-gap:1.5rem!important}.row-gap-xl-5{row-gap:3rem!important}.column-gap-xl-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-xl-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-xl-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-xl-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-xl-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-xl-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-xl-start{text-align:left!important}.text-xl-end{text-align:right!important}.text-xl-center{text-align:center!important}}@media (min-width:1400px){.float-xxl-start{float:left!important}.float-xxl-end{float:right!important}.float-xxl-none{float:none!important}.object-fit-xxl-contain{-o-object-fit:contain!important;object-fit:contain!important}.object-fit-xxl-cover{-o-object-fit:cover!important;object-fit:cover!important}.object-fit-xxl-fill{-o-object-fit:fill!important;object-fit:fill!important}.object-fit-xxl-scale{-o-object-fit:scale-down!important;object-fit:scale-down!important}.object-fit-xxl-none{-o-object-fit:none!important;object-fit:none!important}.d-xxl-inline{display:inline!important}.d-xxl-inline-block{display:inline-block!important}.d-xxl-block{display:block!important}.d-xxl-grid{display:grid!important}.d-xxl-inline-grid{display:inline-grid!important}.d-xxl-table{display:table!important}.d-xxl-table-row{display:table-row!important}.d-xxl-table-cell{display:table-cell!important}.d-xxl-flex{display:flex!important}.d-xxl-inline-flex{display:inline-flex!important}.d-xxl-none{display:none!important}.flex-xxl-fill{flex:1 1 auto!important}.flex-xxl-row{flex-direction:row!important}.flex-xxl-column{flex-direction:column!important}.flex-xxl-row-reverse{flex-direction:row-reverse!important}.flex-xxl-column-reverse{flex-direction:column-reverse!important}.flex-xxl-grow-0{flex-grow:0!important}.flex-xxl-grow-1{flex-grow:1!important}.flex-xxl-shrink-0{flex-shrink:0!important}.flex-xxl-shrink-1{flex-shrink:1!important}.flex-xxl-wrap{flex-wrap:wrap!important}.flex-xxl-nowrap{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse{flex-wrap:wrap-reverse!important}.justify-content-xxl-start{justify-content:flex-start!important}.justify-content-xxl-end{justify-content:flex-end!important}.justify-content-xxl-center{justify-content:center!important}.justify-content-xxl-between{justify-content:space-between!important}.justify-content-xxl-around{justify-content:space-around!important}.justify-content-xxl-evenly{justify-content:space-evenly!important}.align-items-xxl-start{align-items:flex-start!important}.align-items-xxl-end{align-items:flex-end!important}.align-items-xxl-center{align-items:center!important}.align-items-xxl-baseline{align-items:baseline!important}.align-items-xxl-stretch{align-items:stretch!important}.align-content-xxl-start{align-content:flex-start!important}.align-content-xxl-end{align-content:flex-end!important}.align-content-xxl-center{align-content:center!important}.align-content-xxl-between{align-content:space-between!important}.align-content-xxl-around{align-content:space-around!important}.align-content-xxl-stretch{align-content:stretch!important}.align-self-xxl-auto{align-self:auto!important}.align-self-xxl-start{align-self:flex-start!important}.align-self-xxl-end{align-self:flex-end!important}.align-self-xxl-center{align-self:center!important}.align-self-xxl-baseline{align-self:baseline!important}.align-self-xxl-stretch{align-self:stretch!important}.order-xxl-first{order:-1!important}.order-xxl-0{order:0!important}.order-xxl-1{order:1!important}.order-xxl-2{order:2!important}.order-xxl-3{order:3!important}.order-xxl-4{order:4!important}.order-xxl-5{order:5!important}.order-xxl-last{order:6!important}.m-xxl-0{margin:0!important}.m-xxl-1{margin:.25rem!important}.m-xxl-2{margin:.5rem!important}.m-xxl-3{margin:1rem!important}.m-xxl-4{margin:1.5rem!important}.m-xxl-5{margin:3rem!important}.m-xxl-auto{margin:auto!important}.mx-xxl-0{margin-right:0!important;margin-left:0!important}.mx-xxl-1{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto{margin-right:auto!important;margin-left:auto!important}.my-xxl-0{margin-top:0!important;margin-bottom:0!important}.my-xxl-1{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0{margin-top:0!important}.mt-xxl-1{margin-top:.25rem!important}.mt-xxl-2{margin-top:.5rem!important}.mt-xxl-3{margin-top:1rem!important}.mt-xxl-4{margin-top:1.5rem!important}.mt-xxl-5{margin-top:3rem!important}.mt-xxl-auto{margin-top:auto!important}.me-xxl-0{margin-right:0!important}.me-xxl-1{margin-right:.25rem!important}.me-xxl-2{margin-right:.5rem!important}.me-xxl-3{margin-right:1rem!important}.me-xxl-4{margin-right:1.5rem!important}.me-xxl-5{margin-right:3rem!important}.me-xxl-auto{margin-right:auto!important}.mb-xxl-0{margin-bottom:0!important}.mb-xxl-1{margin-bottom:.25rem!important}.mb-xxl-2{margin-bottom:.5rem!important}.mb-xxl-3{margin-bottom:1rem!important}.mb-xxl-4{margin-bottom:1.5rem!important}.mb-xxl-5{margin-bottom:3rem!important}.mb-xxl-auto{margin-bottom:auto!important}.ms-xxl-0{margin-left:0!important}.ms-xxl-1{margin-left:.25rem!important}.ms-xxl-2{margin-left:.5rem!important}.ms-xxl-3{margin-left:1rem!important}.ms-xxl-4{margin-left:1.5rem!important}.ms-xxl-5{margin-left:3rem!important}.ms-xxl-auto{margin-left:auto!important}.p-xxl-0{padding:0!important}.p-xxl-1{padding:.25rem!important}.p-xxl-2{padding:.5rem!important}.p-xxl-3{padding:1rem!important}.p-xxl-4{padding:1.5rem!important}.p-xxl-5{padding:3rem!important}.px-xxl-0{padding-right:0!important;padding-left:0!important}.px-xxl-1{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0{padding-top:0!important;padding-bottom:0!important}.py-xxl-1{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0{padding-top:0!important}.pt-xxl-1{padding-top:.25rem!important}.pt-xxl-2{padding-top:.5rem!important}.pt-xxl-3{padding-top:1rem!important}.pt-xxl-4{padding-top:1.5rem!important}.pt-xxl-5{padding-top:3rem!important}.pe-xxl-0{padding-right:0!important}.pe-xxl-1{padding-right:.25rem!important}.pe-xxl-2{padding-right:.5rem!important}.pe-xxl-3{padding-right:1rem!important}.pe-xxl-4{padding-right:1.5rem!important}.pe-xxl-5{padding-right:3rem!important}.pb-xxl-0{padding-bottom:0!important}.pb-xxl-1{padding-bottom:.25rem!important}.pb-xxl-2{padding-bottom:.5rem!important}.pb-xxl-3{padding-bottom:1rem!important}.pb-xxl-4{padding-bottom:1.5rem!important}.pb-xxl-5{padding-bottom:3rem!important}.ps-xxl-0{padding-left:0!important}.ps-xxl-1{padding-left:.25rem!important}.ps-xxl-2{padding-left:.5rem!important}.ps-xxl-3{padding-left:1rem!important}.ps-xxl-4{padding-left:1.5rem!important}.ps-xxl-5{padding-left:3rem!important}.gap-xxl-0{gap:0!important}.gap-xxl-1{gap:.25rem!important}.gap-xxl-2{gap:.5rem!important}.gap-xxl-3{gap:1rem!important}.gap-xxl-4{gap:1.5rem!important}.gap-xxl-5{gap:3rem!important}.row-gap-xxl-0{row-gap:0!important}.row-gap-xxl-1{row-gap:.25rem!important}.row-gap-xxl-2{row-gap:.5rem!important}.row-gap-xxl-3{row-gap:1rem!important}.row-gap-xxl-4{row-gap:1.5rem!important}.row-gap-xxl-5{row-gap:3rem!important}.column-gap-xxl-0{-moz-column-gap:0!important;column-gap:0!important}.column-gap-xxl-1{-moz-column-gap:0.25rem!important;column-gap:.25rem!important}.column-gap-xxl-2{-moz-column-gap:0.5rem!important;column-gap:.5rem!important}.column-gap-xxl-3{-moz-column-gap:1rem!important;column-gap:1rem!important}.column-gap-xxl-4{-moz-column-gap:1.5rem!important;column-gap:1.5rem!important}.column-gap-xxl-5{-moz-column-gap:3rem!important;column-gap:3rem!important}.text-xxl-start{text-align:left!important}.text-xxl-end{text-align:right!important}.text-xxl-center{text-align:center!important}}@media (min-width:1200px){.fs-1{font-size:2.5rem!important}.fs-2{font-size:2rem!important}.fs-3{font-size:1.75rem!important}.fs-4{font-size:1.5rem!important}}@media print{.d-print-inline{display:inline!important}.d-print-inline-block{display:inline-block!important}.d-print-block{display:block!important}.d-print-grid{display:grid!important}.d-print-inline-grid{display:inline-grid!important}.d-print-table{display:table!important}.d-print-table-row{display:table-row!important}.d-print-table-cell{display:table-cell!important}.d-print-flex{display:flex!important}.d-print-inline-flex{display:inline-flex!important}.d-print-none{display:none!important}}`,""]);const X=I},9008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,"._30i9K {\n  margin: 0;\n  padding: 0;\n}\n\n._30i9K * {\n  box-sizing: border-box;\n}\n\n/* .lightboxjs img,\n.lightboxjs svg,\n.lightboxjs video {\n  display: block;\n  vertical-align: middle;\n  height: auto;\n  max-width: 100%;\n} */\n\n._3kSzL {\n  background-color: black;\n  height: 100vh;\n  width: 100vw;\n  position: fixed;\n  top: 0;\n  left: 0;\n}\n\n._tCjNO {\n  padding-bottom: 2px;\n}\n\n._2IJEr:hover,\n._2IJEr:focus,\n._2Yv4j svg:hover,\n._2Yv4j svg:focus,\n._1lgEi span:hover,\n._DDceb:hover,\n._2Vept:hover {\n  text-decoration: none;\n  cursor: pointer;\n  /* color: rgb(230, 230, 230); */\n}\n\n/* On hover, add a black background color with a little bit see-through */\n._2gxOL:hover,\n._3gp2w:hover {\n  background-color: rgba(0, 0, 0, 0.8);\n  color: rgb(230, 230, 230);\n}\n\n._2crlL {\n  display: flex;\n}\n\n._34QvR {\n  display: none;\n}\n\n._1R214 {\n  opacity: 1;\n  transition: all 0.3s;\n  cursor: pointer;\n  position: relative;\n}\n\nimg._3EuZy {\n  transition: 0.3s;\n}\n\n._3EuZy:hover {\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n}\n\n._DDceb {\n  right: 1%;\n  padding-left: 2vw;\n  padding-right: 3vw;\n}\n\n._1lgEi {\n  left: 2%;\n  padding-right: 2vw;\n}\n\n\n._3pfLz {\n  transition: border 0.3s;\n}\n\n._1R214 {\n  display: inline;\n}\n\n._Fp_rP {\n  width: 90%;\n}\n\n._1jASN {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n\n/* Mobile screens */\n@media screen and (min-width: 20em) {\n  ._22ETc {\n    height: 67vw;\n    width: 60%;\n  }\n\n  ._-wN_b {\n    position: fixed;\n    bottom: 5%;\n    width: 100vw;\n    /* width: 100%; */\n  }\n\n  ._1R214 {\n    width: 80px;\n    max-width: 80px;\n    height: 7vh;\n  }\n\n  ._KbOLW {\n    bottom: 2%;\n  }\n\n  ._1j-pZ {\n    padding-bottom: 16px;\n    width: 100vw;\n  }\n\n  ._3pfLz {\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  ._DDceb {\n    right: 0.9%;\n  }\n\n  ._1lgEi {\n    left: 1.5%;\n  }\n}\n\n._1R214 {\n  height: 5vh;\n  border-radius: 6px;\n  margin-right: 7px;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n._-wN_b {\n  position: absolute;\n  bottom: 10%;\n  height: 5vh;\n  width: 100vw;\n  z-index: 10000000;\n  margin-top: 10px;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n}\n\n._1Odla {\n  width: 78vw;\n}\n\n._KbOLW {\n  bottom: 5%;\n}\n\n._1nxK_ {\n  height: 20vh;\n}\n\n._z-jNd video {\n  height: 100%;\n  max-height: 70vh;\n  width: 100%;\n}\n\n._2jJU2 {\n  position: absolute;\n  bottom: 14%;\n  width: 100vw;\n  z-index: 10000000;\n  margin-top: 10px;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n._lY1R_ {\n  cursor: pointer;\n  margin: 0.2em;\n}\n\n._wTR3b {\n  width: 99vw;\n  height: 100%;\n  max-height: 100%;\n  direction: ltr;\n  overflow: hidden;\n  touch-action: none;\n  padding: 0;\n  overflow-y: auto;\n  margin: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 1000000;\n}\n\n._11N04 img {\n  height: 100vh;\n  max-width: 100%;\n  max-height: 100%;\n}\n\n._20Hp6 img {\n  height: 80vh;\n  max-width: 100%;\n  max-height: 100%;\n}\n\n._20Hp6 {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  top: 10%;\n  align-content: center;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n  z-index: 1000000;\n}\n\n._3PObS {\n  margin-bottom: 3em;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n._1JRT_ {\n  position: fixed;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  transition: top 0.2s ease-in-out 0s;\n  top: 10%;\n  align-content: center;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n  z-index: 1000000;\n}\n\n._29Kdn {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n}\n\n._1ni2w {\n  top: 6%;\n}\n\n._GV0NM {\n  top: 12%;\n}\n\n._11N04 {\n  top: 0;\n}\n\n._3BNPD {\n  width: 100vw;\n  height: 100%;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n._DDceb,\n._1lgEi {\n  top: calc(50% - 20px);\n  position: absolute;\n  display: flex;\n  transition: all 0.2s;\n  justify-content: center;\n  align-items: center;\n  padding-bottom: 2vh;\n  padding-top: 2vh;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  cursor: pointer;\n  font-weight: bold;\n  border-radius: 30px;\n  width: 40px;\n  height: 40px;\n  font-size: 18px;\n  z-index: 10000000;\n}\n\n\n\n._DDceb:hover,\n._1lgEi:hover {\n  color: rgb(230, 230, 230);\n}\n\n._j1nqC {\n  position: absolute;\n  max-width: 100vw;\n}\n\n._ABXHD {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n._2Yv4j {\n  color: white;\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  /* align-items: center;\n    justify-content: center; */\n  cursor: pointer;\n  top: 10px;\n  right: 45px;\n  z-index: 999999999;\n  /* padding: 0.14vw; */\n}\n\n._2eq8V {\n  aspect-ratio: 16 / 9;\n  height: 65vh;\n  width: 100%;\n}\n\n._1P3Wc {\n  width: 65%;\n  margin-left: auto;\n  margin-right: auto;\n  height: 60vh;\n  max-height: 65vh;\n}\n\n._z-jNd {\n  width: 80%;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n._Aq8HC, ._w68I8 {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n._qtY0U {\n  position: fixed;\n  top: 4%;\n  right: 3%;\n}\n\n._3cxVN ._2Yv4j svg {\n  transition: 0.3s all;\n}\n\n._2Yv4j svg:active {\n  transform: scale(0.97);\n}\n\n._2pA2G {\n  text-align: center;\n  width: 80%;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n._2Yv4j svg {\n  margin-left: 0.6em;\n  padding: 0.2em;\n  transition: all 0.1s;\n  /* width: 32px;  */\n  /* font-size: 18px; */\n  line-height: 16px;\n  vertical-align: baseline;\n}\n\n._2Vept {\n  /* width: 32px;  */\n}\n\n@media screen and (min-width: 6em) {\n  ._2Yv4j {\n    top: 3%;\n  }\n\n  ._wTR3b {\n    width: 100vw;\n  }\n\n  ._2Yv4j svg {\n    /* width: 34px;  */\n    padding-right: 0.3em;\n  }\n\n  ._30i9K img {\n    cursor: pointer;\n  }\n\n  ._1JRT_ {\n    /* height: 60vh; */\n    /* width: 80vw; */\n  }\n\n  ._1R214 {\n    height: 9vh;\n    /* width: 22vw; */\n  }\n\n  ._DDceb {\n    top: calc(48% - 20px);\n    right: 0.5%;\n  }\n\n  ._1lgEi {\n    top: calc(48% - 20px);\n  }\n\n  ._2Yv4j svg {\n    /* width: 30px;  */\n    /* font-size: 30px; */\n  }\n\n  ._1JRT_ img {\n    /* width: 80vw; \n      margin-top: 10vh;\n      height: 48vh;  */\n    max-height: 100%;\n  }\n}\n\n@media screen and (min-width: 39em) {\n  ._wTR3b {\n    width: 100vw;\n  }\n\n  ._1JRT_ {\n    width: 100vw;\n    height: 95vh;\n    position: absolute;\n  }\n\n  ._3A0RO {\n    /* height: 70vh;  */\n  }\n\n  ._1j-pZ {\n    padding-bottom: 0px;\n  }\n\n  ._DDceb {\n    right: 0.7%;\n  }\n\n  ._11N04 {\n    width: 100vw;\n    height: 100vh;\n  }\n\n  ._11N04 img {\n    height: 100vh;\n  }\n\n  ._3pfLz {\n    margin-top: 0.6em;\n  }\n\n  ._1R214 {\n    /* height: 8vh; */\n    width: 80px;\n    max-width: 80px;\n  }\n\n  ._2Yv4j svg {\n    /* width: 32px; \n      font-size: 32px; */\n  }\n\n  ._1lgEi {\n    left: 2.7%;\n    padding-right: 2vw;\n  }\n}\n\n/* Desktop screens */\n@media screen and (min-width: 42em) {\n  ._22ETc {\n    height: 70vh;\n    width: 80vw;\n  }\n\n  ._2yYOi {\n    display: grid;\n    width: 92vw;\n    place-items: start;\n    margin-left: auto;\n    margin-right: auto;\n    scrollbar-gutter: stable both-edges;\n  }\n\n  ._1JRT_ img {\n    margin-top: 0vh;\n    /* width: 70vw; */\n  }\n\n  ._11N04 img {\n    width: 100vw;\n  }\n\n  ._hWNoE {\n    top: 0%;\n  }\n\n  ._1ek8k {\n    margin-left: auto;\n    margin-right: auto;\n    height: 100vh;\n  }\n\n  ._hWNoE {\n    height: 100vh;\n    width: 100vw;\n    position: absolute;\n  }\n\n  ._hWNoE img {\n    -o-object-fit: contain;\n       object-fit: contain;\n  }\n\n  ._3pfLz {\n    scrollbar-width: none;\n    -ms-overflow-style: none;\n    margin-top: 1.1em;\n  }\n\n  ._3pfLz::-webkit-scrollbar {\n    display: none; /* Safari and Chrome */\n  }\n\n  ._2P48G {\n    transition: opacity 0.3s;\n    -webkit-transition: opacity 0.3s;\n    opacity: 1;\n  }\n\n  ._-wN_b {\n    margin-top: 0.1em;\n    padding-top: 0.3em;\n    height: 5vh;\n    bottom: 11%;\n    /* width: 90vw; */\n  }\n\n  ._1R214,\n  ._1xBL9 img {\n    height: 10vh;\n    /* width: 7em; */\n  }\n\n  ._wTR3b {\n    width: 100vw;\n  }\n\n  ._1JRT_ {\n    width: 100vw;\n    height: 95vh;\n  }\n\n  ._11N04 {\n    width: 100vw;\n    height: 100vh;\n  }\n\n  ._2Yv4j svg {\n    /* width: 37px;\n      font-size: 34px; */\n  }\n\n  ._1lgEi {\n    left: 2%;\n    padding-right: 2vw;\n  }\n\n  ._DDceb {\n    right: 0.4%;\n  }\n\n  \n  ._15MH_ {\n    width: 78vw;\n  }\n\n  ._3JYCS {\n    left: 1%;\n  }\n\n  ._1jASN {\n    gap: 8px;\n  }\n}\n\n@media screen and (min-width: 53em) {\n  \n  ._1yWyS {\n    display: grid;\n    width: 100vw;\n    height: 70vh;\n    place-items: start;\n    /* margin-top: 7vh; */\n  }\n\n  ._3A0RO {\n      height: 70vh;\n  }\n\n  ._1R214 {\n    width: 95px;\n    max-width: 80px;\n  } \n\n  ._15MH_ {\n    width: 78vw;\n  }\n}\n  \n\n@media screen and (min-width: 80em) {\n  ._1JRT_ img {\n    /* width: 60vw; */\n  }\n\n  ._11N04 img {\n    width: 100vw;\n  }\n}\n\n._1kIQ4,\n._1kIQ4 svg {\n  background-color: white;\n  color: black;\n}\n\n._1kIQ4:hover,\n._1kIQ4 svg:hover {\n  background-color: white;\n  color: black;\n}\n\n._1qbJe,\n._1qbJe svg {\n  background-color: transparent;\n  /* background-color: #151515; */\n  color: silver;\n}\n\n._1qbJe:hover,\n._1qbJe svg:hover {\n  color: rgba(107, 107, 107, 0.8);\n}\n\n/* Header icons  */\n._3DIHj svg {\n  background-color: white;\n  color: black;\n}\n\n._3DIHj svg:hover {\n  background-color: white;\n  color: black;\n  color: rgb(24, 24, 24, 0.8);\n}\n\n._11aT5 svg {\n  background-color: transparent;\n  /* background-color: #151515; */\n  color: #626b77;\n}\n\n._11aT5 svg:hover {\n  color: rgba(99, 99, 99, 0.8);\n}\n\n._mdJQi {\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n\n._3pfLz ._3sodH {\n  border: solid rgb(107, 133, 206) 2px;\n}\n\n._3bkUp {\n  border: solid transparent 2px;\n}\n\n._3pfLz {\n  width: 95%;\n}\n\n._32vVi {\n  --thumbs-slide-spacing: 2px; \n  /* --thumbs-slide-height: 9rem; */\n  margin-top: var(--thumbs-slide-spacing);\n}\n\n@media screen and (max-width: 29em) {\n  ._11N04 img {\n    -o-object-fit: cover;\n       object-fit: cover;\n  }\n\n  ._32vVi {\n    --thumbs-slide-spacing: 3px; \n    /* --thumbs-slide-height: 9rem; */\n    margin-top: var(--thumbs-slide-spacing);\n  }\n\n  ._sqvn- {\n    margin-top: 5vh;\n  }\n\n  ._3pfLz {\n    width: 98%;\n  }\n\n  ._1R214 {\n    width: 80px;\n    max-width: 80px;\n  }\n\n  ._z-jNd video {\n    max-height: 65vh;\n  }\n\n  ._qtY0U {\n    position: fixed;\n    top: 2%;\n    right: 15px;\n  }\n\n  ._1P3Wc {\n    width: 88%;\n    margin-left: auto;\n    margin-right: auto;\n    height: 100%;\n    max-height: 65vh;\n  }\n\n  ._z-jNd {\n    width: 94%;\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  ._2Yv4j {\n    position: fixed;\n    left: 115px;\n  }\n\n  ._1ni2w {\n    top: 3%;\n  }\n\n  ._DDceb,\n  ._1lgEi {\n    padding-bottom: 2vh;\n    padding-top: 2vh;\n  }\n\n  ._DDceb {\n    padding-left: 4vw;\n  }\n\n  ._1lgEi {\n    padding-right: 4vw;\n  }\n\n  ._2Yv4j {\n    /* font-size: 28px; */\n  }\n}\n\n@media screen and (max-width: 53em) {\n  ._1yWyS {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    width: 100vw;\n    height: 70vh;\n  }\n\n  ._1yWyS img {\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  ._2yYOi {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n    width: 100vw;\n    height: 70vh;\n  }\n\n  ._hWNoE {\n    position: fixed;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    transition: top 0.2s ease-in-out 0s;\n    top: 10%;\n    align-content: center;\n    margin-left: auto;\n    margin-right: auto;\n    text-align: center;\n    z-index: 1000000;\n  }\n\n\n\n}\n\n._11N04 img {\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n._3pfLz {\n  text-align: center;\n  white-space: nowrap;\n}\n\n._3Id1- {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n._mdJQi {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n/* CSS loader  */\n._3qqrl {\n  width: 44px;\n  height: 44px;\n  box-sizing: border-box;\n\n  border-radius: 50%;\n\n  display: inline-block;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  animation: _1hUzk 1s linear infinite;\n}\n\n@keyframes _1hUzk {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n\n._1itZw {\n  border: 5px solid #626b77;\n  border-bottom-color: transparent;\n}\n\n._2TI_i {\n  border: 5px solid #fff;\n  border-bottom-color: transparent;\n}\n\n._3A0RO {\n  max-height: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n._ABXHD button, ._2kumA {\n  background: none;\n  border: none;\n  padding: 0;\n  cursor: pointer;\n  font-size: 16px;\n}\n\n._ABXHD svg {\n  box-sizing: border-box;\n}\n\n._2kumA svg {\n  box-sizing: border-box;\n  font-size: 16px;\n  padding-top: 0.5px;\n}\n\n._2kumA {\n  padding-top: 3px;\n}\n\n._1nxK_ {\n  bottom: 0%;\n  height: 20vh;\n  margin-top: 0em;\n  width: 100vw;\n}\n\n._Fp_rP {\n  margin-top: 0em;\n}\n\n._238y5 {\n  top: 7%;\n}\n\n._wTR3b {\n  -ms-overflow-style: none;\n  /* scrollbar-width: none;   */\n}\n._3pfLz::-webkit-scrollbar {\n  display: none;\n}\n\n._2FvXV {\n  border-radius: 20px;\n}\n\n._oa5b0 {\n  max-width: 100%;\n}\n\n._z-bHV {\n  max-width: 80%;\n}\n\n@media screen and (max-width: 880px) {\n  ._2Yv4j {\n    position: fixed;\n    right: 5%;\n  }\n}\n\n@media screen and (max-width: 480px) {\n  ._2Yv4j {\n    position: fixed;\n    left: 180px;\n  }\n}\n\n@media screen and (max-width: 440px) {\n  ._2Yv4j {\n    position: fixed;\n    left: 160px;\n  }\n}\n\n@media screen and (max-width: 410px) {\n  ._2Yv4j {\n    position: fixed;\n    left: 140px;\n  }\n}\n\n@media screen and (max-width: 385px) {\n  ._2Yv4j {\n    position: fixed;\n    left: 135px;\n    /* top: 24px; */\n  }\n}\n\n@media screen and (max-width: 365px) {\n  ._2Yv4j {\n    position: fixed;\n    left: 90px;\n  }\n}\n\n@media screen and (max-width: 345px) {\n  ._2Yv4j {\n    position: fixed;\n    left: 82px;\n  }\n}\n\n@media screen and (max-width: 325px) {\n  ._2Yv4j {\n    position: fixed;\n    left: 60px;\n  }\n}\n\n@media screen and (max-width: 300px) {\n  ._2Yv4j {\n    position: fixed;\n    left: 30px;\n  }\n}\n\n._hGbhv {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n[class^='number-slide'],\n[class*=' number-slide'] {\n  background: grey;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 50px;\n  color: #fff;\n  font-weight: 500;\n  height: 300px;\n  max-height: 100vh;\n}\n\n._1dVqh {\n  position: relative;\n}\n\n._3MuXE {\n  display: flex;\n  padding: 10px 0;\n  justify-content: center;\n}\n\n._3U2py {\n  border: none;\n  width: 10px;\n  height: 10px;\n  background: #c5c5c5;\n  border-radius: 50%;\n  margin: 0 5px;\n  padding: 5px;\n  cursor: pointer;\n}\n\n._3U2py:focus {\n  outline: none;\n}\n\n._3U2py._3sodH {\n  background: #000;\n}\n\n._35l6Q {\n  position: absolute;\n  top: 50%;\n  font-size: 24px;\n  font-weight: bold;\n  transition: all 0.2s;\n  transform: translateY(-50%);\n  -webkit-transform: translateY(-50%);\n  color: #fff;\n  cursor: pointer;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  font-family: sans-serif;\n}\n\n._1I4Zg {\n  left: 8px;\n  padding-right: 10px;\n  padding-top: 30px;\n  padding-bottom: 30px;\n}\n\n._1lqBv {\n  left: auto;\n  right: 8px;\n  padding-left: 10px;\n  padding-top: 30px;\n  padding-bottom: 30px;\n}\n\n._35l6Q:hover {\n  color: rgb(230, 230, 230);\n}\n\n._37Xda,\n._37Xda:hover {\n  color: rgba(255, 255, 255, 0.5);\n}\n\n._1LtID {\n  margin-top: 12px;\n}\n\n._2y9OU {\n  border: 'solid transparent 2px';\n}\n\n._2oAIc {\n  width: 100%;\n  height: 100%;\n}\n\n._2oAIc iframe {\n  width: 100%;\n  height: 100%;\n}\n\n._2-c5L {\n  height: 100%;\n}\n\n._30i9K iframe {\n  margin: none;\n  padding: none;\n  border: none;\n}\n\n._1Bey- {\n  z-index: 100000;\n  background-color: transparent;\n  border: none;\n}\n\n._3pfLz {\n  margin-left: auto;\n  margin-right: auto;\n}\n\n._3xuz3 {\n  cursor: pointer;\n}\n\n._1fpgA > * { color: inherit; fill: inherit }\n\n._1cifY {\n  margin-left: auto;\n  margin-right: auto;\n  --slide-spacing: 1rem;\n  --slide-size: 100%;\n  --slide-height: 19rem;\n}\n\n._1mBUR {\n  overflow: hidden;\n  width: 100vw;\n}\n\n._Bqct9 {\n  backface-visibility: hidden; \n  touch-action: pan-y;\n  height: auto;\n  margin-left: calc(var(--slide-spacing) * -1);\n  display: grid;  \n  grid-auto-flow: column;  \n  grid-auto-columns: 100%; \n  max-width: 100vw;\n  /* width: 80%;\n  margin-left: auto;\n  margin-right: auto; */\n}\n\n._39UN- {\n  width: 78vw;\n  max-width: 78vw;\n}\n\n._1eJNe {\n  flex: 0 0 80%;\n  min-width: 0;\n  max-width: 100%;\n  padding-left: 12px;\n  position: relative;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n._1tmVU {\n  overflow: hidden;\n}\n\n._3-Y1e {\n  display: flex;\n  flex-direction: row;\n  margin-left: calc(var(--thumbs-slide-spacing) * -1);\n  width: 100%;\n  /* align-items: center;\n  text-align: center;\n  width: fit-content; */\n  /* justify-content: center; */\n  \n}\n\n._3-Y1e::before, ._3-Y1e::after {\n  content: '';  /* Insert pseudo-element */\n  margin: auto; /* Make it push flex items to the center */\n}\n\n\n._jp0uN {\n  /* min-width: 0; */\n  padding-left: var(--thumbs-slide-spacing);\n  /* position: relative; */\n  /* width: 140px; */\n}\n\n._3S-ie {\n  /* display: block; */\n  height: var(--thumbs-slide-height);\n  width: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n\n._1afvv {\n  margin-left: auto;\n}\n\n._1HGLk {\n  color: white;\n}\n\n._1TshF {\n  display: flex;\n}\n\n._1HGLk {\n  text-align: left;\n  min-width: 17vw;\n  max-width: 17vw;\n  padding-top: 5vw;\n}\n\n._U_FmQ {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n}\n\n._1Y4P9 {\n  padding-left: 7vw;\n}\n\n._1Y4P9 span {\n  display: block;\n}\n\n._1vmhr {\n  position: absolute;\n  top: 1%;\n  right: 2%;\n  background: none;\n  color: white;\n  border: none;\n  cursor: pointer;\n}\n\n/* Styling from react-zoom-pan-pinch library */\n._3djxx {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -moz-user-select: none; /* Firefox */ /* Konqueror HTML */ /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n\n._2UUxD {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n\n._2UUxD img {\n  pointer-events: none;\n}\n\n._gMqOZ {\n  height: 10px;\n  width: 10px;\n  background-color: silver;\n  border-radius: 8px;\n  border: none;\n  cursor: pointer;\n}\n\n._1KxdK {\n  padding-top: 24px;\n  padding-bottom: 24px;\n  padding-left: 12px;\n  padding-right: 12px;\n}",""]);const s=a},6386:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".artistName {\n  font-family: 'Array', sans-serif;\n  font-size: 30px;\n  color: #27343a;\n  text-align: center;\n  margin-bottom: 10px;\n}\n\n.artistDescription {\n  font-family: 'Array', sans-serif;\n  font-size: 15px;\n  font-weight: 10;\n  color: #27343a;\n  text-align: center;\n  width: 40vw;\n}\n\n.artistDetailContainer {\n  display: flex;\n  flex-direction: column; \n  align-items: center;\n  justify-content: center; \n  margin-top: 5vw;\n}\n\n.detailsContainer {\n  display: flex;\n}\n\n.descriptionContainer {\n  margin-top: 20px; \n}\n\n.containerImage {\n  flex-shrink: 0;\n  border: 2px solid rgba(157, 165, 168, 0.3);\n  padding: 5px; \n  margin-left: 5vw; \n  box-shadow: 2px 2px 5px rgba(157, 165, 168, 0.2);\n}\n\n.product1 {\n  width: 400px; \n  height: auto; \n}\n",""]);const s=a},695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,'.title {\n  font-family: "Array", sans-serif;\n  font-size: 30px;\n  font-weight: 1;\n  color: #27343a;\n  text-align: center;\n  font-style: bold;\n}\n\n.container {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  padding: 20px;\n}\n.artist {\n  background-color: white;\n  border: 0.5px solid rgba(0, 0, 0, 0.3);\n  box-shadow: 3px 3px 6px rgba(0, 0, 0, 0.2);\n  width: calc(33.33% - 20px); /* Ancho de un tercio del contenedor con margen */\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 10px;\n  margin-bottom: 20px;\n}\n.artist .image {\n  margin-bottom: 10px;\n}\n\n.artist .image img {\n  width: 100%;\n  height: auto;\n  object-fit: cover;\n}\n\n.artist .line {\n  width: 100%;\n  height: 1px;\n  background-color: #ccc;\n  margin-bottom: 10px;\n}\n\n.artist .detail {\n  font-family: "Array", sans-serif;\n  text-align: center;\n}\n\n.artist:hover {\n  transform: scale(1.01);\n}\n\n.artist {\n  font-family: "Array", sans-serif;\n  margin: 0;\n}\n\n.name {\n  color: #3c3737;\n  font-size: large;\n  font-weight: 1000;\n}\n\n.barra_img {\n  width: 100%;\n  height: 50px;\n}\n\n.artists-container {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  gap: 20px;\n  max-width: 650px;\n  margin: 0 auto;\n}\n.loading{\n  font-family: "Array", sans-serif;\n  display: flex;\n  justify-content: center;\n}',""]);const s=a},4577:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".artworkContent {\n  display: flex;\n  justify-content: flex-start;\n  padding-left: 17vw;\n  margin-bottom: 15vw;\n}\n\n.artworkImage {\n  width: auto; \n  height: 400px;\n}\n\n.image-content {\n  margin-top: 6vw;\n}\n\n.info {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-left: 15vw;\n  margin-bottom: 2vw;\n}\n\n.price {\n  font-family: 'Array', sans-serif;\n  font-size: 20px;\n  font-weight: 1;\n  color: #27343a;\n  font-style: bold;\n}\n\n.title-art {\n  font-family: 'Array', sans-serif;\n  font-size: 30px;\n  font-weight: 1;\n  color: #27343a;\n  font-style: bold;\n}\n\n.artist-name {\n  font-family: 'Array', sans-serif;\n  font-size: 20px;\n  font-weight: 1;\n  color: #27343a;\n  font-style: bold;\n  text-decoration: none;\n  display: flex;\n  margin-bottom: 1vw\n}",""]);const s=a},7603:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".collection-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n}\n\n.columns-container {\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  max-width: 1200px; \n}\n\n.artwork-container:hover .artwork-image {\n  opacity: 0.7;\n}\n\n\n.column {\n  margin-bottom: 20px;\n  box-sizing: border-box; \n}\n\n.title {\n  font-family: 'Array', sans-serif;\n  font-size: 30px;\n  font-weight: 1;\n  color: #27343a;\n  font-style: bold;\n  margin-bottom: 20px;\n}\n\n.description {\n  font-family: 'Array', sans-serif;\n  color: #333333;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 3; \n  -webkit-box-orient: vertical;\n}\n\n.work-title {\n  font-family: 'Array', sans-serif;\n  font-size: 25px;\n  font-weight: bold;\n  color: #38464d;\n}\n\n.artwork-image {\n  width: 100%;\n  max-width: 100%;\n  height: auto;\n  object-fit: cover;\n  margin-bottom: 10px;\n  transition: opacity 0.2s ease;\n}\n\n\n.artwork-container {\n  margin-bottom: 30px;\n  padding: 20px;\n  box-sizing: border-box;\n}\n",""]);const s=a},5171:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".iaStyles{\n    display: flex;\n    justify-content: center;\n}",""]);const s=a},1464:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".magazine {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.titleMagazine {\n  font-family: 'Array', sans-serif;\n  font-size: 30px;\n  font-weight: 1;\n  color: #27343a;\n  font-style: bold;\n  margin-top: 20px;\n}\n.animated {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  margin-left: 15vw;\n}\n.text-animation {\n  width: 500px;\n}\n.particle {\n  display: flex;\n  justify-content: center;\n  margin-top: 3vw;\n}",""]);const s=a},975:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".media-container{\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n  margin-bottom: 8vw;\n  margin-top: 8vw;\n}\n\n.photos {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n}\n\n.columns-photos-container {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n\n.photo-container {\n  width: 200px;\n  padding: 5px;\n  box-sizing: border-box;\n}\n\n.photo-image {\n  width: 100%;\n  height: auto;\n  cursor: pointer;\n  border: 2px solid transparent;\n}\n\n.photo-image:hover {\n  border-color: #333; \n}\n\n",""]);const s=a},1275:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,"",""]);const s=a},5199:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".movie-container {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n}\n\n.video-container {\n  display: flex;\n  justify-content: center;\n}\n\n.movie-details-container {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n}\n\n.movie-title {\n  font-family: 'Array', sans-serif;\n  font-size: 30px;\n  font-weight: 1;\n  color: #27343a;\n  font-style: bold;\n  margin-bottom: 20px;\n}\n\n.movie-description {\n  font-family: 'Array', sans-serif;\n  color: #333333;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 3; \n  -webkit-box-orient: vertical;\n  width: 50vw;\n}\n\n.video-container video {\n  width: 700px; \n  height: 580px; \n}\n",""]);const s=a},5237:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,'.video-list-title {\n  font-family: "Array", sans-serif;\n  font-size: 15px;\n  color: #27343a;\n  text-align: center;\n  margin: 1px 0; \n}\n\n.view-title {\n  font-family: "Array", sans-serif;\n  margin-top: 3vw;\n  font-size: 30px;\n  color: #27343a;\n  text-align: center;\n  margin-bottom: 5vw;\n}\n\n.video-pic {\n  width: 380px;\n  height: auto;\n}\n\n.video-list {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  list-style: none;\n  padding: 0;\n  margin: 100px;\n  margin-top: -2px;\n  margin-bottom: -2px;\n}\n\n.video-item-link {\n  margin-bottom: 2vw; \n  text-decoration: none;\n  flex: 0 0 22%;\n  position: relative;\n\n}\n\n.video-item {\n  text-align: center;\n}\n\n.video-item:hover video {\n  transform: scale(1.1);\n  opacity: 0.8;\n}\n\nvideo {\n  transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;\n}',""]);const s=a},959:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".footer {\n  position: relative;\n  margin-top: 5vw;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background-color: #ffffff; /* Color de fondo de tu footer */\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n}\n\n.foot-text {\n  font-family: 'Array', sans-serif;\n  color: #3c3737;\n}\n",""]);const s=a},7437:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i),s=n(1667),l=n.n(s),u=new URL(n(1314),n.b),c=a()(o()),d=l()(u);c.push([e.id,`.home-img {\n  background-image: url(${d}); \n  background-size: cover;\n  background-position: 5% 5%;\n  background-repeat: no-repeat;\n  width: 100vw;\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  position: relative; \n  z-index: -1;\n  opacity: 0.8; /* Cambia este valor para ajustar la transparencia */\n}\n\n.home-sketch {\n  position: absolute;\n  top: 50%;\n  left: 70%;\n  transform: translate(-50%, -50%);\n  z-index: 500;\n}\n.home {\n display: flex;\n justify-content: center;\n}\n`,""]);const p=c},2992:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".sidebar {\n  position: fixed;\n  margin: 0;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  width: 21%; /* Cambiado a un ancho relativo */\n  max-width: 300px; /* Ancho mximo para evitar que sea demasiado ancho en pantallas grandes */\n  background-color: rgba(255, 255, 255, 0.562);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  z-index: 1000;\n}\n\n.navbar-closed {\n  width: 5%; /* Ajustado el ancho expandido */\n  max-width: 400px; /* Ancho mximo para evitar que sea demasiado ancho en pantallas grandes */\n}\n\n.art-options {\n  font-size: 2.3vw; /* Tamao de fuente relativo */\n  font-family: 'Array', sans-serif !important;\n  color: #000000f5;\n  margin-left: 1vw;\n  position: relative;\n}\n\n.art-options-closed {\n  font-size: 0px; /* Tamao de fuente relativo */\n  font-family: 'Array', sans-serif !important;\n  color: #000000;\n  margin-top: 2vw;\n  margin-left: 1vw;\n}\n\n.nav-lang {\n  font-family: 'Array', sans-serif;\n  color: #000000;\n  font-size: 1.1vw;\n}\n\n.sidebar .class-lang {\ndisplay: flex;\njustify-content: center;\nflex-direction: column;\nalign-items: center;\n}\n\n.language-button {\n  background: none;\n  border: none;\n  font-family: 'Array', sans-serif !important;\n  color: #000000;\n  cursor: pointer;\n}\n\n.logo-class {\n  margin-top: 2vw;\n}\n\n.sketchNav {\n  margin-top: 10vw;\n}\n\n.logo-class-closed {\n  position: relative;\n  display: flex;\n  justify-content: center; /* Centra horizontalmente el contenido */\n  align-items: center; /* Centra verticalmente el contenido */\n}\n\n.logo1 {\n  width: auto;\n  height: 15vw;\n}\n\n.logo2 {\n  position: absolute;\n  left: 0;\n  top: -7vw;\n  height: 20vw; /* Tamao de imagen relativo */\n  width: auto;\n}\n\n.close-button,\n.open-button {\n  font-size: 2vw; /* Tamao de fuente relativo */\n  border: none;\n  background: none;\n  font-family: 'Array', sans-serif !important;\n  color: #000000;\n  margin-bottom: 1vw;\n}\n\n.language-button.selected {\n  color: #4d4d4d;\n}\n\n.nav-link.selected {\n  color: #505050;\n}\n\n.language-separator {\n  width: 100%;\n  height: 2px;\n  background-color: #5c5c5c;\n  margin: 1vw 0; /* Margen relativo */\n  display: block;\n  font-family: 'Array', sans-serif !important;\n}\n\n",""]);const s=a},5712:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".sketch {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-top: 50px;\n}\n\n.sketch-content{\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 100px;\n}\n\n.sketch-title {\n  font-family: 'Array', sans-serif;\n  font-size: 35px;\n  font-weight: 10;\n  color: #27343a;\n  text-align: center;\n  width: 40vw;\n}\n\n.sketch-stars {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center ;\n}\n\n.stars-buttons {\n  font-family: 'Array', sans-serif;\n  font-size: 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-evenly;\n  margin-bottom: 20px;\n}\n\n.button-permission{\n  margin-left: 35%;\n  margin-top: 20%;\n  margin-bottom: 20vw;\n  font-size: 5vw; /* Tamao de fuente relativo */\n  border: none;\n  background: none;\n  font-family: 'Array', sans-serif !important;\n  color: #000000;\n}\n\n.color-button {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}",""]);const s=a},6669:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".fluid {\n  display: flex;\n  justify-content: center;\n  margin-top: 50px;\n}\n\n.color-buttons {\n  font-family: 'Array', sans-serif;\n  display: flex;\n  justify-content: center;\n  margin-top: 50px;\n}",""]);const s=a},7328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".draw-container {\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.sketch-controls {\n  font-family: 'Array', sans-serif;\n  display: flex;\n  justify-content: center;\n  justify-content: space-evenly;\n  margin-top: 2vw;\n  margin-bottom: 2vw;\n  width: 50%;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n\n\n.sketch-buttons {\n  font-family: 'Array', sans-serif;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  margin-bottom: -50px; \n  width: 50%; \n  margin-left: auto;\n  margin-right: auto;\n}\n\n.sketch-buttons button {\n  color: rgb(0, 0, 0);\n  border: none;\n  font-family: 'Array', sans-serif;\n  background-color: rgb(255, 255, 255);\n  margin-right: 10px; \n  border-radius: 1px;\n  border: 1px;\n}\n\n.lineThickness {\n  background-color: red; \n  color: white;  \n  border: 1px solid transparent;  \n}\n\n.draw-images{\n  margin-top: 5vw;\n}\n\n.draw-image-size{\n  display: flex;\n  justify-content: center;\n  margin-top: 100px;\n}\n\n.color-buttons {\n  font-size: 2vw;\n  margin-right: 2vw;\n  margin-top: 10vw;\n  width: 11vw;\n  height: 6vw;\n  font-family: 'Array', sans-serif;\n  border: none;\n  background-color: rgb(255, 255, 255);\n}\n\n.color-button-container{\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 5vh;\n}\n\n.sizes-instruction{\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  font-family: 'Array', sans-serif;\n  align-items: center;\n  margin-top: 10vh;\n}\n\n.intructions-list {\n  list-style: none;\n}",""]);const s=a},8844:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".titleSketch {\n    font-family: 'Array', sans-serif;\n    font-size: 30px;\n    color: #27343a;\n    text-align: center;\n    margin-bottom: 40px; \n    margin-top: 20px; \n}\n\n.sketchList {\n    display: flex;\n    flex-wrap: wrap; \n    justify-content: space-evenly;\n    padding: 0;\n    list-style-type: none;\n}\n\n.sketchList li {\n    width: 25%; \n    margin-bottom: 50px;\n    margin-right: 20px; \n    border: 1px solid #ccc;\n    padding: 10px; \n    box-sizing: border-box; \n    text-align: center; \n}\n\n.sketchImage {\n    width: 100%;\n    height: auto;\n}\n\n",""]);const s=a},475:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,".profile-container {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n\n.username {\n  font-family: 'Array', sans-serif;\n  font-size: 5vw;\n  display: flex;\n  align-items: center;\n}\n\n.profile-image-container {\n  margin-top: 3vw; \n  margin-left: 5vw;\n  font-family: 'Array', sans-serif;\n}\n\n.bio-username{\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 2vw;\n  width: 37vw;\n}\n\n.profile-image {\n  width: 30vw;\n  height: auto;\n  border: 0.2vw solid #ccc;\n}\n\n.edit-icon-container {\n  margin-top: 1vw;\n}\n\n.edit-icon {\n  width: 1vw;\n  height: 1vw;\n  cursor: pointer;\n  margin-bottom: 7vh;\n}\n\n.image-uploader {\n  display: flex;\n  justify-content: center;\n  font-family: 'Array', sans-serif;\n}\n\n.button-image-uploader {\n  width: 10vw;\n  height: 6vw;\n  border: none;\n  background-color: rgb(255, 255, 255);\n}\n\n.input-image-uploader {\n  width: 40vw;\n  height: auto;\n}\n\n.bio-username {\n  width: 37vw;\n  margin-left: 12vw;\n}\n\n.bio {\n  font-family: 'Array', sans-serif;\n}\n\n.hidden {\n  display: none;\n}\n\n.edit-profile {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  font-family: 'Array', sans-serif;\n  margin-left: 5vw;\n}\n\n.input-edit-username {\n  width: 90%; \n  max-width: 300px;\n  min-width: 300px;\n  background-color: #ffffff;\n  border: 0.5px solid #000000;\n  padding: 5px;\n  outline: none;\n  border-radius: 2px;\n}\n\n.input-edit-bio {\n  width: 90%; \n  max-width: 400px;\n  min-width: 400px;\n  height: 400px;\n  background-color: #ffffff;\n  border: 0.5px solid #000000;\n  padding: 5px;\n  outline: none;\n  border-radius: 2px;\n}\n\n.button-edit-profile {\n  margin-right: 2vw;\n  width: 10vw;\n  height: 6vw;\n  font-family: 'Array', sans-serif;\n  border: none;\n  background-color: rgb(255, 255, 255);\n}\n\n\n\n\n/* BOARD STYLES */\n\n\n.board {\n  position: relative;\n  width: 550px;\n  height: 700px;\n  background-color: #ffffff;\n  overflow-y: auto;\n  padding: 20px;\n  border: 1px solid #ccc;\n  display: flex;\n  flex-wrap: wrap; \n}\n\n.board-picture {\n  width: calc(33.33% - 20px);\n  margin: 10px;\n  box-sizing: border-box; \n}\n\n\n\n\n/*    SEARCH INPUT STYLES */\n\n.full-profile-container{\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.search-profile-container {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n\n.search-input-profile{\n  font-family: 'Array', sans-serif;\n  width: 90%; \n  max-width: 350px;\n  min-width: 350px;\n  background-color: #ffffff;\n  border: 0.5px solid #000000;\n  padding: 5px;\n  outline: none;\n  border-radius: 2px;\n  margin-top: 5vw;\n}\n\n.search-input-container{\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  align-items: center;\n}\n\n.user-preview {\n  display: flex;\n  flex-direction: row;\n  align-items: center; /* Centrar verticalmente los elementos */\n  border: 0.1px solid rgb(0, 0, 0);\n  margin-top: 10px;\n  margin-bottom: 10px; /* Espacio entre cada vista previa de usuario */\n  cursor: pointer;\n  width: 24vw;\n  padding: 20px;\n  \n}\n\n.user-preview .profile-preview-image {\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n  margin-right: 50px; /* Espacio entre la imagen y el nombre de usuario */\n}\n\n.user-preview .username-preview {\n  font-family: 'Array', sans-serif;\n  margin-top: auto; /* Centrar verticalmente el nombre de usuario */\n  margin-bottom: auto; /* Centrar verticalmente el nombre de usuario */\n}\n\n\n/* Media query para dispositivos con una anchura mxima de 768px */\n@media screen and (max-width: 768px) {\n  .profile-container {\n\n    flex-direction: column-reverse; \n    align-items: center;\n  }\n\n  .profile-image-container {\n    margin-top: 0;\n    margin-bottom: 5vw;\n  }\n\n  .username {\n    margin-bottom: 5vw;\n  }\n\n  .board{\n    margin-right: 5vw;\n  }\n  .board-picture {\n  width: calc(49.49% - 18px);\n  margin: 10px;\n  box-sizing: border-box;\n}\n}\n",""]);const s=a},1424:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,"body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n\n.loading {\n  font-family: 'Array', sans-serif;\n  font-size: 30px;\n  color: #27343a;\n}",""]);const s=a},995:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(8081),o=n.n(r),i=n(3645),a=n.n(i)()(o());a.push([e.id,'.my-container-login,\n.my-container-register,\n.my-container-movie,\n.my-container-artwork,\n.my-container-apply {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-top: 10vh;\n  font-family: "Array", sans-serif;\n  border: 0.5px solid #000000;\n  width: 70%;\n  max-width: 600px; \n  height: auto;\n  margin-left: auto;\n  margin-right: auto;\n  box-sizing: border-box;\n  border-radius: 2px;\n  padding: 50px; \n}\n\n.my-label-form {\n  display: block;\n  margin-bottom: 5px;\n  color: #000000ce;\n  font-size: 2.5vw; \n}\n\n.my-input-form,\n.my-textarea-form,\n.my-select-form {\n  width: 90%; \n  max-width: 350px;\n  min-width: 350px;\n  background-color: #ffffff;\n  border: 0.5px solid #000000;\n  padding: 5px;\n  outline: none;\n  border-radius: 2px;\n  margin-bottom: 15px; \n}\n\n.my-button-form,\n.my-link-form {\n  width: 90%;\n  margin-top: 2vw; \n  color: #000000ce;\n  background-color: #ffffff;\n  border: 0.5px solid #000000;\n  text-decoration: none;\n  text-align: center;\n  padding: 10px; \n  border-radius: 2px;\n  max-width: 350px;\n  min-width: 350px; \n}\n\n.form-title {\n  display: block;\n  color: #000000ce;\n  font-size: 2.5vw;\n  position: relative;\n  top: -10px;\n}\n\n@media (max-width: 768px) {\n  .my-label-form,\n  .form-title {\n    font-size: 18px;\n  }\n\n  .my-button-form,\n  .my-link-form {\n    font-size: 14px;\n  }\n\n  .my-container-login,\n  .my-container-register,\n  .my-container-movie,\n  .my-container-artwork,\n  .my-container-apply {\n    margin-left: 150px;\n  }\n}\n',""]);const s=a},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);r&&a[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},1667:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:e=>{"use strict";e.exports=function(e){return e[1]}},8875:(e,t,n)=>{var r;!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},4063:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},3162:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){s(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,n,a){var s=i.URL||i.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):r(l.href)?t(e,n,a):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),n);else if(r(e))t(e,n,i);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var s="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},c.readAsDataURL(e)}else{var d=i.URL||i.webkitURL,p=d.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout((function(){d.revokeObjectURL(p)}),4e4)}});i.saveAs=s.saveAs=s,e.exports=s})?r.apply(t,[]):r)||(e.exports=o)},9090:e=>{function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,o){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"==typeof r&&(o=r,r={}),r=r||{},o=o||function(){},a.type=r.type||"text/javascript",a.charset=r.charset||"utf8",a.async=!("async"in r)||!!r.async,a.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,r.attrs),r.text&&(a.text=""+r.text),("onload"in a?t:n)(a,o),a.onload||t(a,o),i.appendChild(a)}},1296:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")(),d=Object.prototype.toString,p=Math.max,h=Math.min,f=function(){return c.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function v(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function x(){var e=f();if(v(e))return w(e);s=setTimeout(x,function(e){var n=t-(e-l);return d?h(n,i-(e-u)):n}(e))}function w(e){return s=void 0,b&&r?y(e):(r=o=void 0,a)}function k(){var e=f(),n=v(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(x,t),c?y(e):a}(l);if(d)return s=setTimeout(x,t),y(l)}return void 0===s&&(s=setTimeout(x,t)),a}return t=g(t)||0,m(n)&&(c=!!n.leading,i=(d="maxWait"in n)?p(g(n.maxWait)||0,t):i,b="trailing"in n?!!n.trailing:b),k.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},k.flush=function(){return void 0===s?a:w(f())},k}},3096:(e,t,n)=>{var r="Expected a function",o=NaN,i="[object Symbol]",a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,p="object"==typeof self&&self&&self.Object===Object&&self,h=d||p||Function("return this")(),f=Object.prototype.toString,m=Math.max,g=Math.min,b=function(){return h.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&f.call(e)==i}(e))return o;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=l.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):s.test(e)?o:+e}e.exports=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new TypeError(r);return y(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),function(e,t,n){var o,i,a,s,l,u,c=0,d=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError(r);function f(t){var n=o,r=i;return o=i=void 0,c=t,s=e.apply(r,n)}function x(e){var n=e-u;return void 0===u||n>=t||n<0||p&&e-c>=a}function w(){var e=b();if(x(e))return k(e);l=setTimeout(w,function(e){var n=t-(e-u);return p?g(n,a-(e-c)):n}(e))}function k(e){return l=void 0,h&&o?f(e):(o=i=void 0,s)}function _(){var e=b(),n=x(e);if(o=arguments,i=this,u=e,n){if(void 0===l)return function(e){return c=e,l=setTimeout(w,t),d?f(e):s}(u);if(p)return l=setTimeout(w,t),f(u)}return void 0===l&&(l=setTimeout(w,t)),s}return t=v(t)||0,y(n)&&(d=!!n.leading,a=(p="maxWait"in n)?m(v(n.maxWait)||0,t):a,h="trailing"in n?!!n.trailing:h),_.cancel=function(){void 0!==l&&clearTimeout(l),c=0,o=u=i=l=void 0},_.flush=function(){return void 0===l?s:k(b())},_}(e,t,{leading:o,maxWait:t,trailing:i})}},8552:(e,t,n)=>{var r=n(852)(n(5639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(1789),o=n(401),i=n(7667),a=n(1327),s=n(1866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},8407:(e,t,n)=>{var r=n(7040),o=n(4125),i=n(2117),a=n(7529),s=n(3399);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},7071:(e,t,n)=>{var r=n(852)(n(5639),"Map");e.exports=r},3369:(e,t,n)=>{var r=n(4785),o=n(1285),i=n(6e3),a=n(9916),s=n(5265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},3818:(e,t,n)=>{var r=n(852)(n(5639),"Promise");e.exports=r},8525:(e,t,n)=>{var r=n(852)(n(5639),"Set");e.exports=r},8668:(e,t,n)=>{var r=n(3369),o=n(619),i=n(2385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},6384:(e,t,n)=>{var r=n(8407),o=n(7465),i=n(3779),a=n(7599),s=n(4758),l=n(4309);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},2705:(e,t,n)=>{var r=n(5639).Symbol;e.exports=r},1149:(e,t,n)=>{var r=n(5639).Uint8Array;e.exports=r},577:(e,t,n)=>{var r=n(852)(n(5639),"WeakMap");e.exports=r},7412:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},4963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},4636:(e,t,n)=>{var r=n(2545),o=n(5694),i=n(1469),a=n(8264),s=n(5776),l=n(6719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),c=!n&&o(e),d=!n&&!c&&a(e),p=!n&&!c&&!d&&l(e),h=n||c||d||p,f=h?r(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},9932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},2488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},2908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4865:(e,t,n)=>{var r=n(9465),o=n(7813),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&o(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},8470:(e,t,n)=>{var r=n(7813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},4037:(e,t,n)=>{var r=n(8363),o=n(3674);e.exports=function(e,t){return e&&r(t,o(t),e)}},3886:(e,t,n)=>{var r=n(8363),o=n(1704);e.exports=function(e,t){return e&&r(t,o(t),e)}},9465:(e,t,n)=>{var r=n(8777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5990:(e,t,n)=>{var r=n(6384),o=n(7412),i=n(4865),a=n(4037),s=n(3886),l=n(4626),u=n(278),c=n(8805),d=n(1911),p=n(8234),h=n(6904),f=n(4160),m=n(3824),g=n(9148),b=n(8517),y=n(1469),v=n(8264),x=n(6688),w=n(3218),k=n(2928),_=n(3674),S=n(1704),E="[object Arguments]",T="[object Function]",C="[object Object]",I={};I[E]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[C]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[T]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,j,A,O,N){var R,P=1&n,M=2&n,D=4&n;if(j&&(R=O?j(t,A,O,N):j(t)),void 0!==R)return R;if(!w(t))return t;var L=y(t);if(L){if(R=m(t),!P)return u(t,R)}else{var F=f(t),B=F==T||"[object GeneratorFunction]"==F;if(v(t))return l(t,P);if(F==C||F==E||B&&!O){if(R=M||B?{}:b(t),!P)return M?d(t,s(R,t)):c(t,a(R,t))}else{if(!I[F])return O?t:{};R=g(t,F,P)}}N||(N=new r);var $=N.get(t);if($)return $;N.set(t,R),k(t)?t.forEach((function(r){R.add(e(r,n,j,r,t,N))})):x(t)&&t.forEach((function(r,o){R.set(o,e(r,n,j,o,t,N))}));var z=L?void 0:(D?M?h:p:M?S:_)(t);return o(z||t,(function(r,o){z&&(r=t[o=r]),i(R,o,e(r,n,j,o,t,N))})),R}},3118:(e,t,n)=>{var r=n(3218),o=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},9881:(e,t,n)=>{var r=n(7816),o=n(9291)(r);e.exports=o},8483:(e,t,n)=>{var r=n(5063)();e.exports=r},7816:(e,t,n)=>{var r=n(8483),o=n(3674);e.exports=function(e,t){return e&&r(e,t,o)}},7786:(e,t,n)=>{var r=n(1811),o=n(327);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},8866:(e,t,n)=>{var r=n(2488),o=n(1469);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},4239:(e,t,n)=>{var r=n(2705),o=n(9607),i=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},9454:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},939:(e,t,n)=>{var r=n(2492),o=n(7005);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},2492:(e,t,n)=>{var r=n(6384),o=n(7114),i=n(8351),a=n(6096),s=n(4160),l=n(1469),u=n(8264),c=n(6719),d="[object Arguments]",p="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,b){var y=l(e),v=l(t),x=y?p:s(e),w=v?p:s(t),k=(x=x==d?h:x)==h,_=(w=w==d?h:w)==h,S=x==w;if(S&&u(e)){if(!u(t))return!1;y=!0,k=!1}if(S&&!k)return b||(b=new r),y||c(e)?o(e,t,n,m,g,b):i(e,t,x,n,m,g,b);if(!(1&n)){var E=k&&f.call(e,"__wrapped__"),T=_&&f.call(t,"__wrapped__");if(E||T){var C=E?e.value():e,I=T?t.value():t;return b||(b=new r),g(C,I,n,m,b)}}return!!S&&(b||(b=new r),a(e,t,n,m,g,b))}},5588:(e,t,n)=>{var r=n(4160),o=n(7005);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},2958:(e,t,n)=>{var r=n(6384),o=n(939);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],d=e[c],p=u[1];if(l&&u[2]){if(void 0===d&&!(c in e))return!1}else{var h=new r;if(i)var f=i(d,p,c,e,t,h);if(!(void 0===f?o(p,d,3,i,h):f))return!1}}return!0}},8458:(e,t,n)=>{var r=n(3560),o=n(5346),i=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,d=u.hasOwnProperty,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:s).test(a(e))}},9221:(e,t,n)=>{var r=n(4160),o=n(7005);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},8749:(e,t,n)=>{var r=n(4239),o=n(1780),i=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},7206:(e,t,n)=>{var r=n(1573),o=n(6432),i=n(6557),a=n(1469),s=n(9601);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},280:(e,t,n)=>{var r=n(5726),o=n(6916),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},313:(e,t,n)=>{var r=n(3218),o=n(5726),i=n(3498),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=o(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},9199:(e,t,n)=>{var r=n(9881),o=n(8612);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},1573:(e,t,n)=>{var r=n(2958),o=n(1499),i=n(2634);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},6432:(e,t,n)=>{var r=n(939),o=n(7361),i=n(9095),a=n(5403),s=n(9162),l=n(2634),u=n(327);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9152:(e,t,n)=>{var r=n(7786);e.exports=function(e){return function(t){return r(t,e)}}},2545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},531:(e,t,n)=>{var r=n(2705),o=n(9932),i=n(1469),a=n(3448),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},4757:e=>{e.exports=function(e,t){return e.has(t)}},4290:(e,t,n)=>{var r=n(6557);e.exports=function(e){return"function"==typeof e?e:r}},1811:(e,t,n)=>{var r=n(1469),o=n(5403),i=n(5514),a=n(9833);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},4318:(e,t,n)=>{var r=n(1149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},4626:(e,t,n)=>{e=n.nmd(e);var r=n(5639),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},7157:(e,t,n)=>{var r=n(4318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},3147:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},419:(e,t,n)=>{var r=n(2705),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},7133:(e,t,n)=>{var r=n(4318);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},278:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},8363:(e,t,n)=>{var r=n(4865),o=n(9465);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var u=t[s],c=i?i(n[u],e[u],u,n,e):void 0;void 0===c&&(c=e[u]),a?o(n,u,c):r(n,u,c)}return n}},8805:(e,t,n)=>{var r=n(8363),o=n(9551);e.exports=function(e,t){return r(e,o(e),t)}},1911:(e,t,n)=>{var r=n(8363),o=n(1442);e.exports=function(e,t){return r(e,o(e),t)}},4429:(e,t,n)=>{var r=n(5639)["__core-js_shared__"];e.exports=r},9291:(e,t,n)=>{var r=n(8612);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},5063:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},8777:(e,t,n)=>{var r=n(852),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},7114:(e,t,n)=>{var r=n(8668),o=n(2908),i=n(4757);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,d=t.length;if(c!=d&&!(u&&d>c))return!1;var p=l.get(e),h=l.get(t);if(p&&h)return p==t&&h==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var b=e[f],y=t[f];if(a)var v=u?a(y,b,f,t,e,l):a(b,y,f,e,t,l);if(void 0!==v){if(v)continue;m=!1;break}if(g){if(!o(t,(function(e,t){if(!i(g,t)&&(b===e||s(b,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(b!==y&&!s(b,y,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},8351:(e,t,n)=>{var r=n(2705),o=n(1149),i=n(7813),a=n(7114),s=n(8776),l=n(1814),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,d,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var f=1&r;if(h||(h=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=a(h(e),h(t),r,u,d,p);return p.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},6096:(e,t,n)=>{var r=n(8234),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var d=c;d--;){var p=u[d];if(!(l?p in t:o.call(t,p)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<c;){var b=e[p=u[d]],y=t[p];if(i)var v=l?i(y,b,p,t,e,s):i(b,y,p,e,t,s);if(!(void 0===v?b===y||a(b,y,n,i,s):v)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},1957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8234:(e,t,n)=>{var r=n(8866),o=n(9551),i=n(3674);e.exports=function(e){return r(e,i,o)}},6904:(e,t,n)=>{var r=n(8866),o=n(1442),i=n(1704);e.exports=function(e){return r(e,i,o)}},5050:(e,t,n)=>{var r=n(7019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:(e,t,n)=>{var r=n(9162),o=n(3674);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},852:(e,t,n)=>{var r=n(8458),o=n(7801);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},5924:(e,t,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);e.exports=r},9607:(e,t,n)=>{var r=n(2705),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},9551:(e,t,n)=>{var r=n(4963),o=n(479),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},1442:(e,t,n)=>{var r=n(2488),o=n(5924),i=n(9551),a=n(479),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=o(e);return t}:a;e.exports=s},4160:(e,t,n)=>{var r=n(8552),o=n(7071),i=n(3818),a=n(8525),s=n(577),l=n(4239),u=n(346),c="[object Map]",d="[object Promise]",p="[object Set]",h="[object WeakMap]",f="[object DataView]",m=u(r),g=u(o),b=u(i),y=u(a),v=u(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=f||o&&x(new o)!=c||i&&x(i.resolve())!=d||a&&x(new a)!=p||s&&x(new s)!=h)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return f;case g:return c;case b:return d;case y:return p;case v:return h}return t}),e.exports=x},7801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var r=n(1811),o=n(5694),i=n(1469),a=n(5776),s=n(1780),l=n(327);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var p=l(t[u]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&s(c)&&a(p,c)&&(i(e)||o(e))}},1789:(e,t,n)=>{var r=n(4536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},7667:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},1327:(e,t,n)=>{var r=n(4536),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},1866:(e,t,n)=>{var r=n(4536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},3824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},9148:(e,t,n)=>{var r=n(4318),o=n(7157),i=n(3147),a=n(419),s=n(7133);e.exports=function(e,t,n){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},8517:(e,t,n)=>{var r=n(3118),o=n(5924),i=n(5726);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(o(e))}},5776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5403:(e,t,n)=>{var r=n(1469),o=n(3448),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},7019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},5346:(e,t,n)=>{var r,o=n(4429),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},5726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},9162:(e,t,n)=>{var r=n(3218);e.exports=function(e){return e==e&&!r(e)}},7040:e=>{e.exports=function(){this.__data__=[],this.size=0}},4125:(e,t,n)=>{var r=n(8470),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},2117:(e,t,n)=>{var r=n(8470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7529:(e,t,n)=>{var r=n(8470);e.exports=function(e){return r(this.__data__,e)>-1}},3399:(e,t,n)=>{var r=n(8470);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},4785:(e,t,n)=>{var r=n(1989),o=n(8407),i=n(7071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},1285:(e,t,n)=>{var r=n(5050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},6e3:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).get(e)}},9916:(e,t,n)=>{var r=n(5050);e.exports=function(e){return r(this,e).has(e)}},5265:(e,t,n)=>{var r=n(5050);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},8776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},2634:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},4523:(e,t,n)=>{var r=n(8306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4536:(e,t,n)=>{var r=n(852)(Object,"create");e.exports=r},6916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},3498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1167:(e,t,n)=>{e=n.nmd(e);var r=n(1957),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},5639:(e,t,n)=>{var r=n(1957),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},2385:e=>{e.exports=function(e){return this.__data__.has(e)}},1814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},7465:(e,t,n)=>{var r=n(8407);e.exports=function(){this.__data__=new r,this.size=0}},3779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},7599:e=>{e.exports=function(e){return this.__data__.get(e)}},4758:e=>{e.exports=function(e){return this.__data__.has(e)}},4309:(e,t,n)=>{var r=n(8407),o=n(7071),i=n(3369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},5514:(e,t,n)=>{var r=n(4523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},327:(e,t,n)=>{var r=n(3448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},361:(e,t,n)=>{var r=n(5990);e.exports=function(e){return r(e,5)}},7813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},2525:(e,t,n)=>{var r=n(7816),o=n(4290);e.exports=function(e,t){return e&&r(e,o(t))}},7361:(e,t,n)=>{var r=n(7786);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},9095:(e,t,n)=>{var r=n(13),o=n(222);e.exports=function(e,t){return null!=e&&o(e,t,r)}},6557:e=>{e.exports=function(e){return e}},5694:(e,t,n)=>{var r=n(9454),o=n(7005),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},8612:(e,t,n)=>{var r=n(3560),o=n(1780);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},8264:(e,t,n)=>{e=n.nmd(e);var r=n(5639),o=n(5062),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},3560:(e,t,n)=>{var r=n(4239),o=n(3218);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6688:(e,t,n)=>{var r=n(5588),o=n(7518),i=n(1167),a=i&&i.isMap,s=a?o(a):r;e.exports=s},3218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8630:(e,t,n)=>{var r=n(4239),o=n(5924),i=n(7005),a=Function.prototype,s=Object.prototype,l=a.toString,u=s.hasOwnProperty,c=l.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==c}},2928:(e,t,n)=>{var r=n(9221),o=n(7518),i=n(1167),a=i&&i.isSet,s=a?o(a):r;e.exports=s},7037:(e,t,n)=>{var r=n(4239),o=n(1469),i=n(7005);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==r(e)}},3448:(e,t,n)=>{var r=n(4239),o=n(7005);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},6719:(e,t,n)=>{var r=n(8749),o=n(7518),i=n(1167),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},3674:(e,t,n)=>{var r=n(4636),o=n(280),i=n(8612);e.exports=function(e){return i(e)?r(e):o(e)}},1704:(e,t,n)=>{var r=n(4636),o=n(313),i=n(8612);e.exports=function(e){return i(e)?r(e,!0):o(e)}},5161:(e,t,n)=>{var r=n(9932),o=n(7206),i=n(9199),a=n(1469);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},8306:(e,t,n)=>{var r=n(3369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},9601:(e,t,n)=>{var r=n(371),o=n(9152),i=n(5403),a=n(327);e.exports=function(e){return i(e)?r(a(e)):o(e)}},479:e=>{e.exports=function(){return[]}},5062:e=>{e.exports=function(){return!1}},9833:(e,t,n)=>{var r=n(531);e.exports=function(e){return null==e?"":r(e)}},2778:()=>{!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=40)}([function(e,t,n){var r;r=function(){"use strict";function e(e,t){this.isUndef(e)||1===e?this.input=this.context.createGain():1<e&&(this.input=new Array(e)),this.isUndef(t)||1===t?this.output=this.context.createGain():1<t&&(this.output=new Array(e))}var t;return e.prototype.set=function(t,n,r){if(this.isObject(t))r=n;else if(this.isString(t)){var o={};o[t]=n,t=o}e:for(var i in t){n=t[i];var a=this;if(-1!==i.indexOf(".")){for(var s=i.split("."),l=0;l<s.length-1;l++)if((a=a[s[l]])instanceof e){s.splice(0,l+1);var u=s.join(".");a.set(u,n);continue e}i=s[s.length-1]}var c=a[i];this.isUndef(c)||(e.Signal&&c instanceof e.Signal||e.Param&&c instanceof e.Param?c.value!==n&&(this.isUndef(r)?c.value=n:c.rampTo(n,r)):c instanceof AudioParam?c.value!==n&&(c.value=n):c instanceof e?c.set(n):c!==n&&(a[i]=n))}return this},e.prototype.get=function(t){this.isUndef(t)?t=this._collectDefaults(this.constructor):this.isString(t)&&(t=[t]);for(var n={},r=0;r<t.length;r++){var o=t[r],i=this,a=n;if(-1!==o.indexOf(".")){for(var s=o.split("."),l=0;l<s.length-1;l++){var u=s[l];a[u]=a[u]||{},a=a[u],i=i[u]}o=s[s.length-1]}var c=i[o];this.isObject(t[o])?a[o]=c.get():e.Signal&&c instanceof e.Signal||e.Param&&c instanceof e.Param||c instanceof AudioParam?a[o]=c.value:c instanceof e?a[o]=c.get():this.isFunction(c)||this.isUndef(c)||(a[o]=c)}return n},e.prototype._collectDefaults=function(e){var t=[];if(this.isUndef(e.defaults)||(t=Object.keys(e.defaults)),!this.isUndef(e._super))for(var n=this._collectDefaults(e._super),r=0;r<n.length;r++)-1===t.indexOf(n[r])&&t.push(n[r]);return t},e.prototype.toString=function(){for(var t in e){var n=t[0].match(/^[A-Z]$/),r=e[t]===this.constructor;if(this.isFunction(e[t])&&n&&r)return t}return"Tone"},Object.defineProperty(e.prototype,"numberOfInputs",{get:function(){return this.input?this.isArray(this.input)?this.input.length:1:0}}),Object.defineProperty(e.prototype,"numberOfOutputs",{get:function(){return this.output?this.isArray(this.output)?this.output.length:1:0}}),e.prototype.dispose=function(){return this.isUndef(this.input)||(this.input instanceof AudioNode&&this.input.disconnect(),this.input=null),this.isUndef(this.output)||(this.output instanceof AudioNode&&this.output.disconnect(),this.output=null),this},e.prototype.connect=function(e,t,n){return Array.isArray(this.output)?(t=this.defaultArg(t,0),this.output[t].connect(e,0,n)):this.output.connect(e,t,n),this},e.prototype.disconnect=function(e,t,n){this.isArray(this.output)?this.isNumber(e)?this.output[e].disconnect():(t=this.defaultArg(t,0),this.output[t].disconnect(e,0,n)):this.output.disconnect.apply(this.output,arguments)},e.prototype.connectSeries=function(){if(1<arguments.length)for(var e=arguments[0],t=1;t<arguments.length;t++){var n=arguments[t];e.connect(n),e=n}return this},e.prototype.chain=function(){if(0<arguments.length)for(var e=this,t=0;t<arguments.length;t++){var n=arguments[t];e.connect(n),e=n}return this},e.prototype.fan=function(){if(0<arguments.length)for(var e=0;e<arguments.length;e++)this.connect(arguments[e]);return this},AudioNode.prototype.chain=e.prototype.chain,AudioNode.prototype.fan=e.prototype.fan,e.prototype.defaultArg=function(e,t){if(this.isObject(e)&&this.isObject(t)){var n={};for(var r in e)n[r]=this.defaultArg(t[r],e[r]);for(var o in t)n[o]=this.defaultArg(e[o],t[o]);return n}return this.isUndef(e)?t:e},e.prototype.optionsObject=function(e,t,n){var r={};if(1===e.length&&this.isObject(e[0]))r=e[0];else for(var o=0;o<t.length;o++)r[t[o]]=e[o];return this.isUndef(n)?r:this.defaultArg(r,n)},e.prototype.isUndef=function(e){return void 0===e},e.prototype.isFunction=function(e){return"function"==typeof e},e.prototype.isNumber=function(e){return"number"==typeof e},e.prototype.isObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object},e.prototype.isBoolean=function(e){return"boolean"==typeof e},e.prototype.isArray=function(e){return Array.isArray(e)},e.prototype.isString=function(e){return"string"==typeof e},e.noOp=function(){},e.prototype._readOnly=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this._readOnly(e[t]);else Object.defineProperty(this,e,{writable:!1,enumerable:!0})},e.prototype._writable=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this._writable(e[t]);else Object.defineProperty(this,e,{writable:!0})},e.State={Started:"started",Stopped:"stopped",Paused:"paused"},e.prototype.equalPowerScale=function(e){var t=.5*Math.PI;return Math.sin(e*t)},e.prototype.dbToGain=function(e){return Math.pow(2,e/6)},e.prototype.gainToDb=function(e){return Math.log(e)/Math.LN10*20},e.prototype.intervalToFrequencyRatio=function(e){return Math.pow(2,e/12)},e.prototype.now=function(){return e.context.now()},e.now=function(){return e.context.now()},e.extend=function(t,n){function r(){}e.prototype.isUndef(n)&&(n=e),r.prototype=n.prototype,t.prototype=new r,(t.prototype.constructor=t)._super=n},Object.defineProperty(e,"context",{get:function(){return t},set:function(n){t=e.Context&&n instanceof e.Context?n:new e.Context(n),e.Context&&e.Context.emit("init",t)}}),Object.defineProperty(e.prototype,"context",{get:function(){return e.context}}),e.setContext=function(t){e.context=t},Object.defineProperty(e.prototype,"blockTime",{get:function(){return 128/this.context.sampleRate}}),Object.defineProperty(e.prototype,"sampleTime",{get:function(){return 1/this.context.sampleRate}}),Object.defineProperty(e,"supported",{get:function(){var e=window.hasOwnProperty("AudioContext")||window.hasOwnProperty("webkitAudioContext"),t=window.hasOwnProperty("Promise"),n=window.hasOwnProperty("Worker");return e&&t&&n}}),e.version="r10",window.TONE_SILENCE_VERSION_LOGGING||console.log("%c * Tone.js "+e.version+" * ","background: #000; color: #fff"),e}.call(t,n,t,e),void 0===r||(e.exports=r)},function(e,t,n){var r,o;r=[n(0),n(2),n(10)],void 0===(o=function(e){"use strict";return e.Multiply=function(t){this.createInsOuts(2,0),this._mult=this.input[0]=this.output=new e.Gain,this._param=this.input[1]=this.output.gain,this._param.value=this.defaultArg(t,0)},e.extend(e.Multiply,e.Signal),e.Multiply.prototype.dispose=function(){return e.prototype.dispose.call(this),this._mult.dispose(),this._mult=null,this._param=null,this},e.Multiply}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(6),n(9),n(18),n(10)],o=function(e){"use strict";return e.Signal=function(){var t=this.optionsObject(arguments,["value","units"],e.Signal.defaults);this.output=this._gain=this.context.createGain(),t.param=this._gain.gain,e.Param.call(this,t),this.input=this._param=this._gain.gain,this.context.getConstant(1).chain(this._gain)},e.extend(e.Signal,e.Param),e.Signal.defaults={value:0,units:e.Type.Default,convert:!0},e.Signal.prototype.connect=e.SignalBase.prototype.connect,e.Signal.prototype.dispose=function(){return e.Param.prototype.dispose.call(this),this._param=null,this._gain.disconnect(),this._gain=null,this},e.Signal}.apply(t,r),void 0===o||(e.exports=o)},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n(22),o=n.n(r),i=n(0),a=n.n(i),s=n(12);n.n(s),e.TONE_SILENCE_VERSION_LOGGING=!0;var l=new window.AudioContext;function u(){return l}function c(e,t){var n=e;return e instanceof p5.Element?n=e.elt:e instanceof Array&&e[0]instanceof p5.Element&&(n=e.map((function(e){return e.elt}))),o()(l,n,t)}a.a.setContext(l),t.a=l}).call(this,n(26))},function(e,t,n){var r,o;r=[n(0),n(2),n(10)],void 0===(o=function(e){"use strict";return e.Add=function(t){this.createInsOuts(2,0),this._sum=this.input[0]=this.input[1]=this.output=new e.Gain,this._param=this.input[1]=new e.Signal(t),this._param.connect(this._sum)},e.extend(e.Add,e.Signal),e.Add.prototype.dispose=function(){return e.prototype.dispose.call(this),this._sum.dispose(),this._sum=null,this._param.dispose(),this._param=null,this},e.Add}.apply(t,r))||(e.exports=o)},function(e,t){e.exports={recorderProcessor:"recorder-processor",soundFileProcessor:"sound-file-processor",amplitudeProcessor:"amplitude-processor"}},function(e,t,n){var r,o;r=[n(0),n(15)],void 0===(o=function(e){"use strict";return e.WaveShaper=function(e,t){this._shaper=this.input=this.output=this.context.createWaveShaper(),this._curve=null,Array.isArray(e)?this.curve=e:isFinite(e)||this.isUndef(e)?this._curve=new Float32Array(this.defaultArg(e,1024)):this.isFunction(e)&&(this._curve=new Float32Array(this.defaultArg(t,1024)),this.setMap(e))},e.extend(e.WaveShaper,e.SignalBase),e.WaveShaper.prototype.setMap=function(e){for(var t=0,n=this._curve.length;t<n;t++){var r=t/(n-1)*2-1;this._curve[t]=e(r,t)}return this._shaper.curve=this._curve,this},Object.defineProperty(e.WaveShaper.prototype,"curve",{get:function(){return this._shaper.curve},set:function(e){this._curve=new Float32Array(e),this._shaper.curve=this._curve}}),Object.defineProperty(e.WaveShaper.prototype,"oversample",{get:function(){return this._shaper.oversample},set:function(e){if(-1===["none","2x","4x"].indexOf(e))throw new RangeError("Tone.WaveShaper: oversampling must be either 'none', '2x', or '4x'");this._shaper.oversample=e}}),e.WaveShaper.prototype.dispose=function(){return e.prototype.dispose.call(this),this._shaper.disconnect(),this._shaper=null,this._curve=null,this},e.WaveShaper}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(2),n(19)],o=function(e){"use strict";return e.TimelineSignal=function(){var t=this.optionsObject(arguments,["value","units"],e.Signal.defaults);this._events=new e.Timeline(10),e.Signal.apply(this,t),t.param=this._param,e.Param.call(this,t),this._initial=this._fromUnits(this._param.value)},e.extend(e.TimelineSignal,e.Param),e.TimelineSignal.Type={Linear:"linear",Exponential:"exponential",Target:"target",Curve:"curve",Set:"set"},Object.defineProperty(e.TimelineSignal.prototype,"value",{get:function(){var e=this.now(),t=this.getValueAtTime(e);return this._toUnits(t)},set:function(e){var t=this._fromUnits(e);this._initial=t,this.cancelScheduledValues(),this._param.value=t}}),e.TimelineSignal.prototype.setValueAtTime=function(t,n){return t=this._fromUnits(t),n=this.toSeconds(n),this._events.add({type:e.TimelineSignal.Type.Set,value:t,time:n}),this._param.setValueAtTime(t,n),this},e.TimelineSignal.prototype.linearRampToValueAtTime=function(t,n){return t=this._fromUnits(t),n=this.toSeconds(n),this._events.add({type:e.TimelineSignal.Type.Linear,value:t,time:n}),this._param.linearRampToValueAtTime(t,n),this},e.TimelineSignal.prototype.exponentialRampToValueAtTime=function(t,n){n=this.toSeconds(n);var r=this._searchBefore(n);r&&0===r.value&&this.setValueAtTime(this._minOutput,r.time),t=this._fromUnits(t);var o=Math.max(t,this._minOutput);return this._events.add({type:e.TimelineSignal.Type.Exponential,value:o,time:n}),t<this._minOutput?(this._param.exponentialRampToValueAtTime(this._minOutput,n-this.sampleTime),this.setValueAtTime(0,n)):this._param.exponentialRampToValueAtTime(t,n),this},e.TimelineSignal.prototype.setTargetAtTime=function(t,n,r){return t=this._fromUnits(t),t=Math.max(this._minOutput,t),r=Math.max(this._minOutput,r),n=this.toSeconds(n),this._events.add({type:e.TimelineSignal.Type.Target,value:t,time:n,constant:r}),this._param.setTargetAtTime(t,n,r),this},e.TimelineSignal.prototype.setValueCurveAtTime=function(t,n,r,o){o=this.defaultArg(o,1);for(var i=new Array(t.length),a=0;a<i.length;a++)i[a]=this._fromUnits(t[a])*o;n=this.toSeconds(n),r=this.toSeconds(r),this._events.add({type:e.TimelineSignal.Type.Curve,value:i,time:n,duration:r}),this._param.setValueAtTime(i[0],n);for(var s=1;s<i.length;s++){var l=n+s/(i.length-1)*r;this._param.linearRampToValueAtTime(i[s],l)}return this},e.TimelineSignal.prototype.cancelScheduledValues=function(e){return e=this.toSeconds(e),this._events.cancel(e),this._param.cancelScheduledValues(e),this},e.TimelineSignal.prototype.setRampPoint=function(t){t=this.toSeconds(t);var n=this._toUnits(this.getValueAtTime(t)),r=this._searchBefore(t);if(r&&r.time===t)this.cancelScheduledValues(t+this.sampleTime);else if(r&&r.type===e.TimelineSignal.Type.Curve&&r.time+r.duration>t)this.cancelScheduledValues(t),this.linearRampToValueAtTime(n,t);else{var o=this._searchAfter(t);o&&(this.cancelScheduledValues(t),o.type===e.TimelineSignal.Type.Linear?this.linearRampToValueAtTime(n,t):o.type===e.TimelineSignal.Type.Exponential&&this.exponentialRampToValueAtTime(n,t)),this.setValueAtTime(n,t)}return this},e.TimelineSignal.prototype.linearRampToValueBetween=function(e,t,n){return this.setRampPoint(t),this.linearRampToValueAtTime(e,n),this},e.TimelineSignal.prototype.exponentialRampToValueBetween=function(e,t,n){return this.setRampPoint(t),this.exponentialRampToValueAtTime(e,n),this},e.TimelineSignal.prototype._searchBefore=function(e){return this._events.get(e)},e.TimelineSignal.prototype._searchAfter=function(e){return this._events.getAfter(e)},e.TimelineSignal.prototype.getValueAtTime=function(t){t=this.toSeconds(t);var n=this._searchAfter(t),r=this._searchBefore(t),o=this._initial;if(null===r)o=this._initial;else if(r.type===e.TimelineSignal.Type.Target){var i,a=this._events.getBefore(r.time);i=null===a?this._initial:a.value,o=this._exponentialApproach(r.time,i,r.value,r.constant,t)}else o=r.type===e.TimelineSignal.Type.Curve?this._curveInterpolate(r.time,r.value,r.duration,t):null===n?r.value:n.type===e.TimelineSignal.Type.Linear?this._linearInterpolate(r.time,r.value,n.time,n.value,t):n.type===e.TimelineSignal.Type.Exponential?this._exponentialInterpolate(r.time,r.value,n.time,n.value,t):r.value;return o},e.TimelineSignal.prototype.connect=e.SignalBase.prototype.connect,e.TimelineSignal.prototype._exponentialApproach=function(e,t,n,r,o){return n+(t-n)*Math.exp(-(o-e)/r)},e.TimelineSignal.prototype._linearInterpolate=function(e,t,n,r,o){return t+(o-e)/(n-e)*(r-t)},e.TimelineSignal.prototype._exponentialInterpolate=function(e,t,n,r,o){return(t=Math.max(this._minOutput,t))*Math.pow(r/t,(o-e)/(n-e))},e.TimelineSignal.prototype._curveInterpolate=function(e,t,n,r){var o=t.length;if(e+n<=r)return t[o-1];if(r<=e)return t[0];var i=(r-e)/n,a=Math.floor((o-1)*i),s=Math.ceil((o-1)*i),l=t[a],u=t[s];return s===a?l:this._linearInterpolate(a,l,s,u,i*(o-1))},e.TimelineSignal.prototype.dispose=function(){e.Signal.prototype.dispose.call(this),e.Param.prototype.dispose.call(this),this._events.dispose(),this._events=null},e.TimelineSignal}.apply(t,r),void 0===o||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(4),n(1),n(2)],void 0===(o=function(e){"use strict";return e.Scale=function(t,n){this._outputMin=this.defaultArg(t,0),this._outputMax=this.defaultArg(n,1),this._scale=this.input=new e.Multiply(1),this._add=this.output=new e.Add(0),this._scale.connect(this._add),this._setRange()},e.extend(e.Scale,e.SignalBase),Object.defineProperty(e.Scale.prototype,"min",{get:function(){return this._outputMin},set:function(e){this._outputMin=e,this._setRange()}}),Object.defineProperty(e.Scale.prototype,"max",{get:function(){return this._outputMax},set:function(e){this._outputMax=e,this._setRange()}}),e.Scale.prototype._setRange=function(){this._add.value=this._outputMin,this._scale.value=this._outputMax-this._outputMin},e.Scale.prototype.dispose=function(){return e.prototype.dispose.call(this),this._add.dispose(),this._add=null,this._scale.dispose(),this._scale=null,this},e.Scale}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(16),n(30),n(31),n(12)],void 0===(o=function(e){return e.Type={Default:"number",Time:"time",Frequency:"frequency",TransportTime:"transportTime",Ticks:"ticks",NormalRange:"normalRange",AudioRange:"audioRange",Decibels:"db",Interval:"interval",BPM:"bpm",Positive:"positive",Cents:"cents",Degrees:"degrees",MIDI:"midi",BarsBeatsSixteenths:"barsBeatsSixteenths",Samples:"samples",Hertz:"hertz",Note:"note",Milliseconds:"milliseconds",Seconds:"seconds",Notation:"notation"},e.prototype.toSeconds=function(t){return this.isNumber(t)?t:this.isUndef(t)?this.now():this.isString(t)?new e.Time(t).toSeconds():t instanceof e.TimeBase?t.toSeconds():void 0},e.prototype.toFrequency=function(t){return this.isNumber(t)?t:this.isString(t)||this.isUndef(t)?new e.Frequency(t).valueOf():t instanceof e.TimeBase?t.toFrequency():void 0},e.prototype.toTicks=function(t){return this.isNumber(t)||this.isString(t)?new e.TransportTime(t).toTicks():this.isUndef(t)?e.Transport.ticks:t instanceof e.TimeBase?t.toTicks():void 0},e}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(18),n(9)],o=function(e){"use strict";return window.GainNode&&!AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),e.Gain=function(){var t=this.optionsObject(arguments,["gain","units"],e.Gain.defaults);this.input=this.output=this._gainNode=this.context.createGain(),this.gain=new e.Param({param:this._gainNode.gain,units:t.units,value:t.gain,convert:t.convert}),this._readOnly("gain")},e.extend(e.Gain),e.Gain.defaults={gain:1,convert:!0},e.Gain.prototype.dispose=function(){e.Param.prototype.dispose.call(this),this._gainNode.disconnect(),this._gainNode=null,this._writable("gain"),this.gain.dispose(),this.gain=null},e.prototype.createInsOuts=function(t,n){1===t?this.input=new e.Gain:1<t&&(this.input=new Array(t)),1===n?this.output=new e.Gain:1<n&&(this.output=new Array(t))},e.Gain}.apply(t,r),void 0===o||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(7),n(39),n(14),n(12)],o=function(e){"use strict";return e.Clock=function(){e.Emitter.call(this);var t=this.optionsObject(arguments,["callback","frequency"],e.Clock.defaults);this.callback=t.callback,this._nextTick=0,this._lastState=e.State.Stopped,this.frequency=new e.TimelineSignal(t.frequency,e.Type.Frequency),this._readOnly("frequency"),this.ticks=0,this._state=new e.TimelineState(e.State.Stopped),this._boundLoop=this._loop.bind(this),this.context.on("tick",this._boundLoop)},e.extend(e.Clock,e.Emitter),e.Clock.defaults={callback:e.noOp,frequency:1,lookAhead:"auto"},Object.defineProperty(e.Clock.prototype,"state",{get:function(){return this._state.getValueAtTime(this.now())}}),e.Clock.prototype.start=function(t,n){return t=this.toSeconds(t),this._state.getValueAtTime(t)!==e.State.Started&&this._state.add({state:e.State.Started,time:t,offset:n}),this},e.Clock.prototype.stop=function(t){return t=this.toSeconds(t),this._state.cancel(t),this._state.setStateAtTime(e.State.Stopped,t),this},e.Clock.prototype.pause=function(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)===e.State.Started&&this._state.setStateAtTime(e.State.Paused,t),this},e.Clock.prototype._loop=function(){for(var t=this.now()+this.context.lookAhead+this.context.updateInterval+2*this.context.lag;t>this._nextTick&&this._state;){var n=this._state.getValueAtTime(this._nextTick);if(n!==this._lastState){this._lastState=n;var r=this._state.get(this._nextTick);n===e.State.Started?(this._nextTick=r.time,this.isUndef(r.offset)||(this.ticks=r.offset),this.emit("start",r.time,this.ticks)):n===e.State.Stopped?(this.ticks=0,this.emit("stop",r.time)):n===e.State.Paused&&this.emit("pause",r.time)}var o=this._nextTick;this.frequency&&(this._nextTick+=1/this.frequency.getValueAtTime(this._nextTick),n===e.State.Started&&(this.callback(o),this.ticks++))}},e.Clock.prototype.getStateAtTime=function(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)},e.Clock.prototype.dispose=function(){e.Emitter.prototype.dispose.call(this),this.context.off("tick",this._boundLoop),this._writable("frequency"),this.frequency.dispose(),this.frequency=null,this._boundLoop=null,this._nextTick=1/0,this.callback=null,this._state.dispose(),this._state=null},e.Clock}.apply(t,r),void 0===o||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(14)],o=function(e){function t(t,r,o){if(t.input)Array.isArray(t.input)?(e.prototype.isUndef(o)&&(o=0),this.connect(t.input[o])):this.connect(t.input,r,o);else try{t instanceof AudioNode?n.call(this,t,r,o):n.call(this,t,r)}catch(r){throw new Error("error connecting to node: "+t+"\n"+r)}}var n,r;return!window.hasOwnProperty("AudioContext")&&window.hasOwnProperty("webkitAudioContext")&&(window.AudioContext=window.webkitAudioContext),e.Context=function(t){for(var n in e.Emitter.call(this),t=t||new window.AudioContext,this._context=t,this._context)this._defineProperty(this._context,n);this._latencyHint="interactive",this._lookAhead=.1,this._updateInterval=this._lookAhead/3,this._computedUpdateInterval=0,this._worker=this._createWorker(),this._constants={}},e.extend(e.Context,e.Emitter),e.Emitter.mixin(e.Context),e.Context.prototype._defineProperty=function(e,t){this.isUndef(this[t])&&Object.defineProperty(this,t,{get:function(){return"function"==typeof e[t]?e[t].bind(e):e[t]},set:function(n){e[t]=n}})},e.Context.prototype.now=function(){return this._context.currentTime},e.Context.prototype._createWorker=function(){window.URL=window.URL||window.webkitURL;var e=new Blob(["var timeoutTime = "+(1e3*this._updateInterval).toFixed(1)+";self.onmessage = function(msg){\ttimeoutTime = parseInt(msg.data);};function tick(){\tsetTimeout(tick, timeoutTime);\tself.postMessage('tick');}tick();"]),t=URL.createObjectURL(e),n=new Worker(t);return n.addEventListener("message",function(){this.emit("tick")}.bind(this)),n.addEventListener("message",function(){var e=this.now();if(this.isNumber(this._lastUpdate)){var t=e-this._lastUpdate;this._computedUpdateInterval=Math.max(t,.97*this._computedUpdateInterval)}this._lastUpdate=e}.bind(this)),n},e.Context.prototype.getConstant=function(e){if(this._constants[e])return this._constants[e];for(var t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0),r=0;r<n.length;r++)n[r]=e;var o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=t,o.loop=!0,o.start(0),this._constants[e]=o},Object.defineProperty(e.Context.prototype,"lag",{get:function(){var e=this._computedUpdateInterval-this._updateInterval;return Math.max(e,0)}}),Object.defineProperty(e.Context.prototype,"lookAhead",{get:function(){return this._lookAhead},set:function(e){this._lookAhead=e}}),Object.defineProperty(e.Context.prototype,"updateInterval",{get:function(){return this._updateInterval},set:function(t){this._updateInterval=Math.max(t,e.prototype.blockTime),this._worker.postMessage(Math.max(1e3*t,1))}}),Object.defineProperty(e.Context.prototype,"latencyHint",{get:function(){return this._latencyHint},set:function(e){var t=e;if(this._latencyHint=e,this.isString(e))switch(e){case"interactive":t=.1,this._context.latencyHint=e;break;case"playback":t=.8,this._context.latencyHint=e;break;case"balanced":t=.25,this._context.latencyHint=e;break;case"fastest":t=.01}this.lookAhead=t,this.updateInterval=t/3}}),e.supported?(n=AudioNode.prototype.connect,r=AudioNode.prototype.disconnect,AudioNode.prototype.connect!==t&&(AudioNode.prototype.connect=t,AudioNode.prototype.disconnect=function(t,n,o){if(t&&t.input&&Array.isArray(t.input))e.prototype.isUndef(o)&&(o=0),this.disconnect(t.input[o],n,o);else if(t&&t.input)this.disconnect(t.input,n,o);else try{r.apply(this,arguments)}catch(n){throw new Error("error disconnecting node: "+t+"\n"+n)}}),e.context=new e.Context):console.warn("This browser does not support Tone.js"),e.Context}.apply(t,r),void 0===o||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(4),n(20),n(2),n(10)],void 0===(o=function(e){"use strict";return e.Subtract=function(t){this.createInsOuts(2,0),this._sum=this.input[0]=this.output=new e.Gain,this._neg=new e.Negate,this._param=this.input[1]=new e.Signal(t),this._param.chain(this._neg,this._sum)},e.extend(e.Subtract,e.Signal),e.Subtract.prototype.dispose=function(){return e.prototype.dispose.call(this),this._neg.dispose(),this._neg=null,this._sum.disconnect(),this._sum=null,this._param.dispose(),this._param=null,this},e.Subtract}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0)],o=function(e){"use strict";return e.Emitter=function(){this._events={}},e.extend(e.Emitter),e.Emitter.prototype.on=function(e,t){for(var n=e.split(/\W+/),r=0;r<n.length;r++){var o=n[r];this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(t)}return this},e.Emitter.prototype.off=function(t,n){for(var r=t.split(/\W+/),o=0;o<r.length;o++)if(t=r[o],this._events.hasOwnProperty(t))if(e.prototype.isUndef(n))this._events[t]=[];else for(var i=this._events[t],a=0;a<i.length;a++)i[a]===n&&i.splice(a,1);return this},e.Emitter.prototype.emit=function(e){if(this._events){var t=Array.apply(null,arguments).slice(1);if(this._events.hasOwnProperty(e))for(var n=this._events[e],r=0,o=n.length;r<o;r++)n[r].apply(this,t)}return this},e.Emitter.mixin=function(t){var n=["on","off","emit"];t._events={};for(var r=0;r<n.length;r++){var o=n[r],i=e.Emitter.prototype[o];t[o]=i}},e.Emitter.prototype.dispose=function(){return e.prototype.dispose.call(this),this._events=null,this},e.Emitter}.apply(t,r),void 0===o||(e.exports=o)},function(e,t,n){var r,o;r=[n(0)],void 0===(o=function(e){"use strict";return e.SignalBase=function(){},e.extend(e.SignalBase),e.SignalBase.prototype.connect=function(t,n,r){return e.Signal&&e.Signal===t.constructor||e.Param&&e.Param===t.constructor||e.TimelineSignal&&e.TimelineSignal===t.constructor?(t._param.cancelScheduledValues(0),t._param.value=0,t.overridden=!0):t instanceof AudioParam&&(t.cancelScheduledValues(0),t.value=0),e.prototype.connect.call(this,t,n,r),this},e.SignalBase}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(17)],void 0===(o=function(e){return e.Time=function(t,n){if(!(this instanceof e.Time))return new e.Time(t,n);this._plusNow=!1,e.TimeBase.call(this,t,n)},e.extend(e.Time,e.TimeBase),e.Time.prototype._unaryExpressions=Object.create(e.TimeBase.prototype._unaryExpressions),e.Time.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(t){return e.Transport.nextSubdivision(t())}},e.Time.prototype._unaryExpressions.now={regexp:/^\+/,method:function(e){return this._plusNow=!0,e()}},e.Time.prototype.quantize=function(e,t){return t=this.defaultArg(t,1),this._expr=function(e,t,n){return e=e(),t=t.toSeconds(),e+(Math.round(e/t)*t-e)*n}.bind(this,this._expr,new this.constructor(e),t),this},e.Time.prototype.addNow=function(){return this._plusNow=!0,this},e.Time.prototype._defaultExpr=function(){return this._plusNow=!0,this._noOp},e.Time.prototype.copy=function(t){return e.TimeBase.prototype.copy.call(this,t),this._plusNow=t._plusNow,this},e.Time.prototype.toNotation=function(){var e=this.toSeconds(),t=this._toNotationHelper(e,["1m","2n","4n","8n","16n","32n","64n","128n"]),n=this._toNotationHelper(e,["1m","2n","2t","4n","4t","8n","8t","16n","16t","32n","32t","64n","64t","128n"]);return n.split("+").length<t.split("+").length?n:t},e.Time.prototype._toNotationHelper=function(e,t){for(var n=this._notationToUnits(t[t.length-1]),r="",o=0;o<t.length;o++){var i=this._notationToUnits(t[o]),a=e/i;if(1-a%1<1e-6&&(a+=1e-6),0<(a=Math.floor(a))){if(r+=1===a?t[o]:a.toString()+"*"+t[o],(e-=a*i)<n)break;r+=" + "}}return""===r&&(r="0"),r},e.Time.prototype._notationToUnits=function(e){for(var t=this._primaryExpressions,n=[t.n,t.t,t.m],r=0;r<n.length;r++){var o=n[r],i=e.match(o.regexp);if(i)return o.method.call(this,i[1])}},e.Time.prototype.toBarsBeatsSixteenths=function(){var e=this._beatsToUnits(1),t=this.toSeconds()/e,n=Math.floor(t/this._timeSignature()),r=t%1*4;return t=Math.floor(t)%this._timeSignature(),3<(r=r.toString()).length&&(r=parseFloat(r).toFixed(3)),[n,t,r].join(":")},e.Time.prototype.toTicks=function(){var t=this._beatsToUnits(1),n=this.valueOf()/t;return Math.floor(n*e.Transport.PPQ)},e.Time.prototype.toSamples=function(){return this.toSeconds()*this.context.sampleRate},e.Time.prototype.toFrequency=function(){return 1/this.toSeconds()},e.Time.prototype.toSeconds=function(){return this.valueOf()},e.Time.prototype.toMilliseconds=function(){return 1e3*this.toSeconds()},e.Time.prototype.valueOf=function(){return this._expr()+(this._plusNow?this.now():0)},e.Time}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0)],void 0===(o=function(e){return e.TimeBase=function(t,n){if(!(this instanceof e.TimeBase))return new e.TimeBase(t,n);if(this._expr=this._noOp,t instanceof e.TimeBase)this.copy(t);else if(!this.isUndef(n)||this.isNumber(t)){n=this.defaultArg(n,this._defaultUnits);var r=this._primaryExpressions[n].method;this._expr=r.bind(this,t)}else this.isString(t)?this.set(t):this.isUndef(t)&&(this._expr=this._defaultExpr())},e.extend(e.TimeBase),e.TimeBase.prototype.set=function(e){return this._expr=this._parseExprString(e),this},e.TimeBase.prototype.clone=function(){var e=new this.constructor;return e.copy(this),e},e.TimeBase.prototype.copy=function(e){var t=e._expr();return this.set(t)},e.TimeBase.prototype._primaryExpressions={n:{regexp:/^(\d+)n/i,method:function(e){return 1===(e=parseInt(e))?this._beatsToUnits(this._timeSignature()):this._beatsToUnits(4/e)}},t:{regexp:/^(\d+)t/i,method:function(e){return e=parseInt(e),this._beatsToUnits(8/(3*parseInt(e)))}},m:{regexp:/^(\d+)m/i,method:function(e){return this._beatsToUnits(parseInt(e)*this._timeSignature())}},i:{regexp:/^(\d+)i/i,method:function(e){return this._ticksToUnits(parseInt(e))}},hz:{regexp:/^(\d+(?:\.\d+)?)hz/i,method:function(e){return this._frequencyToUnits(parseFloat(e))}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(e,t,n){var r=0;return e&&"0"!==e&&(r+=this._beatsToUnits(this._timeSignature()*parseFloat(e))),t&&"0"!==t&&(r+=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r}},s:{regexp:/^(\d+(?:\.\d+)?s)/,method:function(e){return this._secondsToUnits(parseFloat(e))}},samples:{regexp:/^(\d+)samples/,method:function(e){return parseInt(e)/this.context.sampleRate}},default:{regexp:/^(\d+(?:\.\d+)?)/,method:function(e){return this._primaryExpressions[this._defaultUnits].method.call(this,e)}}},e.TimeBase.prototype._binaryExpressions={"+":{regexp:/^\+/,precedence:2,method:function(e,t){return e()+t()}},"-":{regexp:/^\-/,precedence:2,method:function(e,t){return e()-t()}},"*":{regexp:/^\*/,precedence:1,method:function(e,t){return e()*t()}},"/":{regexp:/^\//,precedence:1,method:function(e,t){return e()/t()}}},e.TimeBase.prototype._unaryExpressions={neg:{regexp:/^\-/,method:function(e){return-e()}}},e.TimeBase.prototype._syntaxGlue={"(":{regexp:/^\(/},")":{regexp:/^\)/}},e.TimeBase.prototype._tokenize=function(e){for(var t=-1,n=[];0<e.length;){var r=o(e=e.trim(),this);n.push(r),e=e.substr(r.value.length)}function o(e,t){for(var n=["_binaryExpressions","_unaryExpressions","_primaryExpressions","_syntaxGlue"],r=0;r<n.length;r++){var o=t[n[r]];for(var i in o){var a=o[i],s=a.regexp,l=e.match(s);if(null!==l)return{method:a.method,precedence:a.precedence,regexp:a.regexp,value:l[0]}}}throw new SyntaxError("Tone.TimeBase: Unexpected token "+e)}return{next:function(){return n[++t]},peek:function(){return n[t+1]}}},e.TimeBase.prototype._matchGroup=function(e,t,n){if(!this.isUndef(e))for(var r in t){var o=t[r];if(o.regexp.test(e.value)){if(this.isUndef(n))return o;if(o.precedence===n)return o}}return!1},e.TimeBase.prototype._parseBinary=function(e,t){var n;this.isUndef(t)&&(t=2),n=t<0?this._parseUnary(e):this._parseBinary(e,t-1);for(var r=e.peek();r&&this._matchGroup(r,this._binaryExpressions,t);)n=(r=e.next()).method.bind(this,n,this._parseBinary(e,t-1)),r=e.peek();return n},e.TimeBase.prototype._parseUnary=function(e){var t,n;t=e.peek();var r=this._matchGroup(t,this._unaryExpressions);return r?(t=e.next(),n=this._parseUnary(e),r.method.bind(this,n)):this._parsePrimary(e)},e.TimeBase.prototype._parsePrimary=function(e){var t,n;if(t=e.peek(),this.isUndef(t))throw new SyntaxError("Tone.TimeBase: Unexpected end of expression");if(this._matchGroup(t,this._primaryExpressions)){var r=(t=e.next()).value.match(t.regexp);return t.method.bind(this,r[1],r[2],r[3])}if(t&&"("===t.value){if(e.next(),n=this._parseBinary(e),!(t=e.next())||")"!==t.value)throw new SyntaxError("Expected )");return n}throw new SyntaxError("Tone.TimeBase: Cannot process token "+t.value)},e.TimeBase.prototype._parseExprString=function(e){this.isString(e)||(e=e.toString());var t=this._tokenize(e);return this._parseBinary(t)},e.TimeBase.prototype._noOp=function(){return 0},e.TimeBase.prototype._defaultExpr=function(){return this._noOp},e.TimeBase.prototype._defaultUnits="s",e.TimeBase.prototype._frequencyToUnits=function(e){return 1/e},e.TimeBase.prototype._beatsToUnits=function(t){return 60/e.Transport.bpm.value*t},e.TimeBase.prototype._secondsToUnits=function(e){return e},e.TimeBase.prototype._ticksToUnits=function(t){return t*(this._beatsToUnits(1)/e.Transport.PPQ)},e.TimeBase.prototype._timeSignature=function(){return e.Transport.timeSignature},e.TimeBase.prototype._pushExpr=function(t,n,r){return t instanceof e.TimeBase||(t=new this.constructor(t,r)),this._expr=this._binaryExpressions[n].method.bind(this,this._expr,t._expr),this},e.TimeBase.prototype.add=function(e,t){return this._pushExpr(e,"+",t)},e.TimeBase.prototype.sub=function(e,t){return this._pushExpr(e,"-",t)},e.TimeBase.prototype.mult=function(e,t){return this._pushExpr(e,"*",t)},e.TimeBase.prototype.div=function(e,t){return this._pushExpr(e,"/",t)},e.TimeBase.prototype.valueOf=function(){return this._expr()},e.TimeBase.prototype.dispose=function(){this._expr=null},e.TimeBase}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(9)],o=function(e){"use strict";return e.Param=function(){var t=this.optionsObject(arguments,["param","units","convert"],e.Param.defaults);this._param=this.input=t.param,this.units=t.units,this.convert=t.convert,this.overridden=!1,this._lfo=null,this.isObject(t.lfo)?this.value=t.lfo:this.isUndef(t.value)||(this.value=t.value)},e.extend(e.Param),e.Param.defaults={units:e.Type.Default,convert:!0,param:void 0},Object.defineProperty(e.Param.prototype,"value",{get:function(){return this._toUnits(this._param.value)},set:function(t){if(this.isObject(t)){if(this.isUndef(e.LFO))throw new Error("Include 'Tone.LFO' to use an LFO as a Param value.");this._lfo&&this._lfo.dispose(),this._lfo=new e.LFO(t).start(),this._lfo.connect(this.input)}else{var n=this._fromUnits(t);this._param.cancelScheduledValues(0),this._param.value=n}}}),e.Param.prototype._fromUnits=function(t){if(!this.convert&&!this.isUndef(this.convert))return t;switch(this.units){case e.Type.Time:return this.toSeconds(t);case e.Type.Frequency:return this.toFrequency(t);case e.Type.Decibels:return this.dbToGain(t);case e.Type.NormalRange:return Math.min(Math.max(t,0),1);case e.Type.AudioRange:return Math.min(Math.max(t,-1),1);case e.Type.Positive:return Math.max(t,0);default:return t}},e.Param.prototype._toUnits=function(t){return(this.convert||this.isUndef(this.convert))&&this.units===e.Type.Decibels?this.gainToDb(t):t},e.Param.prototype._minOutput=1e-5,e.Param.prototype.setValueAtTime=function(e,t){return e=this._fromUnits(e),(t=this.toSeconds(t))<=this.now()+this.blockTime?this._param.value=e:this._param.setValueAtTime(e,t),this},e.Param.prototype.setRampPoint=function(e){e=this.defaultArg(e,this.now());var t=this._param.value;return 0===t&&(t=this._minOutput),this._param.setValueAtTime(t,e),this},e.Param.prototype.linearRampToValueAtTime=function(e,t){return e=this._fromUnits(e),this._param.linearRampToValueAtTime(e,this.toSeconds(t)),this},e.Param.prototype.exponentialRampToValueAtTime=function(e,t){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),this._param.exponentialRampToValueAtTime(e,this.toSeconds(t)),this},e.Param.prototype.exponentialRampToValue=function(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this},e.Param.prototype.linearRampToValue=function(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this},e.Param.prototype.setTargetAtTime=function(e,t,n){return e=this._fromUnits(e),e=Math.max(this._minOutput,e),n=Math.max(this._minOutput,n),this._param.setTargetAtTime(e,this.toSeconds(t),n),this},e.Param.prototype.setValueCurveAtTime=function(e,t,n){for(var r=0;r<e.length;r++)e[r]=this._fromUnits(e[r]);return this._param.setValueCurveAtTime(e,this.toSeconds(t),this.toSeconds(n)),this},e.Param.prototype.cancelScheduledValues=function(e){return this._param.cancelScheduledValues(this.toSeconds(e)),this},e.Param.prototype.rampTo=function(t,n,r){return n=this.defaultArg(n,0),this.units===e.Type.Frequency||this.units===e.Type.BPM||this.units===e.Type.Decibels?this.exponentialRampToValue(t,n,r):this.linearRampToValue(t,n,r),this},Object.defineProperty(e.Param.prototype,"lfo",{get:function(){return this._lfo}}),e.Param.prototype.dispose=function(){return e.prototype.dispose.call(this),this._param=null,this._lfo&&(this._lfo.dispose(),this._lfo=null),this},e.Param}.apply(t,r),void 0===o||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(9)],o=function(e){"use strict";return e.Timeline=function(){var t=this.optionsObject(arguments,["memory"],e.Timeline.defaults);this._timeline=[],this._toRemove=[],this._iterating=!1,this.memory=t.memory},e.extend(e.Timeline),e.Timeline.defaults={memory:1/0},Object.defineProperty(e.Timeline.prototype,"length",{get:function(){return this._timeline.length}}),e.Timeline.prototype.add=function(e){if(this.isUndef(e.time))throw new Error("Tone.Timeline: events must have a time attribute");if(this._timeline.length){var t=this._search(e.time);this._timeline.splice(t+1,0,e)}else this._timeline.push(e);if(this.length>this.memory){var n=this.length-this.memory;this._timeline.splice(0,n)}return this},e.Timeline.prototype.remove=function(e){if(this._iterating)this._toRemove.push(e);else{var t=this._timeline.indexOf(e);-1!==t&&this._timeline.splice(t,1)}return this},e.Timeline.prototype.get=function(e){var t=this._search(e);return-1!==t?this._timeline[t]:null},e.Timeline.prototype.peek=function(){return this._timeline[0]},e.Timeline.prototype.shift=function(){return this._timeline.shift()},e.Timeline.prototype.getAfter=function(e){var t=this._search(e);return t+1<this._timeline.length?this._timeline[t+1]:null},e.Timeline.prototype.getBefore=function(e){var t=this._timeline.length;if(0<t&&this._timeline[t-1].time<e)return this._timeline[t-1];var n=this._search(e);return 0<=n-1?this._timeline[n-1]:null},e.Timeline.prototype.cancel=function(e){if(1<this._timeline.length){var t=this._search(e);if(0<=t)if(this._timeline[t].time===e){for(var n=t;0<=n&&this._timeline[n].time===e;n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&this._timeline[0].time>=e&&(this._timeline=[]);return this},e.Timeline.prototype.cancelBefore=function(e){if(this._timeline.length){var t=this._search(e);0<=t&&(this._timeline=this._timeline.slice(t+1))}return this},e.Timeline.prototype._search=function(e){var t=0,n=this._timeline.length,r=n;if(0<n&&this._timeline[n-1].time<=e)return n-1;for(;t<r;){var o=Math.floor(t+(r-t)/2),i=this._timeline[o],a=this._timeline[o+1];if(i.time===e){for(var s=o;s<this._timeline.length;s++)this._timeline[s].time===e&&(o=s);return o}if(i.time<e&&a.time>e)return o;i.time>e?r=o:i.time<e&&(t=o+1)}return-1},e.Timeline.prototype._iterate=function(e,t,n){this._iterating=!0,t=this.defaultArg(t,0),n=this.defaultArg(n,this._timeline.length-1);for(var r=t;r<=n;r++)e(this._timeline[r]);if(this._iterating=!1,0<this._toRemove.length){for(var o=0;o<this._toRemove.length;o++){var i=this._timeline.indexOf(this._toRemove[o]);-1!==i&&this._timeline.splice(i,1)}this._toRemove=[]}},e.Timeline.prototype.forEach=function(e){return this._iterate(e),this},e.Timeline.prototype.forEachBefore=function(e,t){var n=this._search(e);return-1!==n&&this._iterate(t,0,n),this},e.Timeline.prototype.forEachAfter=function(e,t){var n=this._search(e);return this._iterate(t,n+1),this},e.Timeline.prototype.forEachFrom=function(e,t){for(var n=this._search(e);0<=n&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this},e.Timeline.prototype.forEachAtTime=function(e,t){var n=this._search(e);return-1!==n&&this._iterate((function(n){n.time===e&&t(n)}),0,n),this},e.Timeline.prototype.dispose=function(){e.prototype.dispose.call(this),this._timeline=null,this._toRemove=null},e.Timeline}.apply(t,r),void 0===o||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(1),n(2)],void 0===(o=function(e){"use strict";return e.Negate=function(){this._multiply=this.input=this.output=new e.Multiply(-1)},e.extend(e.Negate,e.SignalBase),e.Negate.prototype.dispose=function(){return e.prototype.dispose.call(this),this._multiply.dispose(),this._multiply=null,this},e.Negate}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(2),n(1),n(6)],void 0===(o=function(e){"use strict";return e.GreaterThanZero=function(){this._thresh=this.output=new e.WaveShaper((function(e){return e<=0?0:1}),127),this._scale=this.input=new e.Multiply(1e4),this._scale.connect(this._thresh)},e.extend(e.GreaterThanZero,e.SignalBase),e.GreaterThanZero.prototype.dispose=function(){return e.prototype.dispose.call(this),this._scale.dispose(),this._scale=null,this._thresh.dispose(),this._thresh=null,this},e.GreaterThanZero}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){var e=function(e,t){this._dragged=!1,this._element=e,this._bindedMove=this._moved.bind(this),this._bindedEnd=this._ended.bind(this,t),e.addEventListener("touchstart",this._bindedEnd),e.addEventListener("touchmove",this._bindedMove),e.addEventListener("touchend",this._bindedEnd),e.addEventListener("mouseup",this._bindedEnd)};function t(e){return"running"===e.state}return e.prototype._moved=function(e){this._dragged=!0},e.prototype._ended=function(e){this._dragged||function(e){var t=e.createBuffer(1,1,e.sampleRate),n=e.createBufferSource();n.buffer=t,n.connect(e.destination),n.start(0),e.resume&&e.resume()}(e),this._dragged=!1},e.prototype.dispose=function(){this._element.removeEventListener("touchstart",this._bindedEnd),this._element.removeEventListener("touchmove",this._bindedMove),this._element.removeEventListener("touchend",this._bindedEnd),this._element.removeEventListener("mouseup",this._bindedEnd),this._bindedMove=null,this._bindedEnd=null,this._element=null},function(n,r,o){var i=new Promise((function(e){!function(e,n){t(e)?n():function r(){t(e)?n():(requestAnimationFrame(r),e.resume&&e.resume())}()}(n,e)})),a=[];return function t(n,r,o){if(Array.isArray(n)||NodeList&&n instanceof NodeList)for(var i=0;i<n.length;i++)t(n[i],r,o);else if("string"==typeof n)t(document.querySelectorAll(n),r,o);else if(n.jquery&&"function"==typeof n.toArray)t(n.toArray(),r,o);else if(Element&&n instanceof Element){var a=new e(n,o);r.push(a)}}(r=r||document.body,a,n),i.then((function(){for(var e=0;e<a.length;e++)a[e].dispose();a=null,o&&o()})),i}})?r.apply(t,[]):r)||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(2),n(32),n(38),n(10)],void 0===(o=function(e){"use strict";return e.CrossFade=function(t){this.createInsOuts(2,1),this.a=this.input[0]=new e.Gain,this.b=this.input[1]=new e.Gain,this.fade=new e.Signal(this.defaultArg(t,.5),e.Type.NormalRange),this._equalPowerA=new e.EqualPowerGain,this._equalPowerB=new e.EqualPowerGain,this._invert=new e.Expr("1 - $0"),this.a.connect(this.output),this.b.connect(this.output),this.fade.chain(this._equalPowerB,this.b.gain),this.fade.chain(this._invert,this._equalPowerA,this.a.gain),this._readOnly("fade")},e.extend(e.CrossFade),e.CrossFade.prototype.dispose=function(){return e.prototype.dispose.call(this),this._writable("fade"),this._equalPowerA.dispose(),this._equalPowerA=null,this._equalPowerB.dispose(),this._equalPowerB=null,this.fade.dispose(),this.fade=null,this._invert.dispose(),this._invert=null,this.a.dispose(),this.a=null,this.b.dispose(),this.b=null,this},e.CrossFade}.apply(t,r))||(e.exports=o)},function(e,t){!function(){var e,t=[];function n(e){var n=this,o={},i=-1;this.parameters.forEach((function(e,r){var a=t[++i]||(t[i]=new Float32Array(n.bufferSize));a.fill(e.value),o[r]=a})),this.processor.realm.exec("self.sampleRate=sampleRate="+this.context.sampleRate+";self.currentTime=currentTime="+this.context.currentTime);var a=r(e.inputBuffer),s=r(e.outputBuffer);this.instance.process([a],[s],o)}function r(e){for(var t=[],n=0;n<e.numberOfChannels;n++)t[n]=e.getChannelData(n);return t}function o(e){return e.$$processors||(e.$$processors={})}function i(e){this.$$context=e}"function"!=typeof AudioWorkletNode&&(self.AudioWorkletNode=function(t,r,i){var a=o(t)[r],s=t.createScriptProcessor(void 0,2,i&&i.outputChannelCount?i.outputChannelCount[0]:2);if(s.parameters=new Map,a.properties)for(var l=0;l<a.properties.length;l++){var u=a.properties[l],c=t.createGain().gain;c.value=u.defaultValue,s.parameters.set(u.name,c)}var d=new MessageChannel;e=d.port2;var p=new a.Processor(i||{});return e=null,s.port=d.port1,s.processor=a,s.instance=p,s.onaudioprocess=n,s},Object.defineProperty((self.AudioContext||self.webkitAudioContext).prototype,"audioWorklet",{get:function(){return this.$$audioWorklet||(this.$$audioWorklet=new self.AudioWorklet(this))}}),self.AudioWorklet=(i.prototype.addModule=function(t,n){var r=this;return fetch(t).then((function(e){if(!e.ok)throw Error(e.status);return e.text()})).then((function(t){var i={sampleRate:0,currentTime:0,AudioWorkletProcessor:function(){this.port=e},registerProcessor:function(e,t){o(r.$$context)[e]={realm:a,context:i,Processor:t,properties:t.parameterDescriptors||[]}}},a=new function(e,t){var n=document.createElement("iframe");n.style.cssText="position:absolute;left:0;top:-999px;width:1px;height:1px;",t.appendChild(n);var r=n.contentWindow,o=r.document,i="var window,$hook";for(var a in r)a in e||"eval"===a||(i+=",",i+=a);for(var s in e)i+=",",i+=s,i+="=self.",i+=s;var l=o.createElement("script");l.appendChild(o.createTextNode('function $hook(self,console) {"use strict";\n        '+i+";return function() {return eval(arguments[0])}}")),o.body.appendChild(l),this.exec=r.$hook(e,console)}(i.self=i,document.documentElement);return a.exec((n&&n.transpile||String)(t)),null}))},i))}()},function(e,t){!function(){function e(e){e&&(e.setTargetAtTime||(e.setTargetAtTime=e.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=window.webkitAudioContext,"function"!=typeof AudioContext.prototype.createGain&&(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),"function"!=typeof AudioContext.prototype.createDelay&&(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),"function"!=typeof AudioContext.prototype.createScriptProcessor&&(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),"function"!=typeof AudioContext.prototype.createPeriodicWave&&(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return e(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var n=t?this.internal_createDelay(t):this.internal_createDelay();return e(n.delayTime),n},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start?(t.internal_start=t.start,t.start=function(e,n,r){void 0!==r?t.internal_start(e||0,n,r):t.internal_start(e||0,n||0)}):t.start=function(e,t,n){t||n?this.noteGrainOn(e||0,t,n):this.noteOn(e||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(e){this.noteOff(e||0)},e(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return e(t.threshold),e(t.knee),e(t.ratio),e(t.reduction),e(t.attack),e(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return e(t.frequency),e(t.detune),e(t.Q),e(t.gain),t},"function"!=typeof AudioContext.prototype.createOscillator&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start?(t.internal_start=t.start,t.start=function(e){t.internal_start(e||0)}):t.start=function(e){this.noteOn(e||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(e){this.noteOff(e||0)},t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),e(t.frequency),e(t.detune),t})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=window.webkitOfflineAudioContext)}(window),navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;var n=document.createElement("audio");p5.prototype.isSupported=function(){return!!n.canPlayType},p5.prototype.isFileSupported=function(e){switch(e.toLowerCase()){case"mp3":return!!n.canPlayType&&n.canPlayType("audio/mpeg;");case"wav":return!!n.canPlayType&&n.canPlayType('audio/wav; codecs="1"');case"ogg":return!!n.canPlayType&&n.canPlayType('audio/ogg; codecs="vorbis"');case"aac":case"m4a":case"mp4":return!!n.canPlayType&&(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/aac;"));case"aif":case"aiff":return!!n.canPlayType&&n.canPlayType("audio/x-aiff;");default:return!1}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t),t.default='function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// import dependencies via preval.require so that they\'re available as values at compile time\nvar processorNames = {\n  "recorderProcessor": "recorder-processor",\n  "soundFileProcessor": "sound-file-processor",\n  "amplitudeProcessor": "amplitude-processor"\n};\nvar RingBuffer = {\n  "default":\n  /*#__PURE__*/\n  function () {\n    /**\n     * @constructor\n     * @param  {number} length Buffer length in frames.\n     * @param  {number} channelCount Buffer channel count.\n     */\n    function RingBuffer(length, channelCount) {\n      _classCallCheck(this, RingBuffer);\n\n      this._readIndex = 0;\n      this._writeIndex = 0;\n      this._framesAvailable = 0;\n      this._channelCount = channelCount;\n      this._length = length;\n      this._channelData = [];\n\n      for (var i = 0; i < this._channelCount; ++i) {\n        this._channelData[i] = new Float32Array(length);\n      }\n    }\n    /**\n     * Getter for Available frames in buffer.\n     *\n     * @return {number} Available frames in buffer.\n     */\n\n\n    _createClass(RingBuffer, [{\n      key: "push",\n\n      /**\n       * Push a sequence of Float32Arrays to buffer.\n       *\n       * @param  {array} arraySequence A sequence of Float32Arrays.\n       */\n      value: function push(arraySequence) {\n        // The channel count of arraySequence and the length of each channel must\n        // match with this buffer obejct.\n        // Transfer data from the |arraySequence| storage to the internal buffer.\n        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;\n\n        for (var i = 0; i < sourceLength; ++i) {\n          var writeIndex = (this._writeIndex + i) % this._length;\n\n          for (var channel = 0; channel < this._channelCount; ++channel) {\n            this._channelData[channel][writeIndex] = arraySequence[channel][i];\n          }\n        }\n\n        this._writeIndex += sourceLength;\n\n        if (this._writeIndex >= this._length) {\n          this._writeIndex = 0;\n        } // For excessive frames, the buffer will be overwritten.\n\n\n        this._framesAvailable += sourceLength;\n\n        if (this._framesAvailable > this._length) {\n          this._framesAvailable = this._length;\n        }\n      }\n      /**\n       * Pull data out of buffer and fill a given sequence of Float32Arrays.\n       *\n       * @param  {array} arraySequence An array of Float32Arrays.\n       */\n\n    }, {\n      key: "pull",\n      value: function pull(arraySequence) {\n        // The channel count of arraySequence and the length of each channel must\n        // match with this buffer obejct.\n        // If the FIFO is completely empty, do nothing.\n        if (this._framesAvailable === 0) {\n          return;\n        }\n\n        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.\n\n        for (var i = 0; i < destinationLength; ++i) {\n          var readIndex = (this._readIndex + i) % this._length;\n\n          for (var channel = 0; channel < this._channelCount; ++channel) {\n            arraySequence[channel][i] = this._channelData[channel][readIndex];\n          }\n        }\n\n        this._readIndex += destinationLength;\n\n        if (this._readIndex >= this._length) {\n          this._readIndex = 0;\n        }\n\n        this._framesAvailable -= destinationLength;\n\n        if (this._framesAvailable < 0) {\n          this._framesAvailable = 0;\n        }\n      }\n    }, {\n      key: "framesAvailable",\n      get: function get() {\n        return this._framesAvailable;\n      }\n    }]);\n\n    return RingBuffer;\n  }()\n}["default"];\n\nvar RecorderProcessor =\n/*#__PURE__*/\nfunction (_AudioWorkletProcesso) {\n  _inherits(RecorderProcessor, _AudioWorkletProcesso);\n\n  function RecorderProcessor(options) {\n    var _this;\n\n    _classCallCheck(this, RecorderProcessor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RecorderProcessor).call(this));\n    var processorOptions = options.processorOptions || {};\n    _this.numOutputChannels = options.outputChannelCount || 2;\n    _this.numInputChannels = processorOptions.numInputChannels || 2;\n    _this.bufferSize = processorOptions.bufferSize || 1024;\n    _this.recording = false;\n\n    _this.clear();\n\n    _this.port.onmessage = function (event) {\n      var data = event.data;\n\n      if (data.name === \'start\') {\n        _this.record(data.duration);\n      } else if (data.name === \'stop\') {\n        _this.stop();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(RecorderProcessor, [{\n    key: "process",\n    value: function process(inputs) {\n      if (!this.recording) {\n        return true;\n      } else if (this.sampleLimit && this.recordedSamples >= this.sampleLimit) {\n        this.stop();\n        return true;\n      }\n\n      var input = inputs[0];\n      this.inputRingBuffer.push(input);\n\n      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {\n        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);\n\n        for (var channel = 0; channel < this.numOutputChannels; ++channel) {\n          var inputChannelCopy = this.inputRingBufferArraySequence[channel].slice();\n\n          if (channel === 0) {\n            this.leftBuffers.push(inputChannelCopy);\n\n            if (this.numInputChannels === 1) {\n              this.rightBuffers.push(inputChannelCopy);\n            }\n          } else if (channel === 1 && this.numInputChannels > 1) {\n            this.rightBuffers.push(inputChannelCopy);\n          }\n        }\n\n        this.recordedSamples += this.bufferSize;\n      }\n\n      return true;\n    }\n  }, {\n    key: "record",\n    value: function record(duration) {\n      if (duration) {\n        this.sampleLimit = Math.round(duration * sampleRate);\n      }\n\n      this.recording = true;\n    }\n  }, {\n    key: "stop",\n    value: function stop() {\n      this.recording = false;\n      var buffers = this.getBuffers();\n      var leftBuffer = buffers[0].buffer;\n      var rightBuffer = buffers[1].buffer;\n      this.port.postMessage({\n        name: \'buffers\',\n        leftBuffer: leftBuffer,\n        rightBuffer: rightBuffer\n      }, [leftBuffer, rightBuffer]);\n      this.clear();\n    }\n  }, {\n    key: "getBuffers",\n    value: function getBuffers() {\n      var buffers = [];\n      buffers.push(this.mergeBuffers(this.leftBuffers));\n      buffers.push(this.mergeBuffers(this.rightBuffers));\n      return buffers;\n    }\n  }, {\n    key: "mergeBuffers",\n    value: function mergeBuffers(channelBuffer) {\n      var result = new Float32Array(this.recordedSamples);\n      var offset = 0;\n      var lng = channelBuffer.length;\n\n      for (var i = 0; i < lng; i++) {\n        var buffer = channelBuffer[i];\n        result.set(buffer, offset);\n        offset += buffer.length;\n      }\n\n      return result;\n    }\n  }, {\n    key: "clear",\n    value: function clear() {\n      var _this2 = this;\n\n      this.leftBuffers = [];\n      this.rightBuffers = [];\n      this.inputRingBuffer = new RingBuffer(this.bufferSize, this.numInputChannels);\n      this.inputRingBufferArraySequence = new Array(this.numInputChannels).fill(null).map(function () {\n        return new Float32Array(_this2.bufferSize);\n      });\n      this.recordedSamples = 0;\n      this.sampleLimit = null;\n    }\n  }]);\n\n  return RecorderProcessor;\n}(_wrapNativeSuper(AudioWorkletProcessor));\n\nregisterProcessor(processorNames.recorderProcessor, RecorderProcessor);'},function(e,t,n){"use strict";n.r(t),t.default='function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// import dependencies via preval.require so that they\'re available as values at compile time\nvar processorNames = {\n  "recorderProcessor": "recorder-processor",\n  "soundFileProcessor": "sound-file-processor",\n  "amplitudeProcessor": "amplitude-processor"\n};\nvar RingBuffer = {\n  "default":\n  /*#__PURE__*/\n  function () {\n    /**\n     * @constructor\n     * @param  {number} length Buffer length in frames.\n     * @param  {number} channelCount Buffer channel count.\n     */\n    function RingBuffer(length, channelCount) {\n      _classCallCheck(this, RingBuffer);\n\n      this._readIndex = 0;\n      this._writeIndex = 0;\n      this._framesAvailable = 0;\n      this._channelCount = channelCount;\n      this._length = length;\n      this._channelData = [];\n\n      for (var i = 0; i < this._channelCount; ++i) {\n        this._channelData[i] = new Float32Array(length);\n      }\n    }\n    /**\n     * Getter for Available frames in buffer.\n     *\n     * @return {number} Available frames in buffer.\n     */\n\n\n    _createClass(RingBuffer, [{\n      key: "push",\n\n      /**\n       * Push a sequence of Float32Arrays to buffer.\n       *\n       * @param  {array} arraySequence A sequence of Float32Arrays.\n       */\n      value: function push(arraySequence) {\n        // The channel count of arraySequence and the length of each channel must\n        // match with this buffer obejct.\n        // Transfer data from the |arraySequence| storage to the internal buffer.\n        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;\n\n        for (var i = 0; i < sourceLength; ++i) {\n          var writeIndex = (this._writeIndex + i) % this._length;\n\n          for (var channel = 0; channel < this._channelCount; ++channel) {\n            this._channelData[channel][writeIndex] = arraySequence[channel][i];\n          }\n        }\n\n        this._writeIndex += sourceLength;\n\n        if (this._writeIndex >= this._length) {\n          this._writeIndex = 0;\n        } // For excessive frames, the buffer will be overwritten.\n\n\n        this._framesAvailable += sourceLength;\n\n        if (this._framesAvailable > this._length) {\n          this._framesAvailable = this._length;\n        }\n      }\n      /**\n       * Pull data out of buffer and fill a given sequence of Float32Arrays.\n       *\n       * @param  {array} arraySequence An array of Float32Arrays.\n       */\n\n    }, {\n      key: "pull",\n      value: function pull(arraySequence) {\n        // The channel count of arraySequence and the length of each channel must\n        // match with this buffer obejct.\n        // If the FIFO is completely empty, do nothing.\n        if (this._framesAvailable === 0) {\n          return;\n        }\n\n        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.\n\n        for (var i = 0; i < destinationLength; ++i) {\n          var readIndex = (this._readIndex + i) % this._length;\n\n          for (var channel = 0; channel < this._channelCount; ++channel) {\n            arraySequence[channel][i] = this._channelData[channel][readIndex];\n          }\n        }\n\n        this._readIndex += destinationLength;\n\n        if (this._readIndex >= this._length) {\n          this._readIndex = 0;\n        }\n\n        this._framesAvailable -= destinationLength;\n\n        if (this._framesAvailable < 0) {\n          this._framesAvailable = 0;\n        }\n      }\n    }, {\n      key: "framesAvailable",\n      get: function get() {\n        return this._framesAvailable;\n      }\n    }]);\n\n    return RingBuffer;\n  }()\n}["default"];\n\nvar SoundFileProcessor =\n/*#__PURE__*/\nfunction (_AudioWorkletProcesso) {\n  _inherits(SoundFileProcessor, _AudioWorkletProcesso);\n\n  function SoundFileProcessor(options) {\n    var _this;\n\n    _classCallCheck(this, SoundFileProcessor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SoundFileProcessor).call(this));\n    var processorOptions = options.processorOptions || {};\n    _this.bufferSize = processorOptions.bufferSize || 256;\n    _this.inputRingBuffer = new RingBuffer(_this.bufferSize, 1);\n    _this.inputRingBufferArraySequence = [new Float32Array(_this.bufferSize)];\n    return _this;\n  }\n\n  _createClass(SoundFileProcessor, [{\n    key: "process",\n    value: function process(inputs) {\n      var input = inputs[0]; // we only care about the first input channel, because that contains the position data\n\n      this.inputRingBuffer.push([input[0]]);\n\n      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {\n        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);\n        var inputChannel = this.inputRingBufferArraySequence[0];\n        var position = inputChannel[inputChannel.length - 1] || 0;\n        this.port.postMessage({\n          name: \'position\',\n          position: position\n        });\n      }\n\n      return true;\n    }\n  }]);\n\n  return SoundFileProcessor;\n}(_wrapNativeSuper(AudioWorkletProcessor));\n\nregisterProcessor(processorNames.soundFileProcessor, SoundFileProcessor);'},function(e,t,n){"use strict";n.r(t),t.default='function _typeof(obj) { if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === "function" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== "function") { throw new TypeError("Super expression must either be null or a function"); } if (typeof _cache !== "undefined") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _construct(Parent, args, Class) { if (isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf("[native code]") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// import dependencies via preval.require so that they\'re available as values at compile time\nvar processorNames = {\n  "recorderProcessor": "recorder-processor",\n  "soundFileProcessor": "sound-file-processor",\n  "amplitudeProcessor": "amplitude-processor"\n};\nvar RingBuffer = {\n  "default":\n  /*#__PURE__*/\n  function () {\n    /**\n     * @constructor\n     * @param  {number} length Buffer length in frames.\n     * @param  {number} channelCount Buffer channel count.\n     */\n    function RingBuffer(length, channelCount) {\n      _classCallCheck(this, RingBuffer);\n\n      this._readIndex = 0;\n      this._writeIndex = 0;\n      this._framesAvailable = 0;\n      this._channelCount = channelCount;\n      this._length = length;\n      this._channelData = [];\n\n      for (var i = 0; i < this._channelCount; ++i) {\n        this._channelData[i] = new Float32Array(length);\n      }\n    }\n    /**\n     * Getter for Available frames in buffer.\n     *\n     * @return {number} Available frames in buffer.\n     */\n\n\n    _createClass(RingBuffer, [{\n      key: "push",\n\n      /**\n       * Push a sequence of Float32Arrays to buffer.\n       *\n       * @param  {array} arraySequence A sequence of Float32Arrays.\n       */\n      value: function push(arraySequence) {\n        // The channel count of arraySequence and the length of each channel must\n        // match with this buffer obejct.\n        // Transfer data from the |arraySequence| storage to the internal buffer.\n        var sourceLength = arraySequence[0] ? arraySequence[0].length : 0;\n\n        for (var i = 0; i < sourceLength; ++i) {\n          var writeIndex = (this._writeIndex + i) % this._length;\n\n          for (var channel = 0; channel < this._channelCount; ++channel) {\n            this._channelData[channel][writeIndex] = arraySequence[channel][i];\n          }\n        }\n\n        this._writeIndex += sourceLength;\n\n        if (this._writeIndex >= this._length) {\n          this._writeIndex = 0;\n        } // For excessive frames, the buffer will be overwritten.\n\n\n        this._framesAvailable += sourceLength;\n\n        if (this._framesAvailable > this._length) {\n          this._framesAvailable = this._length;\n        }\n      }\n      /**\n       * Pull data out of buffer and fill a given sequence of Float32Arrays.\n       *\n       * @param  {array} arraySequence An array of Float32Arrays.\n       */\n\n    }, {\n      key: "pull",\n      value: function pull(arraySequence) {\n        // The channel count of arraySequence and the length of each channel must\n        // match with this buffer obejct.\n        // If the FIFO is completely empty, do nothing.\n        if (this._framesAvailable === 0) {\n          return;\n        }\n\n        var destinationLength = arraySequence[0].length; // Transfer data from the internal buffer to the |arraySequence| storage.\n\n        for (var i = 0; i < destinationLength; ++i) {\n          var readIndex = (this._readIndex + i) % this._length;\n\n          for (var channel = 0; channel < this._channelCount; ++channel) {\n            arraySequence[channel][i] = this._channelData[channel][readIndex];\n          }\n        }\n\n        this._readIndex += destinationLength;\n\n        if (this._readIndex >= this._length) {\n          this._readIndex = 0;\n        }\n\n        this._framesAvailable -= destinationLength;\n\n        if (this._framesAvailable < 0) {\n          this._framesAvailable = 0;\n        }\n      }\n    }, {\n      key: "framesAvailable",\n      get: function get() {\n        return this._framesAvailable;\n      }\n    }]);\n\n    return RingBuffer;\n  }()\n}["default"];\n\nvar AmplitudeProcessor =\n/*#__PURE__*/\nfunction (_AudioWorkletProcesso) {\n  _inherits(AmplitudeProcessor, _AudioWorkletProcesso);\n\n  function AmplitudeProcessor(options) {\n    var _this;\n\n    _classCallCheck(this, AmplitudeProcessor);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AmplitudeProcessor).call(this));\n    var processorOptions = options.processorOptions || {};\n    _this.numOutputChannels = options.outputChannelCount || 1;\n    _this.numInputChannels = processorOptions.numInputChannels || 2;\n    _this.normalize = processorOptions.normalize || false;\n    _this.smoothing = processorOptions.smoothing || 0;\n    _this.bufferSize = processorOptions.bufferSize || 2048;\n    _this.inputRingBuffer = new RingBuffer(_this.bufferSize, _this.numInputChannels);\n    _this.outputRingBuffer = new RingBuffer(_this.bufferSize, _this.numOutputChannels);\n    _this.inputRingBufferArraySequence = new Array(_this.numInputChannels).fill(null).map(function () {\n      return new Float32Array(_this.bufferSize);\n    });\n    _this.stereoVol = [0, 0];\n    _this.stereoVolNorm = [0, 0];\n    _this.volMax = 0.001;\n\n    _this.port.onmessage = function (event) {\n      var data = event.data;\n\n      if (data.name === \'toggleNormalize\') {\n        _this.normalize = data.normalize;\n      } else if (data.name === \'smoothing\') {\n        _this.smoothing = Math.max(0, Math.min(1, data.smoothing));\n      }\n    };\n\n    return _this;\n  } // TO DO make this stereo / dependent on # of audio channels\n\n\n  _createClass(AmplitudeProcessor, [{\n    key: "process",\n    value: function process(inputs, outputs) {\n      var input = inputs[0];\n      var output = outputs[0];\n      var smoothing = this.smoothing;\n      this.inputRingBuffer.push(input);\n\n      if (this.inputRingBuffer.framesAvailable >= this.bufferSize) {\n        this.inputRingBuffer.pull(this.inputRingBufferArraySequence);\n\n        for (var channel = 0; channel < this.numInputChannels; ++channel) {\n          var inputBuffer = this.inputRingBufferArraySequence[channel];\n          var bufLength = inputBuffer.length;\n          var sum = 0;\n\n          for (var i = 0; i < bufLength; i++) {\n            var x = inputBuffer[i];\n\n            if (this.normalize) {\n              sum += Math.max(Math.min(x / this.volMax, 1), -1) * Math.max(Math.min(x / this.volMax, 1), -1);\n            } else {\n              sum += x * x;\n            }\n          } // ... then take the square root of the sum.\n\n\n          var rms = Math.sqrt(sum / bufLength);\n          this.stereoVol[channel] = Math.max(rms, this.stereoVol[channel] * smoothing);\n          this.volMax = Math.max(this.stereoVol[channel], this.volMax);\n        } // calculate stero normalized volume and add volume from all channels together\n\n\n        var volSum = 0;\n\n        for (var index = 0; index < this.stereoVol.length; index++) {\n          this.stereoVolNorm[index] = Math.max(Math.min(this.stereoVol[index] / this.volMax, 1), 0);\n          volSum += this.stereoVol[index];\n        } // volume is average of channels\n\n\n        var volume = volSum / this.stereoVol.length; // normalized value\n\n        var volNorm = Math.max(Math.min(volume / this.volMax, 1), 0);\n        this.port.postMessage({\n          name: \'amplitude\',\n          volume: volume,\n          volNorm: volNorm,\n          stereoVol: this.stereoVol,\n          stereoVolNorm: this.stereoVolNorm\n        }); // pass input through to output\n\n        this.outputRingBuffer.push(this.inputRingBufferArraySequence);\n      } // pull 128 frames out of the ring buffer\n      // if the ring buffer does not have enough frames, the output will be silent\n\n\n      this.outputRingBuffer.pull(output);\n      return true;\n    }\n  }]);\n\n  return AmplitudeProcessor;\n}(_wrapNativeSuper(AudioWorkletProcessor));\n\nregisterProcessor(processorNames.amplitudeProcessor, AmplitudeProcessor);'},function(e,t,n){var r,o;r=[n(0),n(17)],void 0===(o=function(e){e.Frequency=function(t,n){if(!(this instanceof e.Frequency))return new e.Frequency(t,n);e.TimeBase.call(this,t,n)},e.extend(e.Frequency,e.TimeBase),e.Frequency.prototype._primaryExpressions=Object.create(e.TimeBase.prototype._primaryExpressions),e.Frequency.prototype._primaryExpressions.midi={regexp:/^(\d+(?:\.\d+)?midi)/,method:function(e){return this.midiToFrequency(e)}},e.Frequency.prototype._primaryExpressions.note={regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method:function(e,n){var r=t[e.toLowerCase()]+12*(parseInt(n)+1);return this.midiToFrequency(r)}},e.Frequency.prototype._primaryExpressions.tr={regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method:function(e,t,n){var r=1;return e&&"0"!==e&&(r*=this._beatsToUnits(this._timeSignature()*parseFloat(e))),t&&"0"!==t&&(r*=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}},e.Frequency.prototype.transpose=function(e){return this._expr=function(e,t){return e()*this.intervalToFrequencyRatio(t)}.bind(this,this._expr,e),this},e.Frequency.prototype.harmonize=function(e){return this._expr=function(e,t){for(var n=e(),r=[],o=0;o<t.length;o++)r[o]=n*this.intervalToFrequencyRatio(t[o]);return r}.bind(this,this._expr,e),this},e.Frequency.prototype.toMidi=function(){return this.frequencyToMidi(this.valueOf())},e.Frequency.prototype.toNote=function(){var t=this.valueOf(),r=Math.log(t/e.Frequency.A4)/Math.LN2,o=Math.round(12*r)+57,i=Math.floor(o/12);return i<0&&(o+=-12*i),n[o%12]+i.toString()},e.Frequency.prototype.toSeconds=function(){return 1/this.valueOf()},e.Frequency.prototype.toFrequency=function(){return this.valueOf()},e.Frequency.prototype.toTicks=function(){var t=this._beatsToUnits(1),n=this.valueOf()/t;return Math.floor(n*e.Transport.PPQ)},e.Frequency.prototype._frequencyToUnits=function(e){return e},e.Frequency.prototype._ticksToUnits=function(t){return 1/(60*t/(e.Transport.bpm.value*e.Transport.PPQ))},e.Frequency.prototype._beatsToUnits=function(t){return 1/e.TimeBase.prototype._beatsToUnits.call(this,t)},e.Frequency.prototype._secondsToUnits=function(e){return 1/e},e.Frequency.prototype._defaultUnits="hz";var t={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},n=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return e.Frequency.A4=440,e.Frequency.prototype.midiToFrequency=function(t){return e.Frequency.A4*Math.pow(2,(t-69)/12)},e.Frequency.prototype.frequencyToMidi=function(t){return 69+12*Math.log(t/e.Frequency.A4)/Math.LN2},e.Frequency}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(16)],void 0===(o=function(e){return e.TransportTime=function(t,n){if(!(this instanceof e.TransportTime))return new e.TransportTime(t,n);e.Time.call(this,t,n)},e.extend(e.TransportTime,e.Time),e.TransportTime.prototype._unaryExpressions=Object.create(e.Time.prototype._unaryExpressions),e.TransportTime.prototype._unaryExpressions.quantize={regexp:/^@/,method:function(t){var n=this._secondsToTicks(t()),r=Math.ceil(e.Transport.ticks/n);return this._ticksToUnits(r*n)}},e.TransportTime.prototype._secondsToTicks=function(t){var n=t/this._beatsToUnits(1);return Math.round(n*e.Transport.PPQ)},e.TransportTime.prototype.valueOf=function(){return this._secondsToTicks(this._expr())+(this._plusNow?e.Transport.ticks:0)},e.TransportTime.prototype.toTicks=function(){return this.valueOf()},e.TransportTime.prototype.toSeconds=function(){return this._expr()+(this._plusNow?e.Transport.seconds:0)},e.TransportTime.prototype.toFrequency=function(){return 1/this.toSeconds()},e.TransportTime}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(4),n(13),n(1),n(33),n(21),n(34),n(20),n(35),n(36),n(37)],o=function(e){"use strict";function t(e,t,n){var r=new e;return n._eval(t[0]).connect(r,0,0),n._eval(t[1]).connect(r,0,1),r}function n(e,t,n){var r=new e;return n._eval(t[0]).connect(r,0,0),r}function r(e){return e?parseFloat(e):void 0}function o(e){return e&&e.args?parseFloat(e.args):void 0}return e.Expr=function(){var e=this._replacements(Array.prototype.slice.call(arguments)),t=this._parseInputs(e);this._nodes=[],this.input=new Array(t);for(var n=0;n<t;n++)this.input[n]=this.context.createGain();var r,o=this._parseTree(e);try{r=this._eval(o)}catch(t){throw this._disposeNodes(),new Error("Tone.Expr: Could evaluate expression: "+e)}this.output=r},e.extend(e.Expr,e.SignalBase),e.Expr._Expressions={value:{signal:{regexp:/^\d+\.\d+|^\d+/,method:function(t){return new e.Signal(r(t))}},input:{regexp:/^\$\d/,method:function(e,t){return t.input[r(e.substr(1))]}}},glue:{"(":{regexp:/^\(/},")":{regexp:/^\)/},",":{regexp:/^,/}},func:{abs:{regexp:/^abs/,method:n.bind(this,e.Abs)},mod:{regexp:/^mod/,method:function(t,n){var r=o(t[1]),i=new e.Modulo(r);return n._eval(t[0]).connect(i),i}},pow:{regexp:/^pow/,method:function(t,n){var r=o(t[1]),i=new e.Pow(r);return n._eval(t[0]).connect(i),i}},a2g:{regexp:/^a2g/,method:function(t,n){var r=new e.AudioToGain;return n._eval(t[0]).connect(r),r}}},binary:{"+":{regexp:/^\+/,precedence:1,method:t.bind(this,e.Add)},"-":{regexp:/^\-/,precedence:1,method:function(r,o){return 1===r.length?n(e.Negate,r,o):t(e.Subtract,r,o)}},"*":{regexp:/^\*/,precedence:0,method:t.bind(this,e.Multiply)}},unary:{"-":{regexp:/^\-/,method:n.bind(this,e.Negate)},"!":{regexp:/^\!/,method:n.bind(this,e.NOT)}}},e.Expr.prototype._parseInputs=function(e){var t=e.match(/\$\d/g),n=0;if(null!==t)for(var r=0;r<t.length;r++){var o=parseInt(t[r].substr(1))+1;n=Math.max(n,o)}return n},e.Expr.prototype._replacements=function(e){for(var t=e.shift(),n=0;n<e.length;n++)t=t.replace(/\%/i,e[n]);return t},e.Expr.prototype._tokenize=function(t){for(var n=-1,r=[];0<t.length;){var o=i(t=t.trim());r.push(o),t=t.substr(o.value.length)}function i(t){for(var n in e.Expr._Expressions){var r=e.Expr._Expressions[n];for(var o in r){var i=r[o],a=i.regexp,s=t.match(a);if(null!==s)return{type:n,value:s[0],method:i.method}}}throw new SyntaxError("Tone.Expr: Unexpected token "+t)}return{next:function(){return r[++n]},peek:function(){return r[n+1]}}},e.Expr.prototype._parseTree=function(t){var n=this._tokenize(t),r=this.isUndef.bind(this);function o(e,t){return!r(e)&&"glue"===e.type&&e.value===t}function i(t,n,o){var i=e.Expr._Expressions[n];if(!r(t))for(var a in i){var s=i[a];if(s.regexp.test(t.value)){if(r(o))return!0;if(s.precedence===o)return!0}}return!1}function a(e){var t;r(e)&&(e=5),t=e<0?function e(){var t,r;return i(t=n.peek(),"unary")?(t=n.next(),r=e(),{operator:t.value,method:t.method,args:[r]}):s()}():a(e-1);for(var o=n.peek();i(o,"binary",e);)t={operator:(o=n.next()).value,method:o.method,args:[t,a(e-1)]},o=n.peek();return t}function s(){var e,t;if(e=n.peek(),r(e))throw new SyntaxError("Tone.Expr: Unexpected termination of expression");if("func"===e.type)return function(e){var t=[];if(!o(n.next(),"("))throw new SyntaxError('Tone.Expr: Expected ( in a function call "'+e.value+'"');if(o(n.peek(),")")||(t=function(){for(var e,t=[];e=a(),!r(e)&&(t.push(e),o(n.peek(),","));)n.next();return t}()),o(n.next(),")"))return{method:e.method,args:t,name};throw new SyntaxError('Tone.Expr: Expected ) in a function call "'+e.value+'"')}(e=n.next());if("value"===e.type)return{method:(e=n.next()).method,args:e.value};if(o(e,"(")){if(n.next(),t=a(),!o(e=n.next(),")"))throw new SyntaxError("Expected )");return t}throw new SyntaxError("Tone.Expr: Parse error, cannot process token "+e.value)}return a()},e.Expr.prototype._eval=function(e){if(!this.isUndef(e)){var t=e.method(e.args,this);return this._nodes.push(t),t}},e.Expr.prototype._disposeNodes=function(){for(var e=0;e<this._nodes.length;e++){var t=this._nodes[e];this.isFunction(t.dispose)?t.dispose():this.isFunction(t.disconnect)&&t.disconnect(),t=null,this._nodes[e]=null}this._nodes=null},e.Expr.prototype.dispose=function(){e.prototype.dispose.call(this),this._disposeNodes()},e.Expr}.apply(t,r),void 0===o||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(21),n(13),n(2)],void 0===(o=function(e){"use strict";return e.GreaterThan=function(t){this.createInsOuts(2,0),this._param=this.input[0]=new e.Subtract(t),this.input[1]=this._param.input[1],this._gtz=this.output=new e.GreaterThanZero,this._param.connect(this._gtz)},e.extend(e.GreaterThan,e.Signal),e.GreaterThan.prototype.dispose=function(){return e.prototype.dispose.call(this),this._param.dispose(),this._param=null,this._gtz.dispose(),this._gtz=null,this},e.GreaterThan}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(6),n(15)],void 0===(o=function(e){"use strict";return e.Abs=function(){this._abs=this.input=this.output=new e.WaveShaper((function(e){return 0===e?0:Math.abs(e)}),127)},e.extend(e.Abs,e.SignalBase),e.Abs.prototype.dispose=function(){return e.prototype.dispose.call(this),this._abs.dispose(),this._abs=null,this},e.Abs}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(6),n(1),n(13)],void 0===(o=function(e){"use strict";return e.Modulo=function(t){this.createInsOuts(1,0),this._shaper=new e.WaveShaper(Math.pow(2,16)),this._multiply=new e.Multiply,this._subtract=this.output=new e.Subtract,this._modSignal=new e.Signal(t),this.input.fan(this._shaper,this._subtract),this._modSignal.connect(this._multiply,0,0),this._shaper.connect(this._multiply,0,1),this._multiply.connect(this._subtract,0,1),this._setWaveShaper(t)},e.extend(e.Modulo,e.SignalBase),e.Modulo.prototype._setWaveShaper=function(e){this._shaper.setMap((function(t){return Math.floor((t+1e-4)/e)}))},Object.defineProperty(e.Modulo.prototype,"value",{get:function(){return this._modSignal.value},set:function(e){this._modSignal.value=e,this._setWaveShaper(e)}}),e.Modulo.prototype.dispose=function(){return e.prototype.dispose.call(this),this._shaper.dispose(),this._shaper=null,this._multiply.dispose(),this._multiply=null,this._subtract.dispose(),this._subtract=null,this._modSignal.dispose(),this._modSignal=null,this},e.Modulo}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(6)],void 0===(o=function(e){"use strict";return e.Pow=function(t){this._exp=this.defaultArg(t,1),this._expScaler=this.input=this.output=new e.WaveShaper(this._expFunc(this._exp),8192)},e.extend(e.Pow,e.SignalBase),Object.defineProperty(e.Pow.prototype,"value",{get:function(){return this._exp},set:function(e){this._exp=e,this._expScaler.setMap(this._expFunc(this._exp))}}),e.Pow.prototype._expFunc=function(e){return function(t){return Math.pow(Math.abs(t),e)}},e.Pow.prototype.dispose=function(){return e.prototype.dispose.call(this),this._expScaler.dispose(),this._expScaler=null,this},e.Pow}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(6),n(2)],void 0===(o=function(e){"use strict";return e.AudioToGain=function(){this._norm=this.input=this.output=new e.WaveShaper((function(e){return(e+1)/2}))},e.extend(e.AudioToGain,e.SignalBase),e.AudioToGain.prototype.dispose=function(){return e.prototype.dispose.call(this),this._norm.dispose(),this._norm=null,this},e.AudioToGain}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(6)],void 0===(o=function(e){"use strict";return e.EqualPowerGain=function(){this._eqPower=this.input=this.output=new e.WaveShaper(function(e){return Math.abs(e)<.001?0:this.equalPowerScale(e)}.bind(this),4096)},e.extend(e.EqualPowerGain,e.SignalBase),e.EqualPowerGain.prototype.dispose=function(){return e.prototype.dispose.call(this),this._eqPower.dispose(),this._eqPower=null,this},e.EqualPowerGain}.apply(t,r))||(e.exports=o)},function(e,t,n){var r,o;r=[n(0),n(19),n(9)],void 0===(o=function(e){"use strict";return e.TimelineState=function(t){e.Timeline.call(this),this._initial=t},e.extend(e.TimelineState,e.Timeline),e.TimelineState.prototype.getValueAtTime=function(e){var t=this.get(e);return null!==t?t.state:this._initial},e.TimelineState.prototype.setStateAtTime=function(e,t){this.add({state:e,time:t})},e.TimelineState}.apply(t,r))||(e.exports=o)},function(e,t,n){"use strict";n.r(t),n(24),n(25);var r=n(3),o=new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=r.a.createGain(),this.output=r.a.createGain(),this.limiter=r.a.createDynamicsCompressor(),this.limiter.threshold.value=-3,this.limiter.ratio.value=20,this.limiter.knee.value=1,this.audiocontext=r.a,this.output.disconnect(),this.input.connect(this.limiter),this.limiter.connect(this.output),this.meter=r.a.createGain(),this.fftMeter=r.a.createGain(),this.output.connect(this.meter),this.output.connect(this.fftMeter),this.output.connect(this.audiocontext.destination),this.soundArray=[],this.parts=[],this.extensions=[]};p5.prototype.getOutputVolume=function(){return o.output.gain.value},p5.prototype.outputVolume=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("number"==typeof e){var r=o.audiocontext.currentTime,i=o.output.gain.value;o.output.gain.cancelScheduledValues(r+n),o.output.gain.linearRampToValueAtTime(i,r+n),o.output.gain.linearRampToValueAtTime(e,r+n+t)}else{if(!e)return o.output.gain;e.connect(o.output.gain)}},p5.prototype.soundOut=p5.soundOut=o,p5.soundOut._silentNode=o.audiocontext.createGain(),p5.soundOut._silentNode.gain.value=0,p5.soundOut._silentNode.connect(o.audiocontext.destination);var i=o,a=n(5),s=n.n(a);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e){var t=Math.log(e/440)/Math.log(2);return Math.round(12*t)+69}function c(e){return 440*Math.pow(2,(e-69)/12)}function d(e){if("string"!=typeof e)return e;var t={A:21,B:23,C:24,D:26,E:28,F:29,G:31}[e[0].toUpperCase()];switch(t+=12*(~~e.slice(-1)-1),e[1]){case"#":t+=1;break;case"b":t-=1}return c(t)}function p(e){var t,n=h(t=e.getChannelData(0),e.numberOfChannels>1?e.getChannelData(1):t),r=new window.ArrayBuffer(44+2*n.length),o=new window.DataView(r);f(o,0,"RIFF"),o.setUint32(4,36+2*n.length,!0),f(o,8,"WAVE"),f(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,2,!0),o.setUint32(24,i.audiocontext.sampleRate,!0),o.setUint32(28,4*i.audiocontext.sampleRate,!0),o.setUint16(32,4,!0),o.setUint16(34,16,!0),f(o,36,"data"),o.setUint32(40,2*n.length,!0);for(var a=n.length,s=44,l=0;l<a;l++)o.setInt16(s,32767*n[l],!0),s+=2;return o}function h(e,t){for(var n=e.length+t.length,r=new Float32Array(n),o=0,i=0;i<n;)r[i++]=e[o],r[i++]=t[o],o++;return r}function f(e,t,n){for(var r=n.length,o=0;o<r;o++)e.setUint8(t+o,n.charCodeAt(o))}function m(e){var t=e,n=new AudioWorkletNode(i.audiocontext,s.a.soundFileProcessor);return n instanceof ScriptProcessorNode&&(t=n.bufferSize),n.disconnect(),n=null,t}var g=function(e,t,n){var r,o,i=new Error;return i.name=e,i.originalStack=i.stack+t,r=i.stack+t,i.failedPath=n,o=r.split("\n").filter((function(e){return!e.match(/(p5.|native code|globalInit)/g)})),i.stack=o.join("\n"),i},b=[n(27).default,n(28).default,n(29).default],y=i.audiocontext,v=!1;function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}p5.prototype.registerMethod("init",(function(){if(!v){this.preload||window.preload||(this.preload=function(){}),this._incrementPreload();var e=function(){v=!0,this._decrementPreload()}.bind(this);Promise.all(b.map((function(e){var t=new Blob([e],{type:"application/javascript"}),n=URL.createObjectURL(t);return y.audioWorklet.addModule(n)}))).then(e)}}));var _=i.audiocontext,S=void 0!==_.createStereoPanner?function(){function e(t,n){x(this,e),this.stereoPanner=this.input=_.createStereoPanner(),t.connect(this.stereoPanner),this.stereoPanner.connect(n)}return k(e,[{key:"pan",value:function(e,t){var n=t||0,r=_.currentTime+n;this.stereoPanner.pan.linearRampToValueAtTime(e,r)}},{key:"inputChannels",value:function(){}},{key:"connect",value:function(e){this.stereoPanner.connect(e)}},{key:"disconnect",value:function(){this.stereoPanner&&this.stereoPanner.disconnect()}}]),e}():function(){function e(t,n,r){x(this,e),this.input=_.createGain(),t.connect(this.input),this.left=_.createGain(),this.right=_.createGain(),this.left.channelInterpretation="discrete",this.right.channelInterpretation="discrete",r>1?(this.splitter=_.createChannelSplitter(2),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0)):(this.input.connect(this.left),this.input.connect(this.right)),this.output=_.createChannelMerger(2),this.left.connect(this.output,0,1),this.right.connect(this.output,0,0),this.output.connect(n)}return k(e,[{key:"pan",value:function(e,t){var n=t||0,r=_.currentTime+n,o=(e+1)/2,i=Math.cos(o*Math.PI/2),a=Math.sin(o*Math.PI/2);this.left.gain.linearRampToValueAtTime(a,r),this.right.gain.linearRampToValueAtTime(i,r)}},{key:"inputChannels",value:function(e){1===e?(this.input.disconnect(),this.input.connect(this.left),this.input.connect(this.right)):2===e&&(void 0===this.splitter&&(this.splitter=_.createChannelSplitter(2)),this.input.disconnect(),this.input.connect(this.splitter),this.splitter.connect(this.left,1),this.splitter.connect(this.right,0))}},{key:"connect",value:function(e){this.output.connect(e)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}}]),e}();function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var I=i.audiocontext,j=function e(t,n,r,o){C(this,e),this.callback=t,this.time=n,this.id=r,this.val=o};function A(e){var t=e.target,n=this;t._playing=!1,t.removeEventListener("ended",n._clearOnEnd),n._onended(n),n.bufferSourceNodes.map((function(e,t){return t})).reverse().forEach((function(e){!1===n.bufferSourceNodes[e]._playing&&n.bufferSourceNodes.splice(e,1)})),0===n.bufferSourceNodes.length&&(n._playing=!1)}var O=function(){function e(t,n,r,o){if(C(this,e),void 0!==t){if("string"==typeof t||"string"==typeof t[0]){var a=p5.prototype._checkFileFormats(t);this.url=a}else if("object"===E(t)&&!(window.File&&window.FileReader&&window.FileList&&window.Blob))throw"Unable to load file because the File API is not supported";t.file&&(t=t.file),this.file=t}this._onended=function(){},this._looping=!1,this._playing=!1,this._paused=!1,this._pauseTime=0,this._cues=[],this._cueIDCounter=0,this._lastPos=0,this._counterNode=null,this._workletNode=null,this.bufferSourceNodes=[],this.bufferSourceNode=null,this.buffer=null,this.playbackRate=1,this.input=i.audiocontext.createGain(),this.output=i.audiocontext.createGain(),this.reversed=!1,this.startTime=0,this.endTime=null,this.pauseTime=0,this.mode="sustain",this.startMillis=null,this.panPosition=0,this.panner=new S(this.output,i.input,2),(this.url||this.file)&&this.load(n,r),i.soundArray.push(this),this._whileLoading="function"==typeof o?o:function(){},this._clearOnEnd=A.bind(this),this.amp=this.setVolume,this.fade=this.setVolume}var t,n;return t=e,(n=[{key:"load",value:function(e,t){var n=this,r=(new Error).stack;if(void 0!==this.url&&""!==this.url){var o=new XMLHttpRequest;o.addEventListener("progress",(function(e){n._updateProgress(e)}),!1),o.open("GET",this.url,!0),o.responseType="arraybuffer",o.onload=function(){if(200===o.status){if(!n.panner)return;I.decodeAudioData(o.response,(function(t){n.panner&&(n.buffer=t,n.panner.inputChannels(t.numberOfChannels),e&&e(n))}),(function(){if(n.panner){var e=new g("decodeAudioData",r,n.url),o="AudioContext error at decodeAudioData for "+n.url;t?(e.msg=o,t(e)):console.error(o+"\n The error stack trace includes: \n"+e.stack)}}))}else{if(!n.panner)return;var i=new g("loadSound",r,n.url),a="Unable to load "+n.url+". The request status was: "+o.status+" ("+o.statusText+")";t?(i.message=a,t(i)):console.error(a+"\n The error stack trace includes: \n"+i.stack)}},o.onerror=function(){var e=new g("loadSound",r,n.url),o="There was no response from the server at "+n.url+". Check the url and internet connectivity.";t?(e.message=o,t(e)):console.error(o+"\n The error stack trace includes: \n"+e.stack)},o.send()}else if(void 0!==this.file){var i=new FileReader;i.onload=function(){n.panner&&I.decodeAudioData(i.result,(function(t){n.panner&&(n.buffer=t,n.panner.inputChannels(t.numberOfChannels),e&&e(n))}))},i.onerror=function(e){n.panner&&onerror&&onerror(e)},i.readAsArrayBuffer(this.file)}}},{key:"_updateProgress",value:function(e){if(e.lengthComputable){var t=e.loaded/e.total*.99;this._whileLoading(t,e)}else this._whileLoading("size unknown")}},{key:"isLoaded",value:function(){return!!this.buffer}},{key:"play",value:function(e,t,n,r,o){if(this.output){var a,s,l=e||0;if(l<0&&(l=0),l+=i.audiocontext.currentTime,void 0!==t&&this.rate(t),void 0!==n&&this.setVolume(n),!this.buffer)throw"not ready to play file, buffer has yet to load. Try preload()";if(this._pauseTime=0,"restart"===this.mode&&this.buffer&&this.bufferSourceNode&&(this.bufferSourceNode.stop(l),this._counterNode.stop(l)),"untildone"!==this.mode||!this.isPlaying()){if(this.bufferSourceNode=this._initSourceNode(),delete this._counterNode,this._counterNode=this._initCounterNode(),r){if(!(r>=0&&r<this.buffer.duration))throw"start time out of range";a=r}else a=0;o&&(o=o<=this.buffer.duration-a?o:this.buffer.duration),this._paused?(this.bufferSourceNode.start(l,this.pauseTime,o),this._counterNode.start(l,this.pauseTime,o)):(this.bufferSourceNode.start(l,a,o),this._counterNode.start(l,a,o)),this._playing=!0,this._paused=!1,this.bufferSourceNodes.push(this.bufferSourceNode),this.bufferSourceNode._arrayIndex=this.bufferSourceNodes.length-1,this.bufferSourceNode.addEventListener("ended",this._clearOnEnd),this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping,!0===this._looping&&(s=o||a-1e-15,this.bufferSourceNode.loopStart=a,this.bufferSourceNode.loopEnd=s,this._counterNode.loopStart=a,this._counterNode.loopEnd=s)}}else console.warn("SoundFile.play() called after dispose")}},{key:"playMode",value:function(e){var t=e.toLowerCase();if("restart"===t&&this.buffer&&this.bufferSourceNode)for(var n=0;n<this.bufferSourceNodes.length-1;n++){var r=i.audiocontext.currentTime;this.bufferSourceNodes[n].stop(r)}if("restart"!==t&&"sustain"!==t&&"untildone"!==t)throw'Invalid play mode. Must be either "restart" or "sustain"';this.mode=t}},{key:"pause",value:function(e){var t=(e||0)+i.audiocontext.currentTime;this.isPlaying()&&this.buffer&&this.bufferSourceNode?(this._paused=!0,this._playing=!1,this.pauseTime=this.currentTime(),this.bufferSourceNode.stop(t),this._counterNode.stop(t),this._pauseTime=this.currentTime()):this._pauseTime=0}},{key:"loop",value:function(e,t,n,r,o){this._looping=!0,this.play(e,t,n,r,o)}},{key:"setLoop",value:function(e){if(!0===e)this._looping=!0;else{if(!1!==e)throw"Error: setLoop accepts either true or false";this._looping=!1}this.bufferSourceNode&&(this.bufferSourceNode.loop=this._looping,this._counterNode.loop=this._looping)}},{key:"isLooping",value:function(){return!!this.bufferSourceNode&&!0===this._looping&&!0===this.isPlaying()}},{key:"isPlaying",value:function(){return this._playing}},{key:"isPaused",value:function(){return this._paused}},{key:"stop",value:function(e){var t=e||0;if("sustain"===this.mode||"untildone"===this.mode)this.stopAll(t),this._playing=!1,this.pauseTime=0,this._paused=!1;else if(this.buffer&&this.bufferSourceNode){var n=i.audiocontext.currentTime,r=t||0;this.pauseTime=0,this.bufferSourceNode.stop(n+r),this._counterNode.stop(n+r),this._playing=!1,this._paused=!1}}},{key:"stopAll",value:function(e){var t=i.audiocontext.currentTime,n=e||0;if(this.buffer&&this.bufferSourceNode){for(var r in this.bufferSourceNodes){var o=this.bufferSourceNodes[r];if(o)try{o.stop(t+n)}catch(e){}}this._counterNode.stop(t+n)}}},{key:"getVolume",value:function(){return this.output.gain.value}},{key:"pan",value:function(e,t){this.panPosition=e,this.panner.pan(e,t)}},{key:"getPan",value:function(){return this.panPosition}},{key:"rate",value:function(e){var t=!1;if(void 0===e)return this.playbackRate;if(this.playbackRate=e,0===e?e=1e-13:e<0&&!this.reversed?(e=Math.abs(e),t=!0):e>0&&this.reversed&&(t=!0),this.bufferSourceNode){var n=i.audiocontext.currentTime;this.bufferSourceNode.playbackRate.cancelScheduledValues(n),this.bufferSourceNode.playbackRate.linearRampToValueAtTime(Math.abs(e),n),this._counterNode.playbackRate.cancelScheduledValues(n),this._counterNode.playbackRate.linearRampToValueAtTime(Math.abs(e),n)}return t&&this.reverseBuffer(),this.playbackRate}},{key:"setPitch",value:function(e){var t=c(e)/c(60);this.rate(t)}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"setVolume",value:function(e,t,n){if("number"==typeof e){var r=t||0,o=n||0,a=i.audiocontext.currentTime,s=this.output.gain.value;this.output.gain.cancelScheduledValues(a+o),this.output.gain.linearRampToValueAtTime(s,a+o),this.output.gain.linearRampToValueAtTime(e,a+o+r)}else{if(!e)return this.output.gain;e.connect(this.output.gain)}}},{key:"duration",value:function(){return this.buffer?this.buffer.duration:0}},{key:"currentTime",value:function(){return this.reversed?Math.abs(this._lastPos-this.buffer.length)/I.sampleRate:this._lastPos/I.sampleRate}},{key:"jump",value:function(e,t){if(e<0||e>this.buffer.duration)throw"jump time out of range";if(t>this.buffer.duration-e)throw"end time out of range";var n=e||0,r=t||void 0;this.isPlaying()&&(this.stop(0),this.play(0,this.playbackRate,this.output.gain.value,n,r))}},{key:"channels",value:function(){return this.buffer.numberOfChannels}},{key:"sampleRate",value:function(){return this.buffer.sampleRate}},{key:"frames",value:function(){return this.buffer.length}},{key:"getPeaks",value:function(e){if(!this.buffer)throw"Cannot load peaks yet, buffer is not loaded";if(e||(e=5*window.width),this.buffer){for(var t=this.buffer,n=t.length/e,r=~~(n/10)||1,o=t.numberOfChannels,i=new Float32Array(Math.round(e)),a=0;a<o;a++)for(var s=t.getChannelData(a),l=0;l<e;l++){for(var u=~~(l*n),c=~~(u+n),d=0,p=u;p<c;p+=r){var h=s[p];(h>d||-h>d)&&(d=h)}(0===a||Math.abs(d)>i[l])&&(i[l]=d)}return i}}},{key:"reverseBuffer",value:function(){if(!this.buffer)throw"SoundFile is not done loading";var e=this._lastPos/I.sampleRate,t=this.getVolume();this.setVolume(0,.001);for(var n=this.buffer.numberOfChannels,r=0;r<n;r++)this.buffer.getChannelData(r).reverse();this.reversed=!this.reversed,this.isPlaying()&&e&&this.jump(this.duration()-e),this.setVolume(t,.001)}},{key:"onended",value:function(e){return this._onended=e,this}},{key:"add",value:function(){}},{key:"dispose",value:function(){var e=i.audiocontext.currentTime,t=i.soundArray.indexOf(this);if(i.soundArray.splice(t,1),this.stop(e),this.buffer&&this.bufferSourceNode){for(var n=0;n<this.bufferSourceNodes.length-1;n++)if(null!==this.bufferSourceNodes[n]){this.bufferSourceNodes[n].disconnect();try{this.bufferSourceNodes[n].stop(e)}catch(e){console.warn("no buffer source node to dispose")}this.bufferSourceNodes[n]=null}if(this.isPlaying()){try{this._counterNode.stop(e)}catch(e){console.log(e)}this._counterNode=null}}this.output&&(this.output.disconnect(),this.output=null),this.panner&&(this.panner.disconnect(),this.panner=null)}},{key:"connect",value:function(e){e?e.hasOwnProperty("input")?this.panner.connect(e.input):this.panner.connect(e):this.panner.connect(i.input)}},{key:"disconnect",value:function(){this.panner&&this.panner.disconnect()}},{key:"getLevel",value:function(){console.warn("p5.SoundFile.getLevel has been removed from the library. Use p5.Amplitude instead")}},{key:"setPath",value:function(e,t){var n=p5.prototype._checkFileFormats(e);this.url=n,this.load(t)}},{key:"setBuffer",value:function(e){var t=e.length,n=e[0].length,r=I.createBuffer(t,n,I.sampleRate);e[0]instanceof Float32Array||(e[0]=new Float32Array(e[0]));for(var o=0;o<t;o++)r.getChannelData(o).set(e[o]);this.buffer=r,this.panner.inputChannels(t)}},{key:"_initCounterNode",value:function(){var e=this,t=this,n=I.currentTime,r=I.createBufferSource(),o=m(256);return t._workletNode&&(t._workletNode.disconnect(),delete t._workletNode),t._workletNode=new AudioWorkletNode(I,s.a.soundFileProcessor,{processorOptions:{bufferSize:o}}),t._workletNode.port.onmessage=function(n){if("position"===n.data.name){if(0===n.data.position)return;e._lastPos=n.data.position,e._onTimeUpdate(t._lastPos)}},r.buffer=function(e){for(var t=e.length,n=I.createBuffer(1,e.length,I.sampleRate),r=n.getChannelData(0),o=0;o<t;o++)r[o]=o;return n}(t.buffer),r.playbackRate.setValueAtTime(t.playbackRate,n),r.connect(t._workletNode),t._workletNode.connect(p5.soundOut._silentNode),r}},{key:"_initSourceNode",value:function(){var e=I.createBufferSource();return e.buffer=this.buffer,e.playbackRate.value=this.playbackRate,e.connect(this.output),e}},{key:"processPeaks",value:function(e,t,n,r){console.warn("processPeaks is deprecated")}},{key:"addCue",value:function(e,t,n){var r=this._cueIDCounter++,o=new j(t,e,r,n);return this._cues.push(o),r}},{key:"removeCue",value:function(e){for(var t=this._cues.length,n=0;n<t;n++)if(this._cues[n].id===e){this._cues.splice(n,1);break}this._cues.length}},{key:"clearCues",value:function(){this._cues=[]}},{key:"_onTimeUpdate",value:function(e){for(var t=e/this.buffer.sampleRate,n=this._cues.length,r=0;r<n;r++){var o=this._cues[r],i=o.time,a=o.val;(this._prevUpdateTime||0)<=i&&i<=t&&o.callback(a)}this._prevUpdateTime=t}},{key:"save",value:function(e){p5.prototype.saveSound(this,e,"wav")}},{key:"getBlob",value:function(){var e=p(this.buffer);return new Blob([e],{type:"audio/wav"})}}])&&T(t.prototype,n),e}(),N=O;function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bufferSize=m(2048),this.audiocontext=i.audiocontext,this._workletNode=new AudioWorkletNode(this.audiocontext,s.a.amplitudeProcessor,{outputChannelCount:[1],parameterData:{smoothing:t||0},processorOptions:{normalize:!1,smoothing:t||0,numInputChannels:2,bufferSize:this.bufferSize}}),this._workletNode.port.onmessage=function(e){"amplitude"===e.data.name&&(this.volume=e.data.volume,this.volNorm=e.data.volNorm,this.stereoVol=e.data.stereoVol,this.stereoVolNorm=e.data.stereoVolNorm)}.bind(this),this.input=this._workletNode,this.output=this.audiocontext.createGain(),this.volume=0,this.volNorm=0,this.stereoVol=[0,0],this.stereoVolNorm=[0,0],this.normalize=!1,this._workletNode.connect(this.output),this.output.gain.value=0,this.output.connect(this.audiocontext.destination),i.meter.connect(this._workletNode),i.soundArray.push(this)}var t,n;return t=e,(n=[{key:"setInput",value:function(e,t){i.meter.disconnect(),t&&(this._workletNode.parameters.get("smoothing").value=t),null==e?(console.log("Amplitude input source is not ready! Connecting to main output instead"),i.meter.connect(this._workletNode)):e?(e.connect(this._workletNode),this._workletNode.disconnect(),this._workletNode.connect(this.output)):i.meter.connect(this._workletNode)}},{key:"connect",value:function(e){e?e.hasOwnProperty("input")?this.output.connect(e.input):this.output.connect(e):this.output.connect(this.panner.connect(i.input))}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"getLevel",value:function(e){return void 0!==e?this.normalize?this.stereoVolNorm[e]:this.stereoVol[e]:this.normalize?this.volNorm:this.volume}},{key:"toggleNormalize",value:function(e){this.normalize="boolean"==typeof e?e:!this.normalize,this._workletNode.port.postMessage({name:"toggleNormalize",normalize:this.normalize})}},{key:"smooth",value:function(e){e>=0&&e<1?this._workletNode.port.postMessage({name:"smoothing",smoothing:e}):console.log("Error: smoothing must be between 0 and 1")}},{key:"dispose",value:function(){var e=i.soundArray.indexOf(this);i.soundArray.splice(e,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._workletNode.disconnect(),delete this._workletNode}}])&&R(t.prototype,n),e}();function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=this.analyser=i.audiocontext.createAnalyser(),Object.defineProperties(this,{bins:{get:function(){return this.analyser.fftSize/2},set:function(e){this.analyser.fftSize=2*e},configurable:!0,enumerable:!0},smoothing:{get:function(){return this.analyser.smoothingTimeConstant},set:function(e){this.analyser.smoothingTimeConstant=e},configurable:!0,enumerable:!0}}),this.smooth(t),this.bins=n||1024,i.fftMeter.connect(this.analyser),this.freqDomain=new Uint8Array(this.analyser.frequencyBinCount),this.timeDomain=new Uint8Array(this.analyser.frequencyBinCount),this.bass=[20,140],this.lowMid=[140,400],this.mid=[400,2600],this.highMid=[2600,5200],this.treble=[5200,14e3],i.soundArray.push(this)}var t,n;return t=e,n=[{key:"setInput",value:function(e){e?(e.output?e.output.connect(this.analyser):e.connect&&e.connect(this.analyser),i.fftMeter.disconnect()):i.fftMeter.connect(this.analyser)}},{key:"waveform",value:function(){for(var e,t,n=new Array,r=0;r<arguments.length;r++)"number"==typeof arguments[r]&&(e=arguments[r],this.analyser.fftSize=2*e),"string"==typeof arguments[r]&&(t=arguments[r]);if(t&&!p5.prototype._isSafari())return function(e){e.timeDomain instanceof Float32Array==0&&(e.timeDomain=new Float32Array(e.analyser.frequencyBinCount))}(this,this.timeDomain),this.analyser.getFloatTimeDomainData(this.timeDomain),this.timeDomain;!function(e){e.timeDomain instanceof Uint8Array==0&&(e.timeDomain=new Uint8Array(e.analyser.frequencyBinCount))}(this,this.timeDomain),this.analyser.getByteTimeDomainData(this.timeDomain);for(var o=0;o<this.timeDomain.length;o++){var i=p5.prototype.map(this.timeDomain[o],0,255,-1,1);n.push(i)}return n}},{key:"analyze",value:function(){for(var e,t=0;t<arguments.length;t++)"number"==typeof arguments[t]&&(this.bins=arguments[t],this.analyser.fftSize=2*this.bins),"string"==typeof arguments[t]&&(e=arguments[t]);return e&&"db"===e.toLowerCase()?(function(e){e.freqDomain instanceof Float32Array==0&&(e.freqDomain=new Float32Array(e.analyser.frequencyBinCount))}(this),this.analyser.getFloatFrequencyData(this.freqDomain),this.freqDomain):(function(e){e.freqDomain instanceof Uint8Array==0&&(e.freqDomain=new Uint8Array(e.analyser.frequencyBinCount))}(this,this.freqDomain),this.analyser.getByteFrequencyData(this.freqDomain),Array.apply([],this.freqDomain))}},{key:"getEnergy",value:function(e,t){var n=i.audiocontext.sampleRate/2;if("bass"===e?(e=this.bass[0],t=this.bass[1]):"lowMid"===e?(e=this.lowMid[0],t=this.lowMid[1]):"mid"===e?(e=this.mid[0],t=this.mid[1]):"highMid"===e?(e=this.highMid[0],t=this.highMid[1]):"treble"===e&&(e=this.treble[0],t=this.treble[1]),"number"!=typeof e)throw"invalid input for getEnergy()";if(t){if(e&&t){if(e>t){var r=t;t=e,e=r}for(var o=Math.round(e/n*this.freqDomain.length),a=Math.round(t/n*this.freqDomain.length),s=0,l=0,u=o;u<=a;u++)s+=this.freqDomain[u],l+=1;return s/l}throw"invalid input for getEnergy()"}var c=Math.round(e/n*this.freqDomain.length);return this.freqDomain[c]}},{key:"getFreq",value:function(e,t){return console.log("getFreq() is deprecated. Please use getEnergy() instead."),this.getEnergy(e,t)}},{key:"getCentroid",value:function(){for(var e=i.audiocontext.sampleRate/2,t=0,n=0,r=0;r<this.freqDomain.length;r++)t+=r*this.freqDomain[r],n+=this.freqDomain[r];var o=0;return 0!==n&&(o=t/n),o*(e/this.freqDomain.length)}},{key:"smooth",value:function(e){return void 0!==e&&(this.smoothing=e),this.smoothing}},{key:"dispose",value:function(){var e=i.soundArray.indexOf(this);i.soundArray.splice(e,1),this.analyser&&(this.analyser.disconnect(),delete this.analyser)}},{key:"linAverages",value:function(e){for(var t=e||16,n=this.freqDomain,r=n.length,o=Math.floor(r/t),i=new Array(t),a=0,s=0;s<r;s++)i[a]=void 0!==i[a]?(i[a]+n[s])/2:n[s],s%o==o-1&&a++;return i}},{key:"logAverages",value:function(e){for(var t=i.audiocontext.sampleRate/2,n=this.freqDomain,r=n.length,o=new Array(e.length),a=0,s=0;s<r;s++)Math.round(s*t/this.freqDomain.length)>e[a].hi&&a++,o[a]=void 0!==o[a]?(o[a]+n[s])/2:n[s];return o}},{key:"getOctaveBands",value:function(e,t){var n=e||3,r=t||15.625,o=[],a={lo:r/Math.pow(2,1/(2*n)),ctr:r,hi:r*Math.pow(2,1/(2*n))};o.push(a);for(var s=i.audiocontext.sampleRate/2;a.hi<s;){var l={};l.lo=a.hi,l.ctr=a.ctr*Math.pow(2,1/n),l.hi=l.ctr*Math.pow(2,1/(2*n)),o.push(l),a=l}return o}}],n&&M(t.prototype,n),e}(),L=D,F=n(4),B=n.n(F),$=n(1),z=n.n($),U=n(8),V=n.n(U);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function W(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function q(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}function X(e,t){return X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},X(e,t)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,t,n,r,o){var i=e.oscillator;for(var a in e.mathOps)e.mathOps[a]instanceof o&&(i.disconnect(),e.mathOps[a].dispose(),(n=a)<e.mathOps.length-2&&(r=e.mathOps[a+1]));return n===e.mathOps.length-1&&e.mathOps.push(r),a>0&&(i=e.mathOps[a-1]),i.disconnect(),i.connect(t),t.connect(r),e.mathOps[n]=t,e}var J=function(){function e(t,n){if(Y(this,e),"string"==typeof t){var r=n;n=t,t=r}if("number"==typeof n){var o=n;n=t,t=o}this.started=!1,this.phaseAmount=void 0,this.oscillator=i.audiocontext.createOscillator(),this.f=t||440,this.oscillator.type=n||"sine",this.oscillator.frequency.setValueAtTime(this.f,i.audiocontext.currentTime),this.output=i.audiocontext.createGain(),this._freqMods=[],this.output.gain.value=.5,this.output.gain.setValueAtTime(.5,i.audiocontext.currentTime),this.oscillator.connect(this.output),this.panPosition=0,this.connection=i.input,this.panner=new S(this.output,this.connection,1),this.mathOps=[this.output],i.soundArray.push(this),this.fade=this.amp}var t,n;return t=e,n=[{key:"start",value:function(e,t){if(this.started){var n=i.audiocontext.currentTime;this.stop(n)}if(!this.started){var r=t||this.f,o=this.oscillator.type;for(var a in this.oscillator&&(this.oscillator.disconnect(),delete this.oscillator),this.oscillator=i.audiocontext.createOscillator(),this.oscillator.frequency.value=Math.abs(r),this.oscillator.type=o,this.oscillator.connect(this.output),e=e||0,this.oscillator.start(e+i.audiocontext.currentTime),this.freqNode=this.oscillator.frequency,this._freqMods)void 0!==this._freqMods[a].connect&&this._freqMods[a].connect(this.oscillator.frequency);this.started=!0}}},{key:"stop",value:function(e){if(this.started){var t=e||0,n=i.audiocontext.currentTime;this.oscillator.stop(t+n),this.started=!1}}},{key:"amp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("number"==typeof e){var r=i.audiocontext.currentTime;this.output.gain.linearRampToValueAtTime(e,r+n+t)}else{if(!e)return this.output.gain;e.connect(this.output.gain)}}},{key:"getAmp",value:function(){return this.output.gain.value}},{key:"freq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("number"!=typeof e||isNaN(e)){if(!e)return this.oscillator.frequency;e.output&&(e=e.output),e.connect(this.oscillator.frequency),this._freqMods.push(e)}else{this.f=e;var r=i.audiocontext.currentTime;0===t?this.oscillator.frequency.setValueAtTime(e,n+r):e>0?this.oscillator.frequency.exponentialRampToValueAtTime(e,n+t+r):this.oscillator.frequency.linearRampToValueAtTime(e,n+t+r),this.phaseAmount&&this.phase(this.phaseAmount)}}},{key:"getFreq",value:function(){return this.oscillator.frequency.value}},{key:"setType",value:function(e){this.oscillator.type=e}},{key:"getType",value:function(){return this.oscillator.type}},{key:"connect",value:function(e){e?e.hasOwnProperty("input")?(this.panner.connect(e.input),this.connection=e.input):(this.panner.connect(e),this.connection=e):this.panner.connect(i.input)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect(),this.panner&&(this.panner.disconnect(),this.output&&this.output.connect(this.panner)),this.oscMods=[]}},{key:"pan",value:function(e,t){this.panPosition=e,this.panner.pan(e,t)}},{key:"getPan",value:function(){return this.panPosition}},{key:"dispose",value:function(){var e=i.soundArray.indexOf(this);if(i.soundArray.splice(e,1),this.oscillator){var t=i.audiocontext.currentTime;this.stop(t),this.disconnect(),this.panner=null,this.oscillator=null}this.osc2&&this.osc2.dispose()}},{key:"phase",value:function(e){var t=p5.prototype.map(e,0,1,0,1/this.f),n=i.audiocontext.currentTime;this.phaseAmount=e,this.dNode||(this.dNode=i.audiocontext.createDelay(),this.oscillator.disconnect(),this.oscillator.connect(this.dNode),this.dNode.connect(this.output)),this.dNode.delayTime.setValueAtTime(t,n)}},{key:"add",value:function(e){return Z(this,new B.a(e),this.mathOps.length-1,this.output,B.a)}},{key:"mult",value:function(e){return Z(this,new z.a(e),this.mathOps.length-1,this.output,z.a)}},{key:"scale",value:function(e,t,n,r){var o,i;return 4===arguments.length?(o=p5.prototype.map(n,e,t,0,1)-.5,i=p5.prototype.map(r,e,t,0,1)-.5):(o=arguments[0],i=arguments[1]),Z(this,new V.a(o,i),this.mathOps.length-1,this.output,V.a)}}],n&&K(t.prototype,n),e}(),Q=function(e){function t(e){return Y(this,t),W(this,H(t).call(this,e,"sine"))}return q(t,e),t}(J),ee=function(e){function t(e){return Y(this,t),W(this,H(t).call(this,e,"triangle"))}return q(t,e),t}(J),te=function(e){function t(e){return Y(this,t),W(this,H(t).call(this,e,"sawtooth"))}return q(t,e),t}(J),ne=function(e){function t(e){return Y(this,t),W(this,H(t).call(this,e,"square"))}return q(t,e),t}(J),re=J,oe=n(7),ie=n.n(oe);p5.Envelope=function(e,t,n,r,o,a){this.aTime=e||.1,this.aLevel=t||1,this.dTime=n||.5,this.dLevel=r||0,this.rTime=o||0,this.rLevel=a||0,this._rampHighPercentage=.98,this._rampLowPercentage=.02,this.output=i.audiocontext.createGain(),this.control=new ie.a,this._init(),this.control.connect(this.output),this.connection=null,this.mathOps=[this.control],this.isExponential=!1,this.sourceToClear=null,this.wasTriggered=!1,i.soundArray.push(this)},p5.Envelope.prototype._init=function(){var e=i.audiocontext.currentTime;this.control.setTargetAtTime(1e-5,e,.001),this._setRampAD(this.aTime,this.dTime)},p5.Envelope.prototype.set=function(e,t,n,r,o,i){this.aTime=e,this.aLevel=t,this.dTime=n||0,this.dLevel=r||0,this.rTime=o||0,this.rLevel=i||0,this._setRampAD(e,n)},p5.Envelope.prototype.setADSR=function(e,t,n,r){this.aTime=e,this.dTime=t||0,this.sPercent=n||0,this.dLevel=void 0!==n?n*(this.aLevel-this.rLevel)+this.rLevel:0,this.rTime=r||0,this._setRampAD(e,t)},p5.Envelope.prototype.setRange=function(e,t){this.aLevel=e||1,this.rLevel=t||0},p5.Envelope.prototype._setRampAD=function(e,t){this._rampAttackTime=this.checkExpInput(e),this._rampDecayTime=this.checkExpInput(t);var n=1;n=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=e/this.checkExpInput(n),n=Math.log(1/this._rampLowPercentage),this._rampDecayTC=t/this.checkExpInput(n)},p5.Envelope.prototype.setRampPercentages=function(e,t){this._rampHighPercentage=this.checkExpInput(e),this._rampLowPercentage=this.checkExpInput(t);var n=1;n=Math.log(1/this.checkExpInput(1-this._rampHighPercentage)),this._rampAttackTC=this._rampAttackTime/this.checkExpInput(n),n=Math.log(1/this._rampLowPercentage),this._rampDecayTC=this._rampDecayTime/this.checkExpInput(n)},p5.Envelope.prototype.setInput=function(){for(var e=0;e<arguments.length;e++)this.connect(arguments[e])},p5.Envelope.prototype.setExp=function(e){this.isExponential=e},p5.Envelope.prototype.checkExpInput=function(e){return e<=0&&(e=1e-8),e},p5.Envelope.prototype.play=function(e,t,n){var r=t||0;e&&this.connection!==e&&this.connect(e),this.triggerAttack(e,r),this.triggerRelease(e,r+this.aTime+this.dTime+~~n)},p5.Envelope.prototype.triggerAttack=function(e,t){var n=i.audiocontext.currentTime+(t||0);this.lastAttack=n,this.wasTriggered=!0,e&&this.connection!==e&&this.connect(e);var r=this.control.getValueAtTime(n);!0===this.isExponential?this.control.exponentialRampToValueAtTime(this.checkExpInput(r),n):this.control.linearRampToValueAtTime(r,n),n+=this.aTime,!0===this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.aLevel),n),r=this.checkExpInput(this.control.getValueAtTime(n)),this.control.cancelScheduledValues(n),this.control.exponentialRampToValueAtTime(r,n)):(this.control.linearRampToValueAtTime(this.aLevel,n),r=this.control.getValueAtTime(n),this.control.cancelScheduledValues(n),this.control.linearRampToValueAtTime(r,n)),n+=this.dTime,!0===this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.dLevel),n),r=this.checkExpInput(this.control.getValueAtTime(n)),this.control.cancelScheduledValues(n),this.control.exponentialRampToValueAtTime(r,n)):(this.control.linearRampToValueAtTime(this.dLevel,n),r=this.control.getValueAtTime(n),this.control.cancelScheduledValues(n),this.control.linearRampToValueAtTime(r,n))},p5.Envelope.prototype.triggerRelease=function(e,t){if(this.wasTriggered){var n=i.audiocontext.currentTime+(t||0);e&&this.connection!==e&&this.connect(e);var r=this.control.getValueAtTime(n);!0===this.isExponential?this.control.exponentialRampToValueAtTime(this.checkExpInput(r),n):this.control.linearRampToValueAtTime(r,n),n+=this.rTime,!0===this.isExponential?(this.control.exponentialRampToValueAtTime(this.checkExpInput(this.rLevel),n),r=this.checkExpInput(this.control.getValueAtTime(n)),this.control.cancelScheduledValues(n),this.control.exponentialRampToValueAtTime(r,n)):(this.control.linearRampToValueAtTime(this.rLevel,n),r=this.control.getValueAtTime(n),this.control.cancelScheduledValues(n),this.control.linearRampToValueAtTime(r,n)),this.wasTriggered=!1}},p5.Envelope.prototype.ramp=function(e,t,n,r){var o=i.audiocontext.currentTime+(t||0),a=this.checkExpInput(n),s=void 0!==r?this.checkExpInput(r):void 0;e&&this.connection!==e&&this.connect(e);var l=this.checkExpInput(this.control.getValueAtTime(o));a>l?(this.control.setTargetAtTime(a,o,this._rampAttackTC),o+=this._rampAttackTime):a<l&&(this.control.setTargetAtTime(a,o,this._rampDecayTC),o+=this._rampDecayTime),void 0!==s&&(s>a?this.control.setTargetAtTime(s,o,this._rampAttackTC):s<a&&this.control.setTargetAtTime(s,o,this._rampDecayTC))},p5.Envelope.prototype.connect=function(e){this.connection=e,(e instanceof p5.Oscillator||e instanceof p5.SoundFile||e instanceof p5.AudioIn||e instanceof p5.Reverb||e instanceof p5.Noise||e instanceof p5.Filter||e instanceof p5.Delay)&&(e=e.output.gain),e instanceof AudioParam&&e.setValueAtTime(0,i.audiocontext.currentTime),this.output.connect(e)},p5.Envelope.prototype.disconnect=function(){this.output&&this.output.disconnect()},p5.Envelope.prototype.add=function(e){var t=new B.a(e),n=this.mathOps.length,r=this.output;return p5.prototype._mathChain(this,t,n,r,B.a)},p5.Envelope.prototype.mult=function(e){var t=new z.a(e),n=this.mathOps.length,r=this.output;return p5.prototype._mathChain(this,t,n,r,z.a)},p5.Envelope.prototype.scale=function(e,t,n,r){var o=new V.a(e,t,n,r),i=this.mathOps.length,a=this.output;return p5.prototype._mathChain(this,o,i,a,V.a)},p5.Envelope.prototype.dispose=function(){var e=i.soundArray.indexOf(this);i.soundArray.splice(e,1),this.disconnect(),this.control&&(this.control.dispose(),this.control=null);for(var t=1;t<this.mathOps.length;t++)this.mathOps[t].dispose()},p5.Env=function(e,t,n,r,o,i){console.warn("WARNING: p5.Env is now deprecated and may be removed in future versions. Please use the new p5.Envelope instead."),p5.Envelope.call(this,e,t,n,r,o,i)},p5.Env.prototype=Object.create(p5.Envelope.prototype);var ae=p5.Envelope;function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function ce(e,t){return ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ce(e,t)}var de=function(){for(var e=2*i.audiocontext.sampleRate,t=i.audiocontext.createBuffer(1,e,i.audiocontext.sampleRate),n=t.getChannelData(0),r=0;r<e;r++)n[r]=2*Math.random()-1;return t.type="white",t}(),pe=function(){var e,t,n,r,o,a,s,l=2*i.audiocontext.sampleRate,u=i.audiocontext.createBuffer(1,l,i.audiocontext.sampleRate),c=u.getChannelData(0);e=t=n=r=o=a=s=0;for(var d=0;d<l;d++){var p=2*Math.random()-1;e=.99886*e+.0555179*p,t=.99332*t+.0750759*p,n=.969*n+.153852*p,r=.8665*r+.3104856*p,o=.55*o+.5329522*p,a=-.7616*a-.016898*p,c[d]=e+t+n+r+o+a+s+.5362*p,c[d]*=.11,s=.115926*p}return u.type="pink",u}(),he=function(){for(var e=2*i.audiocontext.sampleRate,t=i.audiocontext.createBuffer(1,e,i.audiocontext.sampleRate),n=t.getChannelData(0),r=0,o=0;o<e;o++){var a=2*Math.random()-1;n[o]=(r+.02*a)/1.02,r=n[o],n[o]*=3.5}return t.type="brown",t}(),fe=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),delete(n=function(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,ue(t).call(this))).f,delete n.freq,delete n.oscillator,r="brown"===e?he:"pink"===e?pe:de,n.buffer=r,n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,(r=[{key:"setType",value:function(e){switch(e){case"white":default:this.buffer=de;break;case"pink":this.buffer=pe;break;case"brown":this.buffer=he}if(this.started){var t=i.audiocontext.currentTime;this.stop(t),this.start(t+.01)}}},{key:"getType",value:function(){return this.buffer.type}},{key:"start",value:function(){this.started&&this.stop(),this.noise=i.audiocontext.createBufferSource(),this.noise.buffer=this.buffer,this.noise.loop=!0,this.noise.connect(this.output);var e=i.audiocontext.currentTime;this.noise.start(e),this.started=!0}},{key:"stop",value:function(){var e=i.audiocontext.currentTime;this.noise&&(this.noise.stop(e),this.started=!1)}},{key:"dispose",value:function(){var e=i.audiocontext.currentTime,t=i.soundArray.indexOf(this);i.soundArray.splice(t,1),this.noise&&(this.noise.disconnect(),this.stop(e)),this.output&&this.output.disconnect(),this.panner&&this.panner.disconnect(),this.output=null,this.panner=null,this.buffer=null,this.noise=null}}])&&le(n.prototype,r),t}(re),me=n(2),ge=n.n(me);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e){return ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ve(e)}function xe(e,t){return xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},xe(e,t)}var we=function(e){function t(e,n){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,ve(t).call(this,e,"sawtooth"))).w=n||0,r.osc2=new te(e),r.dNode=i.audiocontext.createDelay(),r.dcOffset=ke(),r.dcGain=i.audiocontext.createGain(),r.dcOffset.connect(r.dcGain),r.dcGain.connect(r.output),r.f=e||440;var o=r.w/r.oscillator.frequency.value;return r.dNode.delayTime.value=o,r.dcGain.gain.value=1.7*(.5-r.w),r.osc2.disconnect(),r.osc2.panner.disconnect(),r.osc2.amp(-1),r.osc2.output.connect(r.dNode),r.dNode.connect(r.output),r.output.gain.value=1,r.output.connect(r.panner),r}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}(t,e),n=t,r=[{key:"width",value:function(e){if("number"==typeof e){if(e<=1&&e>=0){this.w=e;var t=this.w/this.oscillator.frequency.value;this.dNode.delayTime.value=t}this.dcGain.gain.value=1.7*(.5-this.w)}else{e.connect(this.dNode.delayTime);var n=new ge.a(-.5);e.connect(n);var r=new z.a(-1),o=new z.a(1.7);(n=n.connect(r).connect(o)).connect(this.dcGain.gain)}}},{key:"start",value:function(e,t){var n=i.audiocontext.currentTime,r=t||0;if(!this.started){var o=e||this.f,a=this.oscillator.type;this.oscillator=i.audiocontext.createOscillator(),this.oscillator.frequency.setValueAtTime(o,n),this.oscillator.type=a,this.oscillator.connect(this.output),this.oscillator.start(r+n),this.osc2.oscillator=i.audiocontext.createOscillator(),this.osc2.oscillator.frequency.setValueAtTime(o,r+n),this.osc2.oscillator.type=a,this.osc2.oscillator.connect(this.osc2.output),this.osc2.start(r+n),this.freqNode=[this.oscillator.frequency,this.osc2.oscillator.frequency],this.dcOffset=ke(),this.dcOffset.connect(this.dcGain),this.dcOffset.start(r+n),void 0!==this.mods&&void 0!==this.mods.frequency&&(this.mods.frequency.connect(this.freqNode[0]),this.mods.frequency.connect(this.freqNode[1])),this.started=!0,this.osc2.started=!0}}},{key:"stop",value:function(e){if(this.started){var t=e||0,n=i.audiocontext.currentTime;this.oscillator.stop(t+n),this.osc2.oscillator&&this.osc2.oscillator.stop(t+n),this.dcOffset.stop(t+n),this.started=!1,this.osc2.started=!1}}},{key:"freq",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if("number"==typeof e){this.f=e;var r=i.audiocontext.currentTime,o=this.oscillator.frequency.value;this.oscillator.frequency.cancelScheduledValues(r),this.oscillator.frequency.setValueAtTime(o,r+n),this.oscillator.frequency.exponentialRampToValueAtTime(e,n+t+r),this.osc2.oscillator.frequency.cancelScheduledValues(r),this.osc2.oscillator.frequency.setValueAtTime(o,r+n),this.osc2.oscillator.frequency.exponentialRampToValueAtTime(e,n+t+r),this.freqMod&&(this.freqMod.output.disconnect(),this.freqMod=null)}else e.output&&(e.output.disconnect(),e.output.connect(this.oscillator.frequency),e.output.connect(this.osc2.oscillator.frequency),this.freqMod=e)}}],r&&ye(n.prototype,r),t}(re);function ke(){for(var e=i.audiocontext,t=e.createBuffer(1,2048,e.sampleRate),n=t.getChannelData(0),r=0;r<2048;r++)n[r]=1;var o=e.createBufferSource();return o.buffer=t,o.loop=!0,o}var _e=we;function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}i.inputSources=[];var Ee=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=i.audiocontext.createGain(),this.output=i.audiocontext.createGain(),this.stream=null,this.mediaStream=null,this.currentSource=null,this.enabled=!1,this.amplitude=new P,this.output.connect(this.amplitude.input),window.MediaStreamTrack&&window.navigator.mediaDevices&&window.navigator.mediaDevices.getUserMedia||(t?t():window.alert("This browser does not support MediaStreamTrack and mediaDevices")),i.soundArray.push(this)}var t,n;return t=e,(n=[{key:"start",value:function(e,t){var n=this;this.stream&&this.stop();var r=i.inputSources[n.currentSource],o={audio:{sampleRate:i.audiocontext.sampleRate,echoCancellation:!1}};i.inputSources[this.currentSource]&&(o.audio.deviceId=r.deviceId),window.navigator.mediaDevices.getUserMedia(o).then((function(t){n.stream=t,n.enabled=!0,n.mediaStream=i.audiocontext.createMediaStreamSource(t),n.mediaStream.connect(n.output),n.amplitude.setInput(n.output),e&&e()})).catch((function(e){t?t(e):console.error(e)}))}},{key:"stop",value:function(){this.stream&&(this.stream.getTracks().forEach((function(e){e.stop()})),this.mediaStream.disconnect(),delete this.mediaStream,delete this.stream)}},{key:"connect",value:function(e){e?e.hasOwnProperty("input")?this.output.connect(e.input):e.hasOwnProperty("analyser")?this.output.connect(e.analyser):this.output.connect(e):this.output.connect(i.input)}},{key:"disconnect",value:function(){this.output&&(this.output.disconnect(),this.output.connect(this.amplitude.input))}},{key:"getLevel",value:function(e){return e&&(this.amplitude.smoothing=e),this.amplitude.getLevel()}},{key:"amp",value:function(e,t){if(t){var n=t||0,r=this.output.gain.value;this.output.gain.cancelScheduledValues(i.audiocontext.currentTime),this.output.gain.setValueAtTime(r,i.audiocontext.currentTime),this.output.gain.linearRampToValueAtTime(e,n+i.audiocontext.currentTime)}else this.output.gain.cancelScheduledValues(i.audiocontext.currentTime),this.output.gain.setValueAtTime(e,i.audiocontext.currentTime)}},{key:"getSources",value:function(e,t){return new Promise((function(n,r){window.navigator.mediaDevices.enumerateDevices().then((function(t){i.inputSources=t.filter((function(e){return"audioinput"===e.kind})),n(i.inputSources),e&&e(i.inputSources)})).catch((function(e){r(e),t?t(e):console.error("This browser does not support MediaStreamTrack.getSources()")}))}))}},{key:"setSource",value:function(e){i.inputSources.length>0&&e<i.inputSources.length?(this.currentSource=e,console.log("set source to ",i.inputSources[this.currentSource])):console.log("unable to set input source"),this.stream&&this.stream.active&&this.start()}},{key:"dispose",value:function(){var e=i.soundArray.indexOf(this);i.soundArray.splice(e,1),this.stop(),this.output&&this.output.disconnect(),this.amplitude&&this.amplitude.disconnect(),delete this.amplitude,delete this.output}}])&&Se(t.prototype,n),e}(),Te=n(23),Ce=n.n(Te);function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ac=i.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this._drywet=new Ce.a(1),this.wet=this.ac.createGain(),this.input.connect(this._drywet.a),this.wet.connect(this._drywet.b),this._drywet.connect(this.output),this.connect(),i.soundArray.push(this)}var t,n;return t=e,n=[{key:"amp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=i.audiocontext.currentTime,o=r+n,a=o+t+.001,s=this.output.gain.value;this.output.gain.cancelScheduledValues(r),this.output.gain.linearRampToValueAtTime(s,o+.001),this.output.gain.linearRampToValueAtTime(e,a)}},{key:"chain",value:function(){if(arguments.length>0){this.connect(arguments[0]);for(var e=1;e<arguments.length;e+=1)arguments[e-1].connect(arguments[e])}return this}},{key:"drywet",value:function(e){return void 0!==e&&(this._drywet.fade.value=e),this._drywet.fade.value}},{key:"connect",value:function(e){var t=e||p5.soundOut.input;this.output.connect(t.input?t.input:t)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){var e=i.soundArray.indexOf(this);i.soundArray.splice(e,1),this.input&&(this.input.disconnect(),delete this.input),this.output&&(this.output.disconnect(),delete this.output),this._drywet&&(this._drywet.disconnect(),delete this._drywet),this.wet&&(this.wet.disconnect(),delete this.wet),this.ac=void 0}}],n&&Ie(t.prototype,n),e}(),Ae=je;function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e,t,n){return Me="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},Me(e,t,n||e)}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Le(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}function Fe(e,t){return Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Fe(e,t)}var Be=function(e){function t(e){var n;return Ne(this,t),(n=Pe(this,De(t).call(this))).biquad=n.ac.createBiquadFilter(),n.input.connect(n.biquad),n.biquad.connect(n.wet),e&&n.setType(e),n._on=!0,n._untoggledType=n.biquad.type,n}var n,r;return Le(t,e),n=t,(r=[{key:"process",value:function(e,t,n,r){e.connect(this.input),this.set(t,n,r)}},{key:"set",value:function(e,t,n){e&&this.freq(e,n),t&&this.res(t,n)}},{key:"freq",value:function(e,t){var n=t||0;return e<=0&&(e=1),"number"==typeof e?(this.biquad.frequency.cancelScheduledValues(this.ac.currentTime+.01+n),this.biquad.frequency.exponentialRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.biquad.frequency),this.biquad.frequency.value}},{key:"res",value:function(e,t){var n=t||0;return"number"==typeof e?(this.biquad.Q.value=e,this.biquad.Q.cancelScheduledValues(this.ac.currentTime+.01+n),this.biquad.Q.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.biquad.Q),this.biquad.Q.value}},{key:"gain",value:function(e,t){var n=t||0;return"number"==typeof e?(this.biquad.gain.value=e,this.biquad.gain.cancelScheduledValues(this.ac.currentTime+.01+n),this.biquad.gain.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.biquad.gain),this.biquad.gain.value}},{key:"toggle",value:function(){return this._on=!this._on,!0===this._on?this.biquad.type=this._untoggledType:!1===this._on&&(this.biquad.type="allpass"),this._on}},{key:"setType",value:function(e){this.biquad.type=e,this._untoggledType=this.biquad.type}},{key:"dispose",value:function(){Me(De(t.prototype),"dispose",this).call(this),this.biquad&&(this.biquad.disconnect(),delete this.biquad)}}])&&Re(n.prototype,r),t}(Ae),$e=function(e){function t(){return Ne(this,t),Pe(this,De(t).call(this,"lowpass"))}return Le(t,e),t}(Be),ze=function(e){function t(){return Ne(this,t),Pe(this,De(t).call(this,"highpass"))}return Le(t,e),t}(Be),Ue=function(e){function t(){return Ne(this,t),Pe(this,De(t).call(this,"bandpass"))}return Le(t,e),t}(Be),Ve=Be;function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function We(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e){return He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},He(e)}function qe(e,t){return qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qe(e,t)}var Xe=function(e){function t(e,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=function(e,t){return!t||"object"!==Ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,He(t).call(this,"peaking"))).disconnect(),r.set(e,n),r.biquad.gain.value=0,delete r.input,delete r.output,delete r._drywet,delete r.wet,r}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qe(e,t)}(t,e),n=t,(r=[{key:"amp",value:function(){console.warn("`amp()` is not available for p5.EQ bands. Use `.gain()`")}},{key:"drywet",value:function(){console.warn("`drywet()` is not available for p5.EQ bands.")}},{key:"connect",value:function(e){var t=e||p5.soundOut.input;this.biquad?this.biquad.connect(t.input?t.input:t):this.output.connect(t.input?t.input:t)}},{key:"disconnect",value:function(){this.biquad&&this.biquad.disconnect()}},{key:"dispose",value:function(){var e=i.soundArray.indexOf(this);i.soundArray.splice(e,1),this.disconnect(),delete this.biquad}}])&&We(n.prototype,r),t}(Ve);function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t,n){return Ze="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Je(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},Ze(e,t,n||e)}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}function Qe(e,t){return Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Qe(e,t)}var et=function(e){function t(e){var n,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=function(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Je(t).call(this)),r=3===(e=3===e||8===e?e:3)?Math.pow(2,3):2,n.bands=[];for(var a=0;a<e;a++)a===e-1?(o=21e3,i=.01):0===a?(o=100,i=.1):1===a?(o=3===e?360*r:360,i=1):(o=n.bands[a-1].freq()*r,i=1),n.bands[a]=n._newBand(o,i),a>0?n.bands[a-1].connect(n.bands[a].biquad):n.input.connect(n.bands[a].biquad);return n.bands[e-1].connect(n.output),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,e),n=t,r=[{key:"process",value:function(e){e.connect(this.input)}},{key:"set",value:function(){if(arguments.length===2*this.bands.length)for(var e=0;e<arguments.length;e+=2)this.bands[e/2].freq(arguments[e]),this.bands[e/2].gain(arguments[e+1]);else console.error("Argument mismatch. .set() should be called with "+2*this.bands.length+" arguments. (one frequency and gain value pair for each band of the eq)")}},{key:"_newBand",value:function(e,t){return new Xe(e,t)}},{key:"dispose",value:function(){if(Ze(Je(t.prototype),"dispose",this).call(this),this.bands){for(;this.bands.length>0;)this.bands.pop().dispose();delete this.bands}}}],r&&Ke(n.prototype,r),t}(Ae),tt=et;function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var rt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ac=i.audiocontext,this.listener=this.ac.listener}var t,n;return t=e,n=[{key:"process",value:function(e){e.connect(this.input)}},{key:"position",value:function(e,t,n,r){return this.positionX(e,r),this.positionY(t,r),this.positionZ(n,r),[this.listener.positionX.value,this.listener.positionY.value,this.listener.positionZ.value]}},{key:"positionX",value:function(e,t){var n=t||0;return"number"==typeof e?(this.listener.positionX.value=e,this.listener.positionX.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.positionX.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.listener.positionX),this.listener.positionX.value}},{key:"positionY",value:function(e,t){var n=t||0;return"number"==typeof e?(this.listener.positionY.value=e,this.listener.positionY.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.positionY.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.listener.positionY),this.listener.positionY.value}},{key:"positionZ",value:function(e,t){var n=t||0;return"number"==typeof e?(this.listener.positionZ.value=e,this.listener.positionZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.positionZ.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.listener.positionZ),this.listener.positionZ.value}},{key:"orient",value:function(e,t,n,r,o,i,a){return 3===arguments.length||4===arguments.length?(a=arguments[3],this.orientForward(e,t,n,a)):6!==arguments.length&&7!==arguments||(this.orientForward(e,t,n),this.orientUp(r,o,i,a)),[this.listener.forwardX.value,this.listener.forwardY.value,this.listener.forwardZ.value,this.listener.upX.value,this.listener.upY.value,this.listener.upZ.value]}},{key:"orientForward",value:function(e,t,n,r){return this.forwardX(e,r),this.forwardY(t,r),this.forwardZ(n,r),[this.listener.forwardX,this.listener.forwardY,this.listener.forwardZ]}},{key:"orientUp",value:function(e,t,n,r){return this.upX(e,r),this.upY(t,r),this.upZ(n,r),[this.listener.upX,this.listener.upY,this.listener.upZ]}},{key:"forwardX",value:function(e,t){var n=t||0;return"number"==typeof e?(this.listener.forwardX.value=e,this.listener.forwardX.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.forwardX.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.listener.forwardX),this.listener.forwardX.value}},{key:"forwardY",value:function(e,t){var n=t||0;return"number"==typeof e?(this.listener.forwardY.value=e,this.listener.forwardY.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.forwardY.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.listener.forwardY),this.listener.forwardY.value}},{key:"forwardZ",value:function(e,t){var n=t||0;return"number"==typeof e?(this.listener.forwardZ.value=e,this.listener.forwardZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.forwardZ.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.listener.forwardZ),this.listener.forwardZ.value}},{key:"upX",value:function(e,t){var n=t||0;return"number"==typeof e?(this.listener.upX.value=e,this.listener.upX.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.upX.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.listener.upX),this.listener.upX.value}},{key:"upY",value:function(e,t){var n=t||0;return"number"==typeof e?(this.listener.upY.value=e,this.listener.upY.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.upY.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.listener.upY),this.listener.upY.value}},{key:"upZ",value:function(e,t){var n=t||0;return"number"==typeof e?(this.listener.upZ.value=e,this.listener.upZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.listener.upZ.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.listener.upZ),this.listener.upZ.value}}],n&&nt(t.prototype,n),e}(),ot=rt;function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t,n){return st="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=lt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},st(e,t,n||e)}function lt(e){return lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},lt(e)}function ut(e,t){return ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ut(e,t)}var ct=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==it(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,lt(t).call(this))).panner=e.ac.createPanner(),e.panner.panningModel="HRTF",e.panner.distanceModel="linear",e.panner.connect(e.output),e.input.connect(e.panner),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(t,e),n=t,(r=[{key:"process",value:function(e){e.connect(this.input)}},{key:"set",value:function(e,t,n,r){return this.positionX(e,r),this.positionY(t,r),this.positionZ(n,r),[this.panner.positionX.value,this.panner.positionY.value,this.panner.positionZ.value]}},{key:"positionX",value:function(e,t){var n=t||0;return"number"==typeof e?(this.panner.positionX.value=e,this.panner.positionX.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.positionX.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.panner.positionX),this.panner.positionX.value}},{key:"positionY",value:function(e,t){var n=t||0;return"number"==typeof e?(this.panner.positionY.value=e,this.panner.positionY.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.positionY.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.panner.positionY),this.panner.positionY.value}},{key:"positionZ",value:function(e,t){var n=t||0;return"number"==typeof e?(this.panner.positionZ.value=e,this.panner.positionZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.positionZ.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.panner.positionZ),this.panner.positionZ.value}},{key:"orient",value:function(e,t,n,r){return this.orientX(e,r),this.orientY(t,r),this.orientZ(n,r),[this.panner.orientationX.value,this.panner.orientationY.value,this.panner.orientationZ.value]}},{key:"orientX",value:function(e,t){var n=t||0;return"number"==typeof e?(this.panner.orientationX.value=e,this.panner.orientationX.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.orientationX.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.panner.orientationX),this.panner.orientationX.value}},{key:"orientY",value:function(e,t){var n=t||0;return"number"==typeof e?(this.panner.orientationY.value=e,this.panner.orientationY.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.orientationY.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.panner.orientationY),this.panner.orientationY.value}},{key:"orientZ",value:function(e,t){var n=t||0;return"number"==typeof e?(this.panner.orientationZ.value=e,this.panner.orientationZ.cancelScheduledValues(this.ac.currentTime+.01+n),this.panner.orientationZ.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):e&&e.connect(this.panner.orientationZ),this.panner.orientationZ.value}},{key:"setFalloff",value:function(e,t){this.maxDist(e),this.rolloff(t)}},{key:"maxDist",value:function(e){return"number"==typeof e&&(this.panner.maxDistance=e),this.panner.maxDistance}},{key:"rolloff",value:function(e){return"number"==typeof e&&(this.panner.rolloffFactor=e),this.panner.rolloffFactor}},{key:"dispose",value:function(){st(lt(t.prototype),"dispose",this).call(this),this.panner&&(this.panner.disconnect(),delete this.panner)}}])&&at(n.prototype,r),t}(Ae);function dt(e){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dt(e)}function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t,n){return ht="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ft(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},ht(e,t,n||e)}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}function mt(e,t){return mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mt(e,t)}var gt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,ft(t).call(this)))._split=e.ac.createChannelSplitter(2),e._merge=e.ac.createChannelMerger(2),e._leftGain=e.ac.createGain(),e._rightGain=e.ac.createGain(),e.leftDelay=e.ac.createDelay(),e.rightDelay=e.ac.createDelay(),e._leftFilter=new Ve,e._rightFilter=new Ve,e._leftFilter.disconnect(),e._rightFilter.disconnect(),e._leftFilter.biquad.frequency.setValueAtTime(1200,e.ac.currentTime),e._rightFilter.biquad.frequency.setValueAtTime(1200,e.ac.currentTime),e._leftFilter.biquad.Q.setValueAtTime(.3,e.ac.currentTime),e._rightFilter.biquad.Q.setValueAtTime(.3,e.ac.currentTime),e.input.connect(e._split),e.leftDelay.connect(e._leftGain),e.rightDelay.connect(e._rightGain),e._leftGain.connect(e._leftFilter.input),e._rightGain.connect(e._rightFilter.input),e._merge.connect(e.wet),e._leftFilter.biquad.gain.setValueAtTime(1,e.ac.currentTime),e._rightFilter.biquad.gain.setValueAtTime(1,e.ac.currentTime),e.setType(0),e._maxDelay=e.leftDelay.delayTime.maxValue,e.feedback(.5),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(t,e),n=t,(r=[{key:"process",value:function(e,t,n,r){var o=n||0,i=t||0;if(o>=1)throw new Error("Feedback value will force a positive feedback loop.");if(i>=this._maxDelay)throw new Error("Delay Time exceeds maximum delay time of "+this._maxDelay+" second.");e.connect(this.input),this.leftDelay.delayTime.setValueAtTime(i,this.ac.currentTime),this.rightDelay.delayTime.setValueAtTime(i,this.ac.currentTime),this._leftGain.gain.value=o,this._rightGain.gain.value=o,r&&(this._leftFilter.freq(r),this._rightFilter.freq(r))}},{key:"delayTime",value:function(e){"number"!=typeof e?(e.connect(this.leftDelay.delayTime),e.connect(this.rightDelay.delayTime)):(this.leftDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.rightDelay.delayTime.cancelScheduledValues(this.ac.currentTime),this.leftDelay.delayTime.linearRampToValueAtTime(e,this.ac.currentTime),this.rightDelay.delayTime.linearRampToValueAtTime(e,this.ac.currentTime))}},{key:"feedback",value:function(e){if(e&&"number"!=typeof e)e.connect(this._leftGain.gain),e.connect(this._rightGain.gain);else{if(e>=1)throw new Error("Feedback value will force a positive feedback loop.");"number"==typeof e&&(this._leftGain.gain.value=e,this._rightGain.gain.value=e)}return this._leftGain.gain.value}},{key:"filter",value:function(e,t){this._leftFilter.set(e,t),this._rightFilter.set(e,t)}},{key:"setType",value:function(e){1===e&&(e="pingPong"),this._split.disconnect(),this._leftFilter.disconnect(),this._rightFilter.disconnect(),this._split.connect(this.leftDelay,0),this._split.connect(this.rightDelay,1),"pingPong"===e?(this._rightFilter.setType(this._leftFilter.biquad.type),this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.rightDelay),this._rightFilter.output.connect(this.leftDelay)):(this._leftFilter.output.connect(this._merge,0,0),this._rightFilter.output.connect(this._merge,0,1),this._leftFilter.output.connect(this.leftDelay),this._rightFilter.output.connect(this.rightDelay))}},{key:"dispose",value:function(){ht(ft(t.prototype),"dispose",this).call(this),this._split.disconnect(),this._leftFilter.dispose(),this._rightFilter.dispose(),this._merge.disconnect(),this._leftGain.disconnect(),this._rightGain.disconnect(),this.leftDelay.disconnect(),this.rightDelay.disconnect(),this._split=void 0,this._leftFilter=void 0,this._rightFilter=void 0,this._merge=void 0,this._leftGain=void 0,this._rightGain=void 0,this.leftDelay=void 0,this.rightDelay=void 0}}])&&pt(n.prototype,r),t}(Ae);function bt(e){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(e)}function yt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t,n){return t&&vt(e.prototype,t),n&&vt(e,n),e}function wt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kt(e,t,n){return kt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_t(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},kt(e,t,n||e)}function _t(e){return _t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_t(e)}function St(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}function Et(e,t){return Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Et(e,t)}var Tt=function(e){function t(){var e;return yt(this,t),(e=wt(this,_t(t).call(this)))._initConvolverNode(),e.input.gain.value=.5,e._seconds=3,e._decay=2,e._reverse=!1,e._buildImpulse(),e}return St(t,e),xt(t,[{key:"_initConvolverNode",value:function(){this.convolverNode=this.ac.createConvolver(),this.input.connect(this.convolverNode),this.convolverNode.connect(this.wet)}},{key:"_teardownConvolverNode",value:function(){this.convolverNode&&(this.convolverNode.disconnect(),delete this.convolverNode)}},{key:"_setBuffer",value:function(e){this._teardownConvolverNode(),this._initConvolverNode(),this.convolverNode.buffer=e}},{key:"process",value:function(e,t,n,r){e.connect(this.input);var o=!1;t&&(this._seconds=t,o=!0),n&&(this._decay=n),r&&(this._reverse=r),o&&this._buildImpulse()}},{key:"set",value:function(e,t,n){var r=!1;e&&(this._seconds=e,r=!0),t&&(this._decay=t),n&&(this._reverse=n),r&&this._buildImpulse()}},{key:"_buildImpulse",value:function(){var e,t,n=this.ac.sampleRate,r=n*this._seconds,o=this._decay,i=this.ac.createBuffer(2,r,n),a=i.getChannelData(0),s=i.getChannelData(1);for(t=0;t<r;t++)e=this._reverse?r-t:t,a[t]=(2*Math.random()-1)*Math.pow(1-e/r,o),s[t]=(2*Math.random()-1)*Math.pow(1-e/r,o);this._setBuffer(i)}},{key:"dispose",value:function(){kt(_t(t.prototype),"dispose",this).call(this),this._teardownConvolverNode()}}]),t}(Ae),Ct=function(e){function t(e,n,r){var o;return yt(this,t),(o=wt(this,_t(t).call(this)))._initConvolverNode(),o.input.gain.value=.5,e?(o.impulses=[],o._loadBuffer(e,n,r)):(o._seconds=3,o._decay=2,o._reverse=!1,o._buildImpulse()),o.impulses=[],o.set=null,o}return St(t,e),xt(t,[{key:"_loadBuffer",value:function(e,t,n){var o=p5.prototype._checkFileFormats(e),i=this,a=(new Error).stack,s=Object(r.b)(),l=new XMLHttpRequest;l.open("GET",o,!0),l.responseType="arraybuffer",l.onload=function(){if(200===l.status)s.decodeAudioData(l.response,(function(e){var n={},r=o.split("/");n.name=r[r.length-1],n.audioBuffer=e,i.impulses.push(n),i._setBuffer(n.audioBuffer),t&&t(n)}),(function(){var e=new g("decodeAudioData",a,i.url),t="AudioContext error at decodeAudioData for "+i.url;n?(e.msg=t,n(e)):console.error(t+"\n The error stack trace includes: \n"+e.stack)}));else{var e=new g("loadConvolver",a,i.url),r="Unable to load "+i.url+". The request status was: "+l.status+" ("+l.statusText+")";n?(e.message=r,n(e)):console.error(r+"\n The error stack trace includes: \n"+e.stack)}},l.onerror=function(){var e=new g("loadConvolver",a,i.url),t="There was no response from the server at "+i.url+". Check the url and internet connectivity.";n?(e.message=t,n(e)):console.error(t+"\n The error stack trace includes: \n"+e.stack)},l.send()}},{key:"process",value:function(e){e.connect(this.input)}},{key:"addImpulse",value:function(e,t,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this._loadBuffer(e,t,n)}},{key:"resetImpulse",value:function(e,t,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS"),this.impulses=[],this._loadBuffer(e,t,n)}},{key:"toggleImpulse",value:function(e){if("number"==typeof e&&e<this.impulses.length&&this._setBuffer(this.impulses[e].audioBuffer),"string"==typeof e)for(var t=0;t<this.impulses.length;t++)if(this.impulses[t].name===e){this._setBuffer(this.impulses[t].audioBuffer);break}}},{key:"dispose",value:function(){for(var e in kt(_t(t.prototype),"dispose",this).call(this),this.impulses)this.impulses[e]&&(this.impulses[e]=null)}}]),t}(Tt),It=n(11),jt=n.n(It);function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ot=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.clock=new jt.a({callback:this.ontick.bind(this)}),this.syncedParts=[],this.bpm=120,this._init(),this.prevTick=0,this.tatumTime=0,this.tickCallback=function(){}}var t,n;return t=e,n=[{key:"ontick",value:function(e){var t=e-this.prevTick,n=e-i.audiocontext.currentTime;if(!(t-this.tatumTime<=-.02)){this.prevTick=e;var r=this;this.syncedParts.forEach((function(e){e.isPlaying&&(e.incrementStep(n),e.phrases.forEach((function(e){var t=e.sequence,o=r.metroTicks%t.length;0!==t[o]&&(r.metroTicks<t.length||!e.looping)&&e.callback(n,t[o])})))})),this.metroTicks+=1,this.tickCallback(n)}}},{key:"setBPM",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=60/(e*this.tatums),r=i.audiocontext.currentTime;this.tatumTime=n,this.clock.frequency.setValueAtTime(this.clock.frequency.value,r),this.clock.frequency.linearRampToValueAtTime(e,r+t),this.bpm=e}},{key:"getBPM",value:function(){return this.clock.getRate()/this.tatums*60}},{key:"_init",value:function(){this.metroTicks=0}},{key:"resetSync",value:function(e){this.syncedParts=[e]}},{key:"pushSync",value:function(e){this.syncedParts.push(e)}},{key:"start",value:function(e){var t=e||0,n=i.audiocontext.currentTime;this.clock.start(n+t),this.setBPM(this.bpm)}},{key:"stop",value:function(e){var t=e||0,n=i.audiocontext.currentTime;this.clock.stop(n+t)}},{key:"beatLength",value:function(e){this.tatums=1/e/4}}],n&&At(t.prototype,n),e}(),Nt=Ot;function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t,n){return t&&Rt(e.prototype,t),n&&Rt(e,n),e}function Mt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Dt=120;p5.prototype.setBPM=function(e,t){for(var n in Dt=e,i.parts)i.parts[n]&&i.parts[n].setBPM(e,t)};var Lt=function e(t,n,r){Mt(this,e),this.phraseStep=0,this.name=t,this.callback=n,this.sequence=r},Ft=function(){function e(t,n){Mt(this,e),this.length=t||0,this.partStep=0,this.phrases=[],this.isPlaying=!1,this.noLoop(),this.tatums=n||.0625,this.metro=new Nt,this.metro._init(),this.metro.beatLength(this.tatums),this.metro.setBPM(Dt),i.parts.push(this),this.callback=function(){}}return Pt(e,[{key:"setBPM",value:function(e,t){this.metro.setBPM(e,t)}},{key:"getBPM",value:function(){return this.metro.getBPM()}},{key:"start",value:function(e){if(!this.isPlaying){this.isPlaying=!0,this.metro.resetSync(this);var t=e||0;this.metro.start(t)}}},{key:"loop",value:function(e){this.looping=!0,this.onended=function(){this.partStep=0};var t=e||0;this.start(t)}},{key:"noLoop",value:function(){this.looping=!1,this.onended=function(){this.stop()}}},{key:"stop",value:function(e){this.partStep=0,this.pause(e)}},{key:"pause",value:function(e){this.isPlaying=!1;var t=e||0;this.metro.stop(t)}},{key:"addPhrase",value:function(e,t,n){var r;if(3===arguments.length)r=new Lt(e,t,n);else{if(!(arguments[0]instanceof Lt))throw"invalid input. addPhrase accepts name, callback, array or a p5.Phrase";r=arguments[0]}this.phrases.push(r),r.sequence.length>this.length&&(this.length=r.sequence.length)}},{key:"removePhrase",value:function(e){for(var t in this.phrases)this.phrases[t].name===e&&this.phrases.splice(t,1)}},{key:"getPhrase",value:function(e){for(var t in this.phrases)if(this.phrases[t].name===e)return this.phrases[t]}},{key:"replaceSequence",value:function(e,t){for(var n in this.phrases)this.phrases[n].name===e&&(this.phrases[n].sequence=t)}},{key:"incrementStep",value:function(e){this.partStep<this.length-1?(this.callback(e),this.partStep+=1):this.looping||this.partStep!==this.length-1||this.onended()}},{key:"onStep",value:function(e){this.callback=e}}]),e}(),Bt=function(){function e(){Mt(this,e),this.parts=[],this.currentPart=new Array(arguments.length);var t=this;for(var n in arguments)this.parts[n]=arguments[n],this.parts[n].nextPart=this.parts[n+1],this.parts[n].onended=function(){var e;t.resetPart(n),(e=t).currentPart++,e.currentPart>=e.parts.length?(e.scoreStep=0,e.onended()):(e.scoreStep=0,e.parts[e.currentPart-1].stop(),e.parts[e.currentPart].start())};this.looping=!1}return Pt(e,[{key:"onended",value:function(){this.looping?this.parts[0].start():this.parts[this.parts.length-1].onended=function(){this.stop(),this.resetParts()},this.currentPart=0}},{key:"start",value:function(){this.parts[this.currentPart].start(),this.scoreStep=0}},{key:"stop",value:function(){this.parts[this.currentPart].stop(),this.currentPart=0,this.scoreStep=0}},{key:"pause",value:function(){this.parts[this.currentPart].stop()}},{key:"loop",value:function(){this.looping=!0,this.start()}},{key:"noLoop",value:function(){this.looping=!1}},{key:"resetParts",value:function(){var e=this;this.parts.forEach((function(t){e.resetParts[t]}))}},{key:"resetPart",value:function(e){for(var t in this.parts[e].stop(),this.parts[e].partStep=0,this.parts[e].phrases)this.parts[e]&&(this.parts[e].phrases[t].phraseStep=0)}},{key:"setBPM",value:function(e,t){for(var n in this.parts)this.parts[n]&&this.parts[n].setBPM(e,t)}}]),e}();function $t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var zt=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"bpm",{get:function(){return this._bpm},set:function(e){this.musicalTimeMode||console.warn('Changing the BPM in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._bpm=e,this._update()}}),Object.defineProperty(this,"timeSignature",{get:function(){return this._timeSignature},set:function(e){this.musicalTimeMode||console.warn('Changing the timeSignature in "seconds" mode has no effect. BPM is only relevant in musicalTimeMode when the interval is specified as a string ("2n", "4n", "1m"...etc)'),this._timeSignature=e,this._update()}}),Object.defineProperty(this,"interval",{get:function(){return this._interval},set:function(e){this.musicalTimeMode="number"!=typeof e,this._interval=e,this._update()}}),Object.defineProperty(this,"iterations",{get:function(){return this.clock.ticks}}),this.callback=t,this.musicalTimeMode="number"!=typeof this._interval,this._interval=n||1,this._timeSignature=4,this._bpm=60,this.isPlaying=!1,this.maxIterations=1/0;var r=this;this.clock=new jt.a({callback:function(e){var t=e-i.audiocontext.currentTime;t>0&&r.iterations<=r.maxIterations&&r.callback(t)},frequency:this._calcFreq()})}var t,n;return t=e,(n=[{key:"start",value:function(e){var t=e||0,n=i.audiocontext.currentTime;this.isPlaying||(this.clock.start(n+t),this.isPlaying=!0)}},{key:"stop",value:function(e){var t=e||0,n=i.audiocontext.currentTime;this.isPlaying&&(this.clock.stop(n+t),this.isPlaying=!1)}},{key:"pause",value:function(e){var t=e||0,n=i.audiocontext.currentTime;this.isPlaying&&(this.clock.pause(n+t),this.isPlaying=!1)}},{key:"syncedStart",value:function(e,t){var n=t||0,r=i.audiocontext.currentTime;if(e.isPlaying){if(e.isPlaying){var o=e.clock._nextTick-i.audiocontext.currentTime;this.clock.start(r+o),this.isPlaying=!0}}else e.clock.start(r+n),e.isPlaying=!0,this.clock.start(r+n),this.isPlaying=!0}},{key:"_update",value:function(){this.clock.frequency.value=this._calcFreq()}},{key:"_calcFreq",value:function(){return"number"==typeof this._interval?(this.musicalTimeMode=!1,1/this._interval):"string"==typeof this._interval?(this.musicalTimeMode=!0,this._bpm/60/this._convertNotation(this._interval)*(this._timeSignature/4)):void 0}},{key:"_convertNotation",value:function(e){var t=e.slice(-1);switch(e=Number(e.slice(0,-1)),t){case"m":return this._measure(e);case"n":return this._note(e);default:console.warn("Specified interval is not formatted correctly. See Tone.js timing reference for more info: https://github.com/Tonejs/Tone.js/wiki/Time")}}},{key:"_measure",value:function(e){return e*this._timeSignature}},{key:"_note",value:function(e){return this._timeSignature/e}}])&&$t(t.prototype,n),e}();function Ut(e){return Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(e)}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t,n){return Gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Wt(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},Gt(e,t,n||e)}function Wt(e){return Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wt(e)}function Ht(e,t){return Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ht(e,t)}var qt=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Ut(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,Wt(t).call(this))).compressor=e.ac.createDynamicsCompressor(),e.input.connect(e.compressor),e.compressor.connect(e.wet),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(t,e),n=t,(r=[{key:"process",value:function(e,t,n,r,o,i){e.connect(this.input),this.set(t,n,r,o,i)}},{key:"set",value:function(e,t,n,r,o){void 0!==e&&this.attack(e),void 0!==t&&this.knee(t),void 0!==n&&this.ratio(n),void 0!==r&&this.threshold(r),void 0!==o&&this.release(o)}},{key:"attack",value:function(e,t){var n=t||0;return"number"==typeof e?(this.compressor.attack.value=e,this.compressor.attack.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.attack.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):void 0!==e&&e.connect(this.compressor.attack),this.compressor.attack.value}},{key:"knee",value:function(e,t){var n=t||0;return"number"==typeof e?(this.compressor.knee.value=e,this.compressor.knee.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.knee.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):void 0!==e&&e.connect(this.compressor.knee),this.compressor.knee.value}},{key:"ratio",value:function(e,t){var n=t||0;return"number"==typeof e?(this.compressor.ratio.value=e,this.compressor.ratio.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.ratio.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):void 0!==e&&e.connect(this.compressor.ratio),this.compressor.ratio.value}},{key:"threshold",value:function(e,t){var n=t||0;return"number"==typeof e?(this.compressor.threshold.value=e,this.compressor.threshold.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.threshold.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):void 0!==e&&e.connect(this.compressor.threshold),this.compressor.threshold.value}},{key:"release",value:function(e,t){var n=t||0;return"number"==typeof e?(this.compressor.release.value=e,this.compressor.release.cancelScheduledValues(this.ac.currentTime+.01+n),this.compressor.release.linearRampToValueAtTime(e,this.ac.currentTime+.02+n)):"undefined"!=typeof number&&e.connect(this.compressor.release),this.compressor.release.value}},{key:"reduction",value:function(){return this.compressor.reduction.value}},{key:"dispose",value:function(){Gt(Wt(t.prototype),"dispose",this).call(this),this.compressor&&(this.compressor.disconnect(),delete this.compressor)}}])&&Vt(n.prototype,r),t}(Ae);function Xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Yt=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.framesPerPeak=o||20,this.framesSinceLastPeak=0,this.decayRate=.95,this.threshold=r||.35,this.cutoff=0,this.cutoffMult=1.5,this.energy=0,this.penergy=0,this.currentValue=0,this.isDetected=!1,this.f1=t||40,this.f2=n||2e4,this._onPeak=function(){}}var t,n;return t=e,(n=[{key:"update",value:function(e){var t=this.energy=e.getEnergy(this.f1,this.f2)/255;t>this.cutoff&&t>this.threshold&&t-this.penergy>0?(this._onPeak(),this.isDetected=!0,this.cutoff=t*this.cutoffMult,this.framesSinceLastPeak=0):(this.isDetected=!1,this.framesSinceLastPeak<=this.framesPerPeak?this.framesSinceLastPeak++:(this.cutoff*=this.decayRate,this.cutoff=Math.max(this.cutoff,this.threshold))),this.currentValue=t,this.penergy=t}},{key:"onPeak",value:function(e,t){var n=this;n._onPeak=function(){e(n.energy,t)}}}])&&Xt(t.prototype,n),e}();function Kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zt=i.audiocontext,Jt=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.input=Zt.createGain(),this.output=Zt.createGain(),this._inputChannels=2,this._outputChannels=2;var t=m(1024);this._workletNode=new AudioWorkletNode(Zt,s.a.recorderProcessor,{outputChannelCount:[this._outputChannels],processorOptions:{numInputChannels:this._inputChannels,bufferSize:t}}),this._workletNode.port.onmessage=function(e){if("buffers"===e.data.name){var t=[new Float32Array(e.data.leftBuffer),new Float32Array(e.data.rightBuffer)];this._callback(t)}}.bind(this),this._callback=function(){},this._workletNode.connect(p5.soundOut._silentNode),this.setInput(),i.soundArray.push(this)}var t,n;return t=e,(n=[{key:"setInput",value:function(e){this.input.disconnect(),this.input=null,this.input=Zt.createGain(),this.input.connect(this._workletNode),this.input.connect(this.output),e?e.connect(this.input):p5.soundOut.output.connect(this.input)}},{key:"record",value:function(e,t,n){this._workletNode.port.postMessage({name:"start",duration:t}),e&&n?this._callback=function(t){e.setBuffer(t),n()}:e&&(this._callback=function(t){e.setBuffer(t)})}},{key:"stop",value:function(){this._workletNode.port.postMessage({name:"stop"})}},{key:"dispose",value:function(){var e=i.soundArray.indexOf(this);i.soundArray.splice(e,1),this._callback=function(){},this.input&&this.input.disconnect(),this.input=null,this._workletNode=null}}])&&Kt(t.prototype,n),e}();function Qt(e){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qt(e)}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t,n){return tn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},tn(e,t,n||e)}function nn(e){return nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nn(e)}function rn(e,t){return rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rn(e,t)}function on(e){for(var t,n="number"==typeof e?e:50,r=44100,o=new Float32Array(r),i=Math.PI/180,a=0;a<r;++a)t=2*a/r-1,o[a]=(3+n)*t*20*i/(Math.PI+n*Math.abs(t));return o}var an=function(e){function t(e,n){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,nn(t).call(this)),void 0===e&&(e=.25),"number"!=typeof e)throw new Error("amount must be a number");if(void 0===n&&(n="2x"),"string"!=typeof n)throw new Error("oversample must be a String");var o=p5.prototype.map(e,0,1,0,2e3);return r.waveShaperNode=r.ac.createWaveShaper(),r.amount=o,r.waveShaperNode.curve=on(o),r.waveShaperNode.oversample=n,r.input.connect(r.waveShaperNode),r.waveShaperNode.connect(r.wet),r}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rn(e,t)}(t,e),n=t,(r=[{key:"process",value:function(e,t,n){e.connect(this.input),this.set(t,n)}},{key:"set",value:function(e,t){if(e){var n=p5.prototype.map(e,0,1,0,2e3);this.amount=n,this.waveShaperNode.curve=on(n)}t&&(this.waveShaperNode.oversample=t)}},{key:"getAmount",value:function(){return this.amount}},{key:"getOversample",value:function(){return this.waveShaperNode.oversample}},{key:"dispose",value:function(){tn(nn(t.prototype),"dispose",this).call(this),this.waveShaperNode&&(this.waveShaperNode.disconnect(),this.waveShaperNode=null)}}])&&en(n.prototype,r),t}(Ae);function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ln=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ac=i.audiocontext,this.input=this.ac.createGain(),this.output=this.ac.createGain(),this.input.gain.value=.5,this.input.connect(this.output),i.soundArray.push(this)}var t,n;return t=e,n=[{key:"setInput",value:function(e){e.connect(this.input)}},{key:"connect",value:function(e){var t=e||p5.soundOut.input;this.output.connect(t.input?t.input:t)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"amp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=i.audiocontext.currentTime,o=this.output.gain.value;this.output.gain.cancelScheduledValues(r),this.output.gain.linearRampToValueAtTime(o,r+n),this.output.gain.linearRampToValueAtTime(e,r+n+t)}},{key:"dispose",value:function(){var e=i.soundArray.indexOf(this);i.soundArray.splice(e,1),this.output&&(this.output.disconnect(),delete this.output),this.input&&(this.input.disconnect(),delete this.input)}}],n&&sn(t.prototype,n),e}(),un=ln;function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var dn=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ac=i.audiocontext,this.output=this.ac.createGain(),this.connect(),i.soundArray.push(this)}var t,n;return t=e,(n=[{key:"play",value:function(e,t,n,r){}},{key:"triggerAttack",value:function(e,t,n){}},{key:"triggerRelease",value:function(e){}},{key:"amp",value:function(e,t){}},{key:"connect",value:function(e){var t=e||i.input;this.output.connect(t.input?t.input:t)}},{key:"disconnect",value:function(){this.output.disconnect()}},{key:"dispose",value:function(){this.output&&(this.output.disconnect(),delete this.output)}}])&&cn(t.prototype,n),e}();function pn(e){return pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pn(e)}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mn(e,t,n){return mn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=gn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}},mn(e,t,n||e)}function gn(e){return gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gn(e)}function bn(e,t){return bn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},bn(e,t)}var yn=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==pn(t)&&"function"!=typeof t?fn(e):t}(this,gn(t).call(this))).oscillator=new re,e.env=new ae,e.env.setRange(1,0),e.env.setExp(!0),e.setADSR(.02,.25,.05,.35),e.oscillator.disconnect(),e.oscillator.connect(e.output),e.env.disconnect(),e.env.setInput(e.output.gain),e.oscillator.output.gain.value=1,e.oscillator.start(),e.connect(),i.soundArray.push(fn(e)),Object.defineProperties(fn(e),{attack:{get:function(){return this.env.aTime},set:function(e){this.env.setADSR(e,this.env.dTime,this.env.sPercent,this.env.rTime)}},decay:{get:function(){return this.env.dTime},set:function(e){this.env.setADSR(this.env.aTime,e,this.env.sPercent,this.env.rTime)}},sustain:{get:function(){return this.env.sPercent},set:function(e){this.env.setADSR(this.env.aTime,this.env.dTime,e,this.env.rTime)}},release:{get:function(){return this.env.rTime},set:function(e){this.env.setADSR(this.env.aTime,this.env.dTime,this.env.sPercent,e)}}}),e}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bn(e,t)}(t,e),n=t,r=[{key:"play",value:function(e,t,n,r){this.triggerAttack(e,t,~~n),this.triggerRelease(~~n+(r||.15))}},{key:"triggerAttack",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=d(e),o=t||.1;this.oscillator.freq(r,0,n),this.env.ramp(this.output.gain,n,o)}},{key:"triggerRelease",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.env.ramp(this.output.gain,e,0)}},{key:"setADSR",value:function(e,t,n,r){this.env.setADSR(e,t,n,r)}},{key:"amp",value:function(e,t){var n=t||0;return void 0!==e&&this.oscillator.amp(e,n),this.oscillator.amp().value}},{key:"connect",value:function(e){var t=e||i.input;this.output.connect(t.input?t.input:t)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){mn(gn(t.prototype),"dispose",this).call(this),this.env&&this.env.dispose(),this.oscillator&&this.oscillator.dispose()}}],r&&hn(n.prototype,r),t}(dn),vn=yn;function xn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var wn=function(){function e(t,n,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDetected=!1,this.freqLow=t,this.freqHigh=n,this.treshold=r,this.energy=0,this.penergy=0,this.sensitivity=500,this.callback=o}var t,n;return t=e,(n=[{key:"update",value:function(e,t){if(this.energy=e.getEnergy(this.freqLow,this.freqHigh)/255,!1===this.isDetected&&this.energy-this.penergy>this.treshold){this.isDetected=!0,this.callback?this.callback(this.energy):t&&t(this.energy);var n=this;setTimeout((function(){n.isDetected=!1}),this.sensitivity)}this.penergy=this.energy}}])&&xn(t.prototype,n),e}();function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _n=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audiovoices=[],this.notes={},this._newest=0,this._oldest=0,this.maxVoices=n||8,this.AudioVoice=void 0===t?p5.MonoSynth:t,this._voicesInUse=new ie.a(0),this.output=i.audiocontext.createGain(),this.connect(),this._allocateVoices(),i.soundArray.push(this)}var t,n;return t=e,n=[{key:"_allocateVoices",value:function(){for(var e=0;e<this.maxVoices;e++)this.audiovoices.push(new this.AudioVoice),this.audiovoices[e].disconnect(),this.audiovoices[e].connect(this.output)}},{key:"play",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.noteAttack(e,t,n),this.noteRelease(e,n+r)}},{key:"noteADSR",value:function(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=i.audiocontext.currentTime+a;this.audiovoices[this.notes[e].getValueAtTime(s)].setADSR(t,n,r,o)}},{key:"setADSR",value:function(e,t,n,r){this.audiovoices.forEach((function(o){o.setADSR(e,t,n,r)}))}},{key:"noteAttack",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=i.audiocontext.currentTime+r,a=d(e),s=t||.1;this.notes[a]&&null!==this.notes[a].getValueAtTime(o)&&this.noteRelease(a,0),this._voicesInUse.getValueAtTime(o)<this.maxVoices?n=Math.max(~~this._voicesInUse.getValueAtTime(o),0):(n=this._oldest,oldestNote=u(this.audiovoices[this._oldest].oscillator.freq().value),this.noteRelease(oldestNote),this._oldest=(this._oldest+1)%(this.maxVoices-1)),this.notes[a]=new ie.a,this.notes[a].setValueAtTime(n,o);var l=null===this._voicesInUse._searchBefore(o)?0:this._voicesInUse._searchBefore(o).value;if(this._voicesInUse.setValueAtTime(l+1,o),this._updateAfter(o,1),this._newest=n,"number"==typeof s){var c=1/this._voicesInUse.getValueAtTime(o)*2;s=s>c?c:s}this.audiovoices[n].triggerAttack(a,s,r)}},{key:"_updateAfter",value:function(e,t){if(null!==this._voicesInUse._searchAfter(e)){this._voicesInUse._searchAfter(e).value+=t;var n=this._voicesInUse._searchAfter(e).time;this._updateAfter(n,t)}}},{key:"noteRelease",value:function(e,t){var n=i.audiocontext.currentTime,r=t||0,o=n+r;if(e){var a=d(e);if(this.notes[a]&&null!==this.notes[a].getValueAtTime(o)){var s=Math.max(~~this._voicesInUse.getValueAtTime(o).value,1);this._voicesInUse.setValueAtTime(s-1,o),s>0&&this._updateAfter(o,-1),this.audiovoices[this.notes[a].getValueAtTime(o)].triggerRelease(r),this.notes[a].dispose(),delete this.notes[a],this._newest=0===this._newest?0:(this._newest-1)%(this.maxVoices-1)}else console.warn("Cannot release a note that is not already playing")}else for(var l in this.audiovoices.forEach((function(e){e.triggerRelease(r)})),this._voicesInUse.setValueAtTime(0,o),this.notes)this.notes[l].dispose(),delete this.notes[l]}},{key:"connect",value:function(e){var t=e||i.input;this.output.connect(t.input?t.input:t)}},{key:"disconnect",value:function(){this.output&&this.output.disconnect()}},{key:"dispose",value:function(){this.audiovoices.forEach((function(e){e.dispose()})),this.output&&(this.output.disconnect(),delete this.output)}}],n&&kn(t.prototype,n),e}(),Sn=_n;p5.prototype.getAudioContext=r.b,p5.prototype.userStartAudio=r.c,p5.prototype.sampleRate=function(){return i.audiocontext.sampleRate},p5.prototype.freqToMidi=u,p5.prototype.midiToFreq=c,p5.prototype.noteToFreq=d,p5.prototype.soundFormats=function(){i.extensions=[];for(var e=0;e<arguments.length;e++){if(arguments[e]=arguments[e].toLowerCase(),!(["mp3","wav","ogg","m4a","aac"].indexOf(arguments[e])>-1))throw arguments[e]+" is not a valid sound format!";i.extensions.push(arguments[e])}},p5.prototype.disposeSound=function(){for(var e=0;e<i.soundArray.length;e++)i.soundArray[e].dispose()},p5.prototype._checkFileFormats=function(e){var t;if("string"==typeof e){var n=(t=e).split(".").pop();if(["mp3","wav","ogg","m4a","aac"].indexOf(n)>-1){if(!p5.prototype.isFileSupported(n))for(var r=t.split("."),o=r[r.length-1],a=0;a<i.extensions.length;a++){var s=i.extensions[a];if(p5.prototype.isFileSupported(s)){o="",2===r.length&&(o+=r[0]);for(var u=1;u<=r.length-2;u++)o+="."+r[u];t=o+=".",t=t+=s;break}}}else for(var c=0;c<i.extensions.length;c++){var d=i.extensions[c];if(p5.prototype.isFileSupported(d)){t=t+"."+d;break}}}else if("object"===l(e))for(var p=0;p<e.length;p++){var h=e[p].split(".").pop();if(p5.prototype.isFileSupported(h)){t=e[p];break}}return t},p5.prototype._mathChain=function(e,t,n,r,o){for(var i in e.mathOps)e.mathOps[i]instanceof o&&(e.mathOps[i].dispose(),(n=i)<e.mathOps.length-1&&(r=e.mathOps[i+1]));return e.mathOps[n-1].disconnect(),e.mathOps[n-1].connect(t),t.connect(r),e.mathOps[n]=t,e},p5.prototype.convertToWav=p,p5.prototype.interleave=h,p5.prototype.writeUTFBytes=f,p5.prototype.safeBufferSize=m,p5.prototype.saveSound=function(e,t){var n=p(e.buffer);p5.prototype.writeFile([n],t,"wav")},p5.prototype.registerMethod("remove",p5.prototype.disposeSound),p5.Panner=S,p5.SoundFile=N,p5.prototype.loadSound=function(e,t,n,r){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&window.alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var o=this,i=new O(e,(function(){"function"==typeof t&&t.apply(o,arguments),"function"==typeof o._decrementPreload&&o._decrementPreload()}),n,r);return i},p5.prototype.registerPreloadMethod("loadSound",p5.prototype),p5.Amplitude=P,p5.FFT=L,p5.Oscillator=re,p5.SinOsc=Q,p5.TriOsc=ee,p5.SawOsc=te,p5.SqrOsc=ne,p5.Noise=fe,p5.Pulse=_e,p5.AudioIn=Ee,p5.Effect=Ae,p5.Filter=Ve,p5.LowPass=$e,p5.HighPass=ze,p5.BandPass=Ue,p5.EQ=tt,p5.listener3D=ot,p5.Panner3D=ct,p5.Delay=gt,p5.Reverb=Tt,p5.Convolver=Ct,p5.prototype.createConvolver=function(e,t,n){window.location.origin.indexOf("file://")>-1&&"undefined"===window.cordova&&alert("This sketch may require a server to load external files. Please see http://bit.ly/1qcInwS");var r=this,o=new Ct(e,(function(e){"function"==typeof t&&t(e),"function"==typeof r._decrementPreload&&r._decrementPreload()}),n);return o.impulses=[],o},p5.prototype.registerPreloadMethod("createConvolver",p5.prototype),p5.Metro=Nt,p5.Phrase=Lt,p5.Part=Ft,p5.Score=Bt,p5.SoundLoop=zt,p5.Compressor=qt,p5.peakDetect=Yt,p5.SoundRecorder=Jt,p5.Distortion=an,p5.Gain=un,p5.AudioVoice=dn,p5.MonoSynth=vn,p5.OnsetDetect=wn,p5.PolySynth=Sn,p5.PeakDetect=Yt,p5.Signal=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),console.warn("p5.Signal is deprecated , Use Tone.js Signal instead ")}}])},2703:(e,t,n)=>{"use strict";var r=n(414);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},5697:(e,t,n)=>{e.exports=n(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4448:(e,t,n)=>{"use strict";var r=n(7294),o=n(3840);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(e,t,n,r,o,i,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(f,e)||!d.call(h,e)&&(p.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=P&&e[P]||e["@@iterator"])?e:null}var D,L=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function $(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),i=r.stack.split("\n"),a=o.length-1,s=i.length-1;1<=a&&0<=s&&o[a]!==i[s];)s--;for(;1<=a&&0<=s;a--,s--)if(o[a]!==i[s]){if(1!==a||1!==s)do{if(a--,0>--s||o[a]!==i[s]){var l="\n"+o[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 1:return $(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case _:return"Fragment";case k:return"Portal";case E:return"Profiler";case S:return"StrictMode";case j:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ie(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var be=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,_e=null,Se=null;function Ee(e){if(e=xo(e)){if("function"!=typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function Te(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Ce(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function je(){}var Ae=!1;function Oe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ie(e,t,n)}finally{Ae=!1,(null!==_e||null!==Se)&&(je(),Ce())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var Re=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){Re=!1}function Me(e,t,n,r,o,i,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var De=!1,Le=null,Fe=!1,Be=null,$e={onError:function(e){De=!0,Le=e}};function ze(e,t,n,r,o,i,a,s,l){De=!1,Le=null,Me.apply($e,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ge(e){if(Ue(e)!==e)throw Error(i(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Ge(o),e;if(a===r)return Ge(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=a;break}if(l===r){s=!0,r=o,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=o;break}if(l===r){s=!0,r=a,n=o;break}l=l.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Xe=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Ke=o.unstable_requestPaint,Ze=o.unstable_now,Je=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~o;0!==s?r=dt(s):0!=(i&=a)&&(r=dt(i))}else 0!=(a=n&~o)?r=dt(a):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!=(4194240&i)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-at(t)),r|=e[n],t&=~o;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0==(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var vt=0;function xt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var wt,kt,_t,St,Et,Tt=!1,Ct=[],It=null,jt=null,At=null,Ot=new Map,Nt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":jt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&null!==(t=xo(t))&&kt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=vo(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function $t(){Tt=!1,null!==It&&Ft(It)&&(It=null),null!==jt&&Ft(jt)&&(jt=null),null!==At&&Ft(At)&&(At=null),Ot.forEach(Bt),Nt.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,$t)))}function Ut(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&zt(It,e),null!==jt&&zt(jt,e),null!==At&&zt(At,e),Ot.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Vt=x.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var o=vt,i=Vt.transition;Vt.transition=null;try{vt=1,qt(e,t,n,r)}finally{vt=o,Vt.transition=i}}function Ht(e,t,n,r){var o=vt,i=Vt.transition;Vt.transition=null;try{vt=4,qt(e,t,n,r)}finally{vt=o,Vt.transition=i}}function qt(e,t,n,r){if(Gt){var o=Yt(e,t,n,r);if(null===o)Gr(e,t,r,Xt,n),Mt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return It=Dt(It,e,t,n,r,o),!0;case"dragenter":return jt=Dt(jt,e,t,n,r,o),!0;case"mouseover":return At=Dt(At,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ot.set(i,Dt(Ot.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Nt.set(i,Dt(Nt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==o;){var i=xo(o);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Gr(e,t,r,Xt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Xt=null;function Yt(e,t,n,r){if(Xt=null,null!==(e=vo(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=L({},un,{view:0,detail:0}),pn=on(dn),hn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(hn),mn=on(L({},hn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),bn=on(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=on(yn),xn=on(L({},un,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Sn}var Tn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Tn),In=on(L({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=on(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=L({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(On),Rn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Mn,Ln=c&&(!Pn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Bn=!1;function $n(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,qn=null;function Xn(e){Fr(e,0)}function Yn(e){if(q(wo(e)))return e}function Kn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Jn;if(c){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"==typeof er.oninput}Jn=Qn}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),qn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(qn)){var t=[];Wn(t,qn,e,we(e)),Oe(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function ir(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!sr(e[o],t[o]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=cr(n,i);var a=cr(n,r);o&&a&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,br=null,yr=null,vr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vr||null==gr||gr!==X(r)||(r="selectionStart"in(r=gr)&&hr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Hr(br,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Er(e){if(_r[e])return _r[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Tr=Er("animationend"),Cr=Er("animationiteration"),Ir=Er("animationstart"),jr=Er("transitionend"),Ar=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ar.set(e,t),l(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Pr=Or[Rr];Nr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Nr(Tr,"onAnimationEnd"),Nr(Cr,"onAnimationIteration"),Nr(Ir,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(jr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,a,s,l,u){if(ze.apply(this,arguments),De){if(!De)throw Error(i(198));var c=Le;De=!1,Le=null,Fe||(Fe=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,u),i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,s,u),i=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,$r("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Kt(t)){case 1:var o=Wt;break;case 4:o=Ht;break;default:o=qt}n=o.bind(null,t,n,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,o){var i=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o||8===s.nodeType&&s.parentNode===o)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;a=a.return}for(;null!==s;){if(null===(a=vo(s)))return;if(5===(l=a.tag)||6===l){r=i=a;continue e}s=s.parentNode}}r=r.return}Oe((function(){var r=i,o=we(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jn;break;case Tr:case Cr:case Ir:l=bn;break;case jr:l=An;break;case"scroll":l=pn;break;case"wheel":l=Nn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!=(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var h,f=r;null!==f;){var m=(h=f).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&null!=(m=Ne(f,p))&&c.push(Wr(f,m,h))),d)break;f=f.return}0<c.length&&(s=new l(s,u,null,n,o),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!vo(u)&&!u[mo])&&(l||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vo(u):null)&&(u!==(d=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",p="onPointerEnter",f="pointer"),d=null==l?s:wo(l),h=null==u?s:wo(u),(s=new c(m,f+"leave",l,n,o)).target=d,s.relatedTarget=h,m=null,vo(o)===r&&((c=new c(p,f+"enter",u,n,o)).target=h,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,f=0,h=c=l;h;h=qr(h))f++;for(h=0,m=p;m;m=qr(m))h++;for(;0<f-h;)c=qr(c),f--;for(;0<h-f;)p=qr(p),h--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break e;c=qr(c),p=qr(p)}c=null}else c=null;null!==l&&Xr(a,s,l,c,!1),null!==u&&null!==d&&Xr(a,d,u,c,!0)}if("select"===(l=(s=r?wo(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Gn(s))if(Zn)g=ar;else{g=or;var b=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ir);switch(g&&(g=g(e,r))?Wn(a,g,n,o):(b&&b(e,s,r),"focusout"===e&&(b=s._wrapperState)&&b.controlled&&"number"===s.type&&ee(s,"number",s.value)),b=r?wo(r):window,e){case"focusin":(Gn(b)||"true"===b.contentEditable)&&(gr=b,br=r,yr=null);break;case"focusout":yr=br=gr=null;break;case"mousedown":vr=!0;break;case"contextmenu":case"mouseup":case"dragend":vr=!1,xr(a,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,o)}var y;if(Pn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Un?$n(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==v?"onCompositionEnd"===v&&Un&&(y=en()):(Jt="value"in(Zt=o)?Zt.value:Zt.textContent,Un=!0)),0<(b=Hr(r,v)).length&&(v=new xn(v,e,null,n,o),a.push({event:v,listeners:b}),(y||null!==(y=zn(n)))&&(v.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Pn&&$n(e,t)?(e=en(),Qt=Jt=Zt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Hr(r,"onBeforeInput")).length&&(o=new xn("onBeforeInput","beforeinput",null,n,o),a.push({event:o,listeners:r}),o.data=y)}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Ne(e,n))&&r.unshift(Wr(e,i,o)),null!=(i=Ne(e,t))&&r.push(Wr(e,i,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,o?null!=(l=Ne(n,i))&&a.unshift(Wr(n,l,s)):o||null!=(l=Ne(n,i))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Zr(e){return("string"==typeof e?e:""+e).replace(Yr,"\n").replace(Kr,"")}function Jr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,io="function"==typeof Promise?Promise:void 0,ao="function"==typeof queueMicrotask?queueMicrotask:void 0!==io?function(e){return io.resolve(null).then(e).catch(so)}:ro;function so(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ut(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),ho="__reactFiber$"+po,fo="__reactProps$"+po,mo="__reactContainer$"+po,go="__reactEvents$"+po,bo="__reactListeners$"+po,yo="__reactHandles$"+po;function vo(e){var t=e[ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[ho])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function xo(e){return!(e=e[ho]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ko(e){return e[fo]||null}var _o=[],So=-1;function Eo(e){return{current:e}}function To(e){0>So||(e.current=_o[So],_o[So]=null,So--)}function Co(e,t){So++,_o[So]=e.current,e.current=t}var Io={},jo=Eo(Io),Ao=Eo(!1),Oo=Io;function No(e,t){var n=e.type.contextTypes;if(!n)return Io;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ro(e){return null!=e.childContextTypes}function Po(){To(Ao),To(jo)}function Mo(e,t,n){if(jo.current!==Io)throw Error(i(168));Co(jo,t),Co(Ao,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,V(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,Oo=jo.current,Co(jo,e),Co(Ao,Ao.current),!0}function Fo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,Oo),r.__reactInternalMemoizedMergedChildContext=e,To(Ao),To(jo),Co(jo,e)):To(Ao),Co(Ao,n)}var Bo=null,$o=!1,zo=!1;function Uo(e){null===Bo?Bo=[e]:Bo.push(e)}function Vo(){if(!zo&&null!==Bo){zo=!0;var e=0,t=vt;try{var n=Bo;for(vt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bo=null,$o=!1}catch(t){throw null!==Bo&&(Bo=Bo.slice(e+1)),qe(Qe,Vo),t}finally{vt=t,zo=!1}}return null}var Go=[],Wo=0,Ho=null,qo=0,Xo=[],Yo=0,Ko=null,Zo=1,Jo="";function Qo(e,t){Go[Wo++]=qo,Go[Wo++]=Ho,Ho=e,qo=t}function ei(e,t,n){Xo[Yo++]=Zo,Xo[Yo++]=Jo,Xo[Yo++]=Ko,Ko=e;var r=Zo;e=Jo;var o=32-at(r)-1;r&=~(1<<o),n+=1;var i=32-at(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,Zo=1<<32-at(t)+o|n<<o|r,Jo=i+e}else Zo=1<<i|n<<o|r,Jo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===Ho;)Ho=Go[--Wo],Go[Wo]=null,qo=Go[--Wo],Go[Wo]=null;for(;e===Ko;)Ko=Xo[--Yo],Xo[Yo]=null,Jo=Xo[--Yo],Xo[Yo]=null,Zo=Xo[--Yo],Xo[Yo]=null}var ri=null,oi=null,ii=!1,ai=null;function si(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ko?{id:Zo,overflow:Jo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ui(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function ci(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ui(e))throw Error(i(418));t=uo(n.nextSibling);var r=ri;t&&li(e,t)?si(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function pi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ui(e))throw hi(),Error(i(418));for(;t;)si(e,t),t=uo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=uo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?uo(e.stateNode.nextSibling):null;return!0}function hi(){for(var e=oi;e;)e=uo(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=x.ReactCurrentBatchConfig;function bi(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yi=Eo(null),vi=null,xi=null,wi=null;function ki(){wi=xi=vi=null}function _i(e){var t=yi.current;To(yi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t){vi=e,wi=xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Ti(e){var t=e._currentValue;if(wi!==e)if(e={context:e,memoizedValue:t,next:null},null===xi){if(null===vi)throw Error(i(308));xi=e,vi.dependencies={lanes:0,firstContext:e}}else xi=xi.next=e;return t}var Ci=null;function Ii(e){null===Ci?Ci=[e]:Ci.push(e)}function ji(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Ii(t)):(n.next=o.next,o.next=n),t.interleaved=n,Ai(e,r)}function Ai(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oi=!1;function Ni(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&jl)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Ai(e,n)}return null===(o=r.interleaved)?(t.next=t,Ii(r)):(t.next=o.next,o.next=t),r.interleaved=t,Ai(e,n)}function Di(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Li(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var o=e.updateQueue;Oi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?i=u:a.next=u,a=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==i){var d=o.baseState;for(a=0,c=u=l=null,s=i;;){var p=s.lane,h=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(p=t,h=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(h,d,p);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(p="function"==typeof(f=m.payload)?f.call(h,d,p):f))break e;d=L({},d,p);break e;case 2:Oi=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[s]:p.push(s))}else h={eventTime:h,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(p=s).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{a|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(i(191,o));o.call(r)}}}var $i=(new r.Component).refs;function zi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ui={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),o=nu(e),i=Pi(r,o);i.payload=t,null!=n&&(i.callback=n),null!==(t=Mi(e,i,o))&&(ru(t,e,o,r),Di(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),o=nu(e),i=Pi(r,o);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=Mi(e,i,o))&&(ru(t,e,o,r),Di(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),o=Pi(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Mi(e,o,r))&&(ru(t,e,r,n),Di(t,e,r))}};function Vi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(o,i))}function Gi(e,t,n){var r=!1,o=Io,i=t.contextType;return"object"==typeof i&&null!==i?i=Ti(i):(o=Ro(t)?Oo:jo.current,i=(r=null!=(r=t.contextTypes))?No(e,o):Io),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ui,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ui.enqueueReplaceState(t,t.state,null)}function Hi(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=$i,Ni(e);var i=t.contextType;"object"==typeof i&&null!==i?o.context=Ti(i):(i=Ro(t)?Oo:jo.current,o.context=No(e,i)),o.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(zi(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Ui.enqueueReplaceState(o,o.state,null),Fi(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function qi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=o.refs;t===$i&&(t=o.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Xi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yi(e){return(0,e._init)(e._payload)}function Ki(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===N&&Yi(i)===t.type)?((r=o(t,n.props)).ref=qi(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=qi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Du(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Fu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=qi(e,null,t),n.return=e,n;case k:return(t=Bu(t,e.mode,n)).return=e,t;case N:return p(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Du(t,e.mode,n,null)).return=e,t;Xi(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?u(e,t,n,r):null;case k:return n.key===o?c(e,t,n,r):null;case N:return h(e,t,(o=n._init)(n._payload),r)}if(te(n)||M(n))return null!==o?null:d(e,t,n,r,null);Xi(e,n)}return null}function f(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case N:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,o,null);Xi(t,r)}return null}function m(o,i,s,l){for(var u=null,c=null,d=i,m=i=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var b=h(o,d,s[m],l);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(o,d),i=a(b,i,m),null===c?u=b:c.sibling=b,c=b,d=g}if(m===s.length)return n(o,d),ii&&Qo(o,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(i=a(d,i,m),null===c?u=d:c.sibling=d,c=d);return ii&&Qo(o,m),u}for(d=r(o,d);m<s.length;m++)null!==(g=f(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=a(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Qo(o,m),u}function g(o,s,l,u){var c=M(l);if("function"!=typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=s,g=s=0,b=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(b=m,m=null):b=m.sibling;var v=h(o,m,y.value,u);if(null===v){null===m&&(m=b);break}e&&m&&null===v.alternate&&t(o,m),s=a(v,s,g),null===d?c=v:d.sibling=v,d=v,m=b}if(y.done)return n(o,m),ii&&Qo(o,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(o,y.value,u))&&(s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return ii&&Qo(o,g),c}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Qo(o,g),c}return function e(r,i,a,l){if("object"==typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var u=a.key,c=i;null!==c;){if(c.key===u){if((u=a.type)===_){if(7===c.tag){n(r,c.sibling),(i=o(c,a.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===N&&Yi(u)===c.type){n(r,c.sibling),(i=o(c,a.props)).ref=qi(r,c,a),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===_?((i=Du(a.props.children,r.mode,l,a.key)).return=r,r=i):((l=Mu(a.type,a.key,a.props,null,r.mode,l)).ref=qi(r,i,a),l.return=r,r=l)}return s(r);case k:e:{for(c=a.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===a.containerInfo&&i.stateNode.implementation===a.implementation){n(r,i.sibling),(i=o(i,a.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Bu(a,r.mode,l)).return=r,r=i}return s(r);case N:return e(r,i,(c=a._init)(a._payload),l)}if(te(a))return m(r,i,a,l);if(M(a))return g(r,i,a,l);Xi(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,a)).return=r,r=i):(n(r,i),(i=Fu(a,r.mode,l)).return=r,r=i),s(r)):n(r,i)}}var Zi=Ki(!0),Ji=Ki(!1),Qi={},ea=Eo(Qi),ta=Eo(Qi),na=Eo(Qi);function ra(e){if(e===Qi)throw Error(i(174));return e}function oa(e,t){switch(Co(na,t),Co(ta,e),Co(ea,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}To(ea),Co(ea,t)}function ia(){To(ea),To(ta),To(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Co(ta,e),Co(ea,n))}function sa(e){ta.current===e&&(To(ea),To(ta))}var la=Eo(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function da(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var pa=x.ReactCurrentDispatcher,ha=x.ReactCurrentBatchConfig,fa=0,ma=null,ga=null,ba=null,ya=!1,va=!1,xa=0,wa=0;function ka(){throw Error(i(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,o,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=null===e||null===e.memoizedState?ss:ls,e=n(r,o),va){a=0;do{if(va=!1,xa=0,25<=a)throw Error(i(301));a+=1,ba=ga=null,t.updateQueue=null,pa.current=us,e=n(r,o)}while(va)}if(pa.current=as,t=null!==ga&&null!==ga.next,fa=0,ba=ga=ma=null,ya=!1,t)throw Error(i(300));return e}function Ea(){var e=0!==xa;return xa=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ba?ma.memoizedState=ba=e:ba=ba.next=e,ba}function Ca(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ba?ma.memoizedState:ba.next;if(null!==t)ba=t,ga=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ba?ma.memoizedState=ba=e:ba=ba.next=e}return ba}function Ia(e,t){return"function"==typeof t?t(e):t}function ja(e){var t=Ca(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ga,o=r.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}r.baseQueue=o=a,n.pending=null}if(null!==o){a=o.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((fa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,ma.lanes|=d,Ll|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{a=o.lane,ma.lanes|=a,Ll|=a,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oa(){}function Na(e,t){var n=ma,r=Ca(),o=t(),a=!sr(r.memoizedState,o);if(a&&(r.memoizedState=o,xs=!0),r=r.queue,Ga(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ba&&1&ba.memoizedState.tag){if(n.flags|=2048,Ba(9,Pa.bind(null,n,r,o,t),void 0,null),null===Al)throw Error(i(349));0!=(30&fa)||Ra(n,t,o)}return o}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&La(e)}function Ma(e,t,n){return n((function(){Da(t)&&La(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function La(e){var t=Ai(e,1);null!==t&&ru(t,e,1,-1)}function Fa(e){var t=Ta();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function $a(){return Ca().memoizedState}function za(e,t,n,r){var o=Ta();ma.flags|=e,o.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var o=Ca();r=void 0===r?null:r;var i=void 0;if(null!==ga){var a=ga.memoizedState;if(i=a.destroy,null!==r&&_a(r,a.deps))return void(o.memoizedState=Ba(t,n,i,r))}ma.flags|=e,o.memoizedState=Ba(1|t,n,i,r)}function Va(e,t){return za(8390656,8,e,t)}function Ga(e,t){return Ua(2048,8,e,t)}function Wa(e,t){return Ua(4,2,e,t)}function Ha(e,t){return Ua(4,4,e,t)}function qa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xa(e,t,n){return n=null!=n?n.concat([e]):null,Ua(4,4,qa.bind(null,t,e),n)}function Ya(){}function Ka(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0==(21&fa)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Ll|=n,e.baseState=!0),t)}function Qa(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{vt=n,ha.transition=r}}function es(){return Ca().memoizedState}function ts(e,t,n){var r=nu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e)?os(t,n):null!==(n=ji(e,t,n,r))&&(ru(n,e,r,tu()),is(n,t,r))}function ns(e,t,n){var r=nu(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))os(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(o.next=o,Ii(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=ji(e,t,o,r))&&(ru(n,e,r,o=tu()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function os(e,t){va=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Ti,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},ss={readContext:Ti,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,za(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Fa,useDebugValue:Ya,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Qa.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,o=Ta();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Al)throw Error(i(349));0!=(30&fa)||Ra(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Va(Ma.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Al.identifierPrefix;if(ii){var n=Jo;t=":"+t+"R"+(n=(Zo&~(1<<32-at(Zo)-1)).toString(32)+n),0<(n=xa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Ti,useCallback:Ka,useContext:Ti,useEffect:Ga,useImperativeHandle:Xa,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Za,useReducer:ja,useRef:$a,useState:function(){return ja(Ia)},useDebugValue:Ya,useDeferredValue:function(e){return Ja(Ca(),ga.memoizedState,e)},useTransition:function(){return[ja(Ia)[0],Ca().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1},us={readContext:Ti,useCallback:Ka,useContext:Ti,useEffect:Ga,useImperativeHandle:Xa,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Za,useReducer:Aa,useRef:$a,useState:function(){return Aa(Ia)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ca();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Aa(Ia)[0],Ca().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Na,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var hs="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Pi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Hl=r),ps(0,t)},n}function ms(e,t,n){(n=Pi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ps(0,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!=typeof r&&(null===ql?ql=new Set([this]):ql.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function bs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,o){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pi(-1,1)).tag=2,Mi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var vs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?Ji(t,null,n,r):Zi(t,e.child,n,r)}function ks(e,t,n,r,o){n=n.render;var i=t.ref;return Ei(t,o),r=Sa(e,t,n,r,i,o),n=Ea(),null===e||xs?(ii&&n&&ti(t),t.flags|=1,ws(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ws(e,t,o))}function _s(e,t,n,r,o){if(null===e){var i=n.type;return"function"!=typeof i||Ru(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ss(e,t,i,r,o))}if(i=e.child,0==(e.lanes&o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ws(e,t,o)}return t.flags|=1,(e=Pu(i,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=i,0==(e.lanes&o))return t.lanes=e.lanes,Ws(e,t,o);0!=(131072&e.flags)&&(xs=!0)}}return Cs(e,t,n,r,o)}function Es(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Co(Pl,Rl),Rl|=n;else{if(0==(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Co(Pl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Co(Pl,Rl),Rl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Co(Pl,Rl),Rl|=r;return ws(e,t,o,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,o){var i=Ro(n)?Oo:jo.current;return i=No(t,i),Ei(t,o),n=Sa(e,t,n,r,i,o),r=Ea(),null===e||xs?(ii&&r&&ti(t),t.flags|=1,ws(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ws(e,t,o))}function Is(e,t,n,r,o){if(Ro(n)){var i=!0;Lo(t)}else i=!1;if(Ei(t,o),null===t.stateNode)Gs(e,t),Gi(t,n,r),Hi(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?Ti(u):No(t,u=Ro(n)?Oo:jo.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Wi(t,a,r,u),Oi=!1;var p=t.memoizedState;a.state=p,Fi(t,r,a,o),l=t.memoizedState,s!==r||p!==l||Ao.current||Oi?("function"==typeof c&&(zi(t,n,c,r),l=t.memoizedState),(s=Oi||Vi(t,n,s,r,p,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ri(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:bi(t.type,s),a.props=u,d=t.pendingProps,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Ti(l):No(t,l=Ro(n)?Oo:jo.current);var h=n.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||p!==l)&&Wi(t,a,r,l),Oi=!1,p=t.memoizedState,a.state=p,Fi(t,r,a,o);var f=t.memoizedState;s!==d||p!==f||Ao.current||Oi?("function"==typeof h&&(zi(t,n,h,r),f=t.memoizedState),(u=Oi||Vi(t,n,u,r,p,f,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return js(e,t,n,r,i,o)}function js(e,t,n,r,o,i){Ts(e,t);var a=0!=(128&t.flags);if(!r&&!a)return o&&Fo(t,n,!1),Ws(e,t,i);r=t.stateNode,vs.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Zi(t,e.child,null,i),t.child=Zi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,o&&Fo(t,n,!0),t.child}function As(e){var t=e.stateNode;t.pendingContext?Mo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mo(0,t.context,!1),oa(e,t.containerInfo)}function Os(e,t,n,r,o){return fi(),mi(o),t.flags|=256,ws(e,t,n,r),t.child}var Ns,Rs,Ps,Ms,Ds={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,o=t.pendingProps,a=la.current,s=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Co(la,1&a),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},0==(1&o)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lu(l,o,0,null),e=Du(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ds,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,o,a,s){if(n)return 256&t.flags?(t.flags&=-257,$s(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,o=t.mode,r=Lu({mode:"visible",children:r.children},o,0,null),(a=Du(a,o,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&Zi(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ds,a);if(0==(1&t.mode))return $s(e,t,s,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,$s(e,t,s,r=ds(a=Error(i(419)),r,void 0))}if(l=0!=(s&e.childLanes),xs||l){if(null!==(r=Al)){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!=(o&(r.suspendedLanes|s))?0:o)&&o!==a.retryLane&&(a.retryLane=o,Ai(e,o),ru(r,e,o,-1))}return gu(),$s(e,t,s,r=ds(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Iu.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,oi=uo(o.nextSibling),ri=t,ii=!0,ai=null,null!==e&&(Xo[Yo++]=Zo,Xo[Yo++]=Jo,Xo[Yo++]=Ko,Zo=e.id,Jo=e.overflow,Ko=t),(t=Bs(t,r.children)).flags|=4096,t)}(e,t,l,o,r,a,n);if(s){s=o.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:o.children};return 0==(1&l)&&t.child!==a?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=Pu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Pu(r,s):(s=Du(s,l,n,null)).flags|=2,s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ds,o}return e=(s=e.child).sibling,o=Pu(s,{mode:"visible",children:o.children}),0==(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Bs(e,t){return(t=Lu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function $s(e,t,n,r){return null!==r&&mi(r),Zi(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Us(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Vs(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!=(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Co(la,r),0==(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Us(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ua(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Us(t,!0,n,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:case 17:return Ro(t.type)&&Po(),qs(t),null;case 3:return r=t.stateNode,ia(),To(Ao),To(jo),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(pi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ai&&(su(ai),ai=null))),Rs(e,t),qs(t),null;case 5:sa(t);var o=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return qs(t),null}if(e=ra(ea.current),pi(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[ho]=t,r[fo]=a,e=0!=(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(o=0;o<Mr.length;o++)Br(Mr[o],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":K(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":oe(r,a),Br("invalid",r)}for(var l in ye(n,a),o=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),o=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),o=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":H(r),Q(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[ho]=t,e[fo]=r,Ns(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":Br("cancel",e),Br("close",e),o=r;break;case"iframe":case"object":case"embed":Br("load",e),o=r;break;case"video":case"audio":for(o=0;o<Mr.length;o++)Br(Mr[o],e);o=r;break;case"source":Br("error",e),o=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),o=r;break;case"details":Br("toggle",e),o=r;break;case"input":K(e,r),o=Y(e,r),Br("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Br("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Br("invalid",e)}for(a in ye(n,o),u=o)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"==typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Br("scroll",e):null!=c&&v(e,a,c,l))}switch(n){case"input":H(e),Q(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&null!=t.stateNode)Ms(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(n=ra(na.current),ra(ea.current),pi(t)){if(r=t.stateNode,n=t.memoizedProps,r[ho]=t,(a=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Jr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ho]=t,t.stateNode=r}return qs(t),null;case 13:if(To(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!=(1&t.mode)&&0==(128&t.flags))hi(),fi(),t.flags|=98560,a=!1;else if(a=pi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(i(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(i(317));a[ho]=t}else fi(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;qs(t),a=!1}else null!==ai&&(su(ai),ai=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&la.current)?0===Ml&&(Ml=3):gu())),null!==t.updateQueue&&(t.flags|=4),qs(t),null);case 4:return ia(),Rs(e,t),null===e&&Ur(t.stateNode.containerInfo),qs(t),null;case 10:return _i(t.type._context),qs(t),null;case 19:if(To(la),null===(a=t.memoizedState))return qs(t),null;if(r=0!=(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Ml||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Co(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Vl&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ii)return qs(t),null}else 2*Ze()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=la.current,Co(la,r?1&n|2:1&n),t):(qs(t),null);case 22:case 23:return pu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Rl)&&(qs(t),6&t.subtreeFlags&&(t.flags|=8192)):qs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ys(e,t){switch(ni(t),t.tag){case 1:return Ro(t.type)&&Po(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),To(Ao),To(jo),da(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(To(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return To(la),null;case 4:return ia(),null;case 10:return _i(t.type._context),null;case 22:case 23:return pu(),null;default:return null}}Ns=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(){},Ps=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,ra(ea.current);var i,a=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),a=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":o=re(e,o),r=re(e,r),a=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Qr)}for(c in ye(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ms=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Zs=!1,Js="function"==typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Eu(e,t,n)}else n.current=null}function tl(e,t,n){try{n()}catch(n){Eu(e,t,n)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&tl(t,n,i)}o=o.next}while(o!==r)}}function ol(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[ho],delete t[fo],delete t[go],delete t[bo],delete t[yo]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,pl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(it&&"function"==typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Zs||el(n,t);case 6:var r=dl,o=pl;dl=null,hl(e,t,n),pl=o,null!==(dl=r)&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(pl?(e=dl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ut(e)):lo(dl,n.stateNode));break;case 4:r=dl,o=pl,dl=n.stateNode.containerInfo,pl=!0,hl(e,t,n),dl=r,pl=o;break;case 0:case 11:case 14:case 15:if(!Zs&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){o=r=r.next;do{var i=o,a=i.destroy;i=i.tag,void 0!==a&&(0!=(2&i)||0!=(4&i))&&tl(n,t,a),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Zs&&(el(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Eu(n,t,e)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,hl(e,t,n),Zs=r):hl(e,t,n);break;default:hl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Js),t.forEach((function(t){var r=ju.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,pl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,pl=!0;break e}l=l.return}if(null===dl)throw Error(i(160));fl(a,s,o),dl=null,pl=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(e){Eu(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)bl(t,e),t=t.sibling}function bl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),ol(3,e)}catch(t){Eu(e,e.return,t)}try{rl(5,e,e.return)}catch(t){Eu(e,e.return,t)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(t){Eu(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(o,a),ve(l,s);var c=ve(l,a);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ge(o,p):"dangerouslySetInnerHTML"===d?de(o,p):"children"===d?pe(o,p):v(o,d,p,c)}switch(l){case"input":J(o,a);break;case"textarea":ie(o,a);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(o,!!a.multiple,f,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(o,!!a.multiple,a.defaultValue,!0):ne(o,!!a.multiple,a.multiple?[]:"",!1))}o[fo]=a}catch(t){Eu(e,e.return,t)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(t){Eu(e,e.return,t)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){Eu(e,e.return,t)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(o=e.child).flags&&(a=null!==o.memoizedState,o.stateNode.isHidden=a,!a||null!==o.alternate&&null!==o.alternate.memoizedState||(Ul=Ze())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||d,gl(t,e),Zs=c):gl(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!=(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(p=Qs=d;null!==Qs;){switch(f=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return);break;case 1:el(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Eu(r,n,e)}}break;case 5:el(h,h.return);break;case 22:if(null!==h.memoizedState){kl(p);continue}}null!==f?(f.return=h,Qs=f):kl(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{o=p.stateNode,c?"function"==typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=null!=(u=p.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(t){Eu(e,e.return,t)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(t){Eu(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(pe(o,""),r.flags&=-33),cl(e,ll(e),o);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(e,ll(e),a);break;default:throw Error(i(161))}}catch(t){Eu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Qs=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!=(1&e.mode);null!==Qs;){var o=Qs,i=o.child;if(22===o.tag&&r){var a=null!==o.memoizedState||Ks;if(!a){var s=o.alternate,l=null!==s&&null!==s.memoizedState||Zs;s=Ks;var u=Zs;if(Ks=a,(Zs=l)&&!u)for(Qs=o;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?_l(o):null!==l?(l.return=a,Qs=l):_l(o);for(;null!==i;)Qs=i,xl(i,t,n),i=i.sibling;Qs=o,Ks=s,Zs=u}wl(e)}else 0!=(8772&o.subtreeFlags)&&null!==i?(i.return=o,Qs=i):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||ol(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:bi(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bi(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(i(163))}Zs||512&t.flags&&il(t)}catch(e){Eu(t,t.return,e)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function kl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function _l(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ol(4,t)}catch(e){Eu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Eu(t,o,e)}}var i=t.return;try{il(t)}catch(e){Eu(t,i,e)}break;case 5:var a=t.return;try{il(t)}catch(e){Eu(t,a,e)}}}catch(e){Eu(t,t.return,e)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,El=Math.ceil,Tl=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,Il=x.ReactCurrentBatchConfig,jl=0,Al=null,Ol=null,Nl=0,Rl=0,Pl=Eo(0),Ml=0,Dl=null,Ll=0,Fl=0,Bl=0,$l=null,zl=null,Ul=0,Vl=1/0,Gl=null,Wl=!1,Hl=null,ql=null,Xl=!1,Yl=null,Kl=0,Zl=0,Jl=null,Ql=-1,eu=0;function tu(){return 0!=(6&jl)?Ze():-1!==Ql?Ql:Ql=Ze()}function nu(e){return 0==(1&e.mode)?1:0!=(2&jl)&&0!==Nl?Nl&-Nl:null!==gi.transition?(0===eu&&(eu=mt()),eu):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function ru(e,t,n,r){if(50<Zl)throw Zl=0,Jl=null,Error(i(185));bt(e,n,r),0!=(2&jl)&&e===Al||(e===Al&&(0==(2&jl)&&(Fl|=n),4===Ml&&lu(e,Nl)),ou(e,r),1===n&&0===jl&&0==(1&t.mode)&&(Vl=Ze()+500,$o&&Vo()))}function ou(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-at(i),s=1<<a,l=o[a];-1===l?0!=(s&n)&&0==(s&r)||(o[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=pt(e,e===Al?Nl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){$o=!0,Uo(e)}(uu.bind(null,e)):Uo(uu.bind(null,e)),ao((function(){0==(6&jl)&&Vo()})),n=null;else{switch(xt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ql=-1,eu=0,0!=(6&jl))throw Error(i(327));var n=e.callbackNode;if(_u()&&e.callbackNode!==n)return null;var r=pt(e,e===Al?Nl:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=bu(e,r);else{t=r;var o=jl;jl|=2;var a=mu();for(Al===e&&Nl===t||(Gl=null,Vl=Ze()+500,hu(e,t));;)try{vu();break}catch(t){fu(e,t)}ki(),Tl.current=a,jl=o,null!==Ol?t=0:(Al=null,Nl=0,t=Ml)}if(0!==t){if(2===t&&0!==(o=ft(e))&&(r=o,t=au(e,o)),1===t)throw n=Dl,hu(e,0),lu(e,r),ou(e,Ze()),n;if(6===t)lu(e,r);else{if(o=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!sr(i(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=bu(e,r))&&0!==(a=ft(e))&&(r=a,t=au(e,a)),1===t))throw n=Dl,hu(e,0),lu(e,r),ou(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:ku(e,zl,Gl);break;case 3:if(lu(e,r),(130023424&r)===r&&10<(t=Ul+500-Ze())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(ku.bind(null,e,zl,Gl),t);break}ku(e,zl,Gl);break;case 4:if(lu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>o&&(o=s),r&=~a}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(ku.bind(null,e,zl,Gl),r);break}ku(e,zl,Gl);break;default:throw Error(i(329))}}}return ou(e,Ze()),e.callbackNode===n?iu.bind(null,e):null}function au(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(hu(e,t).flags|=256),2!==(e=bu(e,t))&&(t=zl,zl=n,null!==t&&su(t)),e}function su(e){null===zl?zl=e:zl.push.apply(zl,e)}function lu(e,t){for(t&=~Bl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(0!=(6&jl))throw Error(i(327));_u();var t=pt(e,0);if(0==(1&t))return ou(e,Ze()),null;var n=bu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=au(e,r))}if(1===n)throw n=Dl,hu(e,0),lu(e,t),ou(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,zl,Gl),ou(e,Ze()),null}function cu(e,t){var n=jl;jl|=1;try{return e(t)}finally{0===(jl=n)&&(Vl=Ze()+500,$o&&Vo())}}function du(e){null!==Yl&&0===Yl.tag&&0==(6&jl)&&_u();var t=jl;jl|=1;var n=Il.transition,r=vt;try{if(Il.transition=null,vt=1,e)return e()}finally{vt=r,Il.transition=n,0==(6&(jl=t))&&Vo()}}function pu(){Rl=Pl.current,To(Pl)}function hu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Po();break;case 3:ia(),To(Ao),To(jo),da();break;case 5:sa(r);break;case 4:ia();break;case 13:case 19:To(la);break;case 10:_i(r.type._context);break;case 22:case 23:pu()}n=n.return}if(Al=e,Ol=e=Pu(e.current,null),Nl=Rl=t,Ml=0,Dl=null,Bl=Fl=Ll=0,zl=$l=null,null!==Ci){for(t=0;t<Ci.length;t++)if(null!==(r=(n=Ci[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var a=i.next;i.next=o,r.next=a}n.pending=r}Ci=null}return e}function fu(e,t){for(;;){var n=Ol;try{if(ki(),pa.current=as,ya){for(var r=ma.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ya=!1}if(fa=0,ba=ga=ma=null,va=!1,xa=0,Cl.current=null,null===n||null===n.return){Ml=1,Dl=t,Ol=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Nl,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,p=d.tag;if(0==(1&d.mode)&&(0===p||11===p||15===p)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=bs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&gs(a,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0==(1&t)){gs(a,c,t),gu();break e}u=Error(i(426))}else if(ii&&1&l.mode){var b=bs(s);if(null!==b){0==(65536&b.flags)&&(b.flags|=256),ys(b,s,l,0,t),mi(cs(u,l));break e}}a=u=cs(u,l),4!==Ml&&(Ml=2),null===$l?$l=[a]:$l.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Li(a,fs(0,u,t));break e;case 1:l=u;var y=a.type,v=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===ql||!ql.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Li(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}wu(n)}catch(e){t=e,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function mu(){var e=Tl.current;return Tl.current=as,null===e?as:e}function gu(){0!==Ml&&3!==Ml&&2!==Ml||(Ml=4),null===Al||0==(268435455&Ll)&&0==(268435455&Fl)||lu(Al,Nl)}function bu(e,t){var n=jl;jl|=2;var r=mu();for(Al===e&&Nl===t||(Gl=null,hu(e,t));;)try{yu();break}catch(t){fu(e,t)}if(ki(),jl=n,Tl.current=r,null!==Ol)throw Error(i(261));return Al=null,Nl=0,Ml}function yu(){for(;null!==Ol;)xu(Ol)}function vu(){for(;null!==Ol&&!Ye();)xu(Ol)}function xu(e){var t=Sl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wu(e):Ol=t,Cl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Xs(n,t,Rl)))return void(Ol=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ml=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ml&&(Ml=5)}function ku(e,t,n){var r=vt,o=Il.transition;try{Il.transition=null,vt=1,function(e,t,n,r){do{_u()}while(null!==Yl);if(0!=(6&jl))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-at(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,a),e===Al&&(Ol=Al=null,Nl=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Xl||(Xl=!0,Au(tt,(function(){return _u(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Il.transition,Il.transition=null;var s=vt;vt=1;var l=jl;jl|=4,Cl.current=null,function(e,t){if(eo=Gt,hr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++c===o&&(l=s),h===a&&++d===r&&(u=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Gt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,b=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:bi(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(i(163))}}catch(e){Eu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=nl,nl=!1}(e,n),bl(n,e),fr(to),Gt=!!eo,to=eo=null,e.current=n,vl(n,e,o),Ke(),jl=l,vt=s,Il.transition=a}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Kl=o),0===(a=e.pendingLanes)&&(ql=null),function(e){if(it&&"function"==typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),ou(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((o=t[n]).value,{componentStack:o.stack,digest:o.digest});if(Wl)throw Wl=!1,e=Hl,Hl=null,e;0!=(1&Kl)&&0!==e.tag&&_u(),0!=(1&(a=e.pendingLanes))?e===Jl?Zl++:(Zl=0,Jl=e):Zl=0,Vo()}(e,t,n,r)}finally{Il.transition=o,vt=r}return null}function _u(){if(null!==Yl){var e=xt(Kl),t=Il.transition,n=vt;try{if(Il.transition=null,vt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Kl=0,0!=(6&jl))throw Error(i(331));var o=jl;for(jl|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!=(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var p=d.child;if(null!==p)p.return=d,Qs=p;else for(;null!==Qs;){var h=(d=Qs).sibling,f=d.return;if(al(d),d===c){Qs=null;break}if(null!==h){h.return=f,Qs=h;break}Qs=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(null!==g)}}Qs=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!=(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break e}Qs=a.return}}var v=e.current;for(Qs=v;null!==Qs;){var x=(s=Qs).child;if(0!=(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else e:for(s=v;null!==Qs;){if(0!=(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:ol(9,l)}}catch(e){Eu(l,l.return,e)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(jl=o,Vo(),it&&"function"==typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{vt=n,Il.transition=t}}return!1}function Su(e,t,n){e=Mi(e,t=fs(0,t=cs(n,t),1),1),t=tu(),null!==e&&(bt(e,1,t),ou(e,t))}function Eu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ql||!ql.has(r))){t=Mi(t,e=ms(t,e=cs(n,e),1),1),e=tu(),null!==t&&(bt(t,1,e),ou(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Nl&n)===n&&(4===Ml||3===Ml&&(130023424&Nl)===Nl&&500>Ze()-Ul?hu(e,0):Bl|=n),ou(e,t)}function Cu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var n=tu();null!==(e=Ai(e,t))&&(bt(e,t,n),ou(e,n))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function ju(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cu(e,n)}function Au(e,t){return qe(e,t)}function Ou(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Ou(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)Ru(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case _:return Du(n.children,o,a,t);case S:s=8,o|=8;break;case E:return(e=Nu(12,n,t,2|o)).elementType=E,e.lanes=a,e;case j:return(e=Nu(13,n,t,o)).elementType=j,e.lanes=a,e;case A:return(e=Nu(19,n,t,o)).elementType=A,e.lanes=a,e;case R:return Lu(n,o,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case I:s=11;break e;case O:s=14;break e;case N:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Nu(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Du(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Lu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Fu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $u(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,o,i,a,s,l){return e=new $u(e,t,n,s,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Nu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ni(i),e}function Uu(e){if(!e)return Io;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Ro(n))return Do(e,n,t)}return t}function Vu(e,t,n,r,o,i,a,s,l){return(e=zu(n,r,!0,e,0,i,0,s,l)).context=Uu(null),n=e.current,(i=Pi(r=tu(),o=nu(n))).callback=null!=t?t:null,Mi(n,i,o),e.current.lanes=o,bt(e,o,r),ou(e,r),e}function Gu(e,t,n,r){var o=t.current,i=tu(),a=nu(o);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pi(i,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mi(o,t,a))&&(ru(e,o,a,i),Di(e,o,a)),a}function Wu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ao.current)xs=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:As(t),fi();break;case 5:aa(t);break;case 1:Ro(t.type)&&Lo(t);break;case 4:oa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Co(yi,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Co(la,1&la.current),t.flags|=128,null):0!=(n&t.child.childLanes)?Fs(e,t,n):(Co(la,1&la.current),null!==(e=Ws(e,t,n))?e.sibling:null);Co(la,1&la.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Co(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);xs=0!=(131072&e.flags)}else xs=!1,ii&&0!=(1048576&t.flags)&&ei(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var o=No(t,jo.current);Ei(t,n),o=Sa(null,t,r,e,o,n);var a=Ea();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(r)?(a=!0,Lo(t)):a=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Ni(t),o.updater=Ui,t.stateNode=o,o._reactInternals=t,Hi(t,r,e,n),t=js(null,t,r,!0,a,n)):(t.tag=0,ii&&a&&ti(t),ws(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return Ru(e)?1:0;if(null!=e){if((e=e.$$typeof)===I)return 11;if(e===O)return 14}return 2}(r),e=bi(r,e),o){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=ks(null,t,r,e,n);break e;case 14:t=_s(null,t,r,bi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Cs(e,t,r,o=t.elementType===r?o:bi(r,o),n);case 1:return r=t.type,o=t.pendingProps,Is(e,t,r,o=t.elementType===r?o:bi(r,o),n);case 3:e:{if(As(t),null===e)throw Error(i(387));r=t.pendingProps,o=(a=t.memoizedState).element,Ri(e,t),Fi(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,r,n,o=cs(Error(i(423)),t));break e}if(r!==o){t=Os(e,t,r,n,o=cs(Error(i(424)),t));break e}for(oi=uo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,ai=null,n=Ji(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&ci(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,no(r,o)?s=null:null!==a&&no(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Fs(e,t,n);case 4:return oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,ks(e,t,r,o=t.elementType===r?o:bi(r,o),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,a=t.memoizedProps,s=o.value,Co(yi,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===o.children&&!Ao.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Pi(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Si(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(i(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Si(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ei(t,n),r=r(o=Ti(o)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return o=bi(r=t.type,t.pendingProps),_s(e,t,r,o=bi(r.type,o),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bi(r,o),Gs(e,t),t.tag=1,Ro(r)?(e=!0,Lo(t)):e=!1,Ei(t,n),Gi(t,r,o),Hi(t,r,o,n),js(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var Xu="function"==typeof reportError?reportError:function(e){console.error(e)};function Yu(e){this._internalRoot=e}function Ku(e){this._internalRoot=e}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function ec(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i;if("function"==typeof o){var s=o;o=function(){var e=Wu(a);s.call(e)}}Gu(t,a,e,o)}else a=function(e,t,n,r,o){if(o){if("function"==typeof r){var i=r;r=function(){var e=Wu(a);i.call(e)}}var a=Vu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=a,e[mo]=a.current,Ur(8===e.nodeType?e.parentNode:e),du(),a}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var s=r;r=function(){var e=Wu(l);s.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[mo]=l.current,Ur(8===e.nodeType?e.parentNode:e),du((function(){Gu(t,l,n,r)})),l}(n,t,e,o,r);return Wu(a)}Ku.prototype.render=Yu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Gu(e,t,null,null)},Ku.prototype.unmount=Yu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Gu(null,e,null,null)})),t[mo]=null}},Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ou(t,Ze()),0==(6&jl)&&(Vl=Ze()+500,Vo()))}break;case 13:du((function(){var t=Ai(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),qu(e,1)}},kt=function(e){if(13===e.tag){var t=Ai(e,134217728);null!==t&&ru(t,e,134217728,tu()),qu(e,134217728)}},_t=function(e){if(13===e.tag){var t=nu(e),n=Ai(e,t);null!==n&&ru(n,e,t,tu()),qu(e,t)}},St=function(){return vt},Et=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(i(90));q(r),J(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cu,je=du;var tc={usingClientEntryPoint:!1,Events:[xo,wo,ko,Te,Ce,cu]},nc={findFiberByHostInstance:vo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ot=oc.inject(rc),it=oc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zu(e))throw Error(i(299));var n=!1,r="",o=Xu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Yu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(i(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,a="",s=Xu;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,o,0,a,s),e[mo]=t.current,Ur(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ku(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(i(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(i(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},3935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(4448)},4210:function(t,n,r){var o;o=function(t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,n){e.exports=t},function(t,n,r){(function(n){!function(e){t.exports=e()}((function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var l=!1;if(!s&&l)return(void 0)(a,!0);if(i)return i(a,!0);throw(s=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}l=n[a]={exports:{}},t[a][0].call(l.exports,(function(e){return o(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";n.byteLength=function(e){return 3*((e=l(e))[0]+(e=e[1]))/4-e},n.toByteArray=function(e){var t,n,r=(a=l(e))[0],a=a[1],s=new i(function(e,t){return 3*(e+t)/4-t}(r,a)),u=0,c=0<a?r-4:r;for(n=0;n<c;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],s[u++]=t>>16&255,s[u++]=t>>8&255,s[u++]=255&t;return 2===a&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,s[u++]=255&t),1===a&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,s[u++]=t>>8&255,s[u++]=255&t),s},n.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(function(e,t,n){for(var o,i=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(function(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}(o));return i.join("")}(e,a,s<a+16383?s:a+16383));return 1==o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2==o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function l(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return t=(e=-1===(e=e.indexOf("="))?t:e)===t?0:4-e%4,[e,t]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){},{}],3:[function(e,t,n){arguments[4][2][0].apply(n,arguments)},{dup:2}],4:[function(e,t,n){(function(t){"use strict";var r=e("base64-js"),o=e("ieee754"),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,a=(n.Buffer=t,n.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},n.INSPECT_MAX_BYTES=50,2147483647);function s(e){if(a<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');return e=new Uint8Array(e),Object.setPrototypeOf(e,t.prototype),e}function t(e,t,n){if("number"!=typeof e)return l(e,t,n);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}function l(e,n,r){if("string"==typeof e){var o=e,i=n;if(t.isEncoding(i="string"==typeof i&&""!==i?i:"utf8"))return(o=(l=s(a=0|h(o,i))).write(o,i))!==a?l.slice(0,o):l;throw new TypeError("Unknown encoding: "+i)}if(ArrayBuffer.isView(e))return d(e);if(null!=e){if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer)){var a=e,l=r;if((o=n)<0||a.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<o+(l||0))throw new RangeError('"length" is outside of buffer bounds');return a=void 0===o&&void 0===l?new Uint8Array(a):void 0===l?new Uint8Array(a,o):new Uint8Array(a,o,l),Object.setPrototypeOf(a,t.prototype),a}if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(i=e.valueOf&&e.valueOf())&&i!==e)return t.from(i,n,r);var u=function(e){var n,r;return t.isBuffer(e)?(0!==(r=s(n=0|p(e.length))).length&&e.copy(r,0,0,n),r):void 0!==e.length?"number"!=typeof e.length||N(e.length)?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),n,r)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),s(e<0?0:0|p(e))}function d(e){for(var t=e.length<0?0:0|p(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e){if(a<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function h(e,n){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,o=2<arguments.length&&!0===arguments[2];if(!o&&0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(i)return o?-1:I(e).length;n=(""+n).toLowerCase(),i=!0}}function f(e,t,n){var o,i=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var a=t,s=n,l=this.length;(!s||s<0||l<s)&&(s=l);for(var u="",c=a=!a||a<0?0:a;c<s;++c)u+=R[this[c]];return u;case"utf8":case"utf-8":return x(this,t,n);case"ascii":l=t;var d=n,p="";d=Math.min(this.length,d);for(var h=l;h<d;++h)p+=String.fromCharCode(127&this[h]);return p;case"latin1":case"binary":a=t;var f=n,m="";f=Math.min(this.length,f);for(var g=a;g<f;++g)m+=String.fromCharCode(this[g]);return m;case"base64":return b=this,o=n,0===(y=t)&&o===b.length?r.fromByteArray(b):r.fromByteArray(b.slice(y,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var b=t,y=n,v=this.slice(b,y),w="",k=0;k<v.length;k+=2)w+=String.fromCharCode(v[k]+256*v[k+1]);return w;default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function g(e,n,r,o,i){if(0===e.length)return-1;if("string"==typeof r?(o=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),(r=(r=N(r=+r)?i?0:e.length-1:r)<0?e.length+r:r)>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof n&&(n=t.from(n,o)),t.isBuffer(n))return 0===n.length?-1:b(e,n,r,o,i);if("number"==typeof n)return n&=255,"function"==typeof Uint8Array.prototype.indexOf?(i?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,n,r):b(e,[n],r,o,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,o){var i=1,a=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a/=i=2,s/=2,n/=2}function l(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}if(o)for(var u=-1,c=n;c<a;c++)if(l(e,c)===l(t,-1===u?0:c-u)){if(c-(u=-1===u?c:u)+1===s)return u*i}else-1!==u&&(c-=c-u),u=-1;else for(c=n=a<n+s?a-s:n;0<=c;c--){for(var d=!0,p=0;p<s;p++)if(l(e,c+p)!==l(t,p)){d=!1;break}if(d)return c}return-1}function y(e,t,n,r){return A(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function v(e,t,n,r){return A(function(e,t){for(var n,r,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,r%=256,o.push(r),o.push(n);return o}(t,e.length-n),e,n,r)}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,u=e[o],c=null,d=239<u?4:223<u?3:191<u?2:1;if(o+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(i=e[o+1]))&&127<(l=(31&u)<<6|63&i)&&(c=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&i)<<6|63&a)&&(l<55296||57343<l)&&(c=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,d=1):65535<c&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=d}var p=r,h=p.length;if(h<=w)return String.fromCharCode.apply(String,p);for(var f="",m=0;m<h;)f+=String.fromCharCode.apply(String,p.slice(m,m+=w));return f}n.kMaxLength=a,(t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=l,Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,n){return u(e),e<=0||void 0===t?s(e):"string"==typeof n?s(e).fill(t,n):s(e).fill(t)},t.allocUnsafe=c,t.allocUnsafeSlow=c,t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,n){if(O(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),O(n,Uint8Array)&&(n=t.from(n,n.offset,n.byteLength)),!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===n)return 0;for(var r=e.length,o=n.length,i=0,a=Math.min(r,o);i<a;++i)if(e[i]!==n[i]){r=e[i],o=n[i];break}return r<o?-1:o<r?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);if(void 0===n)for(i=n=0;i<e.length;++i)n+=e[i].length;for(var r=t.allocUnsafe(n),o=0,i=0;i<e.length;++i){var a=e[i];if(O(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},t.byteLength=h,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},t.prototype.toLocaleString=t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):f.apply(this,arguments)},t.prototype.equals=function(e){if(t.isBuffer(e))return this===e||0===t.compare(this,e);throw new TypeError("Argument must be a Buffer")},t.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},i&&(t.prototype[i]=t.prototype.inspect),t.prototype.compare=function(e,n,r,o,i){if(O(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===r&&(r=e?e.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),(n=void 0===n?0:n)<0||r>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(i<=o&&r<=n)return 0;if(i<=o)return-1;if(r<=n)return 1;if(this===e)return 0;for(var a=(i>>>=0)-(o>>>=0),s=(r>>>=0)-(n>>>=0),l=Math.min(a,s),u=this.slice(o,i),c=e.slice(n,r),d=0;d<l;++d)if(u[d]!==c[d]){a=u[d],s=c[d];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},t.prototype.indexOf=function(e,t,n){return g(this,e,t,n,!0)},t.prototype.lastIndexOf=function(e,t,n){return g(this,e,t,n,!1)},t.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||o<n)&&(n=o),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r=r||"utf8";for(var i,a,s,l=!1;;)switch(r){case"hex":var u=e,c=t,d=n,p=(c=Number(c)||0,this.length-c);(!d||p<(d=Number(d)))&&(d=p),(p=u.length)/2<d&&(d=p/2);for(var h=0;h<d;++h){var f=parseInt(u.substr(2*h,2),16);if(N(f))return h;this[c+h]=f}return h;case"utf8":case"utf-8":return p=t,s=n,A(I(e,(a=this).length-p),a,p,s);case"ascii":case"latin1":case"binary":return y(this,e,t,n);case"base64":return a=this,s=t,i=n,A(j(e),a,s,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,n);default:if(l)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),l=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function _(e,n,r,o,i,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<n||n<a)throw new RangeError('"value" argument is out of bounds');if(r+o>e.length)throw new RangeError("Index out of range")}function S(e,t,n,r){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function E(e,t,n,r,i){return t=+t,n>>>=0,i||S(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function T(e,t,n,r,i){return t=+t,n>>>=0,i||S(e,0,n,8),o.write(e,t,n,r,52,8),n+8}t.prototype.slice=function(e,n){var r=this.length;return(e=~~e)<0?(e+=r)<0&&(e=0):r<e&&(e=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):r<n&&(n=r),n<e&&(n=e),r=this.subarray(e,n),Object.setPrototypeOf(r,t.prototype),r},t.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},t.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e+--t],o=1;0<t&&(o*=256);)r+=this[e+--t]*o;return r},t.prototype.readUInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return(o*=128)<=r&&(r-=Math.pow(2,8*t)),r},t.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||k(e,t,this.length);for(var r=t,o=1,i=this[e+--r];0<r&&(o*=256);)i+=this[e+--r]*o;return(o*=128)<=i&&(i-=Math.pow(2,8*t)),i},t.prototype.readInt8=function(e,t){return e>>>=0,t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){return e>>>=0,t||k(e,2,this.length),32768&(t=this[e]|this[e+1]<<8)?4294901760|t:t},t.prototype.readInt16BE=function(e,t){return e>>>=0,t||k(e,2,this.length),32768&(t=this[e+1]|this[e]<<8)?4294901760|t:t},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||k(e,4,this.length),o.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||k(e,4,this.length),o.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||k(e,8,this.length),o.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||k(e,8,this.length),o.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||_(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},t.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||_(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;0<=--o&&(i*=256);)this[t+o]=e/i&255;return t+n},t.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,n,r){e=+e,t>>>=0,r||_(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=0,i=1,a=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},t.prototype.writeIntBE=function(e,t,n,r){e=+e,t>>>=0,r||_(this,e,t,n,(r=Math.pow(2,8*n-1))-1,-r);var o=n-1,i=1,a=0;for(this[t+o]=255&e;0<=--o&&(i*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/i>>0)-a&255;return t+n},t.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},t.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,n){return E(this,e,t,!0,n)},t.prototype.writeFloatBE=function(e,t,n){return E(this,e,t,!1,n)},t.prototype.writeDoubleLE=function(e,t,n){return T(this,e,t,!0,n)},t.prototype.writeDoubleBE=function(e,t,n){return T(this,e,t,!1,n)},t.prototype.copy=function(e,n,r,o){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r=r||0,o||0===o||(o=this.length),n>=e.length&&(n=e.length),(o=0<o&&o<r?r:o)===r)return 0;if(0===e.length||0===this.length)return 0;if((n=n||0)<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length);var i=(o=e.length-n<o-r?e.length-n+r:o)-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(n,r,o);else if(this===e&&r<n&&n<o)for(var a=i-1;0<=a;--a)e[a+n]=this[a+r];else Uint8Array.prototype.set.call(e,this.subarray(r,o),n);return i},t.prototype.fill=function(e,n,r,o){if("string"==typeof e){if("string"==typeof n?(o=n,n=0,r=this.length):"string"==typeof r&&(o=r,r=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!t.isEncoding(o))throw new TypeError("Unknown encoding: "+o);var i;1===e.length&&(i=e.charCodeAt(0),("utf8"===o&&i<128||"latin1"===o)&&(e=i))}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");var a;if(!(r<=n))if(n>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(e=e||0))for(a=n;a<r;++a)this[a]=e;else{var s=t.isBuffer(e)?e:t.from(e,o),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<r-n;++a)this[a+n]=s[a%l]}return this};var C=/[^+/0-9A-Za-z-_]/g;function I(e,t){t=t||1/0;for(var n,r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if(--t<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function j(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function N(e){return e!=e}var R=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,o=0;o<16;++o)t[r+o]=e[n]+e[o];return t}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:244}],5:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],6:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e){if(r(e)||null===e)return e;throw TypeError("Can't set "+String(e)+" as a prototype")}},{"../internals/is-object":74}],7:[function(e,t,n){var r=e("../internals/well-known-symbol"),o=e("../internals/object-create"),i=(e=e("../internals/object-define-property"),r("unscopables")),a=Array.prototype;null==a[i]&&e.f(a,i,{configurable:!0,value:o(null)}),t.exports=function(e){a[i][e]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],8:[function(e,t,n){"use strict";var r=e("../internals/string-multibyte").charAt;t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,t,n){t.exports=function(e,t,n){if(e instanceof t)return e;throw TypeError("Incorrect "+(n?n+" ":"")+"invocation")}},{}],10:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e){if(r(e))return e;throw TypeError(String(e)+" is not an object")}},{"../internals/is-object":74}],11:[function(e,t,n){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(e,t,n){"use strict";function r(e){return l(e)&&u(T,c(e))}var o,i=e("../internals/array-buffer-native"),a=e("../internals/descriptors"),s=e("../internals/global"),l=e("../internals/is-object"),u=e("../internals/has"),c=e("../internals/classof"),d=e("../internals/create-non-enumerable-property"),p=e("../internals/redefine"),h=e("../internals/object-define-property").f,f=e("../internals/object-get-prototype-of"),m=e("../internals/object-set-prototype-of"),g=e("../internals/well-known-symbol"),b=(e=e("../internals/uid"),s.Int8Array),y=b&&b.prototype,v=(v=s.Uint8ClampedArray)&&v.prototype,x=b&&f(b),w=y&&f(y),k=Object.prototype,_=k.isPrototypeOf,S=(g=g("toStringTag"),e("TYPED_ARRAY_TAG")),E=i&&!!m&&"Opera"!==c(s.opera),T=(e=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(o in T)s[o]||(E=!1);if((!E||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},E))for(o in T)s[o]&&m(s[o],x);if((!E||!w||w===k)&&(w=x.prototype,E))for(o in T)s[o]&&m(s[o].prototype,w);if(E&&f(v)!==w&&m(v,w),a&&!u(w,g))for(o in e=!0,h(w,g,{get:function(){return l(this)?this[S]:void 0}}),T)s[o]&&d(s[o],S,o);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:E,TYPED_ARRAY_TAG:e&&S,aTypedArray:function(e){if(r(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(_.call(x,e))return e}else for(var t in T)if(u(T,o)&&(t=s[t])&&(e===t||_.call(t,e)))return e;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(a){if(n)for(var r in T)(r=s[r])&&u(r.prototype,e)&&delete r.prototype[e];w[e]&&!n||p(w,e,!n&&E&&y[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,o;if(a){if(m){if(n)for(r in T)(o=s[r])&&u(o,e)&&delete o[e];if(x[e]&&!n)return;try{return p(x,e,!n&&E&&b[e]||t)}catch(e){}}for(r in T)!(o=s[r])||o[e]&&!n||p(o,e,t)}},isView:function(e){return"DataView"===(e=c(e))||u(T,e)},isTypedArray:r,TypedArray:x,TypedArrayPrototype:w}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":145,"../internals/well-known-symbol":148}],13:[function(e,t,n){"use strict";function r(e){return[255&e]}function o(e){return[255&e,e>>8&255]}function i(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function s(e){return $(e,23,4)}function l(e){return $(e,52,8)}function u(e,t){T(e[R],t,{get:function(){return j(this)[t]}})}function c(e,t,n,r){if((n=w(n))+t>(e=j(e)).byteLength)throw B(P);var o=j(e.buffer).bytes;return n+=e.byteOffset,e=o.slice(n,n+t),r?e:e.reverse()}function d(e,t,n,r,o,i){if((n=w(n))+t>(e=j(e)).byteLength)throw B(P);for(var a=j(e.buffer).bytes,s=n+e.byteOffset,l=r(+o),u=0;u<t;u++)a[s+u]=l[i?u:t-u-1]}var p=e("../internals/global"),h=e("../internals/descriptors"),f=e("../internals/array-buffer-native"),m=e("../internals/create-non-enumerable-property"),g=e("../internals/redefine-all"),b=e("../internals/fails"),y=e("../internals/an-instance"),v=e("../internals/to-integer"),x=e("../internals/to-length"),w=e("../internals/to-index"),k=e("../internals/ieee754"),_=e("../internals/object-get-prototype-of"),S=e("../internals/object-set-prototype-of"),E=e("../internals/object-get-own-property-names").f,T=e("../internals/object-define-property").f,C=e("../internals/array-fill"),I=e("../internals/set-to-string-tag"),j=(e=e("../internals/internal-state")).get,A=e.set,O="ArrayBuffer",N="DataView",R="prototype",P="Wrong index",M=p[O],D=M,L=p[N],F=(e=L&&L[R],Object.prototype),B=p.RangeError,$=k.pack,z=k.unpack;if(f){if(!b((function(){M(1)}))||!b((function(){new M(-1)}))||b((function(){return new M,new M(1.5),new M(NaN),M.name!=O}))){p=(D=function(e){return y(this,D),new M(w(e))})[R]=M[R];for(var U,V=E(M),G=0;V.length>G;)(U=V[G++])in D||m(D,U,M[U]);p.constructor=D}S&&_(e)!==F&&S(e,F),k=new L(new D(2));var W=e.setInt8;k.setInt8(0,2147483648),k.setInt8(1,2147483649),!k.getInt8(0)&&k.getInt8(1)||g(e,{setInt8:function(e,t){W.call(this,e,t<<24>>24)},setUint8:function(e,t){W.call(this,e,t<<24>>24)}},{unsafe:!0})}else D=function(e){y(this,D,O),e=w(e),A(this,{bytes:C.call(new Array(e),0),byteLength:e}),h||(this.byteLength=e)},L=function(e,t,n){y(this,L,N),y(e,D,N);var r=j(e).byteLength;if((t=v(t))<0||r<t)throw B("Wrong offset");if(r<t+(n=void 0===n?r-t:x(n)))throw B("Wrong length");A(this,{buffer:e,byteLength:n,byteOffset:t}),h||(this.buffer=e,this.byteLength=n,this.byteOffset=t)},h&&(u(D,"byteLength"),u(L,"buffer"),u(L,"byteLength"),u(L,"byteOffset")),g(L[R],{getInt8:function(e){return c(this,1,e)[0]<<24>>24},getUint8:function(e){return c(this,1,e)[0]},getInt16:function(e){return((e=c(this,2,e,1<arguments.length?arguments[1]:void 0))[1]<<8|e[0])<<16>>16},getUint16:function(e){return(e=c(this,2,e,1<arguments.length?arguments[1]:void 0))[1]<<8|e[0]},getInt32:function(e){return a(c(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return a(c(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return z(c(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return z(c(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){d(this,1,e,r,t)},setUint8:function(e,t){d(this,1,e,r,t)},setInt16:function(e,t){d(this,2,e,o,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){d(this,2,e,o,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){d(this,4,e,i,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){d(this,4,e,i,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){d(this,4,e,s,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){d(this,8,e,l,t,2<arguments.length?arguments[2]:void 0)}});I(D,O),I(L,N),t.exports={ArrayBuffer:D,DataView:L}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":133,"../internals/to-integer":135,"../internals/to-length":136}],14:[function(e,t,n){"use strict";var r=e("../internals/to-object"),o=e("../internals/to-absolute-index"),i=e("../internals/to-length"),a=Math.min;t.exports=[].copyWithin||function(e,t){var n=r(this),s=i(n.length),l=o(e,s),u=o(t,s),c=a((void 0===(e=2<arguments.length?arguments[2]:void 0)?s:o(e,s))-u,s-l),d=1;for(u<l&&l<u+c&&(d=-1,u+=c-1,l+=c-1);0<c--;)u in n?n[l]=n[u]:delete n[l],l+=d,u+=d;return n}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],15:[function(e,t,n){"use strict";var r=e("../internals/to-object"),o=e("../internals/to-absolute-index"),i=e("../internals/to-length");t.exports=function(e){for(var t,n=r(this),a=i(n.length),s=o(1<(t=arguments.length)?arguments[1]:void 0,a),l=void 0===(t=2<t?arguments[2]:void 0)?a:o(t,a);s<l;)n[s++]=e;return n}},{"../internals/to-absolute-index":132,"../internals/to-length":136,"../internals/to-object":137}],16:[function(e,t,n){"use strict";var r=e("../internals/array-iteration").forEach,o=e("../internals/array-method-is-strict");e=e("../internals/array-method-uses-to-length"),o=o("forEach"),e=e("forEach"),t.exports=o&&e?[].forEach:function(e){return r(this,e,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,t,n){"use strict";var r=e("../internals/function-bind-context"),o=e("../internals/to-object"),i=e("../internals/call-with-safe-iteration-closing"),a=e("../internals/is-array-iterator-method"),s=e("../internals/to-length"),l=e("../internals/create-property"),u=e("../internals/get-iterator-method");t.exports=function(e){var t,n,c,d,p,h,f=o(e),m=(e="function"==typeof this?this:Array,arguments.length),g=1<m?arguments[1]:void 0,b=void 0!==g,y=u(f),v=0;if(b&&(g=r(g,2<m?arguments[2]:void 0,2)),null==y||e==Array&&a(y))for(n=new e(t=s(f.length));v<t;v++)h=b?g(f[v],v):f[v],l(n,v,h);else for(p=(d=y.call(f)).next,n=new e;!(c=p.call(d)).done;v++)h=b?i(d,g,[c.value,v],!0):c.value,l(n,v,h);return n.length=v,n}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],18:[function(e,t,n){function r(e){return function(t,n,r){var s,l=o(t),u=i(l.length),c=a(r,u);if(e&&n!=n){for(;c<u;)if((s=l[c++])!=s)return!0}else for(;c<u;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}}var o=e("../internals/to-indexed-object"),i=e("../internals/to-length"),a=e("../internals/to-absolute-index");t.exports={includes:r(!0),indexOf:r(!1)}},{"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136}],19:[function(e,t,n){function r(e){var t=1==e,n=2==e,r=3==e,c=4==e,d=6==e,p=5==e||d;return function(h,f,m,g){for(var b,y,v=a(h),x=i(v),w=o(f,m,3),k=s(x.length),_=0,S=(f=g||l,t?f(h,k):n?f(h,0):void 0);_<k;_++)if((p||_ in x)&&(y=w(b=x[_],_,v),e))if(t)S[_]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return _;case 2:u.call(S,b)}else if(c)return!1;return d?-1:r||c?c:S}}var o=e("../internals/function-bind-context"),i=e("../internals/indexed-object"),a=e("../internals/to-object"),s=e("../internals/to-length"),l=e("../internals/array-species-create"),u=[].push;t.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],20:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),o=e("../internals/to-integer"),i=e("../internals/to-length"),a=e("../internals/array-method-is-strict"),s=(e=e("../internals/array-method-uses-to-length"),Math.min),l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0;a=a("lastIndexOf"),e=e("indexOf",{ACCESSORS:!0,1:0}),t.exports=!u&&a&&e?l:function(e){if(u)return l.apply(this,arguments)||0;var t=r(this),n=i(t.length),a=n-1;for((a=1<arguments.length?s(a,o(arguments[1])):a)<0&&(a=n+a);0<=a;a--)if(a in t&&t[a]===e)return a||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":134,"../internals/to-integer":135,"../internals/to-length":136}],21:[function(e,t,n){var r=e("../internals/fails"),o=e("../internals/well-known-symbol"),i=e("../internals/engine-v8-version"),a=o("species");t.exports=function(e){return 51<=i||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":148}],22:[function(e,t,n){"use strict";var r=e("../internals/fails");t.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},{"../internals/fails":51}],23:[function(e,t,n){function r(e){throw e}var o=e("../internals/descriptors"),i=e("../internals/fails"),a=e("../internals/has"),s=Object.defineProperty,l={};t.exports=function(e,t){var n,u,c,d;return a(l,e)?l[e]:(n=[][e],u=!!a(t=t||{},"ACCESSORS")&&t.ACCESSORS,c=a(t,0)?t[0]:r,d=a(t,1)?t[1]:void 0,l[e]=!!n&&!i((function(){if(u&&!o)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:r}):e[1]=1,n.call(e,c,d)})))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(e,t,n){function r(e){return function(t,n,r,l){o(n);var u=i(t),c=a(u),d=s(u.length),p=e?d-1:0,h=e?-1:1;if(r<2)for(;;){if(p in c){l=c[p],p+=h;break}if(p+=h,e?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=p:p<d;p+=h)p in c&&(l=n(l,c[p],p,u));return l}}var o=e("../internals/a-function"),i=e("../internals/to-object"),a=e("../internals/indexed-object"),s=e("../internals/to-length");t.exports={left:r(!1),right:r(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":136,"../internals/to-object":137}],25:[function(e,t,n){var r=e("../internals/is-object"),o=e("../internals/is-array"),i=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var n;return new(void 0===(n=o(e)&&("function"==typeof(n=e.constructor)&&(n===Array||o(n.prototype))||r(n)&&null===(n=n[i]))?void 0:n)?Array:n)(0===t?0:t)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":148}],26:[function(e,t,n){var r=e("../internals/an-object");t.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){throw void 0!==(o=e.return)&&r(o.call(e)),t}}},{"../internals/an-object":10}],27:[function(e,t,n){var r=e("../internals/well-known-symbol")("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},e(i)}catch(e){}return n}},{"../internals/well-known-symbol":148}],28:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],29:[function(e,t,n){var r=e("../internals/to-string-tag-support"),o=e("../internals/classof-raw"),i=e("../internals/well-known-symbol")("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),i))?t:a?o(e):"Object"==(t=o(e))&&"function"==typeof e.callee?"Arguments":t}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":141,"../internals/well-known-symbol":148}],30:[function(e,t,n){"use strict";var r=e("../internals/object-define-property").f,o=e("../internals/object-create"),i=e("../internals/redefine-all"),a=e("../internals/function-bind-context"),s=e("../internals/an-instance"),l=e("../internals/iterate"),u=e("../internals/define-iterator"),c=e("../internals/set-species"),d=e("../internals/descriptors"),p=e("../internals/internal-metadata").fastKey,h=(e=e("../internals/internal-state")).set,f=e.getterFor;t.exports={getConstructor:function(e,t,n,u){function c(e,t,n){var r,o=b(e),i=m(e,t);return i?i.value=n:(o.last=i={index:r=p(t,!0),key:t,value:n,previous:t=o.last,next:void 0,removed:!1},o.first||(o.first=i),t&&(t.next=i),d?o.size++:e.size++,"F"!==r&&(o.index[r]=i)),e}function m(e,t){e=b(e);var n,r=p(t);if("F"!==r)return e.index[r];for(n=e.first;n;n=n.next)if(n.key==t)return n}var g=e((function(e,r){s(e,g,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=r&&l(r,e[u],e,n)})),b=f(t);return i(g.prototype,{clear:function(){for(var e=b(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t,n,r=b(this);return(e=m(this,e))&&(t=e.next,n=e.previous,delete r.index[e.index],e.removed=!0,n&&(n.next=t),t&&(t.previous=n),r.first==e&&(r.first=t),r.last==e&&(r.last=n),d?r.size--:this.size--),!!e},forEach:function(e){for(var t,n=b(this),r=a(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),i(g.prototype,n?{get:function(e){return(e=m(this,e))&&e.value},set:function(e,t){return c(this,0===e?0:e,t)}}:{add:function(e){return c(this,e=0===e?0:e,e)}}),d&&r(g.prototype,"size",{get:function(){return b(this).size}}),g},setStrong:function(e,t,n){var r=t+" Iterator",o=f(t),i=f(r);u(e,t,(function(e,t){h(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}}),n?"entries":"values",!n,!0),c(t)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,t,n){"use strict";function r(e){return e.frozen||(e.frozen=new o)}function o(){this.entries=[]}function i(e,t){return g(e.entries,(function(e){return e[0]===t}))}var a=e("../internals/redefine-all"),s=e("../internals/internal-metadata").getWeakData,l=e("../internals/an-object"),u=e("../internals/is-object"),c=e("../internals/an-instance"),d=e("../internals/iterate"),p=e("../internals/array-iteration"),h=e("../internals/has"),f=(e=e("../internals/internal-state")).set,m=e.getterFor,g=p.find,b=p.findIndex,y=0;o.prototype={get:function(e){if(e=i(this,e))return e[1]},has:function(e){return!!i(this,e)},set:function(e,t){var n=i(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=b(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,n,o){function i(e,t,n){var o=g(e),i=s(l(t),!0);return!0===i?r(o).set(t,n):i[o.id]=n,e}var p=e((function(e,r){c(e,p,t),f(e,{type:t,id:y++,frozen:void 0}),null!=r&&d(r,e[o],e,n)})),g=m(t);return a(p.prototype,{delete:function(e){var t,n=g(this);return!!u(e)&&(!0===(t=s(e))?r(n).delete(e):t&&h(t,n.id)&&delete t[n.id])},has:function(e){var t,n=g(this);return!!u(e)&&(!0===(t=s(e))?r(n).has(e):t&&h(t,n.id))}}),a(p.prototype,n?{get:function(e){var t,n=g(this);if(u(e))return!0===(t=s(e))?r(n).get(e):t?t[n.id]:void 0},set:function(e,t){return i(this,e,t)}}:{add:function(e){return i(this,e,!0)}}),p}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/global"),i=e("../internals/is-forced"),a=e("../internals/redefine"),s=e("../internals/internal-metadata"),l=e("../internals/iterate"),u=e("../internals/an-instance"),c=e("../internals/is-object"),d=e("../internals/fails"),p=e("../internals/check-correctness-of-iteration"),h=e("../internals/set-to-string-tag"),f=e("../internals/inherit-if-required");t.exports=function(e,t,n){function m(e){var t=E[e];a(E,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(k&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return k&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(k&&!c(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})}var g,b,y,v,x,w=-1!==e.indexOf("Map"),k=-1!==e.indexOf("Weak"),_=w?"set":"add",S=o[e],E=S&&S.prototype,T=S,C={};return i(e,"function"!=typeof S||!(k||E.forEach&&!d((function(){(new S).entries().next()}))))?(T=n.getConstructor(t,e,w,_),s.REQUIRED=!0):i(e,!0)&&(b=(g=new T)[_](k?{}:-0,1)!=g,y=d((function(){g.has(1)})),v=p((function(e){new S(e)})),x=!k&&d((function(){for(var e=new S,t=5;t--;)e[_](t,t);return!e.has(-0)})),v||(((T=t((function(t,n){return u(t,T,e),t=f(new S,t,T),null!=n&&l(n,t[_],t,w),t}))).prototype=E).constructor=T),(y||x)&&(m("delete"),m("has"),w&&m("get")),(x||b)&&m(_),k&&E.clear&&delete E.clear),C[e]=T,r({global:!0,forced:T!=S},C),h(T,e),k||n.setStrong(T,e,w),T}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(e,t,n){var r=e("../internals/has"),o=e("../internals/own-keys"),i=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");t.exports=function(e,t){for(var n=o(t),s=a.f,l=i.f,u=0;u<n.length;u++){var c=n[u];r(e,c)||s(e,c,l(t,c))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(e,t,n){var r=e("../internals/well-known-symbol")("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},{"../internals/well-known-symbol":148}],35:[function(e,t,n){e=e("../internals/fails"),t.exports=!e((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},{"../internals/fails":51}],36:[function(e,t,n){var r=e("../internals/require-object-coercible"),o=/"/g;t.exports=function(e,t,n,i){e=String(r(e));var a="<"+t;return""!==n&&(a+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),a+">"+e+"</"+t+">"}},{"../internals/require-object-coercible":113}],37:[function(e,t,n){"use strict";function r(){return this}var o=e("../internals/iterators-core").IteratorPrototype,i=e("../internals/object-create"),a=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),l=e("../internals/iterators");t.exports=function(e,t,n){return t+=" Iterator",e.prototype=i(o,{next:a(1,n)}),s(e,t,!1,!0),l[t]=r,e}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/object-define-property"),i=e("../internals/create-property-descriptor");t.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],40:[function(e,t,n){"use strict";var r=e("../internals/to-primitive"),o=e("../internals/object-define-property"),i=e("../internals/create-property-descriptor");t.exports=function(e,t,n){(t=r(t))in e?o.f(e,t,i(0,n)):e[t]=n}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":140}],41:[function(e,t,n){"use strict";function r(){return this}var o=e("../internals/export"),i=e("../internals/create-iterator-constructor"),a=e("../internals/object-get-prototype-of"),s=e("../internals/object-set-prototype-of"),l=e("../internals/set-to-string-tag"),u=e("../internals/create-non-enumerable-property"),c=e("../internals/redefine"),d=e("../internals/well-known-symbol"),p=e("../internals/is-pure"),h=e("../internals/iterators"),f=(e=e("../internals/iterators-core")).IteratorPrototype,m=e.BUGGY_SAFARI_ITERATORS,g=d("iterator"),b="values",y="entries";t.exports=function(e,t,n,d,v,x,w){function k(e){if(e===v&&I)return I;if(!m&&e in T)return T[e];switch(e){case"keys":case b:case y:return function(){return new n(this,e)}}return function(){return new n(this)}}i(n,t,d),d=t+" Iterator";var _,S,E=!1,T=e.prototype,C=T[g]||T["@@iterator"]||v&&T[v],I=!m&&C||k(v),j="Array"==t&&T.entries||C;if(j&&(j=a(j.call(new e)),f!==Object.prototype&&j.next&&(p||a(j)===f||(s?s(j,f):"function"!=typeof j[g]&&u(j,g,r)),l(j,d,!0,!0),p&&(h[d]=r))),v==b&&C&&C.name!==b&&(E=!0,I=function(){return C.call(this)}),p&&!w||T[g]===I||u(T,g,I),h[t]=I,v)if(_={values:k(b),keys:x?I:k("keys"),entries:k(y)},w)for(S in _)!m&&!E&&S in T||c(T,S,_[S]);else o({target:t,proto:!0,forced:m||E},_);return _}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148}],42:[function(e,t,n){var r=e("../internals/path"),o=e("../internals/has"),i=e("../internals/well-known-symbol-wrapped"),a=e("../internals/object-define-property").f;t.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":147}],43:[function(e,t,n){e=e("../internals/fails"),t.exports=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":51}],44:[function(e,t,n){var r=e("../internals/global"),o=(e=e("../internals/is-object"),r.document),i=e(o)&&e(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(e,t,n){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(e,t,n){e=e("../internals/engine-user-agent"),t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(e)},{"../internals/engine-user-agent":47}],47:[function(e,t,n){e=e("../internals/get-built-in"),t.exports=e("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(e,t,n){var r,o,i=e("../internals/global");e=e("../internals/engine-user-agent"),(i=(i=(i=i.process)&&i.versions)&&i.v8)?o=(r=i.split("."))[0]+r[1]:e&&(!(r=e.match(/Edge\/(\d+)/))||74<=r[1])&&(r=e.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(e,t,n){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(e,t,n){var r=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,i=e("../internals/create-non-enumerable-property"),a=e("../internals/redefine"),s=e("../internals/set-global"),l=e("../internals/copy-constructor-properties"),u=e("../internals/is-forced");t.exports=function(e,t){var n,c,d,p=e.target,h=e.global,f=e.stat,m=h?r:f?r[p]||s(p,{}):(r[p]||{}).prototype;if(m)for(n in t){if(c=t[n],d=e.noTargetGet?(d=o(m,n))&&d.value:m[n],!u(h?n:p+(f?".":"#")+n,e.forced)&&void 0!==d){if(typeof c==typeof d)continue;l(c,d)}(e.sham||d&&d.sham)&&i(c,"sham",!0),a(m,n,c,e)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],52:[function(e,t,n){"use strict";e("../modules/es.regexp.exec");var r=e("../internals/redefine"),o=e("../internals/fails"),i=e("../internals/well-known-symbol"),a=e("../internals/regexp-exec"),s=e("../internals/create-non-enumerable-property"),l=i("species"),u=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c="$0"==="a".replace(/./,"$0"),d=!!/./[e=i("replace")]&&""===/./[e]("a","$0"),p=!o((function(){var e,t=(e=/(?:)/).exec;return 2!==(e.exec=function(){return t.apply(this,arguments)},e="ab".split(e)).length||"a"!==e[0]||"b"!==e[1]}));t.exports=function(e,t,n,h){var f,m,g=i(e),b=!o((function(){var t={};return t[g]=function(){return 7},7!=""[e](t)})),y=b&&!o((function(){var t=!1,n=/a/;return"split"===e&&((n={constructor:{}}).constructor[l]=function(){return n},n.flags="",n[g]=/./[g]),n.exec=function(){return t=!0,null},n[g](""),!t}));b&&y&&("replace"!==e||u&&c&&!d)&&("split"!==e||p)||(f=/./[g],n=(y=n(g,""[e],(function(e,t,n,r,o){return t.exec===a?b&&!o?{done:!0,value:f.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}))[0],m=y[1],r(String.prototype,e,n),r(RegExp.prototype,g,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})),h&&s(RegExp.prototype[g],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":148,"../modules/es.regexp.exec":185}],53:[function(e,t,n){e=e("../internals/fails"),t.exports=!e((function(){return Object.isExtensible(Object.preventExtensions({}))}))},{"../internals/fails":51}],54:[function(e,t,n){var r=e("../internals/a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"../internals/a-function":5}],55:[function(e,t,n){"use strict";var r=e("../internals/a-function"),o=e("../internals/is-object"),i=[].slice,a={};t.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),s=function(){var r=n.concat(i.call(arguments));if(this instanceof s){var o=t,l=r.length,u=r;if(!(l in a)){for(var c=[],d=0;d<l;d++)c[d]="a["+d+"]";a[l]=Function("C,a","return new C("+c.join(",")+")")}return a[l](o,u)}return t.apply(e,r)};return o(t.prototype)&&(s.prototype=t.prototype),s}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var o=e("../internals/path"),i=e("../internals/global");t.exports=function(e,t){return arguments.length<2?r(o[e])||r(i[e]):o[e]&&o[e][t]||i[e]&&i[e][t]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,t,n){var r=e("../internals/classof"),o=e("../internals/iterators"),i=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":148}],58:[function(e,t,n){var r=e("../internals/an-object"),o=e("../internals/get-iterator-method");t.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,t,r){(function(e){function n(e){return e&&e.Math==Math&&e}t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||Function("return this")()}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],61:[function(e,t,n){t.exports={}},{}],62:[function(e,t,n){var r=e("../internals/global");t.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},{"../internals/global":59}],63:[function(e,t,n){e=e("../internals/get-built-in"),t.exports=e("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/fails"),i=e("../internals/document-create-element");t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(e,t,n){var r=Math.abs,o=Math.pow,i=Math.floor,a=Math.log,s=Math.LN2;t.exports={pack:function(e,t,n){var l,u,c,d=new Array(n),p=8*n-t-1,h=(n=(1<<p)-1)>>1,f=23===t?o(2,-24)-o(2,-77):0,m=e<0||0===e&&1/e<0?1:0,g=0;for((e=r(e))!=e||e===1/0?(u=e!=e?1:0,l=n):(l=i(a(e)/s),e*(c=o(2,-l))<1&&(l--,c*=2),2<=(e+=1<=l+h?f/c:f*o(2,1-h))*c&&(l++,c/=2),n<=l+h?(u=0,l=n):1<=l+h?(u=(e*c-1)*o(2,t),l+=h):(u=e*o(2,h-1)*o(2,t),l=0));8<=t;d[g++]=255&u,u/=256,t-=8);for(l=l<<t|u,p+=t;0<p;d[g++]=255&l,l/=256,p-=8);return d[--g]|=128*m,d},unpack:function(e,t){var n,r,i=e.length,a=(1<<(r=8*i-t-1))-1,s=a>>1,l=r-7,u=i-1,c=127&(r=e[u--]);for(r>>=7;0<l;c=256*c+e[u],u--,l-=8);for(n=c&(1<<-l)-1,c>>=-l,l+=t;0<l;n=256*n+e[u],u--,l-=8);if(0===c)c=1-s;else{if(c===a)return n?NaN:r?-1/0:1/0;n+=o(2,t),c-=s}return(r?-1:1)*n*o(2,c-t)}}},{}],66:[function(e,t,n){var r=e("../internals/fails"),o=e("../internals/classof-raw"),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(e,t,n){var r=e("../internals/is-object"),o=e("../internals/object-set-prototype-of");t.exports=function(e,t,n){return o&&"function"==typeof(t=t.constructor)&&t!==n&&r(t=t.prototype)&&t!==n.prototype&&o(e,t),e}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,t,n){e=e("../internals/shared-store");var r=Function.toString;"function"!=typeof e.inspectSource&&(e.inspectSource=function(e){return r.call(e)}),t.exports=e.inspectSource},{"../internals/shared-store":119}],69:[function(e,t,n){function r(e){s(e,c,{value:{objectID:"O"+ ++d,weakData:{}}})}var o=e("../internals/hidden-keys"),i=e("../internals/is-object"),a=e("../internals/has"),s=e("../internals/object-define-property").f,l=e("../internals/uid"),u=e("../internals/freezing"),c=l("meta"),d=0,p=Object.isExtensible||function(){return!0},h=t.exports={REQUIRED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!p(e))return"F";if(!t)return"E";r(e)}return e[c].objectID},getWeakData:function(e,t){if(!a(e,c)){if(!p(e))return!0;if(!t)return!1;r(e)}return e[c].weakData},onFreeze:function(e){return u&&h.REQUIRED&&p(e)&&!a(e,c)&&r(e),e}};o[c]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":145}],70:[function(e,t,n){var r,o,i,a,s,l,u,c,d=e("../internals/native-weak-map"),p=e("../internals/global"),h=e("../internals/is-object"),f=e("../internals/create-non-enumerable-property"),m=e("../internals/has"),g=e("../internals/shared-key");e=e("../internals/hidden-keys"),p=p.WeakMap,u=d?(r=new p,o=r.get,i=r.has,a=r.set,s=function(e,t){return a.call(r,e,t),t},l=function(e){return o.call(r,e)||{}},function(e){return i.call(r,e)}):(e[c=g("state")]=!0,s=function(e,t){return f(e,c,t),t},l=function(e){return m(e,c)?e[c]:{}},function(e){return m(e,c)}),t.exports={set:s,get:l,has:u,enforce:function(e){return u(e)?l(e):s(e,{})},getterFor:function(e){return function(t){if(h(t)&&(t=l(t)).type===e)return t;throw TypeError("Incompatible receiver, "+e+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,t,n){var r=e("../internals/well-known-symbol"),o=e("../internals/iterators"),i=r("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},{"../internals/iterators":79,"../internals/well-known-symbol":148}],72:[function(e,t,n){var r=e("../internals/classof-raw");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"../internals/classof-raw":28}],73:[function(e,t,n){function r(e,t){return(e=s[a(e)])==u||e!=l&&("function"==typeof t?o(t):!!t)}var o=e("../internals/fails"),i=/#|\.prototype\./,a=r.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=r.data={},l=r.NATIVE="N",u=r.POLYFILL="P";t.exports=r},{"../internals/fails":51}],74:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],75:[function(e,t,n){t.exports=!1},{}],76:[function(e,t,n){var r=e("../internals/is-object"),o=e("../internals/classof-raw"),i=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":148}],77:[function(e,t,n){function r(e,t){this.stopped=e,this.result=t}var o=e("../internals/an-object"),i=e("../internals/is-array-iterator-method"),a=e("../internals/to-length"),s=e("../internals/function-bind-context"),l=e("../internals/get-iterator-method"),u=e("../internals/call-with-safe-iteration-closing");(t.exports=function(e,t,n,c,d){var p,h,f,m,g,b,y=s(t,n,c?2:1);if(d)p=e;else{if("function"!=typeof(t=l(e)))throw TypeError("Target is not iterable");if(i(t)){for(h=0,f=a(e.length);h<f;h++)if((m=c?y(o(b=e[h])[0],b[1]):y(e[h]))&&m instanceof r)return m;return new r(!1)}p=t.call(e)}for(g=p.next;!(b=g.call(p)).done;)if("object"==typeof(m=u(p,y,b.value,c))&&m&&m instanceof r)return m;return new r(!1)}).stop=function(e){return new r(!0,e)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136}],78:[function(e,t,n){"use strict";var r,o,i=e("../internals/object-get-prototype-of"),a=e("../internals/create-non-enumerable-property"),s=e("../internals/has"),l=e("../internals/well-known-symbol"),u=(e=e("../internals/is-pure"),l=l("iterator"),!1);[].keys&&("next"in(o=[].keys())?(i=i(i(o)))!==Object.prototype&&(r=i):u=!0),null==r&&(r={}),e||s(r,l)||a(r,l,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:u}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":148}],79:[function(e,t,n){t.exports={}},{}],80:[function(e,t,n){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],81:[function(e,t,n){var r,o,i,a,s,l,u,c,d=e("../internals/global"),p=e("../internals/object-get-own-property-descriptor").f,h=e("../internals/classof-raw"),f=e("../internals/task").set,m=(e=e("../internals/engine-is-ios"),d.MutationObserver||d.WebKitMutationObserver),g=d.process,b=d.Promise,y="process"==h(g);h=p(d,"queueMicrotask"),(p=h&&h.value)||(r=function(){var e,t;for(y&&(e=g.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},a=y?function(){g.nextTick(r)}:m&&!e?(s=!0,l=document.createTextNode(""),new m(r).observe(l,{characterData:!0}),function(){l.data=s=!s}):b&&b.resolve?(u=b.resolve(void 0),c=u.then,function(){c.call(u,r)}):function(){f.call(d,r)}),t.exports=p||function(e){e={fn:e,next:void 0},i&&(i.next=e),o||(o=e,a()),i=e}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":130}],82:[function(e,t,n){e=e("../internals/global"),t.exports=e.Promise},{"../internals/global":59}],83:[function(e,t,n){e=e("../internals/fails"),t.exports=!!Object.getOwnPropertySymbols&&!e((function(){return!String(Symbol())}))},{"../internals/fails":51}],84:[function(e,t,n){var r=e("../internals/fails"),o=e("../internals/well-known-symbol"),i=e("../internals/is-pure"),a=o("iterator");t.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":148}],85:[function(e,t,n){var r=e("../internals/global");e=e("../internals/inspect-source"),r=r.WeakMap,t.exports="function"==typeof r&&/native code/.test(e(r))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,t,n){"use strict";function r(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=o(t),this.reject=o(n)}var o=e("../internals/a-function");t.exports.f=function(e){return new r(e)}},{"../internals/a-function":5}],87:[function(e,t,n){var r=e("../internals/is-regexp");t.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},{"../internals/is-regexp":76}],88:[function(e,t,n){var r=e("../internals/global").isFinite;t.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},{"../internals/global":59}],89:[function(e,t,n){"use strict";var r=e("../internals/descriptors"),o=e("../internals/fails"),i=e("../internals/object-keys"),a=e("../internals/object-get-own-property-symbols"),s=e("../internals/object-property-is-enumerable"),l=e("../internals/to-object"),u=e("../internals/indexed-object"),c=Object.assign,d=Object.defineProperty;t.exports=!c||o((function(){var e,t,n,o;return!(!r||1===c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(t={},o="abcdefghijklmnopqrst",(e={})[n=Symbol()]=7,o.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||i(c({},t)).join("")!=o)}))?function(e,t){for(var n=l(e),o=arguments.length,c=1,d=a.f,p=s.f;c<o;)for(var h,f=u(arguments[c++]),m=d?i(f).concat(d(f)):i(f),g=m.length,b=0;b<g;)h=m[b++],r&&!p.call(f,h)||(n[h]=f[h]);return n}:c},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":137}],90:[function(e,t,n){function r(){}var o,i=e("../internals/an-object"),a=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),u=e("../internals/html"),c=e("../internals/document-create-element"),d=(e=e("../internals/shared-key"),"prototype"),p=e("IE_PROTO"),h=function(e){return"<script>"+e+"<\/script>"},f=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch(e){}f=o?((e=o).write(h("")),e.close(),t=e.parentWindow.Object,e=null,t):(t="javascript:",(e=c("iframe")).style.display="none",u.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F);for(var e,t,n=s.length;n--;)delete f[d][s[n]];return f()};l[p]=!0,t.exports=Object.create||function(e,t){var n;return null!==e?(r[d]=i(e),n=new r,r[d]=null,n[p]=e):n=f(),void 0===t?n:a(n,t)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/object-define-property"),i=e("../internals/an-object"),a=e("../internals/object-keys");t.exports=r?Object.defineProperties:function(e,t){i(e);for(var n,r=a(t),s=r.length,l=0;l<s;)o.f(e,n=r[l++],t[n]);return e}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),i=e("../internals/an-object"),a=e("../internals/to-primitive"),s=Object.defineProperty;n.f=r?s:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":140}],93:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/object-property-is-enumerable"),i=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),s=e("../internals/to-primitive"),l=e("../internals/has"),u=e("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=r?c:function(e,t){if(e=a(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return i(!o.f.call(e,t),e[t])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":134,"../internals/to-primitive":140}],94:[function(e,t,n){var r=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){if(!a||"[object Window]"!=i.call(e))return o(r(e));try{return o(e)}catch(e){return a.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":134}],95:[function(e,t,n){var r=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],97:[function(e,t,n){var r=e("../internals/has"),o=e("../internals/to-object"),i=e("../internals/shared-key"),a=(e=e("../internals/correct-prototype-getter"),i("IE_PROTO")),s=Object.prototype;t.exports=e?Object.getPrototypeOf:function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":137}],98:[function(e,t,n){var r=e("../internals/has"),o=e("../internals/to-indexed-object"),i=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys");t.exports=function(e,t){var n,s=o(e),l=0,u=[];for(n in s)!r(a,n)&&r(s,n)&&u.push(n);for(;t.length>l;)!r(s,n=t[l++])||~i(u,n)||u.push(n);return u}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":134}],99:[function(e,t,n){var r=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");t.exports=Object.keys||function(e){return r(e,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);n.f=i?function(e){return!!(e=o(this,e))&&e.enumerable}:r},{}],101:[function(e,t,n){var r=e("../internals/an-object"),o=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,i){return r(n),o(i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,t,n){"use strict";var r=e("../internals/to-string-tag-support"),o=e("../internals/classof");t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":141}],103:[function(e,t,n){var r=e("../internals/get-built-in"),o=e("../internals/object-get-own-property-names"),i=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object");t.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,t,n){e=e("../internals/global"),t.exports=e},{"../internals/global":59}],105:[function(e,t,n){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],106:[function(e,t,n){var r=e("../internals/an-object"),o=e("../internals/is-object"),i=e("../internals/new-promise-capability");t.exports=function(e,t){return r(e),o(t)&&t.constructor===e?t:((0,(e=i.f(e)).resolve)(t),e.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,t,n){var r=e("../internals/redefine");t.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},{"../internals/redefine":108}],108:[function(e,t,n){var r=e("../internals/global"),o=e("../internals/create-non-enumerable-property"),i=e("../internals/has"),a=e("../internals/set-global"),s=e("../internals/inspect-source"),l=(e=e("../internals/internal-state")).get,u=e.enforce,c=String(String).split("String");(t.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable;s=!!s&&!!s.noTargetGet,"function"==typeof n&&("string"!=typeof t||i(n,"name")||o(n,"name",t),u(n).source=c.join("string"==typeof t?t:"")),e===r?d?e[t]=n:a(t,n):(l?!s&&e[t]&&(d=!0):delete e[t],d?e[t]=n:o(e,t,n))})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,t,n){var r=e("./classof-raw"),o=e("./regexp-exec");t.exports=function(e,t){var n=e.exec;if("function"==typeof n){if("object"!=typeof(n=n.call(e,t)))throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,t,n){"use strict";var r,o,i=e("./regexp-flags"),a=(e=e("./regexp-sticky-helpers"),RegExp.prototype.exec),s=String.prototype.replace,l=a,u=(r=/a/,o=/b*/g,a.call(r,"a"),a.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),c=e.UNSUPPORTED_Y||e.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];t.exports=l=u||d||c?function(e){var t,n,r,o,l=this,p=c&&l.sticky,h=i.call(l),f=l.source,m=0,g=e;return p&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),g=String(e).slice(l.lastIndex),0<l.lastIndex&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,m++),n=new RegExp("^(?:"+f+")",h)),d&&(n=new RegExp("^"+f+"$(?!\\s)",h)),u&&(t=l.lastIndex),r=a.call(p?n:l,g),p?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=l.lastIndex,l.lastIndex+=r[0].length):l.lastIndex=0:u&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),d&&r&&1<r.length&&s.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}:l},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,t,n){"use strict";var r=e("../internals/an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"../internals/an-object":10}],112:[function(e,t,n){"use strict";function r(e,t){return RegExp(e,t)}e=e("./fails"),n.UNSUPPORTED_Y=e((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),n.BROKEN_CARET=e((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},{"./fails":51}],113:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},{}],114:[function(e,t,n){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],115:[function(e,t,n){var r=e("../internals/global"),o=e("../internals/create-non-enumerable-property");t.exports=function(e,t){try{o(r,e,t)}catch(n){r[e]=t}return t}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(e,t,n){"use strict";var r=e("../internals/get-built-in"),o=e("../internals/object-define-property"),i=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),s=i("species");t.exports=function(e){e=r(e);var t=o.f;a&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],117:[function(e,t,n){var r=e("../internals/object-define-property").f,o=e("../internals/has"),i=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":148}],118:[function(e,t,n){var r=e("../internals/shared"),o=e("../internals/uid"),i=r("keys");t.exports=function(e){return i[e]||(i[e]=o(e))}},{"../internals/shared":120,"../internals/uid":145}],119:[function(e,t,n){var r=e("../internals/global"),o=(e=e("../internals/set-global"),"__core-js_shared__");r=r[o]||e(o,{}),t.exports=r},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,t,n){var r=e("../internals/is-pure"),o=e("../internals/shared-store");(t.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:r?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,t,n){var r=e("../internals/an-object"),o=e("../internals/a-function"),i=e("../internals/well-known-symbol")("species");t.exports=function(e,t){return void 0===(e=r(e).constructor)||null==(e=r(e)[i])?t:o(e)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":148}],122:[function(e,t,n){var r=e("../internals/fails");t.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}))}},{"../internals/fails":51}],123:[function(e,t,n){function r(e){return function(t,n){t=String(i(t)),n=o(n);var r,a=t.length;return n<0||a<=n?e?"":void 0:(r=t.charCodeAt(n))<55296||56319<r||n+1===a||(a=t.charCodeAt(n+1))<56320||57343<a?e?t.charAt(n):r:e?t.slice(n,n+2):a-56320+(r-55296<<10)+65536}}var o=e("../internals/to-integer"),i=e("../internals/require-object-coercible");t.exports={codeAt:r(!1),charAt:r(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],124:[function(e,t,n){e=e("../internals/engine-user-agent"),t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(e)},{"../internals/engine-user-agent":47}],125:[function(e,t,n){function r(e){return function(t,n,r){var l=(t=String(a(t))).length;return r=void 0===r?" ":String(r),(n=o(n))<=l||""==r?t:((l=i.call(r,s((n-=l)/r.length))).length>n&&(l=l.slice(0,n)),e?t+l:l+t)}}var o=e("../internals/to-length"),i=e("../internals/string-repeat"),a=e("../internals/require-object-coercible"),s=Math.ceil;t.exports={start:r(!1),end:r(!0)}},{"../internals/require-object-coercible":113,"../internals/string-repeat":127,"../internals/to-length":136}],126:[function(e,t,n){"use strict";function r(e){return e+22+75*(e<26)}function o(e){var t,n=[],o=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var o,i=e.charCodeAt(n++);55296<=i&&i<=56319&&n<r?56320==(64512&(o=e.charCodeAt(n++)))?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--):t.push(i)}return t}(e)).length,c=128,d=0,g=72;for(x=0;x<e.length;x++)(t=e[x])<128&&n.push(m(t));var b=n.length,y=b;for(b&&n.push("-");y<o;){for(var v=i,x=0;x<e.length;x++)c<=(t=e[x])&&t<v&&(v=t);var w=y+1;if(v-c>f((i-d)/w))throw RangeError(p);for(d+=(v-c)*w,c=v,x=0;x<e.length;x++){if((t=e[x])<c&&++d>i)throw RangeError(p);if(t==c){for(var k=d,_=a;;_+=a){var S=_<=g?1:g+s<=_?s:_-g;if(k<S)break;var E=k-S,T=a-S;n.push(m(r(S+E%T))),k=f(E/T)}n.push(m(r(k))),g=function(e,t,n){var r=0;for(e=n?f(e/u):e>>1,e+=f(e/t);h*s>>1<e;r+=a)e=f(e/h);return f(r+(h+1)*e/(e+l))}(d,w,y==b),d=0,++y}}++d,++c}return n.join("")}var i=2147483647,a=36,s=26,l=38,u=700,c=/[^\0-\u007E]/,d=/[.\u3002\uFF0E\uFF61]/g,p="Overflow: input needs wider integers to process",h=a-1,f=Math.floor,m=String.fromCharCode;t.exports=function(e){for(var t,n=[],r=e.toLowerCase().replace(d,".").split("."),i=0;i<r.length;i++)t=r[i],n.push(c.test(t)?"xn--"+o(t):t);return n.join(".")}},{}],127:[function(e,t,n){"use strict";var r=e("../internals/to-integer"),o=e("../internals/require-object-coercible");t.exports="".repeat||function(e){var t=String(o(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;0<i;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},{"../internals/require-object-coercible":113,"../internals/to-integer":135}],128:[function(e,t,n){var r=e("../internals/fails"),o=e("../internals/whitespaces");t.exports=function(e){return r((function(){return!!o[e]()||""!=""[e]()||o[e].name!==e}))}},{"../internals/fails":51,"../internals/whitespaces":149}],129:[function(e,t,n){function r(e){return function(t){return t=String(o(t)),1&e&&(t=t.replace(i,"")),2&e?t.replace(a,""):t}}var o=e("../internals/require-object-coercible"),i=(e="["+e("../internals/whitespaces")+"]",RegExp("^"+e+e+"*")),a=RegExp(e+e+"*$");t.exports={start:r(1),end:r(2),trim:r(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":149}],130:[function(e,t,n){function r(e){return function(){k(e)}}function o(e){k(e.data)}function i(e){s.postMessage(e+"",h.protocol+"//"+h.host)}var a,s=e("../internals/global"),l=e("../internals/fails"),u=e("../internals/classof-raw"),c=e("../internals/function-bind-context"),d=e("../internals/html"),p=e("../internals/document-create-element"),h=(e=e("../internals/engine-is-ios"),s.location),f=s.setImmediate,m=s.clearImmediate,g=s.process,b=s.MessageChannel,y=s.Dispatch,v=0,x={},w="onreadystatechange",k=function(e){var t;x.hasOwnProperty(e)&&(t=x[e],delete x[e],t())};f&&m||(f=function(e){for(var t=[],n=1;n<arguments.length;)t.push(arguments[n++]);return x[++v]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},a(v),v},m=function(e){delete x[e]},"process"==u(g)?a=function(e){g.nextTick(r(e))}:y&&y.now?a=function(e){y.now(r(e))}:b&&!e?(e=(u=new b).port2,u.port1.onmessage=o,a=c(e.postMessage,e,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||l(i)||"file:"===h.protocol?a=w in p("script")?function(e){d.appendChild(p("script"))[w]=function(){d.removeChild(this),k(e)}}:function(e){setTimeout(r(e),0)}:(a=i,s.addEventListener("message",o,!1))),t.exports={set:f,clear:m}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],131:[function(e,t,n){var r=e("../internals/classof-raw");t.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},{"../internals/classof-raw":28}],132:[function(e,t,n){var r=e("../internals/to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},{"../internals/to-integer":135}],133:[function(e,t,n){var r=e("../internals/to-integer"),o=e("../internals/to-length");t.exports=function(e){if(void 0===e)return 0;e=r(e);var t=o(e);if(e!==t)throw RangeError("Wrong length or index");return t}},{"../internals/to-integer":135,"../internals/to-length":136}],134:[function(e,t,n){var r=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");t.exports=function(e){return r(o(e))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],135:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?o:r)(e)}},{}],136:[function(e,t,n){var r=e("../internals/to-integer"),o=Math.min;t.exports=function(e){return 0<e?o(r(e),9007199254740991):0}},{"../internals/to-integer":135}],137:[function(e,t,n){var r=e("../internals/require-object-coercible");t.exports=function(e){return Object(r(e))}},{"../internals/require-object-coercible":113}],138:[function(e,t,n){var r=e("../internals/to-positive-integer");t.exports=function(e,t){if((e=r(e))%t)throw RangeError("Wrong offset");return e}},{"../internals/to-positive-integer":139}],139:[function(e,t,n){var r=e("../internals/to-integer");t.exports=function(e){if((e=r(e))<0)throw RangeError("The argument can't be less than 0");return e}},{"../internals/to-integer":135}],140:[function(e,t,n){var r=e("../internals/is-object");t.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e))||"function"==typeof(n=e.valueOf)&&!r(o=n.call(e))||!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],141:[function(e,t,n){var r={};r[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"===String(r)},{"../internals/well-known-symbol":148}],142:[function(e,t,n){"use strict";function r(e,t){for(var n=0,r=t.length,o=new(q(e))(r);n<r;)o[n]=t[n++];return o}function o(e,t){L(e,t,{get:function(){return M(this)[t]}})}function i(e){return e instanceof z||"ArrayBuffer"==(e=_(e))||"SharedArrayBuffer"==e}function a(e,t){return X(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)}function s(e,t){return a(e,t=w(t,!0))?g(2,e[t]):F(e,t)}function l(e,t,n){return!(a(e,t=w(t,!0))&&S(n)&&k(n,"value"))||k(n,"get")||k(n,"set")||n.configurable||k(n,"writable")&&!n.writable||k(n,"enumerable")&&!n.enumerable?L(e,t,n):(e[t]=n.value,e)}var u=e("../internals/export"),c=e("../internals/global"),d=e("../internals/descriptors"),p=e("../internals/typed-array-constructors-require-wrappers"),h=e("../internals/array-buffer-view-core"),f=e("../internals/array-buffer"),m=e("../internals/an-instance"),g=e("../internals/create-property-descriptor"),b=e("../internals/create-non-enumerable-property"),y=e("../internals/to-length"),v=e("../internals/to-index"),x=e("../internals/to-offset"),w=e("../internals/to-primitive"),k=e("../internals/has"),_=e("../internals/classof"),S=e("../internals/is-object"),E=e("../internals/object-create"),T=e("../internals/object-set-prototype-of"),C=e("../internals/object-get-own-property-names").f,I=e("../internals/typed-array-from"),j=e("../internals/array-iteration").forEach,A=e("../internals/set-species"),O=e("../internals/object-define-property"),N=e("../internals/object-get-own-property-descriptor"),R=e("../internals/internal-state"),P=e("../internals/inherit-if-required"),M=R.get,D=R.set,L=O.f,F=N.f,B=Math.round,$=c.RangeError,z=f.ArrayBuffer,U=f.DataView,V=h.NATIVE_ARRAY_BUFFER_VIEWS,G=h.TYPED_ARRAY_TAG,W=h.TypedArray,H=h.TypedArrayPrototype,q=h.aTypedArrayConstructor,X=h.isTypedArray,Y="BYTES_PER_ELEMENT",K="Wrong length";d?(V||(N.f=s,O.f=l,o(H,"buffer"),o(H,"byteOffset"),o(H,"byteLength"),o(H,"length")),u({target:"Object",stat:!0,forced:!V},{getOwnPropertyDescriptor:s,defineProperty:l}),t.exports=function(e,t,n){function o(e,t){L(e,t,{get:function(){var e=this,n=t;return(e=M(e)).view[l](n*a+e.byteOffset,!0)},set:function(e){var r=this,o=t;r=M(r),n&&(e=(e=B(e))<0?0:255<e?255:255&e),r.view[d](o*a+r.byteOffset,e,!0)},enumerable:!0})}var a=e.match(/\d+$/)[0]/8,s=e+(n?"Clamped":"")+"Array",l="get"+e,d="set"+e,h=c[s],f=h,g=(e=f&&f.prototype,{});V?p&&(f=t((function(e,t,n,o){return m(e,f,s),P(S(t)?i(t)?void 0!==o?new h(t,x(n,a),o):void 0!==n?new h(t,x(n,a)):new h(t):X(t)?r(f,t):I.call(f,t):new h(v(t)),e,f)})),T&&T(f,W),j(C(h),(function(e){e in f||b(f,e,h[e])})),f.prototype=e):(f=t((function(e,t,n,l){m(e,f,s);var u,c,d=0,p=0;if(S(t)){if(!i(t))return X(t)?r(f,t):I.call(f,t);var h=t;if(p=x(n,a),n=t.byteLength,void 0===l){if(n%a)throw $(K);if((u=n-p)<0)throw $(K)}else if(n<(u=y(l)*a)+p)throw $(K);c=u/a}else c=v(t),h=new z(u=c*a);for(D(e,{buffer:h,byteOffset:p,byteLength:u,length:c,view:new U(h)});d<c;)o(e,d++)})),T&&T(f,W),e=f.prototype=E(H)),e.constructor!==f&&b(e,"constructor",f),G&&b(e,G,s),g[s]=f,u({global:!0,forced:f!=h,sham:!V},g),Y in f||b(f,Y,a),Y in e||b(e,Y,a),A(s)}):t.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":133,"../internals/to-length":136,"../internals/to-offset":138,"../internals/to-primitive":140,"../internals/typed-array-constructors-require-wrappers":143,"../internals/typed-array-from":144}],143:[function(e,t,n){var r=e("../internals/global"),o=e("../internals/fails"),i=e("../internals/check-correctness-of-iteration"),a=(e=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,r.ArrayBuffer),s=r.Int8Array;t.exports=!e||!o((function(){s(1)}))||!o((function(){new s(-1)}))||!i((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||o((function(){return 1!==new s(new a(2),1,void 0).length}))},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],144:[function(e,t,n){var r=e("../internals/to-object"),o=e("../internals/to-length"),i=e("../internals/get-iterator-method"),a=e("../internals/is-array-iterator-method"),s=e("../internals/function-bind-context"),l=e("../internals/array-buffer-view-core").aTypedArrayConstructor;t.exports=function(e){var t,n,u,c,d,p,h=r(e),f=arguments.length,m=1<f?arguments[1]:void 0,g=void 0!==m,b=i(h);if(null!=b&&!a(b))for(p=(d=b.call(h)).next,h=[];!(c=p.call(d)).done;)h.push(c.value);for(g&&2<f&&(m=s(m,arguments[2],2)),n=o(h.length),u=new(l(this))(n),t=0;t<n;t++)u[t]=g?m(h[t],t):h[t];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":136,"../internals/to-object":137}],145:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+o).toString(36)}},{}],146:[function(e,t,n){e=e("../internals/native-symbol"),t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":83}],147:[function(e,t,n){e=e("../internals/well-known-symbol"),n.f=e},{"../internals/well-known-symbol":148}],148:[function(e,t,n){var r=e("../internals/global"),o=e("../internals/shared"),i=e("../internals/has"),a=e("../internals/uid"),s=e("../internals/native-symbol"),l=(e=e("../internals/use-symbol-as-uid"),o("wks")),u=r.Symbol,c=e?u:u&&u.withoutSetter||a;t.exports=function(e){return i(l,e)||(s&&i(u,e)?l[e]=u[e]:l[e]=c("Symbol."+e)),l[e]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":145,"../internals/use-symbol-as-uid":146}],149:[function(e,t,n){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},{}],150:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/global"),i=e("../internals/array-buffer"),a=(e=e("../internals/set-species"),"ArrayBuffer");i=i[a],r({global:!0,forced:o[a]!==i},{ArrayBuffer:i}),e(a)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],151:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/fails"),i=e("../internals/is-array"),a=e("../internals/is-object"),s=e("../internals/to-object"),l=e("../internals/to-length"),u=e("../internals/create-property"),c=e("../internals/array-species-create"),d=e("../internals/array-method-has-species-support"),p=e("../internals/well-known-symbol"),h=(e=e("../internals/engine-v8-version"),p("isConcatSpreadable")),f=9007199254740991,m="Maximum allowed index exceeded";p=51<=e||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),e=d("concat"),r({target:"Array",proto:!0,forced:!p||!e},{concat:function(e){for(var t,n,r,o,d,p=s(this),g=c(p,0),b=0,y=-1,v=arguments.length;y<v;y++)if(d=void 0,a(o=r=-1===y?p:arguments[y])&&(void 0!==(d=o[h])?d:i(o))){if(n=l(r.length),f<b+n)throw TypeError(m);for(t=0;t<n;t++,b++)t in r&&u(g,b,r[t])}else{if(f<=b)throw TypeError(m);u(g,b++,r)}return g.length=b,g}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":136,"../internals/to-object":137,"../internals/well-known-symbol":148}],152:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/array-copy-within");e=e("../internals/add-to-unscopables"),r({target:"Array",proto:!0},{copyWithin:o}),e("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],153:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-iteration").every,i=e("../internals/array-method-is-strict");e=e("../internals/array-method-uses-to-length"),i=i("every"),e=e("every"),r({target:"Array",proto:!0,forced:!i||!e},{every:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/array-fill");e=e("../internals/add-to-unscopables"),r({target:"Array",proto:!0},{fill:o}),e("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],155:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-iteration").filter,i=e("../internals/array-method-has-species-support");e=e("../internals/array-method-uses-to-length"),i=i("filter"),e=e("filter"),r({target:"Array",proto:!0,forced:!i||!e},{filter:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(e,t,n){"use strict";var r=e("../internals/export");e=e("../internals/array-for-each"),r({target:"Array",proto:!0,forced:[].forEach!=e},{forEach:e})},{"../internals/array-for-each":16,"../internals/export":50}],157:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/array-from");r({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")((function(e){Array.from(e)}))},{from:o})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],158:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-includes").includes,i=e("../internals/add-to-unscopables");r({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}}),i("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-includes").indexOf,i=e("../internals/array-method-is-strict"),a=(e=e("../internals/array-method-uses-to-length"),[].indexOf),s=!!a&&1/[1].indexOf(1,-0)<0;i=i("indexOf"),e=e("indexOf",{ACCESSORS:!0,1:0}),r({target:"Array",proto:!0,forced:s||!i||!e},{indexOf:function(e){return s?a.apply(this,arguments)||0:o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],160:[function(e,t,n){"use strict";var r=e("../internals/to-indexed-object"),o=e("../internals/add-to-unscopables"),i=e("../internals/iterators"),a=e("../internals/internal-state"),s=(e=e("../internals/define-iterator"),"Array Iterator"),l=a.set,u=a.getterFor(s);t.exports=e(Array,"Array",(function(e,t){l(this,{type:s,target:r(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":134}],161:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/indexed-object"),i=e("../internals/to-indexed-object"),a=(e=e("../internals/array-method-is-strict"),[].join);o=o!=Object,e=e("join",","),r({target:"Array",proto:!0,forced:o||!e},{join:function(e){return a.call(i(this),void 0===e?",":e)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":134}],162:[function(e,t,n){e("../internals/export")({target:"Array",proto:!0,forced:(e=e("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:e})},{"../internals/array-last-index-of":20,"../internals/export":50}],163:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-iteration").map,i=e("../internals/array-method-has-species-support");e=e("../internals/array-method-uses-to-length"),i=i("map"),e=e("map"),r({target:"Array",proto:!0,forced:!i||!e},{map:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/is-object"),i=e("../internals/is-array"),a=e("../internals/to-absolute-index"),s=e("../internals/to-length"),l=e("../internals/to-indexed-object"),u=e("../internals/create-property"),c=e("../internals/well-known-symbol"),d=e("../internals/array-method-has-species-support"),p=(e=e("../internals/array-method-uses-to-length"),d=d("slice"),e=e("slice",{ACCESSORS:!0,0:0,1:2}),c("species")),h=[].slice,f=Math.max;r({target:"Array",proto:!0,forced:!d||!e},{slice:function(e,t){var n,r,c,d=l(this),m=s(d.length),g=a(e,m),b=a(void 0===t?m:t,m);if(i(d)&&((n="function"==typeof(n=d.constructor)&&(n===Array||i(n.prototype))||o(n)&&null===(n=n[p])?void 0:n)===Array||void 0===n))return h.call(d,g,b);for(r=new(void 0===n?Array:n)(f(b-g,0)),c=0;g<b;g++,c++)g in d&&u(r,c,d[g]);return r.length=c,r}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":132,"../internals/to-indexed-object":134,"../internals/to-length":136,"../internals/well-known-symbol":148}],165:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/array-iteration").some,i=e("../internals/array-method-is-strict");e=e("../internals/array-method-uses-to-length"),i=i("some"),e=e("some"),r({target:"Array",proto:!0,forced:!i||!e},{some:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],166:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/to-absolute-index"),i=e("../internals/to-integer"),a=e("../internals/to-length"),s=e("../internals/to-object"),l=e("../internals/array-species-create"),u=e("../internals/create-property"),c=e("../internals/array-method-has-species-support"),d=(e=e("../internals/array-method-uses-to-length"),c=c("splice"),e=e("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),p=Math.min;r({target:"Array",proto:!0,forced:!c||!e},{splice:function(e,t){var n,r,c,h,f,m,g=s(this),b=a(g.length),y=o(e,b);if(0===(e=arguments.length)?n=r=0:r=1===e?(n=0,b-y):(n=e-2,p(d(i(t),0),b-y)),9007199254740991<b+n-r)throw TypeError("Maximum allowed length exceeded");for(c=l(g,r),h=0;h<r;h++)(f=y+h)in g&&u(c,h,g[f]);if(n<(c.length=r)){for(h=y;h<b-r;h++)m=h+n,(f=h+r)in g?g[m]=g[f]:delete g[m];for(h=b;b-r+n<h;h--)delete g[h-1]}else if(r<n)for(h=b-r;y<h;h--)m=h+n-1,(f=h+r-1)in g?g[m]=g[f]:delete g[m];for(h=0;h<n;h++)g[h+y]=arguments[h+2];return g.length=b-r+n,c}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":132,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],167:[function(e,t,n){var r=e("../internals/descriptors"),o=(e=e("../internals/object-define-property").f,Function.prototype),i=o.toString,a=/^\s*function ([^ (]*)/;!r||"name"in o||e(o,"name",{configurable:!0,get:function(){try{return i.call(this).match(a)[1]}catch(e){return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],168:[function(e,t,n){"use strict";var r=e("../internals/collection");e=e("../internals/collection-strong"),t.exports=r("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),e)},{"../internals/collection":32,"../internals/collection-strong":30}],169:[function(e,t,n){e=e("../internals/export");var r=Math.hypot,o=Math.abs,i=Math.sqrt;e({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(e,t){for(var n,r,a=0,s=0,l=arguments.length,u=0;s<l;)u<(n=o(arguments[s++]))?(a=a*(r=u/n)*r+1,u=n):a+=0<n?(r=n/u)*r:n;return u===1/0?1/0:u*i(a)}})},{"../internals/export":50}],170:[function(e,t,n){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],171:[function(e,t,n){"use strict";function r(e){var t,n,r,o,i,a,s,l=d(e,!1);if("string"==typeof l&&2<l.length)if(43===(e=(l=b(l)).charCodeAt(0))||45===e){if(88===(t=l.charCodeAt(2))||120===t)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+l}for(i=(o=l.slice(2)).length,a=0;a<i;a++)if((s=o.charCodeAt(a))<48||r<s)return NaN;return parseInt(o,n)}return+l}var o=e("../internals/descriptors"),i=e("../internals/global"),a=e("../internals/is-forced"),s=e("../internals/redefine"),l=e("../internals/has"),u=e("../internals/classof-raw"),c=e("../internals/inherit-if-required"),d=e("../internals/to-primitive"),p=e("../internals/fails"),h=e("../internals/object-create"),f=e("../internals/object-get-own-property-names").f,m=e("../internals/object-get-own-property-descriptor").f,g=e("../internals/object-define-property").f,b=e("../internals/string-trim").trim,y="Number",v=i[y],x=v.prototype,w=u(h(x))==y;if(a(y,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var k,_=function(e){e=arguments.length<1?0:e;var t=this;return t instanceof _&&(w?p((function(){x.valueOf.call(t)})):u(t)!=y)?c(new v(r(e)),t,_):r(e)},S=o?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),E=0;S.length>E;E++)l(v,k=S[E])&&!l(_,k)&&g(_,k,m(v,k));(_.prototype=x).constructor=_,s(i,y,_)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":129,"../internals/to-primitive":140}],172:[function(e,t,n){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],173:[function(e,t,n){"use strict";function r(e,t,n){return 0===t?n:t%2==1?r(e,t-1,n*e):r(e*e,t/2,n)}var o=e("../internals/export"),i=e("../internals/to-integer"),a=e("../internals/this-number-value"),s=e("../internals/string-repeat"),l=(e=e("../internals/fails"),1..toFixed),u=Math.floor;o({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e((function(){l.call({})}))},{toFixed:function(e){function t(e,t){for(var n=-1,r=t;++n<6;)r+=e*p[n],p[n]=r%1e7,r=u(r/1e7)}function n(e){for(var t=6,n=0;0<=--t;)n+=p[t],p[t]=u(n/e),n=n%e*1e7}function o(){for(var e,t=6,n="";0<=--t;)""===n&&0!==t&&0===p[t]||(e=String(p[t]),n=""===n?e:n+s.call("0",7-e.length)+e);return n}var l,c,d=a(this),p=(e=i(e),[0,0,0,0,0,0]),h="",f="0";if(e<0||20<e)throw RangeError("Incorrect fraction digits");if(d!=d)return"NaN";if(d<=-1e21||1e21<=d)return String(d);if(d<0&&(h="-",d=-d),1e-21<d)if(d=(l=function(e){for(var t=0,n=e;4096<=n;)t+=12,n/=4096;for(;2<=n;)t+=1,n/=2;return t}(d*r(2,69,1))-69)<0?d*r(2,-l,1):d/r(2,l,1),d*=4503599627370496,0<(l=52-l)){for(t(0,d),c=e;7<=c;)t(1e7,0),c-=7;for(t(r(10,c,1),0),c=l-1;23<=c;)n(1<<23),c-=23;n(1<<c),t(1,1),n(2),f=o()}else t(0,d),t(1<<-l,0),f=o()+s.call("0",e);return 0<e?h+((d=f.length)<=e?"0."+s.call("0",e-d)+f:f.slice(0,d-e)+"."+f.slice(d-e)):h+f}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":127,"../internals/this-number-value":131,"../internals/to-integer":135}],174:[function(e,t,n){var r=e("../internals/export");e=e("../internals/object-assign"),r({target:"Object",stat:!0,forced:Object.assign!==e},{assign:e})},{"../internals/export":50,"../internals/object-assign":89}],175:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/iterate"),i=e("../internals/create-property");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,n){i(t,e,n)}),void 0,!0),t}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":77}],176:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/fails"),i=e("../internals/to-indexed-object"),a=e("../internals/object-get-own-property-descriptor").f;e=e("../internals/descriptors"),o=o((function(){a(1)})),r({target:"Object",stat:!0,forced:!e||o,sham:!e},{getOwnPropertyDescriptor:function(e,t){return a(i(e),t)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":134}],177:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/fails");e=e("../internals/object-get-own-property-names-external").f,r({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:e})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],178:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/fails"),i=e("../internals/to-object"),a=e("../internals/object-get-prototype-of");e=e("../internals/correct-prototype-getter"),r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!e},{getPrototypeOf:function(e){return a(i(e))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":137}],179:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/to-object"),i=e("../internals/object-keys");r({target:"Object",stat:!0,forced:e("../internals/fails")((function(){i(1)}))},{keys:function(e){return i(o(e))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":137}],180:[function(e,t,n){var r=e("../internals/to-string-tag-support"),o=e("../internals/redefine");e=e("../internals/object-to-string"),r||o(Object.prototype,"toString",e,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":141}],181:[function(e,t,n){"use strict";var r,o,i,a,s=e("../internals/export"),l=e("../internals/is-pure"),u=e("../internals/global"),c=e("../internals/get-built-in"),d=e("../internals/native-promise-constructor"),p=e("../internals/redefine"),h=e("../internals/redefine-all"),f=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),g=e("../internals/is-object"),b=e("../internals/a-function"),y=e("../internals/an-instance"),v=e("../internals/classof-raw"),x=e("../internals/inspect-source"),w=e("../internals/iterate"),k=e("../internals/check-correctness-of-iteration"),_=e("../internals/species-constructor"),S=e("../internals/task").set,E=e("../internals/microtask"),T=e("../internals/promise-resolve"),C=e("../internals/host-report-errors"),I=e("../internals/new-promise-capability"),j=e("../internals/perform"),A=e("../internals/internal-state"),O=e("../internals/is-forced"),N=e("../internals/well-known-symbol"),R=e("../internals/engine-v8-version"),P=N("species"),M="Promise",D=A.get,L=A.set,F=A.getterFor(M),B=d,$=u.TypeError,z=u.document,U=u.process,V=c("fetch"),G=I.f,W=G,H="process"==v(U),q=!!(z&&z.createEvent&&u.dispatchEvent),X="unhandledrejection",Y=(N=(e=O(M,(function(){var e,t;if(x(B)===String(B)){if(66===R)return!0;if(!H&&"function"!=typeof PromiseRejectionEvent)return!0}return!((!l||B.prototype.finally)&&(51<=R&&/native code/.test(B)||(t=function(e){e((function(){}),(function(){}))},((e=B.resolve(1)).constructor={})[P]=t,e.then((function(){}))instanceof t)))})))||!k((function(e){B.all(e).catch((function(){}))})),function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t}),K=function(e,t,n){var r;t.notified||(t.notified=!0,r=t.reactions,E((function(){for(var o,i,a=t.value,s=1==t.state,l=0;r.length>l;){var c,d,p,h=r[l++],f=s?h.ok:h.fail,m=h.resolve,g=h.reject,b=h.domain;try{f?(s||(2===t.rejection&&function(e,t){S.call(u,(function(){H?U.emit("rejectionHandled",e):Z("rejectionhandled",e,t.value)}))}(e,t),t.rejection=1),!0===f?c=a:(b&&b.enter(),c=f(a),b&&(b.exit(),p=!0)),c===h.promise?g($("Promise-chain cycle")):(d=Y(c))?d.call(c,m,g):m(c)):g(a)}catch(a){b&&!p&&b.exit(),g(a)}}t.reactions=[],t.notified=!1,n&&!t.rejection&&(o=e,i=t,S.call(u,(function(){var e=i.value,t=J(i);if(t&&(t=j((function(){H?U.emit("unhandledRejection",e,o):Z(X,o,e)})),i.rejection=H||J(i)?2:1,t.error))throw t.value})))})))},Z=function(e,t,n){var r;q?((r=z.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},(t=u["on"+e])?t(r):e===X&&C("Unhandled promise rejection",n)},J=function(e){return 1!==e.rejection&&!e.parent},Q=function(e,t,n,r){return function(o){e(t,n,o,r)}},ee=function(e,t,n,r){t.done||(t.done=!0,(t=r||t).value=n,t.state=2,K(e,t,!0))},te=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw $("Promise can't be resolved itself");var o=Y(n);o?E((function(){var r={done:!1};try{o.call(n,Q(te,e,r,t),Q(ee,e,r,t))}catch(n){ee(e,r,n,t)}})):(t.value=n,t.state=1,K(e,t,!1))}catch(n){ee(e,{done:!1},n,t)}}};e&&(B=function(e){y(this,B,M),b(e),r.call(this);var t=D(this);try{e(Q(te,this,t),Q(ee,this,t))}catch(e){ee(this,t,e)}},(r=function(e){L(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(B.prototype,{then:function(e,t){var n=F(this),r=G(_(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=H?U.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&K(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r,t=D(e);this.promise=e,this.resolve=Q(te,e,t),this.reject=Q(ee,e,t)},I.f=G=function(e){return e===B||e===i?new o:W(e)},l||"function"!=typeof d||(a=d.prototype.then,p(d.prototype,"then",(function(e,t){var n=this;return new B((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof V&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return T(B,V.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:e},{Promise:B}),f(B,M,!1,!0),m(M),i=c(M),s({target:M,stat:!0,forced:e},{reject:function(e){var t=G(this);return t.reject.call(void 0,e),t.promise}}),s({target:M,stat:!0,forced:l||e},{resolve:function(e){return T(l&&this===i?B:this,e)}}),s({target:M,stat:!0,forced:N},{all:function(e){var t=this,n=G(t),r=n.resolve,o=n.reject,i=j((function(){var n=b(t.resolve),i=[],a=0,s=1;w(e,(function(e){var l=a++,u=!1;i.push(void 0),s++,n.call(t,e).then((function(e){u||(u=!0,i[l]=e,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(e){var t=this,n=G(t),r=n.reject,o=j((function(){var o=b(t.resolve);w(e,(function(e){o.call(t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":130,"../internals/well-known-symbol":148}],182:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/get-built-in"),i=e("../internals/a-function"),a=e("../internals/an-object"),s=e("../internals/is-object"),l=e("../internals/object-create"),u=e("../internals/function-bind"),c=(e=e("../internals/fails"),o("Reflect","construct")),d=e((function(){function e(){}return!(c((function(){}),[],e)instanceof e)})),p=!e((function(){c((function(){}))}));r({target:"Reflect",stat:!0,forced:o=d||p,sham:o},{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(u.apply(e,r))}return r=n.prototype,n=l(s(r)?r:Object.prototype),r=Function.apply.call(e,n,t),s(r)?r:n}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],183:[function(e,t,n){var r=e("../internals/export"),o=e("../internals/is-object"),i=e("../internals/an-object"),a=e("../internals/has"),s=e("../internals/object-get-own-property-descriptor"),l=e("../internals/object-get-prototype-of");r({target:"Reflect",stat:!0},{get:function e(t,n){var r,u=arguments.length<3?t:arguments[2];return i(t)===u?t[n]:(r=s.f(t,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(u):o(r=l(t))?e(r,n,u):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":60,"../internals/is-object":74,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-prototype-of":97}],184:[function(e,t,n){var r=e("../internals/descriptors"),o=e("../internals/global"),i=e("../internals/is-forced"),a=e("../internals/inherit-if-required"),s=e("../internals/object-define-property").f,l=e("../internals/object-get-own-property-names").f,u=e("../internals/is-regexp"),c=e("../internals/regexp-flags"),d=e("../internals/regexp-sticky-helpers"),p=e("../internals/redefine"),h=e("../internals/fails"),f=e("../internals/internal-state").set,m=e("../internals/set-species"),g=e("../internals/well-known-symbol")("match"),b=o.RegExp,y=b.prototype,v=/a/g,x=/a/g,w=new b(v)!==v,k=d.UNSUPPORTED_Y;if(r&&i("RegExp",!w||k||h((function(){return x[g]=!1,b(v)!=v||b(x)==x||"/a/i"!=b(v,"i")})))){for(var _=function(e,t){var n,r=this instanceof _,o=u(e),i=void 0===t;return!r&&o&&e.constructor===_&&i?e:(w?o&&!i&&(e=e.source):e instanceof _&&(i&&(t=c.call(e)),e=e.source),k&&(n=!!t&&-1<t.indexOf("y"))&&(t=t.replace(/y/g,"")),o=a(w?new b(e,t):b(e,t),r?this:y,_),k&&n&&f(o,{sticky:n}),o)},S=l(b),E=0;S.length>E;)!function(e){e in _||s(_,e,{configurable:!0,get:function(){return b[e]},set:function(t){b[e]=t}})}(S[E++]);(y.constructor=_).prototype=y,p(o,"RegExp",_)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":148}],185:[function(e,t,n){"use strict";var r=e("../internals/export");e=e("../internals/regexp-exec"),r({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e})},{"../internals/export":50,"../internals/regexp-exec":110}],186:[function(e,t,n){"use strict";var r=e("../internals/redefine"),o=e("../internals/an-object"),i=e("../internals/fails"),a=e("../internals/regexp-flags"),s=(e="toString",RegExp.prototype),l=s[e],u=(i=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),l.name!=e);(i||u)&&r(RegExp.prototype,e,(function(){var e=o(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in s)?a.call(e):n)}),{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],187:[function(e,t,n){"use strict";var r=e("../internals/collection");e=e("../internals/collection-strong"),t.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),e)},{"../internals/collection":32,"../internals/collection-strong":30}],188:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/object-get-own-property-descriptor").f,i=e("../internals/to-length"),a=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),l=e("../internals/correct-is-regexp-logic"),u=(e=e("../internals/is-pure"),"".endsWith),c=Math.min;l=l("endsWith"),r({target:"String",proto:!0,forced:!(!e&&!l&&(r=o(String.prototype,"endsWith"))&&!r.writable||l)},{endsWith:function(e){var t=String(s(this)),n=(a(e),1<arguments.length?arguments[1]:void 0),r=i(t.length);return n=void 0===n?r:c(i(n),r),r=String(e),u?u.call(t,r,n):t.slice(n-r.length,n)===r}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],189:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/not-a-regexp"),i=e("../internals/require-object-coercible");r({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],190:[function(e,t,n){"use strict";var r=e("../internals/string-multibyte").charAt,o=e("../internals/internal-state"),i=(e=e("../internals/define-iterator"),"String Iterator"),a=o.set,s=o.getterFor(i);e(String,"String",(function(e){a(this,{type:i,string:String(e),index:0})}),(function(){var e=s(this),t=e.string,n=e.index;return n>=t.length?{value:void 0,done:!0}:(t=r(t,n),e.index+=t.length,{value:t,done:!1})}))},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],191:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),i=e("../internals/to-length"),a=e("../internals/require-object-coercible"),s=e("../internals/advance-string-index"),l=e("../internals/regexp-exec-abstract");r("match",1,(function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=o(e),u=String(this);if(!a.global)return l(a,u);for(var c=a.unicode,d=[],p=a.lastIndex=0;null!==(h=l(a,u));){var h=String(h[0]);""===(d[p]=h)&&(a.lastIndex=s(u,i(a.lastIndex),c)),p++}return 0===p?null:d}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":136}],192:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/string-pad").start;r({target:"String",proto:!0,forced:e("../internals/string-pad-webkit-bug")},{padStart:function(e){return o(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":125,"../internals/string-pad-webkit-bug":124}],193:[function(e,t,n){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":127}],194:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),i=e("../internals/to-object"),a=e("../internals/to-length"),s=e("../internals/to-integer"),l=e("../internals/require-object-coercible"),u=e("../internals/advance-string-index"),c=e("../internals/regexp-exec-abstract"),d=Math.max,p=Math.min,h=Math.floor,f=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;r("replace",2,(function(e,t,n,r){var g=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=r.REPLACE_KEEPS_$0,y=g?"$":"$0";return[function(n,r){var o=l(this),i=null==n?void 0:n[e];return void 0!==i?i.call(n,o,r):t.call(String(o),n,r)},function(e,r){if(!g&&b||"string"==typeof r&&-1===r.indexOf(y)){var l=n(t,e,this,r);if(l.done)return l.value}for(var v,x=o(e),w=String(this),k="function"==typeof r,_=(k||(r=String(r)),x.global),S=(_&&(v=x.unicode,x.lastIndex=0),[]);null!==(j=c(x,w))&&(S.push(j),_);)""===String(j[0])&&(x.lastIndex=u(w,a(x.lastIndex),v));for(var E,T="",C=0,I=0;I<S.length;I++){for(var j=S[I],A=String(j[0]),O=d(p(s(j.index),w.length),0),N=[],R=1;R<j.length;R++)N.push(void 0===(E=j[R])?E:String(E));var P=j.groups,M=k?(M=[A].concat(N,O,w),void 0!==P&&M.push(P),String(r.apply(void 0,M))):function(e,n,r,o,a,s){var l=r+e.length,u=o.length,c=m;return void 0!==a&&(a=i(a),c=f),t.call(s,c,(function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=a[i.slice(1,-1)];break;default:var c,d=+i;if(0==d)return t;if(u<d)return 0!==(c=h(d/10))&&c<=u?void 0===o[c-1]?i.charAt(1):o[c-1]+i.charAt(1):t;s=o[d-1]}return void 0===s?"":s}))}(A,w,O,N,P,r);C<=O&&(T+=w.slice(C,O)+M,C=O+A.length)}return T+w.slice(C)}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":135,"../internals/to-length":136,"../internals/to-object":137}],195:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),i=e("../internals/require-object-coercible"),a=e("../internals/same-value"),s=e("../internals/regexp-exec-abstract");r("search",1,(function(e,t,n){return[function(t){var n=i(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r,i=n(t,e,this);return i.done?i.value:(i=o(e),e=String(this),r=i.lastIndex,a(r,0)||(i.lastIndex=0),e=s(i,e),a(i.lastIndex,r)||(i.lastIndex=r),null===e?-1:e.index)}]}))},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],196:[function(e,t,n){"use strict";var r=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/is-regexp"),i=e("../internals/an-object"),a=e("../internals/require-object-coercible"),s=e("../internals/species-constructor"),l=e("../internals/advance-string-index"),u=e("../internals/to-length"),c=e("../internals/regexp-exec-abstract"),d=e("../internals/regexp-exec"),p=(e=e("../internals/fails"),[].push),h=Math.min,f=4294967295,m=!e((function(){return!RegExp(f,"y")}));r("split",2,(function(e,t,n){var r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,n){var r=String(a(this)),i=void 0===n?f:n>>>0;if(0==i)return[];if(void 0===e)return[r];if(!o(e))return t.call(r,e,i);for(var s,l,u,c=[],h=(n=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),0),m=new RegExp(e.source,n+"g");(s=d.call(m,r))&&!(h<(l=m.lastIndex)&&(c.push(r.slice(h,s.index)),1<s.length&&s.index<r.length&&p.apply(c,s.slice(1)),u=s[0].length,h=l,c.length>=i));)m.lastIndex===s.index&&m.lastIndex++;return h===r.length?!u&&m.test("")||c.push(""):c.push(r.slice(h)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t;return[function(t,n){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,n):r.call(String(o),t,n)},function(e,o){if((a=n(r,e,this,o,r!==t)).done)return a.value;var a=i(e),d=String(this),p=(e=s(a,RegExp),a.unicode),g=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(m?"y":"g"),b=new e(m?a:"^(?:"+a.source+")",g),y=void 0===o?f:o>>>0;if(0==y)return[];if(0===d.length)return null===c(b,d)?[d]:[];for(var v=0,x=0,w=[];x<d.length;){b.lastIndex=m?x:0;var k,_=c(b,m?d:d.slice(x));if(null===_||(k=h(u(b.lastIndex+(m?0:x)),d.length))===v)x=l(d,x,p);else{if(w.push(d.slice(v,x)),w.length===y)return w;for(var S=1;S<=_.length-1;S++)if(w.push(_[S]),w.length===y)return w;x=v=k}}return w.push(d.slice(v)),w}]}),!m)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":136}],197:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/object-get-own-property-descriptor").f,i=e("../internals/to-length"),a=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),l=e("../internals/correct-is-regexp-logic"),u=(e=e("../internals/is-pure"),"".startsWith),c=Math.min;l=l("startsWith"),r({target:"String",proto:!0,forced:!(!e&&!l&&(r=o(String.prototype,"startsWith"))&&!r.writable||l)},{startsWith:function(e){var t=String(s(this)),n=(a(e),i(c(1<arguments.length?arguments[1]:void 0,t.length)));return e=String(e),u?u.call(t,e,n):t.slice(n,n+e.length)===e}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":136}],198:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/create-html");r({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return o(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],199:[function(e,t,n){"use strict";var r=e("../internals/export"),o=e("../internals/string-trim").trim;r({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return o(this)}})},{"../internals/export":50,"../internals/string-trim":129,"../internals/string-trim-forced":128}],200:[function(e,t,n){"use strict";var r,o,i,a,s,l=e("../internals/export"),u=e("../internals/descriptors"),c=e("../internals/global"),d=e("../internals/has"),p=e("../internals/is-object"),h=e("../internals/object-define-property").f,f=(e=e("../internals/copy-constructor-properties"),c.Symbol);!u||"function"!=typeof f||"description"in f.prototype&&void 0===f().description||(r={},e(o=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof o?new f(e):void 0===e?f():f(e);return""===e&&(r[t]=!0),t},f),(c=o.prototype=f.prototype).constructor=o,i=c.toString,a="Symbol(test)"==String(f("test")),s=/^Symbol\((.*)\)[^)]+$/,h(c,"description",{configurable:!0,get:function(){var e=p(this)?this.valueOf():this,t=i.call(e);return d(r,e)?"":""===(e=a?t.slice(7,-1):t.replace(s,"$1"))?void 0:e}}),l({global:!0,forced:!0},{Symbol:o}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],201:[function(e,t,n){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],202:[function(e,t,n){"use strict";function r(e,t){var n=te[e]=_(Y[W]);return H(n,{type:G,tag:e,description:t}),d||(n.description=t),n}function o(e,t){y(e);var n=x(t);return t=S(n).concat(ce(n)),U(t,(function(t){d&&!ue.call(n,t)||le(e,t,n[t])})),e}function i(e,t){var n;if(e=x(e),t=w(t,!0),e!==X||!m(te,t)||m(ne,t))return!(n=Z(e,t))||!m(te,t)||m(e,V)&&e[V][t]||(n.enumerable=!0),n}function a(e){e=Q(x(e));var t=[];return U(e,(function(e){m(te,e)||m(M,e)||t.push(e)})),t}var s=e("../internals/export"),l=e("../internals/global"),u=e("../internals/get-built-in"),c=e("../internals/is-pure"),d=e("../internals/descriptors"),p=e("../internals/native-symbol"),h=e("../internals/use-symbol-as-uid"),f=e("../internals/fails"),m=e("../internals/has"),g=e("../internals/is-array"),b=e("../internals/is-object"),y=e("../internals/an-object"),v=e("../internals/to-object"),x=e("../internals/to-indexed-object"),w=e("../internals/to-primitive"),k=e("../internals/create-property-descriptor"),_=e("../internals/object-create"),S=e("../internals/object-keys"),E=e("../internals/object-get-own-property-names"),T=e("../internals/object-get-own-property-names-external"),C=e("../internals/object-get-own-property-symbols"),I=e("../internals/object-get-own-property-descriptor"),j=e("../internals/object-define-property"),A=e("../internals/object-property-is-enumerable"),O=e("../internals/create-non-enumerable-property"),N=e("../internals/redefine"),R=e("../internals/shared"),P=e("../internals/shared-key"),M=e("../internals/hidden-keys"),D=e("../internals/uid"),L=e("../internals/well-known-symbol"),F=e("../internals/well-known-symbol-wrapped"),B=e("../internals/define-well-known-symbol"),$=e("../internals/set-to-string-tag"),z=e("../internals/internal-state"),U=e("../internals/array-iteration").forEach,V=P("hidden"),G="Symbol",W="prototype",H=(e=L("toPrimitive"),z.set),q=z.getterFor(G),X=Object[W],Y=l.Symbol,K=u("JSON","stringify"),Z=I.f,J=j.f,Q=T.f,ee=A.f,te=R("symbols"),ne=R("op-symbols"),re=R("string-to-symbol-registry"),oe=R("symbol-to-string-registry"),ie=(P=R("wks"),!(z=l.QObject)||!z[W]||!z[W].findChild),ae=d&&f((function(){return 7!=_(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Z(X,t);r&&delete X[t],J(e,t,n),r&&e!==X&&J(X,t,r)}:J,se=h?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Y},le=function(e,t,n){return e===X&&le(ne,t,n),y(e),t=w(t,!0),y(n),(m(te,t)?(n.enumerable?(m(e,V)&&e[V][t]&&(e[V][t]=!1),n=_(n,{enumerable:k(0,!1)})):(m(e,V)||J(e,V,k(1,{})),e[V][t]=!0),ae):J)(e,t,n)},ue=function(e){e=w(e,!0);var t=ee.call(this,e);return!(this===X&&m(te,e)&&!m(ne,e))&&(!(t||!m(this,e)||!m(te,e)||m(this,V)&&this[V][e])||t)},ce=function(e){var t=e===X,n=(e=Q(t?ne:x(e)),[]);return U(e,(function(e){!m(te,e)||t&&!m(X,e)||n.push(te[e])})),n};p||(N((Y=function(){if(this instanceof Y)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),n=function(e){this===X&&n.call(ne,e),m(this,V)&&m(this[V],t)&&(this[V][t]=!1),ae(this,t,k(1,e))};return d&&ie&&ae(X,t,{configurable:!0,set:n}),r(t,e)})[W],"toString",(function(){return q(this).tag})),N(Y,"withoutSetter",(function(e){return r(D(e),e)})),A.f=ue,j.f=le,I.f=i,E.f=T.f=a,C.f=ce,F.f=function(e){return r(L(e),e)},d&&(J(Y[W],"description",{configurable:!0,get:function(){return q(this).description}}),c||N(X,"propertyIsEnumerable",ue,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!p,sham:!p},{Symbol:Y}),U(S(P),(function(e){B(e)})),s({target:G,stat:!0,forced:!p},{for:function(e){var t;return e=String(e),m(re,e)?re[e]:(t=Y(e),re[e]=t,oe[t]=e,t)},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(m(oe,e))return oe[e]},useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),s({target:"Object",stat:!0,forced:!p,sham:!d},{create:function(e,t){return void 0===t?_(e):o(_(e),t)},defineProperty:le,defineProperties:o,getOwnPropertyDescriptor:i}),s({target:"Object",stat:!0,forced:!p},{getOwnPropertyNames:a,getOwnPropertySymbols:ce}),s({target:"Object",stat:!0,forced:f((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(v(e))}}),K&&s({target:"JSON",stat:!0,forced:!p||f((function(){var e=Y();return"[null]"!=K([e])||"{}"!=K({a:e})||"{}"!=K(Object(e))}))},{stringify:function(e,t,n){for(var r,o=[e],i=1;i<arguments.length;)o.push(arguments[i++]);if((b(r=t)||void 0!==e)&&!se(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!se(t))return t}),o[1]=t,K.apply(null,o)}}),Y[W][e]||O(Y[W],e,Y[W].valueOf),$(Y,G),M[V]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":134,"../internals/to-object":137,"../internals/to-primitive":140,"../internals/uid":145,"../internals/use-symbol-as-uid":146,"../internals/well-known-symbol":148,"../internals/well-known-symbol-wrapped":147}],203:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-copy-within"),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(e,t){return o.call(i(this),e,t,2<arguments.length?arguments[2]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],204:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return o(i(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],205:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-fill"),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(e){return o.apply(i(this),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],206:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").filter,i=e("../internals/species-constructor"),a=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("filter",(function(e){for(var t=o(a(this),e,1<arguments.length?arguments[1]:void 0),n=(e=i(this,this.constructor),0),r=t.length,l=new(s(e))(r);n<r;)l[n]=t[n++];return l}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],207:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return o(i(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],208:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return o(i(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],209:[function(e,t,n){e("../internals/typed-array-constructor")("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{"../internals/typed-array-constructor":142}],210:[function(e,t,n){e("../internals/typed-array-constructor")("Float64",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{"../internals/typed-array-constructor":142}],211:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){o(i(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],212:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-includes").includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return o(i(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],213:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-includes").indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return o(i(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],214:[function(e,t,n){e("../internals/typed-array-constructor")("Int16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{"../internals/typed-array-constructor":142}],215:[function(e,t,n){e("../internals/typed-array-constructor")("Int32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{"../internals/typed-array-constructor":142}],216:[function(e,t,n){"use strict";function r(){return s.call(c(this))}var o=e("../internals/global"),i=e("../internals/array-buffer-view-core"),a=e("../modules/es.array.iterator"),s=(e=e("../internals/well-known-symbol")("iterator"),o=o.Uint8Array,a.values),l=a.keys,u=a.entries,c=i.aTypedArray;a=i.exportTypedArrayMethod,o=!!(i=o&&o.prototype[e])&&("values"==i.name||null==i.name),a("entries",(function(){return u.call(c(this))})),a("keys",(function(){return l.call(c(this))})),a("values",r,!o),a(e,r,!o)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],217:[function(e,t,n){"use strict";var r=(e=e("../internals/array-buffer-view-core")).aTypedArray,o=(e=e.exportTypedArrayMethod,[].join);e("join",(function(e){return o.apply(r(this),arguments)}))},{"../internals/array-buffer-view-core":12}],218:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-last-index-of"),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){return o.apply(i(this),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],219:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").map,i=e("../internals/species-constructor"),a=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(e){return o(a(this),e,1<arguments.length?arguments[1]:void 0,(function(e,t){return new(s(i(e,e.constructor)))(t)}))}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],220:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-reduce").right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){return o(i(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],221:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-reduce").left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){return o(i(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],222:[function(e,t,n){"use strict";var r=(e=e("../internals/array-buffer-view-core")).aTypedArray,o=(e=e.exportTypedArrayMethod,Math.floor);e("reverse",(function(){for(var e,t=r(this).length,n=o(t/2),i=0;i<n;)e=this[i],this[i++]=this[--t],this[t]=e;return this}))},{"../internals/array-buffer-view-core":12}],223:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/to-length"),i=e("../internals/to-offset"),a=e("../internals/to-object"),s=(e=e("../internals/fails"),r.aTypedArray);(0,r.exportTypedArrayMethod)("set",(function(e){s(this);var t=i(1<arguments.length?arguments[1]:void 0,1),n=this.length,r=a(e),l=o(r.length),u=0;if(n<l+t)throw RangeError("Wrong length");for(;u<l;)this[t+u]=r[u++]}),e((function(){new Int8Array(1).set({})})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":136,"../internals/to-object":137,"../internals/to-offset":138}],224:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/species-constructor"),i=(e=e("../internals/fails"),r.aTypedArray),a=r.aTypedArrayConstructor,s=(r=r.exportTypedArrayMethod,[].slice);r("slice",(function(e,t){for(var n=s.call(i(this),e,t),r=(e=o(this,this.constructor),0),l=n.length,u=new(a(e))(l);r<l;)u[r]=n[r++];return u}),e((function(){new Int8Array(1).slice()})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],225:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return o(i(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],226:[function(e,t,n){"use strict";var r=(e=e("../internals/array-buffer-view-core")).aTypedArray,o=(e=e.exportTypedArrayMethod,[].sort);e("sort",(function(e){return o.call(r(this),e)}))},{"../internals/array-buffer-view-core":12}],227:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core"),o=e("../internals/to-length"),i=e("../internals/to-absolute-index"),a=e("../internals/species-constructor"),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),r=n.length;return e=i(e,r),new(a(n,n.constructor))(n.buffer,n.byteOffset+e*n.BYTES_PER_ELEMENT,o((void 0===t?r:i(t,r))-e))}))},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":132,"../internals/to-length":136}],228:[function(e,t,n){"use strict";var r=e("../internals/global"),o=e("../internals/array-buffer-view-core"),i=(e=e("../internals/fails"),r.Int8Array),a=o.aTypedArray,s=(r=o.exportTypedArrayMethod,[].toLocaleString),l=[].slice,u=!!i&&e((function(){s.call(new i(1))}));r("toLocaleString",(function(){return s.apply(u?l.call(a(this)):a(this),arguments)}),e((function(){return[1,2].toLocaleString()!=new i([1,2]).toLocaleString()}))||!e((function(){i.prototype.toLocaleString.call([1,2])})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],229:[function(e,t,n){"use strict";var r=e("../internals/array-buffer-view-core").exportTypedArrayMethod,o=e("../internals/fails"),i=(e=(e=e("../internals/global").Uint8Array)&&e.prototype||{},[].toString),a=[].join;o((function(){i.call({})}))&&(i=function(){return a.call(this)}),o=e.toString!=i,r("toString",i,o)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],230:[function(e,t,n){e("../internals/typed-array-constructor")("Uint16",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{"../internals/typed-array-constructor":142}],231:[function(e,t,n){e("../internals/typed-array-constructor")("Uint32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{"../internals/typed-array-constructor":142}],232:[function(e,t,n){e("../internals/typed-array-constructor")("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},{"../internals/typed-array-constructor":142}],233:[function(e,t,n){e("../internals/typed-array-constructor")("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)},{"../internals/typed-array-constructor":142}],234:[function(e,t,n){"use strict";function r(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}var o,i,a,s,l,u=e("../internals/global"),c=e("../internals/redefine-all"),d=e("../internals/internal-metadata"),p=e("../internals/collection"),h=e("../internals/collection-weak"),f=e("../internals/is-object"),m=e("../internals/internal-state").enforce,g=(e=e("../internals/native-weak-map"),u=!u.ActiveXObject&&"ActiveXObject"in u,Object.isExtensible);t=t.exports=p("WeakMap",r,h),e&&u&&(o=h.getConstructor(r,"WeakMap",!0),d.REQUIRED=!0,p=t.prototype,i=p.delete,a=p.has,s=p.get,l=p.set,c(p,{delete:function(e){var t;return f(e)&&!g(e)?((t=m(this)).frozen||(t.frozen=new o),i.call(this,e)||t.frozen.delete(e)):i.call(this,e)},has:function(e){var t;return f(e)&&!g(e)?((t=m(this)).frozen||(t.frozen=new o),a.call(this,e)||t.frozen.has(e)):a.call(this,e)},get:function(e){var t;return!f(e)||g(e)||((t=m(this)).frozen||(t.frozen=new o),a.call(this,e))?s.call(this,e):t.frozen.get(e)},set:function(e,t){var n;return!f(e)||g(e)||((n=m(this)).frozen||(n.frozen=new o),a.call(this,e))?l.call(this,e,t):n.frozen.set(e,t),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],235:[function(e,t,n){var r,o=e("../internals/global"),i=e("../internals/dom-iterables"),a=e("../internals/array-for-each"),s=e("../internals/create-non-enumerable-property");for(r in i){var l;if((l=(l=o[r])&&l.prototype)&&l.forEach!==a)try{s(l,"forEach",a)}catch(e){l.forEach=a}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],236:[function(e,t,n){var r,o=e("../internals/global"),i=e("../internals/dom-iterables"),a=e("../modules/es.array.iterator"),s=e("../internals/create-non-enumerable-property"),l=(e=e("../internals/well-known-symbol"))("iterator"),u=e("toStringTag"),c=a.values;for(r in i){var d=o[r],p=d&&d.prototype;if(p){if(p[l]!==c)try{s(p,l,c)}catch(e){p[l]=c}if(p[u]||s(p,u,r),i[r])for(var h in a)if(p[h]!==a[h])try{s(p,h,a[h])}catch(e){p[h]=a[h]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],237:[function(e,t,n){"use strict";function r(e){try{return decodeURIComponent(e)}catch(t){return e}}function o(e){return F[e]}function i(e){return encodeURIComponent(e).replace(L,o)}function a(e){this.entries.length=0,B(this.entries,e)}function s(e,t){if(e<t)throw TypeError("Not enough arguments")}function l(){b(this,l,j);var e,t,n,r,o,i,s,u,c=0<arguments.length?arguments[0]:void 0,d=[];if(O(this,{type:j,entries:d,updateURL:function(){},updateSearchParams:a}),void 0!==c)if(k(c))if("function"==typeof(e=T(c)))for(n=(t=e.call(c)).next;!(r=n.call(t)).done;){if((i=(o=(r=E(w(r.value))).next).call(r)).done||(s=o.call(r)).done||!o.call(r).done)throw TypeError("Expected sequence with length 2");d.push({key:i.value+"",value:s.value+""})}else for(u in c)y(c,u)&&d.push({key:u,value:c[u]+""});else B(d,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")}e("../modules/es.array.iterator");var u=e("../internals/export"),c=e("../internals/get-built-in"),d=e("../internals/native-url"),p=e("../internals/redefine"),h=e("../internals/redefine-all"),f=e("../internals/set-to-string-tag"),m=e("../internals/create-iterator-constructor"),g=e("../internals/internal-state"),b=e("../internals/an-instance"),y=e("../internals/has"),v=e("../internals/function-bind-context"),x=e("../internals/classof"),w=e("../internals/an-object"),k=e("../internals/is-object"),_=e("../internals/object-create"),S=e("../internals/create-property-descriptor"),E=e("../internals/get-iterator"),T=e("../internals/get-iterator-method"),C=(e=e("../internals/well-known-symbol"),c("fetch")),I=c("Headers"),j=(c=e("iterator"),"URLSearchParams"),A=j+"Iterator",O=g.set,N=g.getterFor(j),R=g.getterFor(A),P=/\+/g,M=Array(4),D=function(e){var t,n=e.replace(P," "),o=4;try{return decodeURIComponent(n)}catch(e){for(;o;)n=n.replace((t=o--,M[t-1]||(M[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))),r);return n}},L=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(e,t){if(t)for(var n,r=t.split("&"),o=0;o<r.length;)(n=r[o++]).length&&(n=n.split("="),e.push({key:D(n.shift()),value:D(n.join("="))}))},$=m((function(e,t){O(this,{type:A,iterator:E(N(e).entries),kind:t})}),"Iterator",(function(){var e,t=(e=R(this)).kind,n=(e=e.iterator.next()).value;return e.done||(e.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),e}));h(e=l.prototype,{append:function(e,t){s(arguments.length,2);var n=N(this);n.entries.push({key:e+"",value:t+""}),n.updateURL()},delete:function(e){s(arguments.length,1);for(var t=N(this),n=t.entries,r=e+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;t.updateURL()},get:function(e){s(arguments.length,1);for(var t=N(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){s(arguments.length,1);for(var t=N(this).entries,n=e+"",r=[],o=0;o<t.length;o++)t[o].key===n&&r.push(t[o].value);return r},has:function(e){s(arguments.length,1);for(var t=N(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){s(arguments.length,1);for(var n,r=N(this),o=r.entries,i=!1,a=e+"",l=t+"",u=0;u<o.length;u++)(n=o[u]).key===a&&(i?o.splice(u--,1):(i=!0,n.value=l));i||o.push({key:a,value:l}),r.updateURL()},sort:function(){for(var e,t,n=N(this),r=n.entries,o=r.slice(),i=r.length=0;i<o.length;i++){for(e=o[i],t=0;t<i;t++)if(r[t].key>e.key){r.splice(t,0,e);break}t===i&&r.push(e)}n.updateURL()},forEach:function(e){for(var t,n=N(this).entries,r=v(e,1<arguments.length?arguments[1]:void 0,3),o=0;o<n.length;)r((t=n[o++]).value,t.key,this)},keys:function(){return new $(this,"keys")},values:function(){return new $(this,"values")},entries:function(){return new $(this,"entries")}},{enumerable:!0}),p(e,c,e.entries),p(e,"toString",(function(){for(var e,t=N(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(i(e.key)+"="+i(e.value));return n.join("&")}),{enumerable:!0}),f(l,j),u({global:!0,forced:!d},{URLSearchParams:l}),d||"function"!=typeof C||"function"!=typeof I||u({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,n,r;return e=[e],1<arguments.length&&(k(t=arguments[1])&&(n=t.body,x(n)===j&&((r=t.headers?new I(t.headers):new I).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=_(t,{body:S(0,String(n)),headers:S(0,r)}))),e.push(t)),C.apply(this,e)}}),t.exports={URLSearchParams:l,getState:N}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":148,"../modules/es.array.iterator":160}],238:[function(e,t,n){"use strict";function r(e){var t,n,r,o;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=A(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",r=X(e),n=0;n<8;n++)o&&0===e[n]||(o=o&&!1,r===n?(t+=n?":":"::",o=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}function o(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme}function i(e,t,n,r){var o,i,a,s=n||le,u=0,c="",d=!1,p=!1,h=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(W,"")),t=t.replace(H,""),o=x(t);u<=o.length;){switch(i=o[u],s){case le:if(!i||!D.test(i)){if(n)return R;s=ce;continue}c+=i.toLowerCase(),s=ue;break;case ue:if(i&&(L.test(i)||"+"==i||"-"==i||"."==i))c+=i.toLowerCase();else{if(":"!=i){if(n)return R;c="",s=ce,u=0;continue}if(n&&(te(e)!=y(ee,c)||"file"==c&&(ne(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=c,n)return void(te(e)&&ee[e.scheme]==e.port&&(e.port=null));c="","file"==e.scheme?s=we:te(e)&&r&&r.scheme==e.scheme?s=de:te(e)?s=me:"/"==o[u+1]?(s=pe,u++):(e.cannotBeABaseURL=!0,e.path.push(""),s=Te)}break;case ce:if(!r||r.cannotBeABaseURL&&"#"!=i)return R;if(r.cannotBeABaseURL&&"#"==i){e.scheme=r.scheme,e.path=r.path.slice(),e.query=r.query,e.fragment="",e.cannotBeABaseURL=!0,s=Ie;break}s="file"==r.scheme?we:he;continue;case de:if("/"!=i||"/"!=o[u+1]){s=he;continue}s=ge,u++;break;case pe:if("/"==i){s=be;break}s=Ee;continue;case he:if(e.scheme=r.scheme,i==l)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query;else if("/"==i||"\\"==i&&te(e))s=fe;else if("?"==i)e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query="",s=Ce;else{if("#"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.path.pop(),s=Ee;continue}e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,e.path=r.path.slice(),e.query=r.query,e.fragment="",s=Ie}break;case fe:if(!te(e)||"/"!=i&&"\\"!=i){if("/"!=i){e.username=r.username,e.password=r.password,e.host=r.host,e.port=r.port,s=Ee;continue}s=be}else s=ge;break;case me:if(s=ge,"/"!=i||"/"!=c.charAt(u+1))continue;u++;break;case ge:if("/"==i||"\\"==i)break;s=be;continue;case be:if("@"==i){d&&(c="%40"+c),d=!0;for(var f=x(c),m=0;m<f.length;m++){var g=f[m];":"!=g||h?(g=Q(g,J),h?e.password+=g:e.username+=g):h=!0}c=""}else if(i==l||"/"==i||"?"==i||"#"==i||"\\"==i&&te(e)){if(d&&""==c)return N;u-=x(c).length+1,c="",s=ye}else c+=i;break;case ye:case ve:if(n&&"file"==e.scheme){s=_e;continue}if(":"!=i||p){if(i==l||"/"==i||"?"==i||"#"==i||"\\"==i&&te(e)){if(te(e)&&""==c)return P;if(n&&""==c&&(ne(e)||null!==e.port))return;if(a=q(e,c))return a;if(c="",s=Se,n)return;continue}"["==i?p=!0:"]"==i&&(p=!1),c+=i}else{if(""==c)return P;if(a=q(e,c))return a;if(c="",s=xe,n==ve)return}break;case xe:if(!F.test(i)){if(i==l||"/"==i||"?"==i||"#"==i||"\\"==i&&te(e)||n){if(""!=c){var b=parseInt(c,10);if(65535<b)return M;e.port=te(e)&&b===ee[e.scheme]?null:b,c=""}if(n)return;s=Se;continue}return M}c+=i;break;case we:if(e.scheme="file","/"==i||"\\"==i)s=ke;else{if(!r||"file"!=r.scheme){s=Ee;continue}if(i==l)e.host=r.host,e.path=r.path.slice(),e.query=r.query;else if("?"==i)e.host=r.host,e.path=r.path.slice(),e.query="",s=Ce;else{if("#"!=i){oe(o.slice(u).join(""))||(e.host=r.host,e.path=r.path.slice(),ie(e)),s=Ee;continue}e.host=r.host,e.path=r.path.slice(),e.query=r.query,e.fragment="",s=Ie}}break;case ke:if("/"==i||"\\"==i){s=_e;break}r&&"file"==r.scheme&&!oe(o.slice(u).join(""))&&(re(r.path[0],!0)?e.path.push(r.path[0]):e.host=r.host),s=Ee;continue;case _e:if(i==l||"/"==i||"\\"==i||"?"==i||"#"==i){if(!n&&re(c))s=Ee;else{if(""==c){if(e.host="",n)return}else{if(a=q(e,c))return a;if("localhost"==e.host&&(e.host=""),n)return;c=""}s=Se}continue}c+=i;break;case Se:if(te(e)){if(s=Ee,"/"!=i&&"\\"!=i)continue}else if(n||"?"!=i)if(n||"#"!=i){if(i!=l&&(s=Ee,"/"!=i))continue}else e.fragment="",s=Ie;else e.query="",s=Ce;break;case Ee:if(i==l||"/"==i||"\\"==i&&te(e)||!n&&("?"==i||"#"==i)){if(se(c)?(ie(e),"/"==i||"\\"==i&&te(e)||e.path.push("")):ae(c)?"/"==i||"\\"==i&&te(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&re(c)&&(e.host&&(e.host=""),c=c.charAt(0)+":"),e.path.push(c)),c="","file"==e.scheme&&(i==l||"?"==i||"#"==i))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==i?(e.query="",s=Ce):"#"==i&&(e.fragment="",s=Ie)}else c+=Q(i,Z);break;case Te:"?"==i?(e.query="",s=Ce):"#"==i?(e.fragment="",s=Ie):i!=l&&(e.path[0]+=Q(i,Y));break;case Ce:n||"#"!=i?i!=l&&("'"==i&&te(e)?e.query+="%27":e.query+="#"==i?"%23":Q(i,Y)):(e.fragment="",s=Ie);break;case Ie:i!=l&&(e.fragment+=Q(i,K))}u++}}function a(e){var t,n,r=b(this,a,"URL"),o=1<arguments.length?arguments[1]:void 0,s=(e=String(e),I(r,{type:"URL"}));if(void 0!==o)if(o instanceof a)t=j(o);else if(n=i(t={},String(o)))throw TypeError(n);if(n=i(s,e,null,t))throw TypeError(n);var l=s.searchParams=new T;(o=C(l)).updateSearchParams(s.query),o.updateURL=function(){s.query=String(l)||null},p||(r.href=je.call(r),r.origin=Ae.call(r),r.protocol=Oe.call(r),r.username=Ne.call(r),r.password=Re.call(r),r.host=Pe.call(r),r.hostname=Me.call(r),r.port=De.call(r),r.pathname=Le.call(r),r.search=Fe.call(r),r.searchParams=Be.call(r),r.hash=$e.call(r))}function s(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}}e("../modules/es.string.iterator");var l,u,c,d=e("../internals/export"),p=e("../internals/descriptors"),h=e("../internals/native-url"),f=e("../internals/global"),m=e("../internals/object-define-properties"),g=e("../internals/redefine"),b=e("../internals/an-instance"),y=e("../internals/has"),v=e("../internals/object-assign"),x=e("../internals/array-from"),w=e("../internals/string-multibyte").codeAt,k=e("../internals/string-punycode-to-ascii"),_=e("../internals/set-to-string-tag"),S=e("../modules/web.url-search-params"),E=(e=e("../internals/internal-state"),f.URL),T=S.URLSearchParams,C=S.getState,I=e.set,j=e.getterFor("URL"),A=Math.floor,O=Math.pow,N="Invalid authority",R="Invalid scheme",P="Invalid host",M="Invalid port",D=/[A-Za-z]/,L=/[\d+-.A-Za-z]/,F=/\d/,B=/^(0x|0X)/,$=/^[0-7]+$/,z=/^\d+$/,U=/^[\dA-Fa-f]+$/,V=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,G=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,W=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,H=/[\u0009\u000A\u000D]/g,q=function(e,t){var n,r,o;if("["==t.charAt(0))return"]"==t.charAt(t.length-1)&&(n=function(e){var t,n,r,o,i,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,p=function(){return e.charAt(d)};if(":"==p()){if(":"!=e.charAt(1))return;d+=2,c=++u}for(;p();){if(8==u)return;if(":"!=p()){for(t=n=0;n<4&&U.test(p());)t=16*t+parseInt(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,u>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;d++}if(!F.test(p()))return;for(;F.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}l[u]=256*l[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[u++]=t}else{if(null!==c)return;d++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l}(t.slice(1,-1)))?void(e.host=n):P;if(te(e))return t=k(t),V.test(t)||null===(n=function(e){var t,n,r,o,i,a,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(o=l[r]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=B.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?z:8==i?$:U).test(o))return e;a=parseInt(o,i)}n.push(a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=O(256,5-t))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*O(256,3-r);return s}(t))?P:void(e.host=n);if(G.test(t))return P;for(n="",r=x(t),o=0;o<r.length;o++)n+=Q(r[o],Y);e.host=n},X=function(e){for(var t=null,n=1,r=null,o=0,i=0;i<8;i++)0!==e[i]?(n<o&&(t=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return n<o&&(t=r,n=o),t},Y={},K=v({},Y,{" ":1,'"':1,"<":1,">":1,"`":1}),Z=v({},K,{"#":1,"?":1,"{":1,"}":1}),J=v({},Z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Q=function(e,t){var n=w(e,0);return 32<n&&n<127&&!y(t,e)?e:encodeURIComponent(e)},ee={ftp:21,file:null,http:80,https:443,ws:80,wss:443},te=function(e){return y(ee,e.scheme)},ne=function(e){return""!=e.username||""!=e.password},re=function(e,t){return 2==e.length&&D.test(e.charAt(0))&&(":"==(e=e.charAt(1))||!t&&"|"==e)},oe=function(e){return 1<e.length&&re(e.slice(0,2))&&(2==e.length||"/"===(e=e.charAt(2))||"\\"===e||"?"===e||"#"===e)},ie=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&re(t[0],!0)||t.pop()},ae=function(e){return"."===e||"%2e"===e.toLowerCase()},se=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},le={},ue={},ce={},de={},pe={},he={},fe={},me={},ge={},be={},ye={},ve={},xe={},we={},ke={},_e={},Se={},Ee={},Te={},Ce={},Ie={},je=(f=a.prototype,function(){var e=j(this),t=e.scheme,n=e.username,o=e.password,i=e.host,a=e.port,s=e.path,l=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",ne(e)&&(c+=n+(o?":"+o:"")+"@"),c+=r(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==l&&(c+="?"+l),null!==u&&(c+="#"+u),c}),Ae=function(){var e=j(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&te(e)?t+"://"+r(e.host)+(null!==n?":"+n:""):"null"},Oe=function(){return j(this).scheme+":"},Ne=function(){return j(this).username},Re=function(){return j(this).password},Pe=function(){var e=(t=j(this)).host,t=t.port;return null===e?"":null===t?r(e):r(e)+":"+t},Me=function(){var e=j(this).host;return null===e?"":r(e)},De=function(){var e=j(this).port;return null===e?"":String(e)},Le=function(){var e=j(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Fe=function(){var e=j(this).query;return e?"?"+e:""},Be=function(){return j(this).searchParams},$e=function(){var e=j(this).fragment;return e?"#"+e:""};p&&m(f,{href:s(je,(function(e){var t=j(this);if(e=i(t,e=String(e)))throw TypeError(e);C(t.searchParams).updateSearchParams(t.query)})),origin:s(Ae),protocol:s(Oe,(function(e){i(j(this),String(e)+":",le)})),username:s(Ne,(function(e){var t=j(this),n=x(String(e));if(!o(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=Q(n[r],J)}})),password:s(Re,(function(e){var t=j(this),n=x(String(e));if(!o(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=Q(n[r],J)}})),host:s(Pe,(function(e){var t=j(this);t.cannotBeABaseURL||i(t,String(e),ye)})),hostname:s(Me,(function(e){var t=j(this);t.cannotBeABaseURL||i(t,String(e),ve)})),port:s(De,(function(e){var t=j(this);o(t)||(""==(e=String(e))?t.port=null:i(t,e,xe))})),pathname:s(Le,(function(e){var t=j(this);t.cannotBeABaseURL||(t.path=[],i(t,e+"",Se))})),search:s(Fe,(function(e){var t=j(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",i(t,e,Ce)),C(t.searchParams).updateSearchParams(t.query)})),searchParams:s(Be),hash:s($e,(function(e){var t=j(this);""==(e=String(e))?t.fragment=null:("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",i(t,e,Ie))}))}),g(f,"toJSON",(function(){return je.call(this)}),{enumerable:!0}),g(f,"toString",(function(){return je.call(this)}),{enumerable:!0}),E&&(u=E.createObjectURL,c=E.revokeObjectURL,u&&g(a,"createObjectURL",(function(e){return u.apply(E,arguments)})),c&&g(a,"revokeObjectURL",(function(e){return c.apply(E,arguments)}))),_(a,"URL"),d({global:!0,forced:!h,sham:!p},{URL:a})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":126,"../modules/es.string.iterator":190,"../modules/web.url-search-params":237}],239:[function(e,t,n){"use strict";t.exports=e("./").polyfill()},{"./":240}],240:[function(e,t,r){(function(n,o){var i;i=function(){"use strict";function t(e){return"function"==typeof e}var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,s=void 0,l=function(e,t){f[i]=e,f[i+1]=t,2===(i+=2)&&(s?s(m):v())},u="undefined"!=typeof window?window:void 0,c=(c=u||{}).MutationObserver||c.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(m,1)}}var f=new Array(1e3);function m(){for(var e=0;e<i;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;i=0}var g,b,y,v=void 0;function x(e,t){var n,r=this,o=new this.constructor(_),i=(void 0===o[k]&&P(o),r._state);return i?(n=arguments[i-1],l((function(){return N(i,o,n,r._result)}))):A(r,o,e,t),o}function w(e){var t;return e&&"object"==typeof e&&e.constructor===this?e:(T(t=new this(_),e),t)}v=d?function(){return n.nextTick(m)}:c?(b=0,d=new c(m),y=document.createTextNode(""),d.observe(y,{characterData:!0}),function(){y.data=b=++b%2}):p?((g=new MessageChannel).port1.onmessage=m,function(){return g.port2.postMessage(0)}):(void 0===u&&"function"==typeof e?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(m)}:h()}catch(e){return h()}}:h)();var k=Math.random().toString(36).substring(2);function _(){}var S=void 0;function E(e,n,r){var o,i;n.constructor===e.constructor&&r===x&&n.constructor.resolve===w?(o=e,1===(i=n)._state?I(o,i._result):2===i._state?j(o,i._result):A(i,void 0,(function(e){return T(o,e)}),(function(e){return j(o,e)}))):void 0!==r&&t(r)?function(e,t,n){l((function(e){var r=!1,o=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,(function(n){r||(r=!0,(t!==n?T:I)(e,n))}),(function(t){r||(r=!0,j(e,t))}),e._label);!r&&o&&(r=!0,j(e,o))}),e)}(e,n,r):I(e,n)}function T(e,t){if(e===t)j(e,new TypeError("You cannot resolve a promise with itself"));else if(n=typeof t,null===t||"object"!=n&&"function"!=n)I(e,t);else{n=void 0;try{n=t.then}catch(t){return void j(e,t)}E(e,t,n)}var n}function C(e){e._onerror&&e._onerror(e._result),O(e)}function I(e,t){e._state===S&&(e._result=t,e._state=1,0!==e._subscribers.length&&l(O,e))}function j(e,t){e._state===S&&(e._state=2,e._result=t,l(C,e))}function A(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+1]=n,o[i+2]=r,0===i&&e._state&&l(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?N(n,r,o,i):o(i);e._subscribers.length=0}}function N(e,n,r,o){var i=t(r),a=void 0,s=void 0,l=!0;if(i){try{a=r(o)}catch(e){l=!1,s=e}if(n===a)return void j(n,new TypeError("A promises callback cannot return that same promise."))}else a=o;n._state===S&&(i&&l?T(n,a):!1===l?j(n,s):1===e?I(n,a):2===e&&j(n,a))}var R=0;function P(e){e[k]=R++,e._state=void 0,e._result=void 0,e._subscribers=[]}D.prototype._enumerate=function(e){for(var t=0;this._state===S&&t<e.length;t++)this._eachEntry(e[t],t)},D.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===w){var o,i=void 0,a=void 0,s=!1;try{i=e.then}catch(t){s=!0,a=t}i===x&&e._state!==S?this._settledAt(e._state,t,e._result):"function"!=typeof i?(this._remaining--,this._result[t]=e):n===L?(o=new n(_),s?j(o,a):E(o,e,i),this._willSettleAt(o,t)):this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},D.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===S&&(this._remaining--,2===e?j(r,n):this._result[t]=n),0===this._remaining&&I(r,this._result)},D.prototype._willSettleAt=function(e,t){var n=this;A(e,void 0,(function(e){return n._settledAt(1,t,e)}),(function(e){return n._settledAt(2,t,e)}))};var M=D;function D(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[k]||P(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(t),0!==this._remaining)||I(this.promise,this._result)):j(this.promise,new Error("Array Methods must be provided an Array"))}F.prototype.catch=function(e){return this.then(null,e)},F.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)};var L=F;function F(e){if(this[k]=R++,this._result=this._state=void 0,this._subscribers=[],_!==e){if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof F))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var t=this;try{e((function(e){T(t,e)}),(function(e){j(t,e)}))}catch(e){j(t,e)}}}return L.prototype.then=x,L.all=function(e){return new M(this,e).promise},L.race=function(e){var t=this;return r(e)?new t((function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},L.resolve=w,L.reject=function(e){var t=new this(_);return j(t,e),t},L._setScheduler=function(e){s=e},L._setAsap=function(e){l=e},L._asap=l,L.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=L},L.Promise=L},"object"==typeof r&&void 0!==t?t.exports=i():this.ES6Promise=i()}).call(this,e("_process"),void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:249}],241:[function(e,t,n){var r;r=function(e,t){"use strict";function n(e){try{delete window[e]}catch(t){window[e]=void 0}}function r(e){(e=document.getElementById(e))&&document.getElementsByTagName("head")[0].removeChild(e)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=e,i=t.timeout||5e3,a=t.jsonpCallback||"callback",s=void 0;return new Promise((function(l,u){var c=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),d=a+"_"+c,p=(window[c]=function(e){l({ok:!0,json:function(){return Promise.resolve(e)}}),s&&clearTimeout(s),r(d),n(c)},o+=-1===o.indexOf("?")?"?":"&",document.createElement("script"));p.setAttribute("src",""+o+a+"="+c),t.charset&&p.setAttribute("charset",t.charset),p.id=d,document.getElementsByTagName("head")[0].appendChild(p),s=setTimeout((function(){u(new Error("JSONP request to "+e+" timed out")),n(c),r(d),window[c]=function(){n(c)}}),i),p.onerror=function(){u(new Error("JSONP request to "+e+" failed")),n(c),r(d),s&&clearTimeout(s)}}))}},void 0!==n&&void 0!==t?r(0,t):(r(r={exports:{}},r),this.fetchJsonp=r.exports)},{}],242:[function(e,t,n){var r=function(e){"use strict";var t,n,r,o,i,a,s,l,u,c;if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)))return c=e.document,t=function(){return e.URL||e.webkitURL||e},n=c.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,o=/constructor/i.test(e.HTMLElement)||e.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},s=function(e){setTimeout((function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()}),4e4)},l=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},c=(u=function(u,c,d){d||(u=l(u));var p,h,f=this,m=(d="application/octet-stream"===u.type,function(){for(var e=f,t="writestart progress write writeend".split(" "),n=(t=[].concat(t)).length;n--;){var r=e["on"+t[n]];if("function"==typeof r)try{r.call(e,e)}catch(e){a(e)}}});f.readyState=f.INIT,r?(p=t().createObjectURL(u),setTimeout((function(){var e,t;n.href=p,n.download=c,e=n,t=new MouseEvent("click"),e.dispatchEvent(t),m(),s(p),f.readyState=f.DONE}))):(i||d&&o)&&e.FileReader?((h=new FileReader).onloadend=function(){var t=i?h.result:h.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,m()},h.readAsDataURL(u),f.readyState=f.INIT):(p=p||t().createObjectURL(u),!d&&e.open(p,"_blank")||(e.location.href=p),f.readyState=f.DONE,m(),s(p))}).prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=l(e)),navigator.msSaveOrOpenBlob(e,t)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=c.onwritestart=c.onprogress=c.onwrite=c.onabort=c.onerror=c.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==t&&t.exports&&(t.exports.saveAs=r)},{}],243:[function(e,t,n){var r,o=Object.defineProperty,i=(o(n,"__esModule",{value:!0}),n),a={GIFEncoder:()=>w,applyPalette:()=>function(e,t,n="rgb565"){if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array||e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<t.length)throw new Error("applyPalette() only works with 256 colors or less");const r=new Uint32Array(e.buffer),o=r.length,i="rgb444"===n?4096:65536,a=new Uint8Array(o),s=new Array(i);if("rgba4444"===n)for(let e=0;e<o;e++){var l,u=(l=r[e])>>24&255,h=l>>16&255,f=l>>8&255,m=(m=d(l&=255,f,h,u))in s?s[m]:s[m]=function(e,t,n,r,o){let i=0,a=1e100;for(let u=0;u<o.length;u++){var s=o[u],l=y(s[3]-r);l>a||(l+=y(s[0]-e))>a||(l+=y(s[1]-t))>a||(l+=y(s[2]-n))>a||(a=l,i=u)}return i}(l,f,h,u,t);a[e]=m}else{const e="rgb444"===n?p:c;for(let n=0;n<o;n++){var g,b=(g=r[n])>>16&255,v=g>>8&255,x=(x=e(g&=255,v,b))in s?s[x]:s[x]=function(e,t,n,r){let o=0,i=1e100;for(let l=0;l<r.length;l++){var a=r[l],s=y(a[0]-e);s>i||(s+=y(a[1]-t))>i||(s+=y(a[2]-n))>i||(i=s,o=l)}return o}(g,v,b,t);a[n]=x}}return a},default:()=>T,nearestColor:()=>function(e,t,n=g){return e[v(e,t,n)]},nearestColorIndex:()=>v,nearestColorIndexWithDistance:()=>x,prequantize:()=>function(e,{roundRGB:t=5,roundAlpha:n=10,oneBitAlpha:r=null}={}){const o=new Uint32Array(e.buffer);for(let e=0;e<o.length;e++){let l=(s=o[e])>>24&255;var i=s>>16&255,a=s>>8&255,s=255&s;l=b(l,n),r&&(l=l<=("number"==typeof r?r:127)?0:255),s=b(s,t),a=b(a,t),i=b(i,t),o[e]=l<<24|i<<16|a<<8|s<<0}},quantize:()=>function(e,t,n={}){var{format:r="rgb565",clearAlpha:o=!0,clearAlphaColor:i=0,clearAlphaThreshold:a=0,oneBitAlpha:s=!1}=n;if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array||e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");e=new Uint32Array(e.buffer);let l=!1!==n.useSqrt;const u="rgba4444"===r,g=function(e,t){const n=new Array("rgb444"===t?4096:65536),r=e.length;if("rgba4444"===t)for(let t=0;t<r;++t){var o,i=(o=e[t])>>24&255,a=o>>16&255,s=o>>8&255,l=d(o&=255,s,a,i);let r=l in n?n[l]:n[l]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};r.rc+=o,r.gc+=s,r.bc+=a,r.ac+=i,r.cnt++}else if("rgb444"===t)for(let t=0;t<r;++t){var u,h=(u=e[t])>>16&255,f=u>>8&255,m=p(u&=255,f,h);let r=m in n?n[m]:n[m]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};r.rc+=u,r.gc+=f,r.bc+=h,r.cnt++}else for(let t=0;t<r;++t){var g,b=(g=e[t])>>16&255,y=g>>8&255,v=c(g&=255,y,b);let r=v in n?n[v]:n[v]={ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0};r.rc+=g,r.gc+=y,r.bc+=b,r.cnt++}return n}(e,r),b=g.length,y=b-1,v=new Uint32Array(b+1);for(var x=0,w=0;w<b;++w){const e=g[w];null!=e&&(N=1/e.cnt,u&&(e.ac*=N),e.rc*=N,e.gc*=N,e.bc*=N,g[x++]=e)}var k,_,S;for(f(t)/x<.022&&(l=!1),w=0;w<x-1;++w)g[w].fw=w+1,g[w+1].bk=w,l&&(g[w].cnt=Math.sqrt(g[w].cnt));for(l&&(g[w].cnt=Math.sqrt(g[w].cnt)),w=0;w<x;++w){m(g,w,!1);var E=g[w].err;for(_=++v[0];1<_&&!(g[k=v[S=_>>1]].err<=E);_=S)v[_]=k;v[_]=w}var T,C=x-t;for(w=0;w<C;){for(;;){var I=v[1];if((T=g[I]).tm>=T.mtm&&g[T.nn].mtm<=T.tm)break;for(T.mtm==y?I=v[1]=v[v[0]--]:(m(g,I,!1),T.tm=w),E=g[I].err,_=1;(S=_+_)<=v[0]&&(S<v[0]&&g[v[S]].err>g[v[S+1]].err&&S++,!(E<=g[k=v[S]].err));_=S)v[_]=k;v[_]=I}var j=g[T.nn],A=T.cnt,O=j.cnt,N=1/(A+O);u&&(T.ac=N*(A*T.ac+O*j.ac)),T.rc=N*(A*T.rc+O*j.rc),T.gc=N*(A*T.gc+O*j.gc),T.bc=N*(A*T.bc+O*j.bc),T.cnt+=j.cnt,T.mtm=++w,g[j.bk].fw=j.fw,g[j.fw].bk=j.bk,j.mtm=y}let R=[];for(w=0;;0){let e=h(Math.round(g[w].rc),0,255),t=h(Math.round(g[w].gc),0,255),n=h(Math.round(g[w].bc),0,255),r=255;u&&(r=h(Math.round(g[w].ac),0,255),s&&(r=r<=(P="number"==typeof s?s:127)?0:255),o&&r<=a&&(e=t=n=i,r=0));var P=u?[e,t,n,r]:[e,t,n];if(function(e,t){for(let o=0;o<e.length;o++){var n=(r=e[o])[0]===t[0]&&r[1]===t[1]&&r[2]===t[2],r=!(4<=r.length&&4<=t.length)||r[3]===t[3];if(n&&r)return!0}return!1}(R,P)||R.push(P),0==(w=g[w].fw))break}return R},snapColorsToPalette:()=>function(e,t,n=5){if(e.length&&t.length){var r=e.map((e=>e.slice(0,3))),o=n*n,i=e[0].length;for(let n=0;n<t.length;n++){let l=t[n];l=l.length<i?[l[0],l[1],l[2],255]:l.length>i?l.slice(0,3):l.slice();var a,s=(a=x(r,l.slice(0,3),g))[0];0<(a=a[1])&&a<=o&&(e[s]=l)}}}};for(r in a)o(i,r,{get:a[r],enumerable:!0});var s=59;function l(e=256){let t=0,n=new Uint8Array(e);return{get buffer(){return n.buffer},reset(){t=0},bytesView:()=>n.subarray(0,t),bytes:()=>n.slice(0,t),writeByte(e){r(t+1),n[t]=e,t++},writeBytes(e,o=0,i=e.length){r(t+i);for(let r=0;r<i;r++)n[t++]=e[r+o]},writeBytesView(e,o=0,i=e.byteLength){r(t+i),n.set(e.subarray(o,o+i),t),t+=i}};function r(e){var r=n.length;if(!(e<=r)){e=Math.max(e,r*(r<1048576?2:1.125)>>>0),0!=r&&(e=Math.max(e,256));const o=n;n=new Uint8Array(e),0<t&&n.set(o.subarray(0,t),0)}}}var u=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535];function c(e,t,n){return e<<8&63488|t<<2&992|n>>3}function d(e,t,n,r){return e>>4|240&t|(240&n)<<4|(240&r)<<8}function p(e,t,n){return e>>4<<8|240&t|n>>4}function h(e,t,n){return e<t?t:n<e?n:e}function f(e){return e*e}function m(e,t,n){var r=0,o=1e100;const i=e[t];for(var a=i.cnt,s=i.ac,l=i.rc,u=i.gc,c=i.bc,d=i.fw;0!=d;d=e[d].fw){var p,h,m=e[d];o<=(h=a*(h=m.cnt)/(a+h))||(p=0,n&&o<=(p+=h*f(m.ac-s))||o<=(p+=h*f(m.rc-l))||o<=(p+=h*f(m.gc-u))||o<=(p+=h*f(m.bc-c))||(o=p,r=d))}i.err=o,i.nn=r}function g(e,t){for(var n=0,r=0;r<e.length;r++){var o=e[r]-t[r];n+=o*o}return n}function b(e,t){return 1<t?Math.round(e/t)*t:e}function y(e){return e*e}function v(e,t,n=g){let r=1/0,o=-1;for(let a=0;a<e.length;a++){var i=n(t,e[a]);i<r&&(r=i,o=a)}return o}function x(e,t,n=g){let r=1/0,o=-1;for(let a=0;a<e.length;a++){var i=n(t,e[a]);i<r&&(r=i,o=a)}return[o,r]}function w(e={}){const{initialCapacity:t=4096,auto:n=!0}=e,r=l(t),o=new Uint8Array(256),i=new Int32Array(5003),a=new Int32Array(5003);let c=!1;return{reset(){r.reset(),c=!1},finish(){r.writeByte(s)},bytes:()=>r.bytes(),bytesView:()=>r.bytesView(),get buffer(){return r.buffer},get stream(){return r},writeHeader:d,writeFrame(e,t,s,p={}){var{transparent:h=!1,transparentIndex:f=0,delay:m=0,palette:g=null,repeat:b=0,colorDepth:y=8,dispose:v=-1}=p;let x=!1;if(n?c||(x=!0,d(),c=!0):x=Boolean(p.first),t=Math.max(0,Math.floor(t)),s=Math.max(0,Math.floor(s)),x){if(!g)throw new Error("First frame must include a { palette } option");var[p,w,T,C,I=8]=[r,t,s,g,y];I=128|I-1<<4|(C=E(C.length)-1),_(p,w),_(p,T),p.writeBytes([I,0,0]),k(r,g),0<=b&&(w=b,(C=r).writeByte(33),C.writeByte(255),C.writeByte(11),S(C,"NETSCAPE2.0"),C.writeByte(3),C.writeByte(1),_(C,w),C.writeByte(0))}var j,T,I=v,b=T=Math.round(m/10),w=h,C=f,m=((p=r).writeByte(33),p.writeByte(249),p.writeByte(4),C<0&&(C=0,w=!1),w=w?(j=1,2):j=0,0<=I&&(w=7&I),w<<=2,p.writeByte(0|w|j),_(p,b),p.writeByte(C||0),p.writeByte(0),Boolean(g)&&!x);h=t,f=s,j=m?g:null,(v=r).writeByte(44),_(v,0),_(v,0),_(v,h),_(v,f),j?(h=E(j.length)-1,v.writeByte(128|h)):v.writeByte(0),m&&k(r,g),[b,p,f,h,v=8,m,g,e]=[r,e,t,s,y,o,i,a],function(e,t,n,r,o=l(512),i=new Uint8Array(256),a=new Int32Array(5003),s=new Int32Array(5003)){var c=a.length;r=Math.max(2,r),i.fill(0),s.fill(0),a.fill(-1);let d=0,p=0;var h=r+1;const f=h;let m=!1,g=f,b=(1<<g)-1;var y=1<<h-1;const v=1+y;let x=2+y,w=0,k=n[0],_=0;for(let e=c;e<65536;e*=2)++_;_=8-_,o.writeByte(r),I(y);var S=n.length;for(let e=1;e<S;e++)e:{var E=n[e],T=(E<<12)+k;let t=E<<_^k;if(a[t]===T)k=s[t];else{for(var C=0===t?1:c-t;0<=a[t];)if((t-=C)<0&&(t+=c),a[t]===T){k=s[t];break e}I(k),k=E,x<4096?(s[t]=x++,a[t]=T):(a.fill(-1),x=2+y,m=!0,I(y))}}return I(k),I(v),o.writeByte(0),o.bytesView();function I(e){for(d&=u[p],0<p?d|=e<<p:d=e,p+=g;8<=p;)i[w++]=255&d,254<=w&&(o.writeByte(w),o.writeBytesView(i,0,w),w=0),d>>=8,p-=8;if((x>b||m)&&(m?(g=f,b=(1<<g)-1,m=!1):(++g,b=12===g?1<<g:(1<<g)-1)),e==v){for(;0<p;)i[w++]=255&d,254<=w&&(o.writeByte(w),o.writeBytesView(i,0,w),w=0),d>>=8,p-=8;0<w&&(o.writeByte(w),o.writeBytesView(i,0,w),w=0)}}}(0,0,p,v,b,m,g,e)}};function d(){S(r,"GIF89a")}}function k(e,t){var n=1<<E(t.length);for(let r=0;r<n;r++){let n=[0,0,0];r<t.length&&(n=t[r]),e.writeByte(n[0]),e.writeByte(n[1]),e.writeByte(n[2])}}function _(e,t){e.writeByte(255&t),e.writeByte(t>>8&255)}function S(e,t){for(var n=0;n<t.length;n++)e.writeByte(t.charCodeAt(n))}function E(e){return Math.max(Math.ceil(Math.log2(e)),1)}var T=w},{}],244:[function(e,t,n){n.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,u=l>>1,c=-7,d=n?o-1:0,p=n?-1:1;for(o=e[t+d],d+=p,i=o&(1<<-c)-1,o>>=-c,c+=s;0<c;i=256*i+e[t+d],d+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;0<c;a=256*a+e[t+d],d+=p,c-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:1/0*(o?-1:1);a+=Math.pow(2,r),i-=u}return(o?-1:1)*a*Math.pow(2,i-r)},n.write=function(e,t,n,r,o,i){var a,s,l=8*i-o-1,u=(1<<l)-1,c=u>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1;for(i=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(r=Math.pow(2,-a))<1&&(a--,r*=2),2<=(t+=1<=a+c?d/r:d*Math.pow(2,1-c))*r&&(a++,r/=2),u<=a+c?(s=0,a=u):1<=a+c?(s=(t*r-1)*Math.pow(2,o),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,o),a=0));8<=o;e[n+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;0<l;e[n+p]=255&a,p+=h,a/=256,l-=8);e[n+p-h]|=128*i}},{}],245:[function(e,t,n){"use strict";var r;function o(e,t){return e.b===t.b&&e.a===t.a}function i(e,t){return e.b<t.b||e.b===t.b&&e.a<=t.a}function a(e,t,n){var r=t.b-e.b,o=n.b-t.b;return 0<r+o?r<o?t.a-e.a+r/(r+o)*(e.a-n.a):t.a-n.a+o/(r+o)*(n.a-e.a):0}function s(e,t,n){var r=t.b-e.b,o=n.b-t.b;return 0<r+o?(t.a-n.a)*r+(t.a-e.a)*o:0}function l(e,t){return e.a<t.a||e.a===t.a&&e.b<=t.b}function u(e,t,n){var r=t.a-e.a,o=n.a-t.a;return 0<r+o?r<o?t.b-e.b+r/(r+o)*(e.b-n.b):t.b-n.b+o/(r+o)*(n.b-e.b):0}function c(e,t,n){var r=t.a-e.a,o=n.a-t.a;return 0<r+o?(t.b-n.b)*r+(t.b-e.b)*o:0}function d(e,t,n,r){return(e=e<0?0:e)<=(n=n<0?0:n)?0===n?(t+r)/2:t+e/(e+n)*(r-t):r+n/(e+n)*(t-r)}function p(e){var t=b(e.b);return v(t,e.c),v(t.b,e.c),x(t,e.a),t}function h(e,t){var n=!1,r=!1;e!==t&&(t.a!==e.a&&(r=!0,k(t.a,e.a)),t.d!==e.d&&(n=!0,_(t.d,e.d)),y(t,e),r||(v(t,e.a),e.a.c=e),n||(x(t,e.d),e.d.a=e))}function f(e){var t=e.b,n=!1;e.d!==e.b.d&&(n=!0,_(e.d,e.b.d)),e.c===e?k(e.a,null):(e.b.d.a=e.b.e,e.a.c=e.c,y(e,e.b.e),n||x(e,e.d)),t.c===t?(k(t.a,null),_(t.d,null)):(e.d.a=t.b.e,t.a.c=t.c,y(t,t.b.e)),w(e)}function m(e){var t=b(e),n=t.b;return y(t,e.e),t.a=e.b.a,v(n,t.a),t.d=n.d=e.d,t=t.b,y(e.b,e.b.b.e),y(e.b,t),e.b.a=t.a,t.b.a.c=t.b,t.b.d=e.b.d,t.f=e.f,t.b.f=e.b.f,t}function g(e,t){var n=!1,r=b(e),o=r.b;return t.d!==e.d&&(n=!0,_(t.d,e.d)),y(r,e.e),y(o,t),r.a=e.b.a,o.a=t.a,r.d=o.d=e.d,e.d.a=o,n||x(r,e.d),r}function b(e){var t=new Y,n=new Y,r=e.b.h;return(((n.h=r).b.h=t).h=e).b.h=n,t.b=n,((t.c=t).e=n).b=t,(n.c=n).e=t}function y(e,t){var n=e.c,r=t.c;n.b.e=t,(r.b.e=e).c=r,t.c=n}function v(e,t){var n=t.f,r=new Z(t,n);for(n.e=r,n=(t.f=r).c=e;n.a=r,(n=n.c)!==e;);}function x(e,t){var n=t.d,r=new X(t,n);for(n.b=r,(t.d=r).a=e,r.c=t.c,n=e;n.d=r,(n=n.e)!==e;);}function w(e){var t=e.h;e=e.b.h,(t.b.h=e).b.h=t}function k(e,t){for(var n=e.c,r=n;r.a=t,(r=r.c)!==n;);n=e.f,((r=e.e).f=n).e=r}function _(e,t){for(var n=e.a,r=n;r.d=t,(r=r.e)!==n;);n=e.d,((r=e.b).d=n).b=r}function S(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])?2:t}function E(e,t){e.f+=t.f,e.b.f+=t.b.f}function T(e,t,n){return e=e.a,t=t.a,n=n.a,t.b.a===e?n.b.a===e?i(t.a,n.a)?s(n.b.a,t.a,n.a)<=0:0<=s(t.b.a,n.a,t.a):s(n.b.a,e,n.a)<=0:n.b.a===e?0<=s(t.b.a,e,t.a):(t=a(t.b.a,e,t.a),(e=a(n.b.a,e,n.a))<=t)}function C(e){e.a.i=null;var t=e.e;t.a.c=t.c,t.c.a=t.a,e.e=null}function I(e,t){f(e.a),e.c=!1,(e.a=t).i=e}function j(e){for(var t=e.a.a;(e=ue(e)).a.a===t;);return e.c&&(I(e,t=g(le(e).a.b,e.a.e)),e=ue(e)),e}function A(e,t,n){var r=new se;return r.a=n,r.e=V(e.f,t.e,r),n.i=r}function O(e,t){switch(e.s){case 100130:return 0!=(1&t);case 100131:return 0!==t;case 100132:return 0<t;case 100133:return t<0;case 100134:return 2<=t||t<=-2}return!1}function N(e){var t=e.a,n=t.d;n.c=e.d,n.a=t,C(e)}function R(e,t,n){for(t=(e=t).a;e!==n;){e.c=!1;var r=le(e),o=r.a;if(o.a!==t.a){if(!r.c){N(e);break}I(r,o=g(t.c.b,o.b))}t.c!==o&&(h(o.b.e,o),h(t,o)),N(e),t=r.a,e=r}return t}function P(e,t,n,r,o,i){for(var a=!0;A(e,t,n.b),(n=n.c)!==r;);for(null===o&&(o=le(t).a.b.c);(n=(r=le(t)).a.b).a===o.a;)n.c!==o&&(h(n.b.e,n),h(o.b.e,n)),r.f=t.f-n.f,r.d=O(e,r.f),t.b=!0,!a&&F(e,t)&&(E(n,o),C(t),f(o)),a=!1,t=r,o=n;t.b=!0,i&&$(e,t)}function M(e,t,n,r,o){var i=[t.g[0],t.g[1],t.g[2]];t.d=null,t.d=e.o&&e.o(i,n,r,e.c)||null,null===t.d&&(o?e.n||(q(e,100156),e.n=!0):t.d=n[0])}function D(e,t,n){var r=[null,null,null,null];r[0]=t.a.d,r[1]=n.a.d,M(e,t.a,r,[.5,.5,0,0],!1),h(t,n)}function L(e,t,n,r,o){var i=Math.abs(t.b-e.b)+Math.abs(t.a-e.a),a=Math.abs(n.b-e.b)+Math.abs(n.a-e.a),s=o+1;r[o]=.5*a/(i+a),r[s]=.5*i/(i+a),e.g[0]+=r[o]*t.g[0]+r[s]*n.g[0],e.g[1]+=r[o]*t.g[1]+r[s]*n.g[1],e.g[2]+=r[o]*t.g[2]+r[s]*n.g[2]}function F(e,t){var n=le(t),r=t.a,a=n.a;if(i(r.a,a.a)){if(0<s(a.b.a,r.a,a.a))return;if(o(r.a,a.a)){if(r.a!==a.a){n=e.e;var l=r.a.h;if(0<=l){var u=(n=n.b).d,c=n.e,d=n.c,p=d[l];u[p]=u[n.a],(d[u[p]]=p)<=--n.a&&(p<=1||i(c[u[p>>1]],c[u[p]])?ie:ae)(n,p),c[l]=null,d[l]=n.b,n.b=l}else for(n.c[-(l+1)]=null;0<n.a&&null===n.c[n.d[n.a-1]];)--n.a;D(e,a.b.e,r)}}else m(a.b),h(r,a.b.e),t.b=n.b=!0}else{if(s(r.b.a,a.a,r.a)<0)return;ue(t).b=t.b=!0,m(r.b),h(a.b.e,r)}return 1}function B(e,t){var n=le(t),r=t.a,p=n.a,f=r.a,g=p.a,b=r.b.a,y=p.b.a,v=new Z;if(s(b,e.a,f),s(y,e.a,g),!(f===g||Math.min(f.a,b.a)>Math.max(g.a,y.a))){if(i(f,g)){if(0<s(y,f,g))return}else if(s(b,g,f)<0)return;var x,w,k=b,_=f,S=y,E=g;if(i(k,_)||(x=k,k=_,_=x),i(S,E)||(x=S,S=E,E=x),i(k,S)||(x=k,k=S,S=x,x=_,_=E,E=x),i(S,_)?i(_,E)?((x=a(k,S,_))+(w=a(S,_,E))<0&&(x=-x,w=-w),v.b=d(x,S.b,w,_.b)):((x=s(k,S,_))+(w=-s(k,E,_))<0&&(x=-x,w=-w),v.b=d(x,S.b,w,E.b)):v.b=(S.b+_.b)/2,l(k,_)||(x=k,k=_,_=x),l(S,E)||(x=S,S=E,E=x),l(k,S)||(x=k,k=S,S=x,x=_,_=E,E=x),l(S,_)?l(_,E)?((x=u(k,S,_))+(w=u(S,_,E))<0&&(x=-x,w=-w),v.a=d(x,S.a,w,_.a)):((x=c(k,S,_))+(w=-c(k,E,_))<0&&(x=-x,w=-w),v.a=d(x,S.a,w,E.a)):v.a=(S.a+_.a)/2,i(v,e.a)&&(v.b=e.a.b,v.a=e.a.a),k=i(f,g)?f:g,i(k,v)&&(v.b=k.b,v.a=k.a),o(v,f)||o(v,g))return F(e,t),0;if(!o(b,e.a)&&0<=s(b,e.a,v)||!o(y,e.a)&&s(y,e.a,v)<=0){if(y===e.a)m(r.b),h(p.b,r),r=le(t=j(t)).a,R(e,le(t),n),P(e,t,r.b.e,r,r,!0);else{if(b!==e.a)return 0<=s(b,e.a,v)&&(ue(t).b=t.b=!0,m(r.b),r.a.b=e.a.b,r.a.a=e.a.a),void(s(y,e.a,v)<=0&&(t.b=n.b=!0,m(p.b),p.a.b=e.a.b,p.a.a=e.a.a));for(m(p.b),h(r.e,p.b.e),g=(f=n=t).a.b.a;(f=ue(f)).a.b.a===g;);f=le(t=f).a.b.c,n.a=p.b.e,P(e,t,(p=R(e,n,null)).c,r.b.c,f,!0)}return 1}m(r.b),m(p.b),h(p.b.e,r),r.a.b=v.b,r.a.a=v.a,r.a.h=Q(e.e,r.a),r=r.a,p=[0,0,0,0],v=[f.d,b.d,g.d,y.d],r.g[0]=r.g[1]=r.g[2]=0,L(r,f,b,p,0),L(r,g,y,p,2),M(e,r,v,p,!0),ue(t).b=t.b=n.b=!0}}function $(e,t){for(var n=le(t);;){for(;n.b;)n=le(t=n);if(!(t.b||null!==(t=ue(n=t))&&t.b))break;t.b=!1;var r=t.a,o=n.a;if(a=r.b.a!==o.b.a)e:{var a,l=le(a=t),u=a.a,c=l.a,d=void 0;if(i(u.b.a,c.b.a)){if(s(u.b.a,c.b.a,u.a)<0){a=!1;break e}ue(a).b=a.b=!0,d=m(u),h(c.b,d),d.d.c=a.d}else{if(0<s(c.b.a,u.b.a,c.a)){a=!1;break e}a.b=l.b=!0,d=m(c),h(u.e,c.b),d.b.d.c=a.d}a=!0}if(a&&(n.c?(C(n),f(o),o=(n=le(t)).a):t.c&&(C(t),f(r),r=(t=ue(n)).a)),r.a!==o.a)if(r.b.a===o.b.a||t.c||n.c||r.b.a!==e.a&&o.b.a!==e.a)F(e,t);else if(B(e,t))break;r.a===o.a&&r.b.a===o.b.a&&(E(o,r),C(t),f(r),t=ue(n))}}function z(e,t){var n=new se,r=p(e.b);r.a.b=4e150,r.a.a=t,r.b.a.b=-4e150,r.b.a.a=t,e.a=r.b.a,n.a=r,n.f=0,n.d=!1,n.c=!1,n.h=!0,n.b=!1,r=V(r=e.f,r.a,n),n.e=r}function U(e){this.a=new G,this.b=e,this.c=T}function V(e,t,n){for(;null!==(t=t.c).b&&!e.c(e.b,t.b,n););return e=new G(n,t.a,t),t.a.c=e,t.a=e}function G(e,t,n){this.b=e||null,this.a=t||this,this.c=n||this}function W(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function H(e,t){if(e.d!==t)for(;e.d!==t;)if(e.d<t)switch(e.d){case 0:q(e,100151),e.u(null);break;case 1:q(e,100152),e.t()}else switch(e.d){case 2:q(e,100154),e.v();break;case 1:q(e,100153),e.w()}}function q(e,t){e.p&&e.p(t,e.c)}function X(e,t){this.b=e||this,this.d=t||this,this.a=null,this.c=!1}function Y(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function K(){this.c=new Z,this.a=new X,this.b=new Y,this.d=new Y,this.b.b=this.d,this.d.b=this.b}function Z(e,t){this.e=e||this,this.f=t||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function J(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new te}function Q(e,t){var n,r,o;return e.e?(2*(r=++(n=e.b).a)>n.f&&(n.f*=2,n.c=ne(n.c,n.f+1)),0===n.b?o=r:(o=n.b,n.b=n.c[n.b]),n.e[o]=t,n.c[o]=r,n.d[r]=o,n.h&&ae(n,r),o):(n=e.a++,e.c[n]=t,-(n+1))}function ee(e){if(0===e.a)return oe(e.b);var t=e.c[e.d[e.a-1]];if(0!==e.b.a&&i(re(e.b),t))return oe(e.b);for(;--e.a,0<e.a&&null===e.c[e.d[e.a-1]];);return t}function te(){this.d=ne([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ne(e,t){for(var n=Array(t),r=0;r<e.length;r++)n[r]=e[r];for(;r<t;r++)n[r]=0;return n}function re(e){return e.e[e.d[1]]}function oe(e){var t=e.d,n=e.e,r=e.c,o=t[1],i=n[o];return 0<e.a&&(t[1]=t[e.a],r[t[1]]=1,n[o]=null,r[o]=e.b,e.b=o,0<--e.a&&ie(e,1)),i}function ie(e,t){for(var n=e.d,r=e.e,o=e.c,a=t,s=n[a];;){var l=a<<1,u=(l<e.a&&i(r[n[l+1]],r[n[l]])&&(l+=1),n[l]);if(l>e.a||i(r[s],r[u])){o[n[a]=s]=a;break}o[n[a]=u]=a,a=l}}function ae(e,t){for(var n=e.d,r=e.e,o=e.c,a=t,s=n[a];;){var l=a>>1,u=n[l];if(0==l||i(r[u],r[s])){o[n[a]=s]=a;break}o[n[a]=u]=a,a=l}}function se(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function le(e){return e.e.c.b}function ue(e){return e.e.a.b}(r=W.prototype).x=function(){H(this,0)},r.B=function(e,t){switch(e){case 100142:return;case 100140:switch(t){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=t)}break;case 100141:return void(this.m=!!t);default:return void q(this,100900)}q(this,100901)},r.y=function(e){switch(e){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:q(this,100900)}return!1},r.A=function(e,t,n){this.j[0]=e,this.j[1]=t,this.j[2]=n},r.z=function(e,t){var n=t||null;switch(e){case 100100:case 100106:this.h=n;break;case 100104:case 100110:this.l=n;break;case 100101:case 100107:this.k=n;break;case 100102:case 100108:this.i=n;break;case 100103:case 100109:this.p=n;break;case 100105:case 100111:this.o=n;break;case 100112:this.r=n;break;default:q(this,100900)}},r.C=function(e,t){var n=!1,r=[0,0,0];H(this,2);for(var o=0;o<3;++o){var i=e[o];i<-1e150&&(i=-1e150,n=!0),1e150<i&&(i=1e150,n=!0),r[o]=i}n&&q(this,100155),null===(n=this.q)?h(n=p(this.b),n.b):(m(n),n=n.e),n.a.d=t,n.a.g[0]=r[0],n.a.g[1]=r[1],n.a.g[2]=r[2],n.f=1,n.b.f=-1,this.q=n},r.u=function(e){H(this,0),this.d=1,this.b=new K,this.c=e},r.t=function(){H(this,1),this.d=2,this.q=null},r.v=function(){H(this,2),this.d=1},r.w=function(){H(this,1),this.d=0;var e,t,n=!1,r=[d=this.j[0],a=this.j[1],u=this.j[2]];if(0===d&&0===a&&0===u){for(var a=[-2e150,-2e150,-2e150],l=[2e150,2e150,2e150],u=[],c=[],d=(n=this.b.c).e;d!==n;d=d.e)for(var p=0;p<3;++p){var b=d.g[p];b<l[p]&&(l[p]=b,c[p]=d),b>a[p]&&(a[p]=b,u[p]=d)}if(a[1]-l[1]>a[d=0]-l[0]&&(d=1),l[d=a[2]-l[2]>a[d]-l[d]?2:d]>=a[d])r[0]=0,r[1]=0,r[2]=1;else{for(l=c[d],u=u[d],c=[a=0,0,0],l=[l.g[0]-u.g[0],l.g[1]-u.g[1],l.g[2]-u.g[2]],p=[0,0,0],d=n.e;d!==n;d=d.e)p[0]=d.g[0]-u.g[0],p[1]=d.g[1]-u.g[1],p[2]=d.g[2]-u.g[2],c[0]=l[1]*p[2]-l[2]*p[1],c[1]=l[2]*p[0]-l[0]*p[2],c[2]=l[0]*p[1]-l[1]*p[0],a<(b=c[0]*c[0]+c[1]*c[1]+c[2]*c[2])&&(a=b,r[0]=c[0],r[1]=c[1],r[2]=c[2]);a<=0&&(r[0]=r[1]=r[2]=0,r[S(l)]=1)}n=!0}for(c=S(r),d=this.b.c,a=(c+1)%3,u=(c+2)%3,c=0<r[c]?1:-1,r=d.e;r!==d;r=r.e)r.b=r.g[a],r.a=c*r.g[u];if(n){for(r=0,d=(n=this.b.a).b;d!==n;d=d.b)if(!((a=d.a).f<=0))for(;r+=(a.a.b-a.b.a.b)*(a.a.a+a.b.a.a),(a=a.e)!==d.a;);if(r<0)for(n=(r=this.b.c).e;n!==r;n=n.e)n.a=-n.a}for(this.n=!1,d=(r=this.b.b).h;d!==r;d=n)n=d.h,a=d.e,o(d.a,d.b.a)&&d.e.e!==d&&(D(this,a,d),f(d),a=(d=a).e),a.e===d&&(a!==d&&(a!==n&&a!==n.b||(n=n.h),f(a)),d!==n&&d!==n.b||(n=n.h),f(d));for(this.e=r=new J,d=(n=this.b.c).e;d!==n;d=d.e)d.h=Q(r,d);var v=r;v.d=[];for(var x=0;x<v.a;x++)v.d[x]=x;v.d.sort(function(e){return function(t,n){return i(e[t],e[n])?1:-1}}(v.c)),v.e=!0;for(var _=v.b,T=_.a;1<=T;--T)ie(_,T);for(_.h=!0,this.f=new U(this),z(this,-4e150),z(this,4e150);null!==(r=ee(this.e));){for(;;){e:if(0===(d=this.e).a)n=re(d.b);else if(n=d.c[d.d[d.a-1]],0!==d.b.a&&i(d=re(d.b),n)){n=d;break e}if(null===n||!o(n,r))break;n=ee(this.e),D(this,r.c,n.c)}!function e(t,n){for(var r,a=(t.a=n).c;null===a.i;)if((a=a.c)===n.c){a=t;var l=n;(b=new se).a=l.c.b;for(var u=(c=a.f).a;null!==(u=u.a).b&&!c.c(c.b,b,u.b););var c,d,p=le(c=u.b),b=c.a;return u=p.a,void(0===s(b.b.a,l,b.a)?o((b=c.a).a,l)||o(b.b.a,l)||(m(b.b),c.c&&(f(b.c),c.c=!1),h(l.c,b),e(a,l)):(d=i(u.b.a,b.b.a)?c:p,p=void 0,c.d||d.c?(p=d===c?g(l.c.b,b.e):g(u.b.c.b,l.c).b,d.c?I(d,p):((c=A(b=a,c,p)).f=ue(c).f+c.a.f,c.d=O(b,c.f)),e(a,l)):P(a,c,l.c,l.c,null,!0)))}c=(b=le(a=j(a.i))).a,(b=R(t,b,null)).c===c?(b=(c=b).c,u=le(a),p=a.a,d=u.a,r=!1,p.b.a!==d.b.a&&B(t,a),o(p.a,t.a)&&(h(b.b.e,p),b=le(a=j(a)).a,R(t,le(a),u),r=!0),o(d.a,t.a)&&(h(c,d.b.e),c=R(t,u,null),r=!0),r?P(t,a,c.c,b,b,!0):(l=i(d.a,p.a)?d.b.e:p,P(t,a,l=g(c.c.b,l),l.c,l.c,!1),l.b.i.c=!0,$(t,a))):P(t,a,b.c,c,c,!0)}(this,r)}for(this.a=this.f.a.a.b.a.a,r=0;null!==(n=this.f.a.a.b);)n.h||++r,C(n);for(this.f=null,(r=this.e).b=null,r.d=null,this.e=r.c=null,d=(r=this.b).a.b;d!==r.a;d=n)n=d.b,(d=d.a).e.e===d&&(E(d.c,d),f(d));if(!this.n){if(r=this.b,this.m)for(d=r.b.h;d!==r.b;d=n)n=d.h,d.b.d.c!==d.d.c?d.f=d.d.c?1:-1:f(d);else for(d=r.a.b;d!==r.a;d=n)if(n=d.b,d.c){for(d=d.a;i(d.b.a,d.a);d=d.c.b);for(;i(d.a,d.b.a);d=d.e);for(a=d.c.b,u=void 0;d.e!==a;)if(i(d.b.a,a.a)){for(;a.e!==d&&(i((t=a.e).b.a,t.a)||s(a.a,a.b.a,a.e.b.a)<=0);)a=(u=g(a.e,a)).b;a=a.c.b}else{for(;a.e!==d&&(i((e=d.c.b).a,e.b.a)||0<=s(d.b.a,d.a,d.c.b.a));)d=(u=g(d,d.c.b)).b;d=d.e}for(;a.e.e!==d;)a=(u=g(a.e,a)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(n=(r=this.b).a.b;n!==r.a;n=n.b)if(n.c){for(this.h&&this.h(2,this.c),d=n.a;this.k&&this.k(d.a.d,this.c),(d=d.e)!==n.a;);this.i&&this.i(this.c)}}else{for(r=this.b,n=!!this.l,d=!1,a=-1,u=r.a.d;u!==r.a;u=u.d)if(u.c)for(d||(this.h&&this.h(4,this.c),d=!0),c=u.a;n&&a!==(l=c.b.d.c?0:1)&&(a=l,this.l&&this.l(!!a,this.c)),this.k&&this.k(c.a.d,this.c),(c=c.e)!==u.a;);d&&this.i&&this.i(this.c)}if(this.r){for(d=(r=this.b).a.b;d!==r.a;d=n)if(n=d.b,!d.c){for(u=(a=d.a).e,c=void 0;u=(c=u).e,(c.d=null)===c.b.d&&(c.c===c?k(c.a,null):(c.a.c=c.c,y(c,c.b.e)),(l=c.b).c===l?k(l.a,null):(l.a.c=l.c,y(l,l.b.e)),w(c)),c!==a;);a=d.d,((d=d.b).d=a).b=d}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:W,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},W.prototype.gluDeleteTess=W.prototype.x,W.prototype.gluTessProperty=W.prototype.B,W.prototype.gluGetTessProperty=W.prototype.y,W.prototype.gluTessNormal=W.prototype.A,W.prototype.gluTessCallback=W.prototype.z,W.prototype.gluTessVertex=W.prototype.C,W.prototype.gluTessBeginPolygon=W.prototype.u,W.prototype.gluTessBeginContour=W.prototype.t,W.prototype.gluTessEndContour=W.prototype.v,W.prototype.gluTessEndPolygon=W.prototype.w,void 0!==t&&(t.exports=this.libtess)},{}],246:[function(e,t,n){"use strict";function r(e,t,n,r){for(var o=e[t++],i=1<<o,a=1+i,s=1+a,l=o+1,u=(1<<l)-1,c=0,d=0,p=0,h=e[t++],f=new Int32Array(4096),m=null;;){for(;c<16&&0!==h;)d|=e[t++]<<c,c+=8,1===h?h=e[t++]:--h;if(c<l)break;var g=d&u;if(d>>=l,c-=l,g==i)s=1+a,u=(1<<(l=o+1))-1,m=null;else{if(g==a)break;for(var b=g<s?g:m,y=0,v=b;i<v;)v=f[v]>>8,++y;var x=v;if(r<p+y+(b!==g?1:0))return void console.log("Warning, gif stream longer than expected.");n[p++]=x;var w=p+=y;for(b!==g&&(n[p++]=x),v=b;y--;)v=f[v],n[--w]=255&v,v>>=8;null!==m&&s<4096&&(f[s++]=m<<8|x,u+1<=s&&l<12&&(++l,u=u<<1|1)),m=g}}p!==r&&console.log("Warning, gif stream shorter than expected.")}try{n.GifWriter=function(e,t,n,r){var o=0,i=void 0===(r=void 0===r?{}:r).loop?null:r.loop,a=void 0===r.palette?null:r.palette;if(t<=0||n<=0||65535<t||65535<n)throw new Error("Width/Height invalid.");function s(e){if((e=e.length)<2||256<e||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}e[o++]=71,e[o++]=73,e[o++]=70,e[o++]=56,e[o++]=57,e[o++]=97;var l=0,u=0;if(null!==a){for(var c=s(a);c>>=1;)++l;if(c=1<<l,--l,void 0!==r.background){if(c<=(u=r.background))throw new Error("Background index out of range.");if(0===u)throw new Error("Background index explicitly passed as 0.")}}if(e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=(null!==a?128:0)|l,e[o++]=u,e[o++]=0,null!==a)for(var d=0,p=a.length;d<p;++d){var h=a[d];e[o++]=h>>16&255,e[o++]=h>>8&255,e[o++]=255&h}if(null!==i){if(i<0||65535<i)throw new Error("Loop count invalid.");e[o++]=33,e[o++]=255,e[o++]=11,e[o++]=78,e[o++]=69,e[o++]=84,e[o++]=83,e[o++]=67,e[o++]=65,e[o++]=80,e[o++]=69,e[o++]=50,e[o++]=46,e[o++]=48,e[o++]=3,e[o++]=1,e[o++]=255&i,e[o++]=i>>8&255,e[o++]=0}var f=!1;this.addFrame=function(t,n,r,i,l,u){if(!0===f&&(--o,f=!1),u=void 0===u?{}:u,t<0||n<0||65535<t||65535<n)throw new Error("x/y invalid.");if(r<=0||i<=0||65535<r||65535<i)throw new Error("Width/Height invalid.");if(l.length<r*i)throw new Error("Not enough pixels for the frame size.");var c=!0,d=u.palette;if(null==d&&(c=!1,d=a),null==d)throw new Error("Must supply either a local or global palette.");for(var p=s(d),h=0;p>>=1;)++h;p=1<<h;var m=void 0===u.delay?0:u.delay,g=void 0===u.disposal?0:u.disposal;if(g<0||3<g)throw new Error("Disposal out of range.");var b=!1,y=0;if(void 0!==u.transparent&&null!==u.transparent&&(b=!0,(y=u.transparent)<0||p<=y))throw new Error("Transparent color index.");if(0===g&&!b&&0===m||(e[o++]=33,e[o++]=249,e[o++]=4,e[o++]=g<<2|(!0===b?1:0),e[o++]=255&m,e[o++]=m>>8&255,e[o++]=y,e[o++]=0),e[o++]=44,e[o++]=255&t,e[o++]=t>>8&255,e[o++]=255&n,e[o++]=n>>8&255,e[o++]=255&r,e[o++]=r>>8&255,e[o++]=255&i,e[o++]=i>>8&255,e[o++]=!0===c?128|h-1:0,!0===c)for(var v=0,x=d.length;v<x;++v){var w=d[v];e[o++]=w>>16&255,e[o++]=w>>8&255,e[o++]=255&w}return o=function(e,t,n,r){e[t++]=n;var o=t++,i=1<<n,a=i-1,s=1+i,l=1+s,u=n+1,c=0,d=0;function p(n){for(;n<=c;)e[t++]=255&d,d>>=8,c-=8,t===o+256&&(e[o]=255,o=t++)}function h(e){d|=e<<c,c+=u,p(8)}var f=r[0]&a,m={};h(i);for(var g=1,b=r.length;g<b;++g){var y=r[g]&a,v=f<<8|y,x=m[v];if(void 0===x){for(d|=f<<c,c+=u;8<=c;)e[t++]=255&d,d>>=8,c-=8,t===o+256&&(e[o]=255,o=t++);4096===l?(h(i),l=1+s,u=n+1,m={}):(1<<u<=l&&++u,m[v]=l++),f=y}else f=x}return h(f),h(s),p(1),o+1===t?e[o]=0:(e[o]=t-o-1,e[t++]=0),t}(e,o,h<2?2:h,l)},this.end=function(){return!1===f&&(e[o++]=59,f=!0),o},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(t){e=t},this.getOutputBufferPosition=function(){return o},this.setOutputBufferPosition=function(e){o=e}},n.GifReader=function(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,o=e[t++]|e[t++]<<8,i=e[t++],a=1<<1+(7&i),s=(e[t++],e[t++],null),l=null,u=(i>>7&&(s=t,t+=3*(l=a)),!0),c=[],d=0,p=null,h=0,f=null;for(this.width=n,this.height=o;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!(0<=(g=e[t++])))throw Error("Invalid block size");if(0===g)break;t+=g}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];d=e[t++]|e[t++]<<8,p=e[t++],0==(1&m)&&(p=null),h=m>>2&7,t++;break;case 254:for(;;){if(!(0<=(g=e[t++])))throw Error("Invalid block size");if(0===g)break;t+=g}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var g,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=(E=e[t++])>>6&1,k=s,_=l,S=!1,E=(E>>7&&(S=!0,k=t,t+=3*(_=1<<1+(7&E))),t);for(t++;;){if(!(0<=(g=e[t++])))throw Error("Invalid block size");if(0===g)break;t+=g}c.push({x:b,y,width:v,height:x,has_local_palette:S,palette_offset:k,palette_size:_,data_offset:E,data_length:t-E,transparent_index:p,interlaced:!!w,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,o){for(var i=(t=this.frameInfo(t)).width*t.height,a=new Uint8Array(i),s=(r(e,t.data_offset,a,i),t.palette_offset),l=t.transparent_index,u=(null===l&&(l=256),t.width),c=n-u,d=u,p=4*(t.y*n+t.x),h=4*((t.y+t.height)*n+t.x),f=p,m=4*c,g=(!0===t.interlaced&&(m+=4*n*7),8),b=0,y=a.length;b<y;++b){var v,x,w=a[b];0===d&&(d=u,h<=(f+=m)&&(m=4*c+4*n*(g-1),f=p+(u+c)*(g<<1),g>>=1)),w===l?f+=4:(v=e[s+3*w],x=e[s+3*w+1],w=e[s+3*w+2],o[f++]=w,o[f++]=x,o[f++]=v,o[f++]=255),--d}},this.decodeAndBlitFrameRGBA=function(t,o){for(var i=(t=this.frameInfo(t)).width*t.height,a=new Uint8Array(i),s=(r(e,t.data_offset,a,i),t.palette_offset),l=t.transparent_index,u=(null===l&&(l=256),t.width),c=n-u,d=u,p=4*(t.y*n+t.x),h=4*((t.y+t.height)*n+t.x),f=p,m=4*c,g=(!0===t.interlaced&&(m+=4*n*7),8),b=0,y=a.length;b<y;++b){var v,x,w=a[b];0===d&&(d=u,h<=(f+=m)&&(m=4*c+4*n*(g-1),f=p+(u+c)*(g<<1),g>>=1)),w===l?f+=4:(v=e[s+3*w],x=e[s+3*w+1],w=e[s+3*w+2],o[f++]=v,o[f++]=x,o[f++]=w,o[f++]=255),--d}}}}catch(e){}},{}],247:[function(e,t,n){(function(r){!function(t){"use strict";function n(e){if(null==this)throw TypeError();var t,n=String(this),r=n.length;if(!((e=(e=e?Number(e):0)!=e?0:e)<0||r<=e))return 55296<=(t=n.charCodeAt(e))&&t<=56319&&e+1<r&&56320<=(r=n.charCodeAt(e+1))&&r<=57343?1024*(t-55296)+r-56320+65536:t}var o;function i(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function a(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new i,this.dtree=new i}String.prototype.codePointAt||((o=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}())?o(String.prototype,"codePointAt",{value:n,configurable:!0,writable:!0}):String.prototype.codePointAt=n);var s=new i,l=new i,u=new Uint8Array(30),c=new Uint16Array(30),d=new Uint8Array(30),p=new Uint16Array(30),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new i,m=new Uint8Array(320);function g(e,t,n,r){for(var o,i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(o=r,i=0;i<30;++i)t[i]=o,o+=1<<e[i]}var b=new Uint16Array(16);function y(e,t,n,r){for(var o,i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(i=o=e.table[0]=0;i<16;++i)b[i]=o,o+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[b[t[n+i]]++]=i)}function v(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function x(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;for(var n=0,r=0,o=0,i=e.tag;r=2*r+(1&i),i>>>=1,n+=t.table[++o],0<=(r-=t.table[o]););return e.tag=i,e.bitcount-=o,t.trans[n+r]}function w(e,t,n){for(;;){if(256===(i=x(e,t)))return 0;if(i<256)e.dest[e.destLen++]=i;else for(var r,o=v(e,u[i-=257],c[i]),i=x(e,n),a=r=e.destLen-v(e,d[i],p[i]);a<r+o;++a)e.dest[e.destLen++]=e.dest[a]}}for(var k=s,_=l,S=0;S<7;++S)k.table[S]=0;for(k.table[7]=24,k.table[8]=152,k.table[9]=112,S=0;S<24;++S)k.trans[S]=256+S;for(S=0;S<144;++S)k.trans[24+S]=S;for(S=0;S<8;++S)k.trans[168+S]=280+S;for(S=0;S<112;++S)k.trans[176+S]=144+S;for(S=0;S<5;++S)_.table[S]=0;for(_.table[5]=32,S=0;S<32;++S)_.trans[S]=S;function E(e,t,n,r,o){return Math.pow(1-o,3)*e+3*Math.pow(1-o,2)*o*t+3*(1-o)*Math.pow(o,2)*n+Math.pow(o,3)*r}function T(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function C(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function I(e){throw new Error(e)}function j(e,t){e||I(t)}g(u,c,4,3),g(d,p,2,1),u[28]=0,c[28]=258,T.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},T.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},T.prototype.addX=function(e){this.addPoint(e,null)},T.prototype.addY=function(e){this.addPoint(null,e)},T.prototype.addBezier=function(e,t,n,r,o,i,a,s){var l=[e,t],u=[n,r],c=[o,i],d=[a,s];this.addPoint(e,t),this.addPoint(a,s);for(var p=0;p<=1;p++){var h,f=6*l[p]-12*u[p]+6*c[p],m=-3*l[p]+9*u[p]-9*c[p]+3*d[p],g=3*u[p]-3*l[p];0==m?0==f||0<(h=-g/f)&&h<1&&(0===p&&this.addX(E(l[p],u[p],c[p],d[p],h)),1===p&&this.addY(E(l[p],u[p],c[p],d[p],h))):(h=Math.pow(f,2)-4*g*m)<0||(0<(g=(-f+Math.sqrt(h))/(2*m))&&g<1&&(0===p&&this.addX(E(l[p],u[p],c[p],d[p],g)),1===p&&this.addY(E(l[p],u[p],c[p],d[p],g))),0<(g=(-f-Math.sqrt(h))/(2*m))&&g<1&&(0===p&&this.addX(E(l[p],u[p],c[p],d[p],g)),1===p&&this.addY(E(l[p],u[p],c[p],d[p],g))))}},T.prototype.addQuad=function(e,t,n,r,o,i){n=e+2/3*(n-e),r=t+2/3*(r-t),this.addBezier(e,t,n,r,n+1/3*(o-e),r+1/3*(i-t),o,i)},C.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},C.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},C.prototype.curveTo=C.prototype.bezierCurveTo=function(e,t,n,r,o,i){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:o,y:i})},C.prototype.quadTo=C.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},C.prototype.close=C.prototype.closePath=function(){this.commands.push({type:"Z"})},C.prototype.extend=function(e){var t;if(e.commands)e=e.commands;else if(e instanceof T)return t=e,this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close();Array.prototype.push.apply(this.commands,e)},C.prototype.getBoundingBox=function(){for(var e=new T,t=0,n=0,r=0,o=0,i=0;i<this.commands.length;i++){var a=this.commands[i];switch(a.type){case"M":e.addPoint(a.x,a.y),t=r=a.x,n=o=a.y;break;case"L":e.addPoint(a.x,a.y),r=a.x,o=a.y;break;case"Q":e.addQuad(r,o,a.x1,a.y1,a.x,a.y),r=a.x,o=a.y;break;case"C":e.addBezier(r,o,a.x1,a.y1,a.x2,a.y2,a.x,a.y),r=a.x,o=a.y;break;case"Z":r=t,o=n;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},C.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},C.prototype.toPathData=function(e){function t(){for(var t=arguments,n="",r=0;r<arguments.length;r+=1){var o=t[r];0<=o&&0<r&&(n+=" "),n+=Math.round(o)===o?""+Math.round(o):o.toFixed(e)}return n}e=void 0!==e?e:2;for(var n="",r=0;r<this.commands.length;r+=1){var o=this.commands[r];"M"===o.type?n+="M"+t(o.x,o.y):"L"===o.type?n+="L"+t(o.x,o.y):"C"===o.type?n+="C"+t(o.x1,o.y1,o.x2,o.y2,o.x,o.y):"Q"===o.type?n+="Q"+t(o.x1,o.y1,o.x,o.y):"Z"===o.type&&(n+="Z")}return n},C.prototype.toSVG=function(e){var t=(t='<path d="')+this.toPathData(e)+'"';return this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+"/>"},C.prototype.toDOMElement=function(e){e=this.toPathData(e);var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t};var A={fail:I,argument:j,assert:j},O={},N={},R={};function P(e){return function(){return e}}N.BYTE=function(e){return A.argument(0<=e&&e<=255,"Byte value should be between 0 and 255."),[e]},R.BYTE=P(1),N.CHAR=function(e){return[e.charCodeAt(0)]},R.CHAR=P(1),N.CHARARRAY=function(e){for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},R.CHARARRAY=function(e){return e.length},N.USHORT=function(e){return[e>>8&255,255&e]},R.USHORT=P(2),N.SHORT=function(e){return[(e=32768<=e?-(65536-e):e)>>8&255,255&e]},R.SHORT=P(2),N.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},R.UINT24=P(3),N.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},R.ULONG=P(4),N.LONG=function(e){return[(e=2147483648<=e?-(4294967296-e):e)>>24&255,e>>16&255,e>>8&255,255&e]},R.LONG=P(4),N.FIXED=N.ULONG,R.FIXED=R.ULONG,N.FWORD=N.SHORT,R.FWORD=R.SHORT,N.UFWORD=N.USHORT,R.UFWORD=R.USHORT,N.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},R.LONGDATETIME=P(8),N.TAG=function(e){return A.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},R.TAG=P(4),N.Card8=N.BYTE,R.Card8=R.BYTE,N.Card16=N.USHORT,R.Card16=R.USHORT,N.OffSize=N.BYTE,R.OffSize=R.BYTE,N.SID=N.USHORT,R.SID=R.USHORT,N.NUMBER=function(e){return-107<=e&&e<=107?[e+139]:108<=e&&e<=1131?[247+((e-=108)>>8),255&e]:-1131<=e&&e<=-108?[251+((e=-e-108)>>8),255&e]:-32768<=e&&e<=32767?N.NUMBER16(e):N.NUMBER32(e)},R.NUMBER=function(e){return N.NUMBER(e).length},N.NUMBER16=function(e){return[28,e>>8&255,255&e]},R.NUMBER16=P(3),N.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},R.NUMBER32=P(5),N.REAL=function(e){for(var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t),r=(n&&(n=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length)),t=(Math.round(e*n)/n).toString()),""),o=0,i=t.length;o<i;o+=1){var a=t[o];r+="e"===a?"-"===t[++o]?"c":"b":"."===a?"a":"-"===a?"e":a}for(var s=[30],l=0,u=(r+=1&r.length?"f":"ff").length;l<u;l+=2)s.push(parseInt(r.substr(l,2),16));return s},R.REAL=function(e){return N.REAL(e).length},N.NAME=N.CHARARRAY,R.NAME=R.CHARARRAY,N.STRING=N.CHARARRAY,R.STRING=R.CHARARRAY,O.UTF8=function(e,t,n){for(var r=[],o=n,i=0;i<o;i++,t+=1)r[i]=e.getUint8(t);return String.fromCharCode.apply(null,r)},O.UTF16=function(e,t,n){for(var r=[],o=n/2,i=0;i<o;i++,t+=2)r[i]=e.getUint16(t);return String.fromCharCode.apply(null,r)},N.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t[t.length]=r>>8&255,t[t.length]=255&r}return t},R.UTF16=function(e){return 2*e.length};var M,D={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},L=(O.MACSTRING=function(e,t,n,r){var o=D[r];if(void 0!==o){for(var i="",a=0;a<n;a++){var s=e.getUint8(t+a);i+=s<=127?String.fromCharCode(s):o[127&s]}return i}},"function"==typeof WeakMap&&new WeakMap);function F(e){return-128<=e&&e<=127}N.MACSTRING=function(e,t){var n=function(e){if(!M)for(var t in M={},D)M[t]=new String(t);var n=M[e];if(void 0!==n){if(L){var r=L.get(n);if(void 0!==r)return r}var o=D[e];if(void 0!==o){for(var i={},a=0;a<o.length;a++)i[o.charCodeAt(a)]=a+128;return L&&L.set(n,i),i}}}(t);if(void 0!==n){for(var r=[],o=0;o<e.length;o++){var i=e.charCodeAt(o);if(128<=i&&void 0===(i=n[i]))return;r[o]=i}return r}},R.MACSTRING=function(e,t){return void 0!==(e=N.MACSTRING(e,t))?e.length:0},N.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;){var r=e[t];t=(0===r?function(e,t,n){for(var r=0,o=e.length;t<o&&r<64&&0===e[t];)++t,++r;return n.push(128|r-1),t}:-128<=r&&r<=127?function(e,t,n){for(var r=0,o=e.length,i=t;i<o&&r<64;){var a=e[i];if(!F(a))break;if(0===a&&i+1<o&&0===e[i+1])break;++i,++r}n.push(r-1);for(var s=t;s<i;++s)n.push(e[s]+256&255);return i}:function(e,t,n){for(var r=0,o=e.length,i=t;i<o&&r<64;){var a=e[i];if(0===a)break;if(F(a)&&i+1<o&&F(e[i+1]))break;++i,++r}n.push(64|r-1);for(var s=t;s<i;++s){var l=e[s];n.push(l+65536>>8&255,l+256&255)}return i})(e,t,n)}return n},N.INDEX=function(e){for(var t=1,n=[t],r=[],o=0;o<e.length;o+=1){var i=N.OBJECT(e[o]);Array.prototype.push.apply(r,i),t+=i.length,n.push(t)}if(0===r.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,l=[void 0,N.BYTE,N.USHORT,N.UINT24,N.ULONG][s],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(a,c)}return Array.prototype.concat(N.Card16(e.length),N.OffSize(s),a,r)},R.INDEX=function(e){return N.INDEX(e).length},N.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,o=0;o<r;o+=1){var i=parseInt(n[o],0),a=e[i];t=(t=t.concat(N.OPERAND(a.value,a.type))).concat(N.OPERATOR(i))}return t},R.DICT=function(e){return N.DICT(e).length},N.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},N.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)A.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(N.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(N.NUMBER(e));else if("offset"===t)n=n.concat(N.NUMBER32(e));else if("number"===t)n=n.concat(N.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(N.REAL(e))}return n},N.OP=N.BYTE,R.OP=R.BYTE;var B="function"==typeof WeakMap&&new WeakMap;function $(e,t,n){for(var r=0;r<t.length;r+=1){var o=t[r];this[o.name]=o.value}if(this.tableName=e,this.fields=t,n)for(var i=Object.keys(n),a=0;a<i.length;a+=1){var s=i[a],l=n[s];void 0!==this[s]&&(this[s]=l)}}function z(e,t,n){void 0===n&&(n=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<t.length;o++)r[o+1]={name:e+o,type:"USHORT",value:t[o]};return r}function U(e,t,n){var r=t.length,o=new Array(r+1);o[0]={name:e+"Count",type:"USHORT",value:r};for(var i=0;i<r;i++)o[i+1]={name:e+i,type:"TABLE",value:n(t[i],i)};return o}function V(e,t,n){var r=t.length,o=[];o[0]={name:e+"Count",type:"USHORT",value:r};for(var i=0;i<r;i++)o=o.concat(n(t[i],i));return o}function G(e){1===e.format?$.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(z("glyph",e.glyphs))):A.assert(!1,"Can't create coverage table format 2 yet.")}function W(e){$.call(this,"scriptListTable",V("scriptRecord",e,(function(e,t){var n=e.script,r=n.defaultLangSys;return A.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new $("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new $("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(z("featureIndex",r.featureIndexes)))}].concat(V("langSys",n.langSysRecords,(function(e,t){var n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new $("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(z("featureIndex",n.featureIndexes)))}]}))))}]})))}function H(e){$.call(this,"featureListTable",V("featureRecord",e,(function(e,t){var n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new $("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(z("lookupListIndex",n.lookupListIndexes)))}]})))}function q(e,t){$.call(this,"lookupListTable",U("lookup",e,(function(e){var n=t[e.lookupType];return A.assert(!!n,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new $("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(U("subtable",e.subtables,n)))})))}N.CHARSTRING=function(e){if(B){var t=B.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,o=0;o<r;o+=1){var i=e[o];n=n.concat(N[i.type](i.value))}return B&&B.set(e,n),n},R.CHARSTRING=function(e){return N.CHARSTRING(e).length},N.OBJECT=function(e){var t=N[e.type];return A.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},R.OBJECT=function(e){var t=R[e.type];return A.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},N.TABLE=function(e){for(var t=[],n=e.fields.length,r=[],o=[],i=0;i<n;i+=1){var a=e.fields[i],s=N[a.type],l=(A.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")"),e[a.name]);s=s(l=void 0===l?a.value:l),"TABLE"===a.type?(o.push(t.length),t=t.concat([0,0]),r.push(s)):t=t.concat(s)}for(var u=0;u<r.length;u+=1){var c=o[u],d=t.length;A.argument(d<65536,"Table "+e.tableName+" too big."),t[c]=d>>8,t[c+1]=255&d,t=t.concat(r[u])}return t},R.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;r<n;r+=1){var o=e.fields[r],i=R[o.type],a=(A.argument(void 0!==i,"No sizeOf function for field type "+o.type+" ("+o.name+")"),e[o.name]);t+=i(a=void 0===a?o.value:a),"TABLE"===o.type&&(t+=2)}return t},N.RECORD=N.TABLE,R.RECORD=R.TABLE,N.LITERAL=function(e){return e},R.LITERAL=function(e){return e.length},$.prototype.encode=function(){return N.TABLE(this)},$.prototype.sizeOf=function(){return R.TABLE(this)};var X={Table:$,Record:$,Coverage:(G.prototype=Object.create($.prototype)).constructor=G,ScriptList:(W.prototype=Object.create($.prototype)).constructor=W,FeatureList:(H.prototype=Object.create($.prototype)).constructor=H,LookupList:(q.prototype=Object.create($.prototype)).constructor=q,ushortList:z,tableList:U,recordList:V};function Y(e,t){return e.getUint8(t)}function K(e,t){return e.getUint16(t,!1)}function Z(e,t){return e.getUint32(t,!1)}function J(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var Q={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ee(e,t){this.data=e,this.offset=t,this.relativeOffset=0}ee.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ee.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ee.prototype.parseCard8=ee.prototype.parseByte,ee.prototype.parseCard16=ee.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ee.prototype.parseSID=ee.prototype.parseUShort,ee.prototype.parseOffset16=ee.prototype.parseUShort,ee.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ee.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},ee.prototype.parseOffset32=ee.prototype.parseULong=function(){var e=Z(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ee.prototype.parseFixed=function(){var e=J(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ee.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var o=0;o<e;o++)r+=String.fromCharCode(t.getUint8(n+o));return r},ee.prototype.parseTag=function(){return this.parseString(4)},ee.prototype.parseLongDateTime=function(){var e=Z(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},ee.prototype.parseVersion=function(e){var t=K(this.data,this.offset+this.relativeOffset),n=K(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t+n/(e=void 0===e?4096:e)/10},ee.prototype.skip=function(e,t){this.relativeOffset+=Q[e]*(t=void 0===t?1:t)},ee.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,o=0;o<e;o++)t[o]=n.getUint32(r),r+=4;return this.relativeOffset+=4*e,t},ee.prototype.parseOffset16List=ee.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,o=0;o<e;o++)t[o]=n.getUint16(r),r+=2;return this.relativeOffset+=2*e,t},ee.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,o=0;o<e;o++)t[o]=n.getInt16(r),r+=2;return this.relativeOffset+=2*e,t},ee.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,o=0;o<e;o++)t[o]=n.getUint8(r++);return this.relativeOffset+=e,t},ee.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},ee.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},ee.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=Object.keys(t),o=0;o<e;o++){for(var i={},a=0;a<r.length;a++){var s=r[a],l=t[s];i[s]=l.call(this)}n[o]=i}return n},ee.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=Object.keys(t),o=0;o<e;o++){for(var i={},a=0;a<r.length;a++){var s=r[a],l=t[s];i[s]=l.call(this)}n[o]=i}return n},ee.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r],i=e[o];n[o]=i.call(this)}return n},ee.prototype.parseValueRecord=function(e){var t;if(0!==(e=void 0===e?this.parseUShort():e))return t={},1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t},ee.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),r=0;r<t;r++)n[r]=this.parseValueRecord(e);return n},ee.prototype.parsePointer=function(e){var t=this.parseOffset16();if(0<t)return new ee(this.data,this.offset+t).parseStruct(e)},ee.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(0<t)return new ee(this.data,this.offset+t).parseStruct(e)},ee.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,r=this.relativeOffset,o=new Array(n),i=0;i<n;i++){var a=t[i];if(0===a)o[i]=void 0;else if(this.relativeOffset=a,e){for(var s=this.parseOffset16List(),l=new Array(s.length),u=0;u<s.length;u++)this.relativeOffset=a+s[u],l[u]=e.call(this);o[i]=l}else o[i]=this.parseUShortList()}return this.relativeOffset=r,o},ee.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2!==t)throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.");for(var r=new Array(n),o=0;o<n;o++)r[o]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}},ee.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:ee.uShort,end:ee.uShort,classId:ee.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},ee.list=function(e,t){return function(){return this.parseList(e,t)}},ee.list32=function(e,t){return function(){return this.parseList32(e,t)}},ee.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},ee.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},ee.pointer=function(e){return function(){return this.parsePointer(e)}},ee.pointer32=function(e){return function(){return this.parsePointer32(e)}},ee.tag=ee.prototype.parseTag,ee.byte=ee.prototype.parseByte,ee.uShort=ee.offset16=ee.prototype.parseUShort,ee.uShortList=ee.prototype.parseUShortList,ee.uLong=ee.offset32=ee.prototype.parseULong,ee.uLongList=ee.prototype.parseULongList,ee.struct=ee.prototype.parseStruct,ee.coverage=ee.prototype.parseCoverage,ee.classDef=ee.prototype.parseClassDef;var te={reserved:ee.uShort,reqFeatureIndex:ee.uShort,featureIndexes:ee.uShortList},ne=(ee.prototype.parseScriptList=function(){return this.parsePointer(ee.recordList({tag:ee.tag,script:ee.pointer({defaultLangSys:ee.pointer(te),langSysRecords:ee.recordList({tag:ee.tag,langSys:ee.pointer(te)})})}))||[]},ee.prototype.parseFeatureList=function(){return this.parsePointer(ee.recordList({tag:ee.tag,feature:ee.pointer({featureParams:ee.offset16,lookupListIndexes:ee.uShortList})}))||[]},ee.prototype.parseLookupList=function(e){return this.parsePointer(ee.list(ee.pointer((function(){var t=this.parseUShort(),n=(A.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown."),this.parseUShort()),r=16&n;return{lookupType:t,lookupFlag:n,subtables:this.parseList(ee.pointer(e[t])),markFilteringSet:r?this.parseUShort():void 0}}))))||[]},ee.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return A.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ee.offset32,featureTableSubstitutionOffset:ee.offset32})}))||[]},{getByte:Y,getCard8:Y,getUShort:K,getCard16:K,getShort:function(e,t){return e.getInt16(t,!1)},getULong:Z,getFixed:J,getTag:function(e,t){for(var n="",r=t;r<t+4;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},getOffset:function(e,t,n){for(var r=0,o=0;o<n;o+=1)r=(r<<=8)+e.getUint8(t+o);return r},getBytes:function(e,t,n){for(var r=[],o=t;o<n;o+=1)r.push(e.getUint8(o));return r},bytesToString:function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:ee}),re=function(e,t){for(var n={},r=(n.version=ne.getUShort(e,t),A.argument(0===n.version,"cmap table version should be 0."),n.numTables=ne.getUShort(e,t+2),-1),o=n.numTables-1;0<=o;--o){var i=ne.getUShort(e,t+4+8*o),a=ne.getUShort(e,t+4+8*o+2);if(3===i&&(0===a||1===a||10===a)||0===i&&(0===a||1===a||2===a||3===a||4===a)){r=ne.getULong(e,t+4+8*o+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var s=new ne.Parser(e,t+r);if(n.format=s.parseUShort(),12===n.format){var l,u=n,c=s;c.parseUShort(),u.length=c.parseULong(),u.language=c.parseULong(),u.groupCount=l=c.parseULong(),u.glyphIndexMap={};for(var d=0;d<l;d+=1)for(var p=c.parseULong(),h=c.parseULong(),f=c.parseULong(),m=p;m<=h;m+=1)u.glyphIndexMap[m]=f,f++}else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");var g=n,b=e,y=t,v=r;g.length=s.parseUShort(),g.language=s.parseUShort(),g.segCount=x=s.parseUShort()>>1,s.skip("uShort",3),g.glyphIndexMap={};for(var x,w=new ne.Parser(b,y+v+14),k=new ne.Parser(b,y+v+16+2*x),_=new ne.Parser(b,y+v+16+4*x),S=new ne.Parser(b,y+v+16+6*x),E=y+v+16+8*x,T=0;T<x-1;T+=1)for(var C=void 0,I=w.parseUShort(),j=k.parseUShort(),O=_.parseShort(),N=S.parseUShort(),R=j;R<=I;R+=1)0!==N?(E=(E=S.offset+S.relativeOffset-2)+N+2*(R-j),0!==(C=ne.getUShort(b,E))&&(C=C+O&65535)):C=R+O&65535,g.glyphIndexMap[R]=C}return n},oe=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],ie=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ae=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],se=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function le(e){this.font=e}function ue(e){this.cmap=e}function ce(e,t){this.encoding=e,this.charset=t}function de(e){switch(e.version){case 1:this.names=se.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<se.length?this.names[t]=se[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-se.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=se[n+e.glyphNameIndex[n]];break;default:this.names=[]}}le.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n)for(var r=0;r<n.length;r+=1)for(var o=n.get(r),i=0;i<o.unicodes.length;i+=1)if(o.unicodes[i]===t)return r;return null},ue.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},ce.prototype.charToGlyphIndex=function(e){return e=e.codePointAt(0),e=this.encoding[e],this.charset.indexOf(e)},de.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},de.prototype.glyphIndexToName=function(e){return this.names[e]};var pe=function(e,t,n,r,o){e.beginPath(),e.moveTo(t,n),e.lineTo(r,o),e.stroke()};function he(e){this.bindConstructorValues(e)}function fe(e,t,n){Object.defineProperty(e,t,{get:function(){return e.path,e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})}function me(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++)this.glyphs[n]=t[n];this.length=t&&t.length||0}he.prototype.bindConstructorValues=function(e){var t;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(e=e.path,t=e||new C,{configurable:!0,get:function(){return t="function"==typeof t?t():t},set:function(e){t=e}}))},he.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},he.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},he.prototype.getPath=function(e,t,n,r,o){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72;for(var i,a,s=(r=r||{}).xScale,l=r.yScale,u=((i=r.hinting&&o&&o.hinting?this.path&&o.hinting.exec(this,n):i)?(a=o.hinting.getCommands(i),e=Math.round(e),t=Math.round(t),s=l=1):(a=this.path.commands,r=1/this.path.unitsPerEm*n,void 0===s&&(s=r),void 0===l&&(l=r)),new C),c=0;c<a.length;c+=1){var d=a[c];"M"===d.type?u.moveTo(e+d.x*s,t+-d.y*l):"L"===d.type?u.lineTo(e+d.x*s,t+-d.y*l):"Q"===d.type?u.quadraticCurveTo(e+d.x1*s,t+-d.y1*l,e+d.x*s,t+-d.y*l):"C"===d.type?u.curveTo(e+d.x1*s,t+-d.y1*l,e+d.x2*s,t+-d.y2*l,e+d.x*s,t+-d.y*l):"Z"===d.type&&u.closePath()}return u},he.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return A.argument(0===t.length,"There are still points left in the current contour."),e},he.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var o=e[r];"Z"!==o.type&&(t.push(o.x),n.push(o.y)),"Q"!==o.type&&"C"!==o.type||(t.push(o.x1),n.push(o.y1)),"C"===o.type&&(t.push(o.x2),n.push(o.y2))}var i={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(i.xMin)||(i.xMin=0),isFinite(i.xMax)||(i.xMax=this.advanceWidth),isFinite(i.yMin)||(i.yMin=0),isFinite(i.yMax)||(i.yMax=0),i.rightSideBearing=this.advanceWidth-i.leftSideBearing-(i.xMax-i.xMin),i},he.prototype.draw=function(e,t,n,r,o){this.getPath(t,n,r,o).draw(e)},he.prototype.drawPoints=function(e,t,n,r){function o(t,n,r,o){var i=2*Math.PI;e.beginPath();for(var a=0;a<t.length;a+=1)e.moveTo(n+t[a].x*o,r+t[a].y*o),e.arc(n+t[a].x*o,r+t[a].y*o,2,0,i,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,r=1/this.path.unitsPerEm*(r=void 0!==r?r:24);for(var i=[],a=[],s=this.path,l=0;l<s.commands.length;l+=1){var u=s.commands[l];void 0!==u.x&&i.push({x:u.x,y:-u.y}),void 0!==u.x1&&a.push({x:u.x1,y:-u.y1}),void 0!==u.x2&&a.push({x:u.x2,y:-u.y2})}e.fillStyle="blue",o(i,t,n,r),e.fillStyle="red",o(a,t,n,r)},he.prototype.drawMetrics=function(e,t,n,r){t=void 0!==t?t:0,n=void 0!==n?n:0,r=1/this.path.unitsPerEm*(r=void 0!==r?r:24),e.lineWidth=1,e.strokeStyle="black",pe(e,t,-1e4,t,1e4),pe(e,-1e4,n,1e4,n);var o=this.xMin||0,i=this.yMin||0,a=this.xMax||0,s=this.yMax||0,l=this.advanceWidth||0;e.strokeStyle="blue",pe(e,t+o*r,-1e4,t+o*r,1e4),pe(e,t+a*r,-1e4,t+a*r,1e4),pe(e,-1e4,n+-i*r,1e4,n+-i*r),pe(e,-1e4,n+-s*r,1e4,n+-s*r),e.strokeStyle="green",pe(e,t+l*r,-1e4,t+l*r,1e4)},me.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},me.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var ge={GlyphSet:me,glyphLoader:function(e,t){return new he({index:t,font:e})},ttfGlyphLoader:function(e,t,n,r,o,i){return function(){var a=new he({index:t,font:e});return a.path=function(){n(a,r,o);var t=i(e.glyphs,a);return t.unitsPerEm=e.unitsPerEm,t},fe(a,"xMin","_xMin"),fe(a,"xMax","_xMax"),fe(a,"yMin","_yMin"),fe(a,"yMax","_yMax"),a}},cffGlyphLoader:function(e,t,n,r){return function(){var o=new he({index:t,font:e});return o.path=function(){var t=n(e,o,r);return t.unitsPerEm=e.unitsPerEm,t},o}}};function be(e){return e.length<1240?107:e.length<33900?1131:32768}function ye(e,t,n){var r,o=[],i=[],a=ne.getCard16(e,t);if(0!==a){for(var s=ne.getByte(e,t+2),l=t+(a+1)*s+2,u=t+3,c=0;c<a+1;c+=1)o.push(ne.getOffset(e,u,s)),u+=s;r=l+o[a]}else r=t+2;for(var d=0;d<o.length-1;d+=1){var p=ne.getBytes(e,l+o[d],l+o[d+1]);n&&(p=n(p)),i.push(p)}return{objects:i,startOffset:t,endOffset:r}}function ve(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t){for(var n=e,r="",o=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=(a=n.parseByte())>>4,a=15&a;if(15==i)break;if(r+=o[i],15==a)break;r+=o[a]}return parseFloat(r)}if(32<=t&&t<=246)return t-139;if(247<=t&&t<=250)return 256*(t-247)+e.parseByte()+108;if(251<=t&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function xe(e,t,n){var r=new ne.Parser(e,t=void 0!==t?t:0),o=[],i=[];for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var a=r.parseByte();a<=21?(12===a&&(a=1200+r.parseByte()),o.push([a,i]),i=[]):i.push(ve(r,a))}for(var s=o,l={},u=0;u<s.length;u+=1){var c=s[u][0],d=s[u][1],p=1===d.length?d[0]:d;if(l.hasOwnProperty(c)&&!isNaN(l[c]))throw new Error("Object "+l+" already has key "+c);l[c]=p}return l}function we(e,t){return t<=390?oe[t]:e[t-391]}function ke(e,t,n){for(var r,o={},i=0;i<t.length;i+=1){var a=t[i];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var l=0;l<a.type.length;l++)void 0===(r=void 0!==e[a.op]?e[a.op][l]:void 0)&&(r=void 0!==a.value&&void 0!==a.value[l]?a.value[l]:null),"SID"===a.type[l]&&(r=we(n,r)),s[l]=r;o[a.name]=s}else void 0===(r=e[a.op])&&(r=void 0!==a.value?a.value:null),"SID"===a.type&&(r=we(n,r)),o[a.name]=r}return o}var _e=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Se=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ee(e,t,n,r){return ke(xe(e,t,n),Se,r)}function Te(e,t,n,r){for(var o=[],i=0;i<n.length;i+=1){var a,s=((s=r,a=ke(xe(a=new DataView(new Uint8Array(n[i]).buffer),0,a.byteLength),_e,s))._subrs=[],a._subrsBias=0,a.private[0]),l=a.private[1];0!==s&&0!==l&&(s=Ee(e,l+t,s,r),a._defaultWidthX=s.defaultWidthX,a._nominalWidthX=s.nominalWidthX,0!==s.subrs&&(l=ye(e,l+s.subrs+t),a._subrs=l.objects,a._subrsBias=be(a._subrs)),a._privateDict=s),o.push(a)}return o}function Ce(e,t,n){var r,o,i,a,s,l,u,c,d,p=new C,h=[],f=0,m=!1,g=!1,b=0,y=0,v=(d=(e.isCIDFont?(s=e.tables.cff.topDict._fdSelect[t.index],s=e.tables.cff.topDict._fdArray[s],l=s._subrs,u=s._subrsBias,c=s._defaultWidthX,s):(l=e.tables.cff.topDict._subrs,u=e.tables.cff.topDict._subrsBias,c=e.tables.cff.topDict._defaultWidthX,e.tables.cff.topDict))._nominalWidthX,c);function x(e,t){g&&p.closePath(),p.moveTo(e,t),g=!0}function w(){h.length%2==0||m||(v=h.shift()+d),f+=h.length>>1,h.length=0,m=!0}return function n(s){for(var c,k,_,S,E,T,C,I,j,A,O,N,R=0;R<s.length;){var P=s[R];switch(R+=1,P){case 1:case 3:case 18:case 23:w();break;case 4:1<h.length&&!m&&(v=h.shift()+d,m=!0),y+=h.pop(),x(b,y);break;case 5:for(;0<h.length;)b+=h.shift(),y+=h.shift(),p.lineTo(b,y);break;case 6:for(;0<h.length&&(b+=h.shift(),p.lineTo(b,y),0!==h.length);)y+=h.shift(),p.lineTo(b,y);break;case 7:for(;0<h.length&&(y+=h.shift(),p.lineTo(b,y),0!==h.length);)b+=h.shift(),p.lineTo(b,y);break;case 8:for(;0<h.length;)r=b+h.shift(),o=y+h.shift(),i=r+h.shift(),a=o+h.shift(),b=i+h.shift(),y=a+h.shift(),p.curveTo(r,o,i,a,b,y);break;case 10:E=h.pop()+u,(T=l[E])&&n(T);break;case 11:return;case 12:switch(P=s[R],R+=1,P){case 35:r=b+h.shift(),o=y+h.shift(),i=r+h.shift(),a=o+h.shift(),C=i+h.shift(),I=a+h.shift(),j=C+h.shift(),A=I+h.shift(),O=j+h.shift(),N=A+h.shift(),b=O+h.shift(),y=N+h.shift(),h.shift(),p.curveTo(r,o,i,a,C,I),p.curveTo(j,A,O,N,b,y);break;case 34:r=b+h.shift(),o=y,i=r+h.shift(),a=o+h.shift(),C=i+h.shift(),I=a,j=C+h.shift(),A=a,O=j+h.shift(),N=y,b=O+h.shift(),p.curveTo(r,o,i,a,C,I),p.curveTo(j,A,O,N,b,y);break;case 36:r=b+h.shift(),o=y+h.shift(),i=r+h.shift(),a=o+h.shift(),C=i+h.shift(),I=a,j=C+h.shift(),A=a,O=j+h.shift(),N=A+h.shift(),b=O+h.shift(),p.curveTo(r,o,i,a,C,I),p.curveTo(j,A,O,N,b,y);break;case 37:r=b+h.shift(),o=y+h.shift(),i=r+h.shift(),a=o+h.shift(),C=i+h.shift(),I=a+h.shift(),j=C+h.shift(),A=I+h.shift(),O=j+h.shift(),N=A+h.shift(),Math.abs(O-b)>Math.abs(N-y)?b=O+h.shift():y=N+h.shift(),p.curveTo(r,o,i,a,C,I),p.curveTo(j,A,O,N,b,y);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+P),h.length=0}break;case 14:0<h.length&&!m&&(v=h.shift()+d,m=!0),g&&(p.closePath(),g=!1);break;case 19:case 20:w(),R+=f+7>>3;break;case 21:2<h.length&&!m&&(v=h.shift()+d,m=!0),y+=h.pop(),x(b+=h.pop(),y);break;case 22:1<h.length&&!m&&(v=h.shift()+d,m=!0),x(b+=h.pop(),y);break;case 24:for(;2<h.length;)r=b+h.shift(),o=y+h.shift(),i=r+h.shift(),a=o+h.shift(),b=i+h.shift(),y=a+h.shift(),p.curveTo(r,o,i,a,b,y);b+=h.shift(),y+=h.shift(),p.lineTo(b,y);break;case 25:for(;6<h.length;)b+=h.shift(),y+=h.shift(),p.lineTo(b,y);r=b+h.shift(),o=y+h.shift(),i=r+h.shift(),a=o+h.shift(),b=i+h.shift(),y=a+h.shift(),p.curveTo(r,o,i,a,b,y);break;case 26:for(h.length%2&&(b+=h.shift());0<h.length;)r=b,o=y+h.shift(),i=r+h.shift(),a=o+h.shift(),b=i,y=a+h.shift(),p.curveTo(r,o,i,a,b,y);break;case 27:for(h.length%2&&(y+=h.shift());0<h.length;)r=b+h.shift(),o=y,i=r+h.shift(),a=o+h.shift(),b=i+h.shift(),y=a,p.curveTo(r,o,i,a,b,y);break;case 28:c=s[R],k=s[R+1],h.push((c<<24|k<<16)>>16),R+=2;break;case 29:E=h.pop()+e.gsubrsBias,(T=e.gsubrs[E])&&n(T);break;case 30:for(;0<h.length&&(r=b,o=y+h.shift(),i=r+h.shift(),a=o+h.shift(),b=i+h.shift(),y=a+(1===h.length?h.shift():0),p.curveTo(r,o,i,a,b,y),0!==h.length);)r=b+h.shift(),o=y,i=r+h.shift(),a=o+h.shift(),y=a+h.shift(),b=i+(1===h.length?h.shift():0),p.curveTo(r,o,i,a,b,y);break;case 31:for(;0<h.length&&(r=b+h.shift(),o=y,i=r+h.shift(),a=o+h.shift(),y=a+h.shift(),b=i+(1===h.length?h.shift():0),p.curveTo(r,o,i,a,b,y),0!==h.length);)r=b,o=y+h.shift(),i=r+h.shift(),a=o+h.shift(),b=i+h.shift(),y=a+(1===h.length?h.shift():0),p.curveTo(r,o,i,a,b,y);break;default:P<32?console.log("Glyph "+t.index+": unknown operator "+P):P<247?h.push(P-139):P<251?(c=s[R],R+=1,h.push(256*(P-247)+c+108)):P<255?(c=s[R],R+=1,h.push(256*-(P-251)-c-108)):(c=s[R],k=s[R+1],_=s[R+2],S=s[R+3],R+=4,h.push((c<<24|k<<16|_<<8|S)/65536))}}}(n),t.advanceWidth=v,p}function Ie(e,t){var n,r=oe.indexOf(e);return 0<=r&&(n=r),0<=(r=t.indexOf(e))?n=r+oe.length:(n=oe.length+t.length,t.push(e)),n}function je(e,t,n){for(var r={},o=0;o<e.length;o+=1){var i=e[o],a=t[i.name];void 0===a||function e(t,n){if(t===n)return 1;if(Array.isArray(t)&&Array.isArray(n)&&t.length===n.length){for(var r=0;r<t.length;r+=1)if(!e(t[r],n[r]))return;return 1}}(a,i.value)||("SID"===i.type&&(a=Ie(a,n)),r[i.op]={name:i.name,type:i.type,value:a})}return r}function Ae(e,t){var n=new X.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=je(_e,e,t),n}function Oe(e){var t=new X.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}var Ne=function(e,t){var n={};return e=new ne.Parser(e,t),n.version=e.parseVersion(),n.fontRevision=Math.round(1e3*e.parseFixed())/1e3,n.checkSumAdjustment=e.parseULong(),n.magicNumber=e.parseULong(),A.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=e.parseUShort(),n.unitsPerEm=e.parseUShort(),n.created=e.parseLongDateTime(),n.modified=e.parseLongDateTime(),n.xMin=e.parseShort(),n.yMin=e.parseShort(),n.xMax=e.parseShort(),n.yMax=e.parseShort(),n.macStyle=e.parseUShort(),n.lowestRecPPEM=e.parseUShort(),n.fontDirectionHint=e.parseShort(),n.indexToLocFormat=e.parseShort(),n.glyphDataFormat=e.parseShort(),n},Re=function(e,t){var n={};return e=new ne.Parser(e,t),n.version=e.parseVersion(),n.ascender=e.parseShort(),n.descender=e.parseShort(),n.lineGap=e.parseShort(),n.advanceWidthMax=e.parseUShort(),n.minLeftSideBearing=e.parseShort(),n.minRightSideBearing=e.parseShort(),n.xMaxExtent=e.parseShort(),n.caretSlopeRise=e.parseShort(),n.caretSlopeRun=e.parseShort(),n.caretOffset=e.parseShort(),e.relativeOffset+=8,n.metricDataFormat=e.parseShort(),n.numberOfHMetrics=e.parseUShort(),n},Pe=function(e,t){for(var n=new ne.Parser(e,t),r=n.parseULong(),o=(A.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1),n.parseULong()),i=[],a=0;a<o;a++){for(var s="",l=t+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)s+=String.fromCharCode(e.getInt8(c));i.push(s)}return i},Me=function(e,t){var n={};return e=new ne.Parser(e,t),n.version=e.parseVersion(),n.numGlyphs=e.parseUShort(),1===n.version&&(n.maxPoints=e.parseUShort(),n.maxContours=e.parseUShort(),n.maxCompositePoints=e.parseUShort(),n.maxCompositeContours=e.parseUShort(),n.maxZones=e.parseUShort(),n.maxTwilightPoints=e.parseUShort(),n.maxStorage=e.parseUShort(),n.maxFunctionDefs=e.parseUShort(),n.maxInstructionDefs=e.parseUShort(),n.maxStackElements=e.parseUShort(),n.maxSizeOfInstructions=e.parseUShort(),n.maxComponentElements=e.parseUShort(),n.maxComponentDepth=e.parseUShort()),n},De=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Le={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Fe={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Be={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},$e="utf-16",ze={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ue={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Ve(e,t,n){switch(e){case 0:return $e;case 1:return Ue[n]||ze[t];case 3:if(1===t||10===t)return $e}}function Ge(e){var t,n={};for(t in e)n[e[t]]=parseInt(t);return n}function We(e,t,n,r,o,i){return new X.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:o},{name:"offset",type:"USHORT",value:i}])}function He(e,t){if((n=function(e,t){var n=e.length,r=t.length-n+1;e:for(var o=0;o<r;o++)for(;o<r;o++){for(var i=0;i<n;i++)if(t[o+i]!==e[i])continue e;return o}return-1}(e,t))<0)for(var n=t.length,r=0,o=e.length;r<o;++r)t.push(e[r]);return n}var qe=function(e,t){var n,r=[],o={},i=Ge(De);for(n in e){var a=i[n];if(void 0===a&&(a=n),p=parseInt(a),isNaN(p))throw new Error('Name table entry "'+n+'" does not exist, see nameTableNames for complete list.');o[p]=e[n],r.push(p)}for(var s=Ge(Le),l=Ge(Be),u=[],c=[],d=0;d<r.length;d++){var p,h,f=o[p=r[d]];for(h in f){var m=f[h],g=1,b=s[h],y=Fe[b],v=Ve(g,y,b),x=(void 0===(v=N.MACSTRING(m,v))&&(g=0,(b=t.indexOf(h))<0&&(b=t.length,t.push(h)),y=4,v=N.UTF16(m)),He(v,c));void 0!==(u.push(We(g,y,b,p,v.length,x)),g=l[h])&&(b=He(y=N.UTF16(m),c),u.push(We(3,1,g,p,y.length,b)))}}u.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var w=new X.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+12*u.length}]),k=0;k<u.length;k++)w.fields.push({name:"record_"+k,type:"RECORD",value:u[k]});return w.fields.push({name:"strings",type:"LITERAL",value:c}),w},Xe=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Ye=function(e,t){var n={},r=new ne.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var o=0;o<10;o++)n.panose[o]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),1<=n.version&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),2<=n.version&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},Ke=function(e){for(var t=0;t<Xe.length;t+=1){var n=Xe[t];if(e>=n.begin&&e<n.end)return t}return-1},Ze=function(e,t){var n={},r=new ne.Parser(e,t);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=se.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var o=0;o<n.numberOfGlyphs;o++)n.glyphNameIndex[o]=r.parseUShort();n.names=[];for(var i,a=0;a<n.numberOfGlyphs;a++)n.glyphNameIndex[a]>=se.length&&(i=r.parseChar(),n.names.push(r.parseString(i)));break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar()}return n},Je=new Array(9),Qe=(Je[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ee.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(ee.coverage),substitute:this.parseOffset16List()}:void A.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},Je[2]=function(){var e=this.parseUShort();return A.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ee.coverage),sequences:this.parseListOfLists()}},Je[3]=function(){var e=this.parseUShort();return A.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ee.coverage),alternateSets:this.parseListOfLists()}},Je[4]=function(){var e=this.parseUShort();return A.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ee.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}},{sequenceIndex:ee.uShort,lookupListIndex:ee.uShort});Je[5]=function(){var e,t,n=this.offset+this.relativeOffset,r=this.parseUShort();return 1===r?{substFormat:r,coverage:this.parsePointer(ee.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,Qe)}}))}:2===r?{substFormat:r,coverage:this.parsePointer(ee.coverage),classDef:this.parsePointer(ee.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,Qe)}}))}:3===r?(e=this.parseUShort(),t=this.parseUShort(),{substFormat:r,coverages:this.parseList(e,ee.pointer(ee.coverage)),lookupRecords:this.parseRecordList(t,Qe)}):void A.assert(!1,"0x"+n.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Je[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ee.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Qe)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(ee.coverage),backtrackClassDef:this.parsePointer(ee.classDef),inputClassDef:this.parsePointer(ee.classDef),lookaheadClassDef:this.parsePointer(ee.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Qe)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(ee.pointer(ee.coverage)),inputCoverage:this.parseList(ee.pointer(ee.coverage)),lookaheadCoverage:this.parseList(ee.pointer(ee.coverage)),lookupRecords:this.parseRecordList(Qe)}:void A.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Je[7]=function(){var e=this.parseUShort(),t=(A.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1"),e=this.parseUShort(),new ee(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:e,extension:Je[e].call(t)}},Je[8]=function(){var e=this.parseUShort();return A.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ee.coverage),backtrackCoverage:this.parseList(ee.pointer(ee.coverage)),lookaheadCoverage:this.parseList(ee.pointer(ee.coverage)),substitutes:this.parseUShortList()}};var et=new Array(9);function tt(e){return Math.log(e)/Math.log(2)|0}function nt(e){for(;e.length%4!=0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%Math.pow(2,32)}function rt(e,t,n,r){return new X.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function ot(e){for(var t=new X.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),n=(t.tables=e,t.numTables=e.length,Math.pow(2,tt(t.numTables))),r=(t.searchRange=16*n,t.entrySelector=tt(n),t.rangeShift=16*t.numTables-t.searchRange,[]),o=[],i=t.sizeOf()+rt().sizeOf()*t.numTables;i%4!=0;)i+=1,o.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var s=e[a],l=(A.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid."),s.sizeOf()),u=rt(s.tableName,nt(s.encode()),i,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),o.push({name:s.tableName+" table",type:"RECORD",value:s}),i+=l,A.argument(!isNaN(i),"Something went wrong calculating the offset.");i%4!=0;)i+=1,o.push({name:"padding",type:"BYTE",value:0})}return r.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(r),t.fields=t.fields.concat(o),t}function it(e,t,n){for(var r=0;r<t.length;r+=1){var o=e.charToGlyphIndex(t[r]);if(0<o)return e.glyphs.get(o).getMetrics()}return n}et[1]=function(e){return 1===e.substFormat?new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)}].concat(X.ushortList("substitute",e.substitute)))},et[3]=function(e){return A.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)}].concat(X.tableList("altSet",e.alternateSets,(function(e){return new X.Table("alternateSetTable",X.ushortList("alternate",e))}))))},et[4]=function(e){return A.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new X.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new X.Coverage(e.coverage)}].concat(X.tableList("ligSet",e.ligatureSets,(function(e){return new X.Table("ligatureSetTable",X.tableList("ligature",e,(function(e){return new X.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(X.ushortList("component",e.components,e.components.length+1)))})))}))))};function at(e,t){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>>1,i=e[o].tag;if(i===t)return o;i<t?n=1+o:r=o-1}return-n-1}function st(e,t){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>>1,i=e[o];if(i===t)return o;i<t?n=1+o:r=o-1}return-n-1}function lt(e,t){for(var n=0,r=e.length-1;n<=r;){var o,i=n+r>>>1,a=(o=e[i]).start;if(a===t)return o;a<t?n=1+i:r=i-1}if(0<n)return t>(o=e[n-1]).end?0:o}function ut(e,t){this.font=e,this.tableName=t}function ct(e){ut.call(this,e,"gpos")}function dt(e){ut.call(this,e,"gsub")}function pt(e,t,n){for(var r=e.subtables,o=0;o<r.length;o++){var i=r[o];if(i.substFormat===t)return i}if(n)return r.push(n),n}function ht(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t}function ft(e,t){if(!e)throw t}function mt(e,t,n,r,o){var i=0<(t&r)?(i=e.parseByte(),n+(i=0==(t&o)?-i:i)):0<(t&o)?n:n+e.parseShort();return i}function gt(e,t,n){var r,o=new ne.Parser(t,n);if(e.numberOfContours=o.parseShort(),e._xMin=o.parseShort(),e._yMin=o.parseShort(),e._xMax=o.parseShort(),e._yMax=o.parseShort(),0<e.numberOfContours){for(var i=e.endPointIndices=[],a=0;a<e.numberOfContours;a+=1)i.push(o.parseUShort());e.instructionLength=o.parseUShort(),e.instructions=[];for(var s=0;s<e.instructionLength;s+=1)e.instructions.push(o.parseByte());for(var l=i[i.length-1]+1,u=[],c=0;c<l;c+=1)if(r=o.parseByte(),u.push(r),0<(8&r))for(var d=o.parseByte(),p=0;p<d;p+=1)u.push(r),c+=1;if(A.argument(u.length===l,"Bad flags."),0<i.length){var h,f=[];if(0<l){for(var m=0;m<l;m+=1)r=u[m],(h={}).onCurve=!!(1&r),h.lastPointOfContour=0<=i.indexOf(m),f.push(h);for(var g=0,b=0;b<l;b+=1)r=u[b],(h=f[b]).x=mt(o,r,g,2,16),g=h.x;for(var y=0,v=0;v<l;v+=1)r=u[v],(h=f[v]).y=mt(o,r,y,4,32),y=h.y}e.points=f}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var x=!0;x;){u=o.parseUShort();var w={glyphIndex:o.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&u)?0<(2&u)?(w.dx=o.parseShort(),w.dy=o.parseShort()):w.matchedPoints=[o.parseUShort(),o.parseUShort()]:0<(2&u)?(w.dx=o.parseChar(),w.dy=o.parseChar()):w.matchedPoints=[o.parseByte(),o.parseByte()],0<(8&u)?w.xScale=w.yScale=o.parseF2Dot14():0<(64&u)?(w.xScale=o.parseF2Dot14(),w.yScale=o.parseF2Dot14()):0<(128&u)&&(w.xScale=o.parseF2Dot14(),w.scale01=o.parseF2Dot14(),w.scale10=o.parseF2Dot14(),w.yScale=o.parseF2Dot14()),e.components.push(w),x=!!(32&u)}if(256&u){e.instructionLength=o.parseUShort(),e.instructions=[];for(var k=0;k<e.instructionLength;k+=1)e.instructions.push(o.parseByte())}}}function bt(e,t){for(var n=[],r=0;r<e.length;r+=1){var o=e[r];o={x:t.xScale*o.x+t.scale01*o.y+t.dx,y:t.scale10*o.x+t.yScale*o.y+t.dy,onCurve:o.onCurve,lastPointOfContour:o.lastPointOfContour},n.push(o)}return n}function yt(e){var t=new C;if(e)for(var n=function(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var o=e[r];n.push(o),o.lastPointOfContour&&(t.push(n),n=[])}return A.argument(0===n.length,"There are still points left in the current contour."),t}(e),r=0;r<n.length;++r){var o,i=n[r],a=i[i.length-1],s=i[0];a.onCurve?t.moveTo(a.x,a.y):s.onCurve?t.moveTo(s.x,s.y):(o={x:.5*(a.x+s.x),y:.5*(a.y+s.y)},t.moveTo(o.x,o.y));for(var l=0;l<i.length;++l){var u,c=a;a=s,s=i[(l+1)%i.length],a.onCurve?t.lineTo(a.x,a.y):(u=s,c.onCurve||(a.x,c.x,a.y,c.y),s.onCurve||(u={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),t.quadraticCurveTo(a.x,a.y,u.x,u.y))}t.closePath()}return t}function vt(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],o=e.get(r.glyphIndex);if(o.getPath(),o.points){var i=void 0;if(void 0===r.matchedPoints)i=bt(o.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>o.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[r.matchedPoints[0]],s=bt([s=o.points[r.matchedPoints[1]]],r={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0})[0];r.dx=a.x-s.x,r.dy=a.y-s.y,i=bt(o.points,r)}t.points=t.points.concat(i)}}return yt(t.points)}(ct.prototype=ut.prototype={searchTag:at,binSearch:st,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e?this.font.tables[this.tableName]=this.createDefaultTable():t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var r=e.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var n,r=this.getTable(t);if(r)return n=r.scripts,0<=(r=at(r.scripts,e=e||"DFLT"))?n[r].script:t?(n.splice(-1-r,0,t={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),t.script):void 0},getLangSysTable:function(e,t,n){var r;if(e=this.getScriptTable(e,n))return t&&"dflt"!==t&&"DFLT"!==t?0<=(r=at(e.langSysRecords,t))?e.langSysRecords[r].langSys:n?(e.langSysRecords.splice(-1-r,0,n={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),n.langSys):void 0:e.defaultLangSys},getFeatureTable:function(e,t,n,r){if(e=this.getLangSysTable(e,t,r)){for(var o,i=e.featureIndexes,a=this.font.tables[this.tableName].features,s=0;s<i.length;s++)if((o=a[i[s]]).tag===n)return o.feature;if(r)return t=a.length,A.assert(0===t||n>=a[t-1].tag,"Features must be added in alphabetical order."),a.push(o={tag:n,feature:{params:0,lookupListIndexes:[]}}),i.push(t),o.feature}},getLookupTables:function(e,t,n,r,o){var i=[];if(e=this.getFeatureTable(e,t,n,o)){for(var a,s=e.lookupListIndexes,l=this.font.tables[this.tableName].lookups,u=0;u<s.length;u++)(a=l[s[u]]).lookupType===r&&i.push(a);if(0===i.length&&o)return t=l.length,l.push(a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0}),s.push(t),[a]}return i},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=lt(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=st(e.glyphs,t);return 0<=n?n:-1;case 2:return(n=lt(e.ranges,t))?n.index+t-n.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],n=e.ranges,r=0;r<n.length;r++)for(var o=n[r],i=o.start,a=o.end,s=i;s<=a;s++)t.push(s);return t}}).init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},ct.prototype.getKerningValue=function(e,t,n){for(var r=0;r<e.length;r++)for(var o=e[r].subtables,i=0;i<o.length;i++){var a=o[i],s=this.getCoverageIndex(a.coverage,t);if(!(s<0))switch(a.posFormat){case 1:for(var l=a.pairSets[s],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(a.classDef1,t),p=this.getGlyphClass(a.classDef2,n);return(d=a.classRecords[d][p]).value1&&d.value1.xAdvance||0}}return 0},ct.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},(dt.prototype=ut.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},dt.prototype.getSingle=function(e,t,n){for(var r=[],o=this.getLookupTables(t,n,e,1),i=0;i<o.length;i++)for(var a=o[i].subtables,s=0;s<a.length;s++){var l=a[s],u=this.expandCoverage(l.coverage),c=void 0;if(1===l.substFormat){var d=l.deltaGlyphId;for(c=0;c<u.length;c++){var p=u[c];r.push({sub:p,by:p+d})}}else{var h=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:h[c]})}}return r},dt.prototype.getAlternates=function(e,t,n){for(var r=[],o=this.getLookupTables(t,n,e,3),i=0;i<o.length;i++)for(var a=o[i].subtables,s=0;s<a.length;s++)for(var l=a[s],u=this.expandCoverage(l.coverage),c=l.alternateSets,d=0;d<u.length;d++)r.push({sub:u[d],by:c[d]});return r},dt.prototype.getLigatures=function(e,t,n){for(var r=[],o=this.getLookupTables(t,n,e,4),i=0;i<o.length;i++)for(var a=o[i].subtables,s=0;s<a.length;s++)for(var l=a[s],u=this.expandCoverage(l.coverage),c=l.ligatureSets,d=0;d<u.length;d++)for(var p=u[d],h=c[d],f=0;f<h.length;f++){var m=h[f];r.push({sub:[p].concat(m.components),by:m.ligGlyph})}return r},dt.prototype.addSingle=function(e,t,n,r){n=pt(this.getLookupTables(n,r,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),A.assert(1===n.coverage.format,"Ligature: unable to modify coverage table format "+n.coverage.format),r=t.sub,(e=this.binSearch(n.coverage.glyphs,r))<0&&(n.coverage.glyphs.splice(e=-1-e,0,r),n.substitute.splice(e,0,0)),n.substitute[e]=t.by},dt.prototype.addAlternate=function(e,t,n,r){n=pt(this.getLookupTables(n,r,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),A.assert(1===n.coverage.format,"Ligature: unable to modify coverage table format "+n.coverage.format),r=t.sub,(e=this.binSearch(n.coverage.glyphs,r))<0&&(n.coverage.glyphs.splice(e=-1-e,0,r),n.alternateSets.splice(e,0,0)),n.alternateSets[e]=t.by},dt.prototype.addLigature=function(e,t,n,r){(r=(n=this.getLookupTables(n,r,e,4,!0)[0]).subtables[0])||(n.subtables[0]=r={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),A.assert(1===r.coverage.format,"Ligature: unable to modify coverage table format "+r.coverage.format),e=t.sub[0];var o=t.sub.slice(1);if(n={ligGlyph:t.by,components:o},0<=(t=this.binSearch(r.coverage.glyphs,e))){for(var i=r.ligatureSets[t],a=0;a<i.length;a++)if(function(e,t){var n=e.length;if(n===t.length){for(var r=0;r<n;r++)if(e[r]!==t[r])return;return 1}}(i[a].components,o))return;i.push(n)}else r.coverage.glyphs.splice(t=-1-t,0,e),r.ligatureSets.splice(t,0,[n])},dt.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n)}},dt.prototype.add=function(e,t,n,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,r);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,n,r):this.addAlternate(e,t,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,r)}};var xt={getPath:yt,parse:function(e,t,n,r){for(var o=new ge.GlyphSet(r),i=0;i<n.length-1;i+=1){var a=n[i];a!==n[i+1]?o.push(i,ge.ttfGlyphLoader(r,i,gt,e,t+a,vt)):o.push(i,ge.glyphLoader(r,i))}return o}};function wt(e){this.font=e,this.getCommands=function(e){return xt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function kt(e){return e}function _t(e){return Math.sign(e)*Math.round(Math.abs(e))}function St(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Et(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Tt(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Ct(e){return Math.sign(e)*Math.floor(Math.abs(e))}function It(e){var t=this.srPeriod,n=this.srPhase,r=1;return e<0&&(e=-e,r=-1),e+=this.srThreshold-n,e=Math.trunc(e/t)*t,(e+=n)<0?n*r:e*r}var jt={x:1,y:0,axis:"x",distance:function(e,t,n,r){return(n?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,n,r){var o,i,a,s,l,u,c;if(!r||r===this)return o=e.xo-t.xo,i=e.xo-n.xo,l=t.x-t.xo,u=n.x-n.xo,0===(c=(a=Math.abs(o))+(s=Math.abs(i)))?void(e.x=e.xo+(l+u)/2):void(e.x=e.xo+(l*s+u*a)/c);o=r.distance(e,t,!0,!0),i=r.distance(e,n,!0,!0),l=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0===(c=(a=Math.abs(o))+(s=Math.abs(i)))?jt.setRelative(e,e,(l+u)/2,r,!0):jt.setRelative(e,e,(l*s+u*a)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,r,o){var i,a;r&&r!==this?(i=o?t.xo:t.x,a=o?t.yo:t.y,i+=n*r.x,a+=n*r.y,e.x=i+(e.y-a)/r.normalSlope):e.x=(o?t.xo:t.x)+n},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},At={x:0,y:1,axis:"y",distance:function(e,t,n,r){return(n?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,n,r){var o,i,a,s,l,u,c;if(!r||r===this)return o=e.yo-t.yo,i=e.yo-n.yo,l=t.y-t.yo,u=n.y-n.yo,0===(c=(a=Math.abs(o))+(s=Math.abs(i)))?void(e.y=e.yo+(l+u)/2):void(e.y=e.yo+(l*s+u*a)/c);o=r.distance(e,t,!0,!0),i=r.distance(e,n,!0,!0),l=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0===(c=(a=Math.abs(o))+(s=Math.abs(i)))?At.setRelative(e,e,(l+u)/2,r,!0):At.setRelative(e,e,(l*s+u*a)/c,r,!0)},normalSlope:0,setRelative:function(e,t,n,r,o){var i,a;r&&r!==this?(i=o?t.xo:t.x,a=o?t.yo:t.y,i+=n*r.x,a+=n*r.y,e.y=a+r.normalSlope*(e.x-i)):e.y=(o?t.yo:t.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Ot(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Nt(e,t){var n=Math.sqrt(e*e+t*t);return t/=n,1==(e/=n)&&0===t?jt:0===e&&1===t?At:new Ot(e,t)}function Rt(e,t,n,r){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(jt),Object.freeze(At),Ot.prototype.distance=function(e,t,n,r){return this.x*jt.distance(e,t,n,r)+this.y*At.distance(e,t,n,r)},Ot.prototype.interpolate=function(e,t,n,r){var o=r.distance(e,t,!0,!0),i=r.distance(e,n,!0,!0),a=(t=r.distance(t,t,!1,!0),n=r.distance(n,n,!1,!0),(o=Math.abs(o))+(i=Math.abs(i)));0===a?this.setRelative(e,e,(t+n)/2,r,!0):this.setRelative(e,e,(t*i+n*o)/a,r,!0)},Ot.prototype.setRelative=function(e,t,n,r,o){var i=o?t.xo:t.x,a=(o=o?t.yo:t.y,t=i+n*(r=r||this).x,i=o+n*r.y,o=r.normalSlope,n=this.slope,r=e.x,e.y);e.x=(n*r-o*t+i-a)/(n-o),e.y=n*(e.x-r)+a},Ot.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Rt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Rt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Pt=Object.freeze(new Rt(0,0)),Mt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Dt(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=jt,this.round=_t}}function Lt(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new Rt(0,0)}function Ft(e,t){var n,r=e.prog,o=e.ip,i=1;do{if(88===(n=r[++o]))i++;else if(89===n)i--;else if(64===n)o+=r[o+1]+1;else if(65===n)o+=2*r[o+1]+1;else if(176<=n&&n<=183)o+=n-176+1;else if(184<=n&&n<=191)o+=2*(n-184+1);else if(t&&1===i&&27===n)break}while(0<i);e.ip=o}function Bt(e,n){t.DEBUG&&console.log(n.step,"SVTCA["+e.axis+"]"),n.fv=n.pv=n.dpv=e}function $t(e,n){t.DEBUG&&console.log(n.step,"SPVTCA["+e.axis+"]"),n.pv=n.dpv=e}function zt(e,n){t.DEBUG&&console.log(n.step,"SFVTCA["+e.axis+"]"),n.fv=e}function Ut(e,n){var r,o=(i=n.stack).pop(),i=i.pop(),a=n.z2[o],s=n.z1[i];t.DEBUG&&console.log("SPVTL["+e+"]",o,i),o=e?(r=a.y-s.y,s.x-a.x):(r=s.x-a.x,s.y-a.y),n.pv=n.dpv=Nt(r,o)}function Vt(e,n){var r,o=(i=n.stack).pop(),i=i.pop(),a=n.z2[o],s=n.z1[i];t.DEBUG&&console.log("SFVTL["+e+"]",o,i),o=e?(r=a.y-s.y,s.x-a.x):(r=s.x-a.x,s.y-a.y),n.fv=Nt(r,o)}function Gt(e){t.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function Wt(e,n){var r=n.stack.pop(),o=n.z0[r],i=n.fv,a=n.pv,s=(t.DEBUG&&console.log(n.step,"MDAP["+e+"]",r),a.distance(o,Pt));e&&(s=n.round(s)),i.setRelative(o,Pt,s,a),i.touch(o),n.rp0=n.rp1=r}function Ht(e,n){var r,o,i,a=n.z2,s=a.length-2;t.DEBUG&&console.log(n.step,"IUP["+e.axis+"]");for(var l=0;l<s;l++)r=a[l],e.touched(r)||(o=r.prevTouched(e))!==r&&(o===(i=r.nextTouched(e))&&e.setRelative(r,r,e.distance(o,o,!1,!0),e,!0),e.interpolate(r,o,i,e))}function qt(e,n){for(var r=n.stack,o=e?n.rp1:n.rp2,i=(e?n.z0:n.z1)[o],a=n.fv,s=n.pv,l=n.loop,u=n.z2;l--;){var c=r.pop(),d=u[c],p=s.distance(i,i,!1,!0);a.setRelative(d,d,p,s),a.touch(d),t.DEBUG&&console.log(n.step,(1<n.loop?"loop "+(n.loop-l)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",c)}n.loop=1}function Xt(e,n){for(var r=n.stack,o=e?n.rp1:n.rp2,i=(e?n.z0:n.z1)[o],a=n.fv,s=n.pv,l=(o=r.pop(),n.z2[n.contours[o]]),u=l,c=(t.DEBUG&&console.log(n.step,"SHC["+e+"]",o),s.distance(i,i,!1,!0));u!==i&&a.setRelative(u,u,c,s),(u=u.nextPointOnContour)!==l;);}function Yt(e,n){var r,o,i=n.stack,a=e?n.rp1:n.rp2,s=(a=(e?n.z0:n.z1)[a],n.fv),l=n.pv;switch(i=i.pop(),t.DEBUG&&console.log(n.step,"SHZ["+e+"]",i),i){case 0:r=n.tZone;break;case 1:r=n.gZone;break;default:throw new Error("Invalid zone")}for(var u=l.distance(a,a,!1,!0),c=r.length-2,d=0;d<c;d++)o=r[d],s.setRelative(o,o,u,l)}function Kt(e,n){var r=(o=n.stack).pop()/64,o=o.pop(),i=n.z1[o],a=n.z0[n.rp0],s=n.fv,l=n.pv;s.setRelative(i,a,r,l),s.touch(i),t.DEBUG&&console.log(n.step,"MSIRP["+e+"]",r,o),n.rp1=n.rp0,n.rp2=o,e&&(n.rp0=o)}function Zt(e,n){var r=(o=n.stack).pop(),o=o.pop(),i=n.z0[o],a=n.fv,s=n.pv,l=n.cvt[r];t.DEBUG&&console.log(n.step,"MIAP["+e+"]",r,"(",l,")",o),r=s.distance(i,Pt),e&&(Math.abs(r-l)<n.cvCutIn&&(r=l),r=n.round(r)),a.setRelative(i,Pt,r,s),0===n.zp0&&(i.xo=i.x,i.yo=i.y),a.touch(i),n.rp0=n.rp1=o}function Jt(e,n){var r=n.stack,o=r.pop(),i=n.z2[o];t.DEBUG&&console.log(n.step,"GC["+e+"]",o),r.push(64*n.dpv.distance(i,Pt,e,!1))}function Qt(e,n){var r=(o=n.stack).pop(),o=o.pop(),i=n.z1[r],a=n.z0[o];a=n.dpv.distance(a,i,e,e),t.DEBUG&&console.log(n.step,"MD["+e+"]",r,o,"->",a),n.stack.push(Math.round(64*a))}function en(e,n){var r=n.stack,o=r.pop(),i=n.fv,a=n.pv,s=n.ppem,l=n.deltaBase+16*(e-1),u=n.deltaShift,c=n.z0;t.DEBUG&&console.log(n.step,"DELTAP["+e+"]",o,r);for(var d=0;d<o;d++){var p=r.pop(),h=r.pop();l+((240&h)>>4)===s&&(0<=(h=(15&h)-8)&&h++,t.DEBUG&&console.log(n.step,"DELTAPFIX",p,"by",h*u),p=c[p],i.setRelative(p,p,h*u,a))}}function tn(e,n){var r=n.stack,o=r.pop();t.DEBUG&&console.log(n.step,"ROUND[]"),r.push(64*n.round(o/64))}function nn(e,n){var r=n.stack,o=r.pop(),i=n.ppem,a=n.deltaBase+16*(e-1),s=n.deltaShift;t.DEBUG&&console.log(n.step,"DELTAC["+e+"]",o,r);for(var l=0;l<o;l++){var u=r.pop(),c=r.pop();a+((240&c)>>4)===i&&(0<=(c=(15&c)-8)&&c++,c*=s,t.DEBUG&&console.log(n.step,"DELTACFIX",u,"by",c),n.cvt[u]+=c)}}function rn(e,n){var r,o=(i=n.stack).pop(),i=i.pop(),a=n.z2[o],s=n.z1[i];t.DEBUG&&console.log(n.step,"SDPVTL["+e+"]",o,i),o=e?(r=a.y-s.y,s.x-a.x):(r=s.x-a.x,s.y-a.y),n.dpv=Nt(r,o)}function on(e,n){var r=n.stack,o=n.prog,i=n.ip;t.DEBUG&&console.log(n.step,"PUSHB["+e+"]");for(var a=0;a<e;a++)r.push(o[++i]);n.ip=i}function an(e,n){var r=n.ip,o=n.prog,i=n.stack;t.DEBUG&&console.log(n.ip,"PUSHW["+e+"]");for(var a=0;a<e;a++){var s=o[++r]<<8|o[++r];32768&s&&(s=-(1+(65535^s))),i.push(s)}n.ip=r}function sn(e,n,r,o,i,a){var s,l,u=a.stack,c=e&&u.pop(),d=(u=u.pop(),a.rp0),p=(d=a.z0[d],a.z1[u]),h=a.minDis,f=a.fv,m=a.dpv,g=s=m.distance(p,d,!0,!0),b=0<=g?1:-1;g=Math.abs(g),e&&(l=a.cvt[c],o&&Math.abs(g-l)<a.cvCutIn&&(g=l)),r&&g<h&&(g=h),o&&(g=a.round(g)),f.setRelative(p,d,b*g,m),f.touch(p),t.DEBUG&&console.log(a.step,(e?"MIRP[":"MDRP[")+(n?"M":"m")+(r?">":"_")+(o?"R":"_")+(0===i?"Gr":1===i?"Bl":2===i?"Wh":"")+"]",e?c+"("+a.cvt[c]+","+l+")":"",u,"(d =",s,"->",b*g,")"),a.rp1=a.rp0,a.rp2=u,n&&(a.rp0=u)}wt.prototype.exec=function(e,n){if("number"!=typeof n)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var r=this.font,o=this._prepState;if(!o||o.ppem!==n){var i=this._fpgmState;if(!i){Dt.prototype=Mt,(i=this._fpgmState=new Dt("fpgm",r.tables.fpgm)).funcs=[],i.font=r,t.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{cn(i)}catch(e){return console.log("Hinting error in FPGM:"+e),void(this._errorState=3)}}Dt.prototype=i,(o=this._prepState=new Dt("prep",r.tables.prep)).ppem=n;var a=r.tables.cvt;if(a)for(var s=o.cvt=new Array(a.length),l=n/r.unitsPerEm,u=0;u<a.length;u++)s[u]=a[u]*l;else o.cvt=[];t.DEBUG&&(console.log("---EXEC PREP---"),o.step=-1);try{cn(o)}catch(e){this._errorState<2&&console.log("Hinting error in PREP:"+e),this._errorState=2}}if(!(1<this._errorState))try{return ln(e,o)}catch(e){this._errorState<1&&(console.log("Hinting error:"+e),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var ln=function(e,n){var r=n.ppem/n.font.unitsPerEm,o=r,i=e.components;if(Dt.prototype=n,i){for(var a=n.font,s=[],l=[],u=0;u<i.length;u++){var c=i[u],d=a.glyphs.get(c.glyphIndex),p=new Dt("glyf",d.instructions);t.DEBUG&&(console.log("---EXEC COMP "+u+"---"),p.step=-1),un(d,p,r,o);for(var h=Math.round(c.dx*r),f=Math.round(c.dy*o),m=p.gZone,g=p.contours,b=0;b<m.length;b++){var y=m[b];y.xTouched=y.yTouched=!1,y.xo=y.x=y.x+h,y.yo=y.y=y.y+f}var v=s.length;s.push.apply(s,m);for(var x=0;x<g.length;x++)l.push(g[x]+v)}e.instructions&&!p.inhibitGridFit&&((p=new Dt("glyf",e.instructions)).gZone=p.z0=p.z1=p.z2=s,p.contours=l,s.push(new Rt(0,0),new Rt(Math.round(e.advanceWidth*r),0)),t.DEBUG&&(console.log("---EXEC COMPOSITE---"),p.step=-1),cn(p),s.length-=2)}else p=new Dt("glyf",e.instructions),t.DEBUG&&(console.log("---EXEC GLYPH---"),p.step=-1),un(e,p,r,o),s=p.gZone;return s},un=function(e,n,r,o){for(var i,a,s,l=e.points||[],u=l.length,c=n.gZone=n.z0=n.z1=n.z2=[],d=n.contours=[],p=0;p<u;p++)i=l[p],c[p]=new Rt(i.x*r,i.y*o,i.lastPointOfContour,i.onCurve);for(var h=0;h<u;h++)i=c[h],a||(a=i,d.push(h)),i.lastPointOfContour?((i.nextPointOnContour=a).prevPointOnContour=i,a=void 0):(s=c[h+1],(i.nextPointOnContour=s).prevPointOnContour=i);if(!n.inhibitGridFit){if(t.DEBUG){console.log("PROCESSING GLYPH",n.stack);for(var f=0;f<u;f++)console.log(f,c[f].x,c[f].y)}if(c.push(new Rt(0,0),new Rt(Math.round(e.advanceWidth*r),0)),cn(n),c.length-=2,t.DEBUG){console.log("FINISHED GLYPH",n.stack);for(var m=0;m<u;m++)console.log(m,c[m].x,c[m].y)}}},cn=function(e){var n=e.prog;if(n){var r,o=n.length;for(e.ip=0;e.ip<o;e.ip++){if(t.DEBUG&&e.step++,!(r=dn[n[e.ip]]))throw new Error("unknown instruction: 0x"+Number(n[e.ip]).toString(16));r(e)}}},dn=[Bt.bind(void 0,At),Bt.bind(void 0,jt),$t.bind(void 0,At),$t.bind(void 0,jt),zt.bind(void 0,At),zt.bind(void 0,jt),Ut.bind(void 0,0),Ut.bind(void 0,1),Vt.bind(void 0,0),Vt.bind(void 0,1),function(e){var n=(r=e.stack).pop(),r=r.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.pv=e.dpv=Nt(r,n)},function(e){var n=(r=e.stack).pop(),r=r.pop();t.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.fv=Nt(r,n)},function(e){var n=e.stack,r=e.pv;t.DEBUG&&console.log(e.step,"GPV[]"),n.push(16384*r.x),n.push(16384*r.y)},function(e){var n=e.stack,r=e.fv;t.DEBUG&&console.log(e.step,"GFV[]"),n.push(16384*r.x),n.push(16384*r.y)},function(e){e.fv=e.pv,t.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var n=(a=e.stack).pop(),r=a.pop(),o=a.pop(),i=a.pop(),a=a.pop(),s=e.z0,l=e.z1,u=s[n],c=(s=s[r],l[o]),d=(l=l[i],e=e.z2[a],t.DEBUG&&console.log("ISECT[], ",n,r,o,i,a),n=u.x,r=u.y,o=s.x,i=s.y,a=c.x,u=c.y,s=l.x,l=(n-o)*(u-(c=l.y))-(r-i)*(a-s),n*i-r*o),p=a*c-u*s;e.x=(d*(a-s)-p*(n-o))/l,e.y=(d*(u-c)-p*(r-i))/l},function(e){e.rp0=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),t.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP0[]",n),e.zp0=n){case 0:e.tZone||Lt(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP1[]",n),e.zp1=n){case 0:e.tZone||Lt(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZP2[]",n),e.zp2=n){case 0:e.tZone||Lt(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var n=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SZPS[]",n),e.zp0=e.zp1=e.zp2=n){case 0:e.tZone||Lt(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),t.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){t.DEBUG&&console.log(e.step,"RTG[]"),e.round=_t},function(e){t.DEBUG&&console.log(e.step,"RTHG[]"),e.round=Et},function(e){var n=e.stack.pop();t.DEBUG&&console.log(e.step,"SMD[]",n),e.minDis=n/64},function(e){t.DEBUG&&console.log(e.step,"ELSE[]"),Ft(e,!1)},function(e){var n=e.stack.pop();t.DEBUG&&console.log(e.step,"JMPR[]",n),e.ip+=n-1},function(e){var n=e.stack.pop();t.DEBUG&&console.log(e.step,"SCVTCI[]",n),e.cvCutIn=n/64},void 0,void 0,function(e){var n=e.stack;t.DEBUG&&console.log(e.step,"DUP[]"),n.push(n[n.length-1])},Gt,function(e){t.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"SWAP[]"),n.push(r),n.push(o)},function(e){var n=e.stack;t.DEBUG&&console.log(e.step,"DEPTH[]"),n.push(n.length)},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"CINDEX[]",r),n.push(n[n.length-r])},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"MINDEX[]",r),n.push(n.splice(n.length-r,1)[0])},void 0,void 0,void 0,function(e){var n=(o=e.stack).pop(),r=o.pop(),o=(t.DEBUG&&console.log(e.step,"LOOPCALL[]",n,r),e.ip),i=e.prog;e.prog=e.funcs[n];for(var a=0;a<r;a++)cn(e),t.DEBUG&&console.log(++e.step,a+1<r?"next loopcall":"done loopcall",a);e.ip=o,e.prog=i},function(e){var n=e.stack.pop(),r=(t.DEBUG&&console.log(e.step,"CALL[]",n),e.ip),o=e.prog;e.prog=e.funcs[n],cn(e),e.ip=r,e.prog=o,t.DEBUG&&console.log(++e.step,"returning from",n)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var n=e.stack,r=e.prog,o=e.ip,i=(n=n.pop(),o);for(t.DEBUG&&console.log(e.step,"FDEF[]",n);45!==r[++o];);e.ip=o,e.funcs[n]=r.slice(i+1,o)},void 0,Wt.bind(void 0,0),Wt.bind(void 0,1),Ht.bind(void 0,At),Ht.bind(void 0,jt),qt.bind(void 0,0),qt.bind(void 0,1),Xt.bind(void 0,0),Xt.bind(void 0,1),Yt.bind(void 0,0),Yt.bind(void 0,1),function(e){for(var n=e.stack,r=e.loop,o=e.fv,i=n.pop()/64,a=e.z2;r--;){var s=n.pop(),l=a[s];t.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",s,i),o.setRelative(l,l,i),o.touch(l)}e.loop=1},function(e){for(var n=e.stack,r=e.rp1,o=e.rp2,i=e.loop,a=e.z0[r],s=e.z1[o],l=e.fv,u=e.dpv,c=e.z2;i--;){var d=n.pop(),p=c[d];t.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-i)+": ":"")+"IP[]",d,r,"<->",o),l.interpolate(p,a,s,u),l.touch(p)}e.loop=1},Kt.bind(void 0,0),Kt.bind(void 0,1),function(e){for(var n=e.stack,r=e.rp0,o=e.z0[r],i=e.loop,a=e.fv,s=e.pv,l=e.z1;i--;){var u=n.pop(),c=l[u];t.DEBUG&&console.log(e.step,(1<e.loop?"loop "+(e.loop-i)+": ":"")+"ALIGNRP[]",u),a.setRelative(c,o,0,s),a.touch(c)}e.loop=1},function(e){t.DEBUG&&console.log(e.step,"RTDG[]"),e.round=St},Zt.bind(void 0,0),Zt.bind(void 0,1),function(e){var n=e.prog,r=e.ip,o=e.stack,i=n[++r];t.DEBUG&&console.log(e.step,"NPUSHB[]",i);for(var a=0;a<i;a++)o.push(n[++r]);e.ip=r},function(e){var n=e.ip,r=e.prog,o=e.stack,i=r[++n];t.DEBUG&&console.log(e.step,"NPUSHW[]",i);for(var a=0;a<i;a++){var s=r[++n]<<8|r[++n];32768&s&&(s=-(1+(65535^s))),o.push(s)}e.ip=n},function(e){var n=e.stack,r=(r=e.store)||(e.store=[]),o=n.pop();n=n.pop(),t.DEBUG&&console.log(e.step,"WS",o,n),r[n]=o},function(e){var n=e.stack,r=e.store,o=n.pop();t.DEBUG&&console.log(e.step,"RS",o),e=r&&r[o]||0,n.push(e)},function(e){var n=(r=e.stack).pop(),r=r.pop();t.DEBUG&&console.log(e.step,"WCVTP",n,r),e.cvt[r]=n/64},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"RCVT",r),n.push(64*e.cvt[r])},Jt.bind(void 0,0),Jt.bind(void 0,1),void 0,Qt.bind(void 0,0),Qt.bind(void 0,1),function(e){t.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){t.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"LT[]",r,o),n.push(o<r?1:0)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"LTEQ[]",r,o),n.push(o<=r?1:0)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"GT[]",r,o),n.push(r<o?1:0)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"GTEQ[]",r,o),n.push(r<=o?1:0)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"EQ[]",r,o),n.push(r===o?1:0)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"NEQ[]",r,o),n.push(r!==o?1:0)},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"ODD[]",r),n.push(Math.trunc(r)%2?1:0)},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"EVEN[]",r),n.push(Math.trunc(r)%2?0:1)},function(e){var n=e.stack.pop();t.DEBUG&&console.log(e.step,"IF[]",n),n||(Ft(e,!0),t.DEBUG&&console.log(e.step,"EIF[]"))},function(e){t.DEBUG&&console.log(e.step,"EIF[]")},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"AND[]",r,o),n.push(r&&o?1:0)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"OR[]",r,o),n.push(r||o?1:0)},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"NOT[]",r),n.push(r?0:1)},en.bind(void 0,1),function(e){var n=e.stack.pop();t.DEBUG&&console.log(e.step,"SDB[]",n),e.deltaBase=n},function(e){var n=e.stack.pop();t.DEBUG&&console.log(e.step,"SDS[]",n),e.deltaShift=Math.pow(.5,n)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"ADD[]",r,o),n.push(o+r)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"SUB[]",r,o),n.push(o-r)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"DIV[]",r,o),n.push(64*o/r)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"MUL[]",r,o),n.push(o*r/64)},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"ABS[]",r),n.push(Math.abs(r))},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"NEG[]",r),n.push(-r)},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"FLOOR[]",r),n.push(64*Math.floor(r/64))},function(e){var n=e.stack,r=n.pop();t.DEBUG&&console.log(e.step,"CEILING[]",r),n.push(64*Math.ceil(r/64))},tn.bind(void 0,0),tn.bind(void 0,1),tn.bind(void 0,2),tn.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var n=(r=e.stack).pop(),r=r.pop();t.DEBUG&&console.log(e.step,"WCVTF[]",n,r),e.cvt[r]=n*e.ppem/e.font.unitsPerEm},en.bind(void 0,2),en.bind(void 0,3),nn.bind(void 0,1),nn.bind(void 0,2),nn.bind(void 0,3),function(e){var n,r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"SROUND[]",r),e.round=It,192&r){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=n,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*n;break;case 32:e.srPhase=.5*n;break;case 48:e.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e.srThreshold=0==(r&=15)?0:(r/8-.5)*n},function(e){var n,r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"S45ROUND[]",r),e.round=It,192&r){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=n,48&r){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*n;break;case 32:e.srPhase=.5*n;break;case 48:e.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e.srThreshold=0==(r&=15)?0:(r/8-.5)*n},void 0,void 0,function(e){t.DEBUG&&console.log(e.step,"ROFF[]"),e.round=kt},void 0,function(e){t.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Tt},function(e){t.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Ct},Gt,Gt,void 0,void 0,void 0,void 0,void 0,function(e){var n=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANCTRL[]",n)},rn.bind(void 0,0),rn.bind(void 0,1),function(e){var n=e.stack,r=n.pop(),o=0;t.DEBUG&&console.log(e.step,"GETINFO[]",r),1&r&&(o=35),32&r&&(o|=4096),n.push(o)},void 0,function(e){var n=e.stack,r=n.pop(),o=n.pop(),i=n.pop();t.DEBUG&&console.log(e.step,"ROLL[]"),n.push(o),n.push(r),n.push(i)},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"MAX[]",r,o),n.push(Math.max(o,r))},function(e){var n=e.stack,r=n.pop(),o=n.pop();t.DEBUG&&console.log(e.step,"MIN[]",r,o),n.push(Math.min(o,r))},function(e){var n=e.stack.pop();t.DEBUG&&console.log(e.step,"SCANTYPE[]",n)},function(e){var n=e.stack.pop(),r=e.stack.pop();switch(t.DEBUG&&console.log(e.step,"INSTCTRL[]",n,r),n){case 1:return void(e.inhibitGridFit=!!r);case 2:return void(e.ignoreCvt=!!r);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,on.bind(void 0,1),on.bind(void 0,2),on.bind(void 0,3),on.bind(void 0,4),on.bind(void 0,5),on.bind(void 0,6),on.bind(void 0,7),on.bind(void 0,8),an.bind(void 0,1),an.bind(void 0,2),an.bind(void 0,3),an.bind(void 0,4),an.bind(void 0,5),an.bind(void 0,6),an.bind(void 0,7),an.bind(void 0,8),sn.bind(void 0,0,0,0,0,0),sn.bind(void 0,0,0,0,0,1),sn.bind(void 0,0,0,0,0,2),sn.bind(void 0,0,0,0,0,3),sn.bind(void 0,0,0,0,1,0),sn.bind(void 0,0,0,0,1,1),sn.bind(void 0,0,0,0,1,2),sn.bind(void 0,0,0,0,1,3),sn.bind(void 0,0,0,1,0,0),sn.bind(void 0,0,0,1,0,1),sn.bind(void 0,0,0,1,0,2),sn.bind(void 0,0,0,1,0,3),sn.bind(void 0,0,0,1,1,0),sn.bind(void 0,0,0,1,1,1),sn.bind(void 0,0,0,1,1,2),sn.bind(void 0,0,0,1,1,3),sn.bind(void 0,0,1,0,0,0),sn.bind(void 0,0,1,0,0,1),sn.bind(void 0,0,1,0,0,2),sn.bind(void 0,0,1,0,0,3),sn.bind(void 0,0,1,0,1,0),sn.bind(void 0,0,1,0,1,1),sn.bind(void 0,0,1,0,1,2),sn.bind(void 0,0,1,0,1,3),sn.bind(void 0,0,1,1,0,0),sn.bind(void 0,0,1,1,0,1),sn.bind(void 0,0,1,1,0,2),sn.bind(void 0,0,1,1,0,3),sn.bind(void 0,0,1,1,1,0),sn.bind(void 0,0,1,1,1,1),sn.bind(void 0,0,1,1,1,2),sn.bind(void 0,0,1,1,1,3),sn.bind(void 0,1,0,0,0,0),sn.bind(void 0,1,0,0,0,1),sn.bind(void 0,1,0,0,0,2),sn.bind(void 0,1,0,0,0,3),sn.bind(void 0,1,0,0,1,0),sn.bind(void 0,1,0,0,1,1),sn.bind(void 0,1,0,0,1,2),sn.bind(void 0,1,0,0,1,3),sn.bind(void 0,1,0,1,0,0),sn.bind(void 0,1,0,1,0,1),sn.bind(void 0,1,0,1,0,2),sn.bind(void 0,1,0,1,0,3),sn.bind(void 0,1,0,1,1,0),sn.bind(void 0,1,0,1,1,1),sn.bind(void 0,1,0,1,1,2),sn.bind(void 0,1,0,1,1,3),sn.bind(void 0,1,1,0,0,0),sn.bind(void 0,1,1,0,0,1),sn.bind(void 0,1,1,0,0,2),sn.bind(void 0,1,1,0,0,3),sn.bind(void 0,1,1,0,1,0),sn.bind(void 0,1,1,0,1,1),sn.bind(void 0,1,1,0,1,2),sn.bind(void 0,1,1,0,1,3),sn.bind(void 0,1,1,1,0,0),sn.bind(void 0,1,1,1,0,1),sn.bind(void 0,1,1,1,0,2),sn.bind(void 0,1,1,1,0,3),sn.bind(void 0,1,1,1,1,0),sn.bind(void 0,1,1,1,1,1),sn.bind(void 0,1,1,1,1,2),sn.bind(void 0,1,1,1,1,3)],pn=Array.from||function(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function hn(e){(e=e||{}).empty||(ft(e.familyName,"When creating a new Font object, familyName is required."),ft(e.styleName,"When creating a new Font object, styleName is required."),ft(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),ft(e.ascender,"When creating a new Font object, ascender is required."),ft(e.descender,"When creating a new Font object, descender is required."),ft(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables={os2:{usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ge.GlyphSet(this,e.glyphs||[]),this.encoding=new le(this),this.position=new ct(this),this.substitution=new dt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new wt(this):void 0)}})}hn.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},hn.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},hn.prototype.charToGlyph=function(e){return e=this.charToGlyphIndex(e),this.glyphs.get(e)||this.glyphs.get(0)},hn.prototype.stringToGlyphs=function(e,t){t=t||this.defaultRenderOptions;for(var n=pn(e),r=[],o=0;o<n.length;o+=1){var i=n[o];r.push(this.charToGlyphIndex(i))}var a=r.length;if(t.features){e=t.script||this.substitution.getDefaultScriptName();var s=[];t.features.liga&&(s=s.concat(this.substitution.getFeature("liga",e,t.language))),t.features.rlig&&(s=s.concat(this.substitution.getFeature("rlig",e,t.language)));for(var l=0;l<a;l+=1)for(var u=0;u<s.length;u++){for(var c=s[u],d=c.sub,p=d.length,h=0;h<p&&d[h]===r[l+h];)h++;h===p&&(r.splice(l,p,c.by),a=a-p+1)}}for(var f=new Array(a),m=this.glyphs.get(0),g=0;g<a;g+=1)f[g]=this.glyphs.get(r[g])||m;return f},hn.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},hn.prototype.nameToGlyph=function(e){return e=this.nameToGlyphIndex(e),this.glyphs.get(e)||this.glyphs.get(0)},hn.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},hn.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},hn.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},hn.prototype.forEachGlyph=function(e,t,n,r,o,i){t=void 0!==t?t:0,n=void 0!==n?n:0,o=o||this.defaultRenderOptions;var a,s=1/this.unitsPerEm*(r=void 0!==r?r:72),l=this.stringToGlyphs(e,o);o.kerning&&(e=o.script||this.position.getDefaultScriptName(),a=this.position.getKerningTables(e,o.language));for(var u=0;u<l.length;u+=1){var c=l[u];i.call(this,c,t,n,r,o),c.advanceWidth&&(t+=c.advanceWidth*s),o.kerning&&u<l.length-1&&(t+=(a?this.position.getKerningValue(a,c.index,l[u+1].index):this.getKerningValue(c,l[u+1]))*s),o.letterSpacing?t+=o.letterSpacing*r:o.tracking&&(t+=o.tracking/1e3*r)}return t},hn.prototype.getPath=function(e,t,n,r,o){var i=new C;return this.forEachGlyph(e,t,n,r,o,(function(e,t,n,r){e=e.getPath(t,n,r,o,this),i.extend(e)})),i},hn.prototype.getPaths=function(e,t,n,r,o){var i=[];return this.forEachGlyph(e,t,n,r,o,(function(e,t,n,r){e=e.getPath(t,n,r,o,this),i.push(e)})),i},hn.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,(function(){}))},hn.prototype.draw=function(e,t,n,r,o,i){this.getPath(t,n,r,o,i).draw(e)},hn.prototype.drawPoints=function(e,t,n,r,o,i){this.forEachGlyph(t,n,r,o,i,(function(t,n,r,o){t.drawPoints(e,n,r,o)}))},hn.prototype.drawMetrics=function(e,t,n,r,o,i){this.forEachGlyph(t,n,r,o,i,(function(t,n,r,o){t.drawMetrics(e,n,r,o)}))},hn.prototype.getEnglishName=function(e){if(e=this.names[e])return e.en},hn.prototype.validate=function(){var e=this;function t(t){(t=e.getEnglishName(t))&&t.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},hn.prototype.toTables=function(){return function(e){for(var t,n=[],r=[],o=[],i=[],a=[],s=[],l=[],u=0,c=0,d=0,p=0,h=0,f=0;f<e.glyphs.length;f+=1){var m=e.glyphs.get(f),g=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+f+"): advanceWidth is not a number.");if((g<t||void 0===t)&&0<g&&(t=g),u<g&&(u=g),(g=Ke(g))<32)c|=1<<g;else if(g<64)d|=1<<g-32;else if(g<96)p|=1<<g-64;else{if(!(g<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");h|=1<<g-96}".notdef"!==m.name&&(g=m.getMetrics(),n.push(g.xMin),r.push(g.yMin),o.push(g.xMax),i.push(g.yMax),s.push(g.leftSideBearing),l.push(g.rightSideBearing),a.push(m.advanceWidth))}var b,y={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,o),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:function(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,l)},v=(y.ascender=e.ascender,y.descender=e.descender,function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new X.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}({flags:3,unitsPerEm:e.unitsPerEm,xMin:y.xMin,yMin:y.yMin,xMax:y.xMax,yMax:y.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp})),x=function(e){return new X.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}({ascender:y.ascender,descender:y.descender,advanceWidthMax:y.advanceWidthMax,minLeftSideBearing:y.minLeftSideBearing,minRightSideBearing:y.minRightSideBearing,xMaxExtent:y.maxLeftSideBearing+(y.xMax-y.xMin),numberOfHMetrics:e.glyphs.length}),w=function(e){return new X.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}(e.glyphs.length),k=function(e){return new X.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}({xAvgCharWidth:Math.round(y.advanceWidthAvg),usWeightClass:e.tables.os2.usWeightClass,usWidthClass:e.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:d,ulUnicodeRange3:p,ulUnicodeRange4:h,fsSelection:e.tables.os2.fsSelection,sTypoAscender:y.ascender,sTypoDescender:y.descender,sTypoLineGap:0,usWinAscent:y.yMax,usWinDescent:Math.abs(y.yMin),ulCodePageRange1:1,sxHeight:it(e,"xyvw",{yMax:Math.round(y.ascender/2)}).yMax,sCapHeight:it(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",y).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),_=function(e){for(var t=new X.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=(o=e.get(n)).advanceWidth||0,o=o.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:r}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return t}(e.glyphs),S=function(e){for(var t=!0,n=e.length-1;0<n;--n)if(65535<e.get(n).unicode){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}var r,o,i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}],a=(i=(i=t?i:i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new X.Table("cmap",i));for(a.segments=[],n=0;n<e.length;n+=1){for(var s=e.get(n),l=0;l<s.unicodes.length;l+=1)r=s.unicodes[l],o=n,a.segments.push({end:r,start:r,delta:-(r-o),offset:0,glyphIndex:o});a.segments=a.segments.sort((function(e,t){return e.start-t.start}))}a.segments.push({end:65535,start:65535,delta:1,offset:0});var u=a.segments.length,c=0,d=[],p=[],h=[],f=[],m=[],g=[];for(n=0;n<u;n+=1){var b=a.segments[n];b.end<=65535&&b.start<=65535?(d=d.concat({name:"end_"+n,type:"USHORT",value:b.end}),p=p.concat({name:"start_"+n,type:"USHORT",value:b.start}),h=h.concat({name:"idDelta_"+n,type:"SHORT",value:b.delta}),f=f.concat({name:"idRangeOffset_"+n,type:"USHORT",value:b.offset}),void 0!==b.glyphId&&(m=m.concat({name:"glyph_"+n,type:"USHORT",value:b.glyphId}))):c+=1,t||void 0===b.glyphIndex||(g=(g=(g=g.concat({name:"cmap12Start_"+n,type:"ULONG",value:b.start})).concat({name:"cmap12End_"+n,type:"ULONG",value:b.end})).concat({name:"cmap12Glyph_"+n,type:"ULONG",value:b.glyphIndex}))}return a.segCountX2=2*(u-c),a.searchRange=2*Math.pow(2,Math.floor(Math.log(u-c)/Math.log(2))),a.entrySelector=Math.log(a.searchRange/2)/Math.log(2),a.rangeShift=a.segCountX2-a.searchRange,a.fields=a.fields.concat(d),a.fields.push({name:"reservedPad",type:"USHORT",value:0}),a.fields=a.fields.concat(p),a.fields=a.fields.concat(h),a.fields=a.fields.concat(f),a.fields=a.fields.concat(m),a.cmap4Length=14+2*d.length+2+2*p.length+2*h.length+2*f.length+2*m.length,t||(i=16+4*g.length,a.cmap12Offset=20+a.cmap4Length,a.fields=a.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:i},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:g.length/3}]),a.fields=a.fields.concat(g)),a}(e.glyphs),E=(O=e.getEnglishName("fontFamily"))+" "+(N=e.getEnglishName("fontSubfamily")),T=(T=e.getEnglishName("postScriptName"))||O.replace(/\s/g,"")+"-"+N,C={};for(b in e.names)C[b]=e.names[b];C.uniqueID||(C.uniqueID={en:e.getEnglishName("manufacturer")+":"+E}),C.postScriptName||(C.postScriptName={en:T}),C.preferredFamily||(C.preferredFamily=e.names.fontFamily),C.preferredSubfamily||(C.preferredSubfamily=e.names.fontSubfamily);var I=qe(C,j=[]),j=0<j.length?function(e){for(var t=new X.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",r=12+4*e.length,o=0;o<e.length;++o){var i=n.indexOf(e[o]);i<0&&(i=n.length,n+=e[o]),t.fields.push({name:"offset "+o,type:"USHORT",value:r+i}),t.fields.push({name:"length "+o,type:"USHORT",value:e[o].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t}(j):void 0,A=new X.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}]),O=(E=function(e,t){for(var n,r=new X.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),o=1/t.unitsPerEm,i=(o={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[o,0,0,o,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),a=1;a<e.length;a+=1)n=e.get(a),i.push(n.name);var s,l,u=[],c=(r.header=new X.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(e){var t=new X.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}([t.postScriptName]),t=Ae(o,u),r.topDictIndex=Oe(t),r.globalSubrIndex=new X.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(e,t){for(var n=new X.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var o=Ie(e[r],t);n.fields.push({name:"glyph_"+r,type:"SID",value:o})}return n}(i,u),r.charStringsIndex=function(e){for(var t=new X.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),o=function(e){for(var t=[],n=e.path,r=(t.push({name:"width",type:"NUMBER",value:e.advanceWidth}),0),o=0,i=0;i<n.commands.length;i+=1){var a,s,l,u,c=void 0,d=void 0,p=n.commands[i];"M"===(p="Q"===p.type?{type:"C",x:p.x,y:p.y,x1:1/3*r+2/3*p.x1,y1:1/3*o+2/3*p.y1,x2:1/3*p.x+2/3*p.x1,y2:1/3*p.y+2/3*p.y1}:p).type?(c=Math.round(p.x-r),d=Math.round(p.y-o),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:d}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(p.x),o=Math.round(p.y)):"L"===p.type?(c=Math.round(p.x-r),d=Math.round(p.y-o),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:d}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(p.x),o=Math.round(p.y)):"C"===p.type&&(a=Math.round(p.x1-r),s=Math.round(p.y1-o),l=Math.round(p.x2-p.x1),u=Math.round(p.y2-p.y1),c=Math.round(p.x-p.x2),d=Math.round(p.y-p.y2),t.push({name:"dx1",type:"NUMBER",value:a}),t.push({name:"dy1",type:"NUMBER",value:s}),t.push({name:"dx2",type:"NUMBER",value:l}),t.push({name:"dy2",type:"NUMBER",value:u}),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:d}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(p.x),o=Math.round(p.y))}return t.push({name:"endchar",type:"OP",value:14}),t}(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:o})}return t}(e),r.privateDict=(c={},s=u,(l=new X.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=je(Se,c,s),l),r.stringIndex=function(e){var t=new X.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}(u),r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf());return o.charset=c,o.encoding=0,o.charStrings=o.charset+r.charsets.sizeOf(),o.private[1]=o.charStrings+r.charStringsIndex.sizeOf(),t=Ae(o,u),r.topDictIndex=Oe(t),r}(e.glyphs,{version:e.getEnglishName("version"),fullName:E,familyName:O,weightName:N,postScriptName:T,unitsPerEm:e.unitsPerEm,fontBBox:[0,y.yMin,y.ascender,y.advanceWidthMax]}),e.metas&&0<Object.keys(e.metas).length?function(e){var t,n=Object.keys(e).length,r="",o=16+12*n,i=new X.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:o},{name:"numTags",type:"ULONG",value:n}]);for(t in e){var a=r.length;r+=e[t],i.fields.push({name:"tag "+t,type:"TAG",value:t}),i.fields.push({name:"offset "+t,type:"ULONG",value:o+a}),i.fields.push({name:"length "+t,type:"ULONG",value:e[t].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),i}(e.metas):void 0),N=[v,x,w,k,I,S,A,E,_];j&&N.push(j),e.tables.gsub&&N.push(function(e){return new X.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new X.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new X.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new X.LookupList(e.lookups,et)}])}(e.tables.gsub)),O&&N.push(O);for(var R=nt((T=ot(N)).encode()),P=T.fields,M=!1,D=0;D<P.length;D+=1)if("head table"===P[D].name){P[D].value.checkSumAdjustment=2981146554-R,M=!0;break}if(M)return T;throw new Error("Could not find head table with checkSum to adjust.")}(this)},hn.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},hn.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e[r];return t},hn.prototype.download=function(t){var n=this.getEnglishName("fontFamily"),o=this.getEnglishName("fontSubfamily"),i=(t=t||n.replace(/\s/g,"")+"-"+o+".otf",this.toArrayBuffer());"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,i.byteLength,(function(e){e.root.getFile(t,{create:!0},(function(e){e.createWriter((function(t){var n=new DataView(i);n=new Blob([n],{type:"font/opentype"}),t.write(n),t.addEventListener("writeend",(function(){location.href=e.toURL()}),!1)}))}))}),(function(e){throw new Error(e.name+": "+e.message)}))):(n=e("fs"),o=function(e){for(var t=new r(e.byteLength),n=new Uint8Array(e),o=0;o<t.length;++o)t[o]=n[o];return t}(i),n.writeFileSync(t,o))},hn.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},hn.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},hn.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var fn=new Array(10);function mn(t,n){e("fs").readFile(t,(function(e,t){if(e)return n(e.message);n(null,ht(t))}))}function gn(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?t(null,n.response):t("Font could not be loaded: "+n.statusText)},n.onerror=function(){t("Font could not be loaded")},n.send()}function bn(e,t){for(var n=[],r=12,o=0;o<t;o+=1){var i=ne.getTag(e,r),a=ne.getULong(e,r+4),s=ne.getULong(e,r+8),l=ne.getULong(e,r+12);n.push({tag:i,checksum:a,offset:s,length:l,compression:!1}),r+=16}return n}function yn(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};e=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2);var n=new Uint8Array(t.length);if(function(e,t){var n,r,o,i=new a(e,t);do{switch((r=i).bitcount--||(r.tag=r.source[r.sourceIndex++],r.bitcount=7),o=1&r.tag,r.tag>>>=1,r=o,v(i,2,0)){case 0:n=function(e){for(var t,n;8<e.bitcount;)e.sourceIndex--,e.bitcount-=8;if((t=256*e.source[e.sourceIndex+1]+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}(i);break;case 1:n=w(i,s,l);break;case 2:T=E=S=C=u=_=void 0;for(var u,c=i,d=i.ltree,p=i.dtree,g=v(c,5,257),b=v(c,5,1),k=v(c,4,4),_=0;_<19;++_)m[_]=0;for(_=0;_<k;++_){var S=v(c,3,0);m[h[_]]=S}for(y(f,m,0,19),u=0;u<g+b;){var E=x(c,f);switch(E){case 16:for(var T=m[u-1],C=v(c,2,3);C;--C)m[u++]=T;break;case 17:for(C=v(c,3,3);C;--C)m[u++]=0;break;case 18:for(C=v(c,7,11);C;--C)m[u++]=0;break;default:m[u++]=E}}y(d,m,0,g),y(p,m,g,b),n=w(i,i.ltree,i.dtree);break;default:n=-3}if(0!==n)throw new Error("Data error")}while(!r);i.destLen<i.dest.length?"function"==typeof i.dest.slice?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest}(e,n),n.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(n.buffer,0),offset:0}}function vn(e){var t,n,r,o,i,a,s,l,u,c,d,p,h,f,m=new hn({empty:!0}),g=new DataView(e,0),b=[];if((e=ne.getTag(g,0))===String.fromCharCode(0,1,0,0)||"true"===e||"typ1"===e)m.outlinesFormat="truetype",b=bn(g,r=ne.getUShort(g,4));else if("OTTO"===e)m.outlinesFormat="cff",b=bn(g,r=ne.getUShort(g,4));else{if("wOFF"!==e)throw new Error("Unsupported OpenType signature "+e);if((w=ne.getTag(g,4))===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if("OTTO"!==w)throw new Error("Unsupported OpenType flavor "+e);m.outlinesFormat="cff"}b=function(e,t){for(var n=[],r=44,o=0;o<t;o+=1){var i=ne.getTag(e,r),a=ne.getULong(e,r+4),s=ne.getULong(e,r+8),l=ne.getULong(e,r+12),u=s<l&&"WOFF";n.push({tag:i,offset:a,compression:u,compressedLength:s,length:l}),r+=20}return n}(g,r=ne.getUShort(g,12))}for(var y=0;y<r;y+=1){var v=b[y],x=void 0;switch(v.tag){case"cmap":x=yn(g,v),m.tables.cmap=re(x.data,x.offset),m.encoding=new ue(m.tables.cmap);break;case"cvt ":x=yn(g,v),f=new ne.Parser(x.data,x.offset),m.tables.cvt=f.parseShortList(v.length/2);break;case"fvar":i=v;break;case"fpgm":x=yn(g,v),f=new ne.Parser(x.data,x.offset),m.tables.fpgm=f.parseByteList(v.length);break;case"head":x=yn(g,v),m.tables.head=Ne(x.data,x.offset),m.unitsPerEm=m.tables.head.unitsPerEm,t=m.tables.head.indexToLocFormat;break;case"hhea":x=yn(g,v),m.tables.hhea=Re(x.data,x.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":u=v;break;case"ltag":x=yn(g,v),n=Pe(x.data,x.offset);break;case"maxp":x=yn(g,v),m.tables.maxp=Me(x.data,x.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":p=v;break;case"OS/2":x=yn(g,v),m.tables.os2=Ye(x.data,x.offset);break;case"post":x=yn(g,v),m.tables.post=Ze(x.data,x.offset),m.glyphNames=new de(m.tables.post);break;case"prep":x=yn(g,v),f=new ne.Parser(x.data,x.offset),m.tables.prep=f.parseByteList(v.length);break;case"glyf":a=v;break;case"loca":d=v;break;case"CFF ":o=v;break;case"kern":c=v;break;case"GPOS":s=v;break;case"GSUB":l=v;break;case"meta":h=v}}if(w=yn(g,p),m.tables.name=function(e,t,n){for(var r={},o=new ne.Parser(e,t),i=(t=o.parseUShort(),o.parseUShort()),a=o.offset+o.parseUShort(),s=0;s<i;s++){var l=o.parseUShort(),u=o.parseUShort(),c=o.parseUShort(),d=o.parseUShort(),p=(d=De[d]||d,o.parseUShort()),h=o.parseUShort(),f=function(e,t,n){switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return Le[t];case 3:return Be[t]}}(l,c,n);void 0!==(l=Ve(l,u,c))&&void 0!==f&&(u=void 0,(u=l===$e?O.UTF16(e,a+h,p):O.MACSTRING(e,a+h,p,l))&&((c=void 0===(c=r[d])?r[d]={}:c)[f]=u))}return 1===t&&o.parseUShort(),r}(w.data,w.offset,n),m.names=m.tables.name,a&&d)e=0===t,w=function(e,t,n,r){for(var o=new ne.Parser(e,t),i=r?o.parseUShort:o.parseULong,a=[],s=0;s<n+1;s+=1){var l=i.call(o);r&&(l*=2),a.push(l)}return a}((w=yn(g,d)).data,w.offset,m.numGlyphs,e),e=yn(g,a),m.glyphs=xt.parse(e.data,e.offset,w,m);else{if(!o)throw new Error("Font doesn't contain TrueType or CFF outlines.");!function(e,t,n){n.tables.cff={},r=e,o=t,(i={}).formatMajor=ne.getCard8(r,o),i.formatMinor=ne.getCard8(r,o+1),i.size=ne.getCard8(r,o+2),i.offsetSize=ne.getCard8(r,o+3),i.startOffset=o,i.endOffset=o+4;var r=ye(e,i.endOffset,ne.bytesToString),o=ye(e,r.endOffset),i=ye(e,o.endOffset,ne.bytesToString);if(r=ye(e,i.endOffset),n.gsubrs=r.objects,n.gsubrsBias=be(n.gsubrs),1!==(r=Te(e,t,o.objects,i.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+r.length);if(o=r[0],(n.tables.cff.topDict=o)._privateDict&&(n.defaultWidthX=o._privateDict.defaultWidthX,n.nominalWidthX=o._privateDict.nominalWidthX),void 0!==o.ros[0]&&void 0!==o.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){r=o.fdArray;var a=o.fdSelect;if(0===r||0===a)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");r=Te(e,t,ye(e,r+=t).objects,i.objects),o._fdArray=r,o._fdSelect=function(e,t,n,r){var o,i=[],a=new ne.Parser(e,t);if(0===(e=a.parseCard8()))for(var s=0;s<n;s++){if(r<=(o=a.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");i.push(o)}else{if(3!==e)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+e);var l,u=a.parseCard16(),c=a.parseCard16();if(0!==c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var d=0;d<u;d++){if(o=a.parseCard8(),l=a.parseCard16(),r<=o)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");if(n<l)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+l);for(;c<l;c++)i.push(o);c=l}if(l!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+l)}return i}(e,a+=t,n.numGlyphs,r.length)}r=Ee(e,a=t+o.private[1],o.private[0],i.objects);var s=(n.defaultWidthX=r.defaultWidthX,n.nominalWidthX=r.nominalWidthX,0!==r.subrs?(a=ye(e,a+r.subrs),n.subrs=a.objects,n.subrsBias=be(n.subrs)):(n.subrs=[],n.subrsBias=0),ye(e,t+o.charStrings));n.nGlyphs=s.objects.length,r=function(e,t,n,r){var o=new ne.Parser(e,t),i=(--n,[".notdef"]);if(0===(e=o.parseCard8()))for(var a=0;a<n;a+=1)s=o.parseSID(),i.push(we(r,s));else if(1===e)for(;i.length<=n;)for(var s=o.parseSID(),l=o.parseCard8(),u=0;u<=l;u+=1)i.push(we(r,s)),s+=1;else{if(2!==e)throw new Error("Unknown charset format "+e);for(;i.length<=n;){s=o.parseSID(),l=o.parseCard16();for(var c=0;c<=l;c+=1)i.push(we(r,s)),s+=1}}return i}(e,t+o.charset,n.nGlyphs,i.objects),0===o.encoding?n.cffEncoding=new ce(ie,r):1===o.encoding?n.cffEncoding=new ce(ae,r):n.cffEncoding=function(e,t,n){var r={},o=new ne.Parser(e,t);if(0===(e=o.parseCard8()))for(var i=o.parseCard8(),a=0;a<i;a+=1)r[l=o.parseCard8()]=a;else{if(1!==e)throw new Error("Unknown encoding format "+e);for(var s=o.parseCard8(),l=1,u=0;u<s;u+=1)for(var c=o.parseCard8(),d=o.parseCard8(),p=c;p<=c+d;p+=1)r[p]=l,l+=1}return new ce(r,n)}(e,t+o.encoding,r),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new ge.GlyphSet(n);for(var l=0;l<n.nGlyphs;l+=1){var u=s.objects[l];n.glyphs.push(l,ge.cffGlyphLoader(n,l,Ce,u))}}((e=yn(g,o)).data,e.offset,m)}for(var w=yn(g,u),k=(function(e,t,n,r,o){for(var i,a,s=new ne.Parser(e,t),l=0;l<r;l+=1){l<n&&(i=s.parseUShort(),a=s.parseShort());var u=o.get(l);u.advanceWidth=i,u.leftSideBearing=a}}(w.data,w.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs),m),_=k.tables.cmap.glyphIndexMap,S=Object.keys(_),E=0;E<S.length;E+=1){var T,C=S[E],I=_[C];(T=k.glyphs.get(I)).addUnicode(parseInt(C))}for(var j=0;j<k.glyphs.length;j+=1)T=k.glyphs.get(j),k.cffEncoding?k.isCIDFont?T.name="gid"+j:T.name=k.cffEncoding.charset[j]:k.glyphNames.names&&(T.name=k.glyphNames.glyphIndexToName(j));return c?(e=yn(g,c),m.kerningPairs=function(e,t){if(0===(t=(e=new ne.Parser(e,t)).parseUShort())){var n=e,r={},o=(n.skip("uShort"),n.parseUShort()),i=(A.argument(0===o,"Unsupported kern sub-table version."),n.skip("uShort",2),n.parseUShort());n.skip("uShort",3);for(var a=0;a<i;a+=1){var s=n.parseUShort(),l=n.parseUShort(),u=n.parseShort();r[s+","+l]=u}return r}if(1!==t)throw new Error("Unsupported kern table version ("+t+").");var c=e,d={};if(c.skip("uShort"),1<c.parseULong()&&console.warn("Only the first kern subtable is supported."),c.skip("uLong"),o=255&c.parseUShort(),c.skip("uShort"),0==o){var p=c.parseUShort();c.skip("uShort",3);for(var h=0;h<p;h+=1){var f=c.parseUShort(),m=c.parseUShort(),g=c.parseShort();d[f+","+m]=g}}return d}(e.data,e.offset)):m.kerningPairs={},s&&(w=yn(g,s),m.tables.gpos=function(e,t){return t=(e=new ee(e,t=t||0)).parseVersion(1),A.argument(1===t||1.1===t,"Unsupported GPOS table version "+t),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(fn)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(fn),variations:e.parseFeatureVariationsList()}}(w.data,w.offset),m.position.init()),l&&(e=yn(g,l),m.tables.gsub=function(e,t){return t=(e=new ee(e,t=t||0)).parseVersion(1),A.argument(1===t||1.1===t,"Unsupported GSUB table version."),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(Je)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(Je),variations:e.parseFeatureVariationsList()}}(e.data,e.offset)),i&&(w=yn(g,i),m.tables.fvar=function(e,t,n){for(var r,o,i,a,s=new ne.Parser(e,t),l=s.parseULong(),u=(A.argument(65536===l,"Unsupported fvar table version."),s.parseOffset16()),c=(s.skip("uShort",1),s.parseUShort()),d=s.parseUShort(),p=s.parseUShort(),h=s.parseUShort(),f=[],m=0;m<c;m++)f.push((r=e,o=t+u+m*d,i=n,a={},r=new ne.Parser(r,o),a.tag=r.parseTag(),a.minValue=r.parseFixed(),a.defaultValue=r.parseFixed(),a.maxValue=r.parseFixed(),r.skip("uShort",1),a.name=i[r.parseUShort()]||{},a));for(var g=[],b=t+u+c*d,y=0;y<p;y++)g.push(function(e,t,n,r){var o={},i=new ne.Parser(e,t);o.name=r[i.parseUShort()]||{},i.skip("uShort",1),o.coordinates={};for(var a=0;a<n.length;++a)o.coordinates[n[a].tag]=i.parseFixed();return o}(e,b+y*h,f,n));return{axes:f,instances:g}}(w.data,w.offset,m.names)),h&&(e=yn(g,h),m.tables.meta=function(e,t){for(var n=new ne.Parser(e,t),r=n.parseULong(),o=(A.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong(),n.parseULong()),i={},a=0;a<o;a++){var s=n.parseTag(),l=n.parseULong(),u=n.parseULong();l=O.UTF8(e,t+l,u),i[s]=l}return i}(e.data,e.offset),m.metas=m.tables.meta),m}fn[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(ee.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(ee.coverage),values:this.parseValueRecordList()}:void A.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},fn[2]=function(){var e,t,n,r,o=this.offset+this.relativeOffset,i=this.parseUShort(),a=(A.assert(1===i||2===i,"0x"+o.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),o=this.parsePointer(ee.coverage),this.parseUShort()),s=this.parseUShort();return 1===i?{posFormat:i,coverage:o,valueFormat1:a,valueFormat2:s,pairSets:this.parseList(ee.pointer(ee.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}}))))}:2===i?(e=this.parsePointer(ee.classDef),t=this.parsePointer(ee.classDef),n=this.parseUShort(),r=this.parseUShort(),{posFormat:i,coverage:o,valueFormat1:a,valueFormat2:s,classDef1:e,classDef2:t,class1Count:n,class2Count:r,classRecords:this.parseList(n,ee.list(r,(function(){return{value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}})))}):void 0},fn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},fn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},fn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},fn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},fn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},fn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},fn[9]=function(){return{error:"GPOS Lookup 9 not supported"}},new Array(10),t.Font=hn,t.Glyph=he,t.Path=C,t.BoundingBox=T,t._parse=ne,t.parse=vn,t.load=function(e,t){("undefined"==typeof window?mn:gn)(e,(function(e,n){if(e)return t(e);var r;try{r=vn(n)}catch(e){return t(e,null)}return t(null,r)}))},t.loadSync=function(t){return vn(ht(e("fs").readFileSync(t)))},Object.defineProperty(t,"__esModule",{value:!0})}("object"==typeof n&&void 0!==t?n:this.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],248:[function(e,t,n){(function(e){function t(e,t){for(var n=0,r=e.length-1;0<=r;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}n.resolve=function(){for(var n="",o=!1,i=arguments.length-1;-1<=i&&!o;i--){var a=0<=i?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(n=a+"/"+n,o="/"===a.charAt(0))}return(o?"/":"")+(n=t(r(n.split("/"),(function(e){return!!e})),!o).join("/"))||"."},n.normalize=function(e){var i=n.isAbsolute(e),a="/"===o(e,-1);return(e=(e=t(r(e.split("/"),(function(e){return!!e})),!i).join("/"))||i?e:".")&&a&&(e+="/"),(i?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(r(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},n.relative=function(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;0<=n&&""===e[n];n--);return n<t?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o=r(e.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}var u=[];for(l=s;l<o.length;l++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),n=-1,r=!0,o=e.length-1;1<=o;--o)if(47===e.charCodeAt(o)){if(!r){n=o;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"/":e.slice(0,n)},n.basename=function(e,t){return e=function(e){"string"!=typeof e&&(e+="");for(var t=0,n=-1,r=!0,o=e.length-1;0<=o;--o)if(47===e.charCodeAt(o)){if(!r){t=o+1;break}}else-1===n&&(r=!1,n=o+1);return-1===n?"":e.slice(t,n)}(e),t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},n.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,a=e.length-1;0<=a;--a){var s=e.charCodeAt(a);if(47===s){if(o)continue;n=a+1;break}-1===r&&(o=!1,r=a+1),46===s?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1)}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var o=function(e,t,n){return e.substr(t,n)}}).call(this,e("_process"))},{_process:249}],249:[function(e,t,n){var r,o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}t=t.exports={};try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return(r=setTimeout)(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}var l,u=[],c=!1,d=-1;function p(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&h())}function h(){if(!c){for(var e=s(p),t=(c=!0,u.length);t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return(o=clearTimeout)(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||c||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],250:[function(e,t,n){t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o=(b="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",i=b.asyncIterator||"@@asyncIterator",a=b.toStringTag||"@@toStringTag";function s(e,n,r,o){var i,a,s,m;return n=n&&n.prototype instanceof f?n:f,n=Object.create(n.prototype),o=new S(o||[]),n._invoke=(i=e,a=r,s=o,m=u,function(e,n){if(m===d)throw new Error("Generator is already running");if(m===p){if("throw"===e)throw n;return T()}for(s.method=e,s.arg=n;;){var r=s.delegate;if(r&&(r=function e(n,r){var o=n.iterator[r.method];if(o===t){if(r.delegate=null,"throw"===r.method){if(n.iterator.return&&(r.method="return",r.arg=t,e(n,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}return"throw"===(o=l(o,n.iterator,r.arg)).type?(r.method="throw",r.arg=o.arg,r.delegate=null,h):(o=o.arg)?o.done?(r[n.resultName]=o.value,r.next=n.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}(r,s))){if(r===h)continue;return r}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(m===u)throw m=p,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(m=d,"normal"===(r=l(i,a,s)).type){if(m=s.done?p:c,r.arg!==h)return{value:r.arg,done:s.done}}else"throw"===r.type&&(m=p,s.method="throw",s.arg=r.arg)}}),n}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u="suspendedStart",c="suspendedYield",d="executing",p="completed",h={};function f(){}function m(){}function g(){}var b,y,v=((b={})[o]=function(){return this},(y=(y=Object.getPrototypeOf)&&y(y(E([]))))&&y!==n&&r.call(y,o)&&(b=y),g.prototype=f.prototype=Object.create(b));function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){var t;this._invoke=function(n,o){function i(){return new Promise((function(t,i){!function t(n,o,i,a){var s;if("throw"!==(n=l(e[n],e,o)).type)return(o=(s=n.arg).value)&&"object"==typeof o&&r.call(o,"__await")?Promise.resolve(o.__await).then((function(e){t("next",e,i,a)}),(function(e){t("throw",e,i,a)})):Promise.resolve(o).then((function(e){s.value=e,i(s)}),(function(e){return t("throw",e,i,a)}));a(n.arg)}(n,o,t,i)}))}return t=t?t.then(i,i):i()}}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function E(e){if(e){var n,i=e[o];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(i=function o(){for(;++n<e.length;)if(r.call(e,n))return o.value=e[n],o.done=!1,o;return o.value=t,o.done=!0,o}).next=i}return{next:T}}function T(){return{value:t,done:!0}}return(m.prototype=v.constructor=g).constructor=m,g[a]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},x(w.prototype),w.prototype[i]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,o){var i=new w(s(t,n,r,o));return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},x(v),v[a]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t,n=[];for(t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var i=this.tryEntries.length-1;0<=i;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}var a=(i=i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc?null:i)?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(r=n.arg,_(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},{}],251:[function(e,t,n){!function(e){"use strict";var t,n,r,o,i,a,s,l,u,c;function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function p(e){return"string"!=typeof e?String(e):e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function g(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function b(e){var t=new FileReader,n=g(t);return t.readAsArrayBuffer(e),n}function y(e){var t;return e.slice?e.slice(0):((t=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),t.buffer)}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(r&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(o&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(i&&r&&s(e))this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!i||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=y(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var e,t,n=m(this);if(n)return n;if(this._bodyBlob)return n=this._bodyBlob,t=g(e=new FileReader),e.readAsText(n),t;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function x(e,t){var n,r=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=(e=t.method||this.method||"GET").toUpperCase(),-1<u.indexOf(n)?n:e),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){var n;e&&(n=(e=e.split("=")).shift().replace(/\+/g," "),e=e.join("=").replace(/\+/g," "),t.append(decodeURIComponent(n),decodeURIComponent(e)))})),t}function k(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}e.fetch||(t="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,r="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,(i="ArrayBuffer"in e)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&-1<a.indexOf(Object.prototype.toString.call(e))}),f.prototype.append=function(e,t){e=d(e),t=p(t);var n=this.map[e];this.map[e]=n?n+","+t:t},f.prototype.delete=function(e){delete this.map[d(e)]},f.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},f.prototype.set=function(e,t){this.map[d(e)]=p(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),h(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),h(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},v.call(x.prototype),v.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},k.error=function(){var e=new k(null,{status:0,statusText:""});return e.type="error",e},c=[301,302,303,307,308],k.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new k(null,{status:t,headers:{location:e}})},e.Headers=f,e.Request=x,e.Response=k,e.fetch=function(e,t){return new Promise((function(n,o){var i=new x(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new f,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=(t=t.split(":")).shift().trim();n&&(t=t.join(":").trim(),e.append(n,t))})),e)},r=(t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL"),"response"in a?a.response:a.responseText);n(new k(r,t))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&r&&(a.responseType="blob"),i.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===i._bodyInit?null:i._bodyInit)}))},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:this)},{}],252:[function(e,t,n){"use strict";e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o=a(e("../core/main")),i=a(e("../color/color_conversion"));function a(e){return e&&e.__esModule?e:{default:e}}var s=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],l=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];o.default.prototype._rgbColorName=function(e){e=i.default._rgbaToHSBA(e);var t,n,o=[(r=e)[0],e[1],e[2]];0!==o[0]&&(o[0]=Math.round(100*o[0]),(e=o[0].toString().split(""))[n=e.length-1]=parseInt(e[n]),e[n]<2.5?e[n]=0:2.5<=e[n]&&e[n]<7.5&&(e[n]=5),2===e.length?(e[0]=parseInt(e[0]),7.5<=e[n]&&(e[n]=0,e[0]=e[0]+1),o[0]=10*e[0]+e[1]):7.5<=e[n]?o[0]=10:o[0]=e[n]),o[2]=o[2]/255;for(var a=o.length-1;1<=a;a--)o[a]<=.25?o[a]=0:.25<o[a]&&o[a]<.75?o[a]=.5:o[a]=1;if(0===o[0]&&0===o[1]&&1===o[2]){for(var u=2;0<=u;u--)r[u]=Math.round(1e4*r[u])/1e4;for(var c=0;c<s.length;c++){if(s[c].h===r[0]&&s[c].s===r[1]&&s[c].b===r[2]){t=s[c].name;break}t="white"}}else for(var d=0;d<l.length;d++)if(l[d].h===o[0]&&l[d].s===o[1]&&l[d].b===o[2]){t=l[d].name;break}return t},e=o.default,n.default=e},{"../color/color_conversion":258,"../core/main":273,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196}],253:[function(e,t,n){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e},o="_Description",i="_fallbackDesc",a="_fallbackTable",s="_Label",l="_labelDesc",u="_labelTable";function c(e){if("label"===e||"fallback"===e)throw new Error("description should not be LABEL or FALLBACK");return e.endsWith(".")||e.endsWith(";")||e.endsWith(",")||e.endsWith("?")||e.endsWith("!")||(e+="."),e}r.default.prototype.describe=function(e,t){var n;r.default._validateParameters("describe",arguments),"string"==typeof e&&(n=this.canvas.id,e=c(e),this.dummyDOM||(this.dummyDOM=document.getElementById(n).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==e&&(this.descriptions.fallback.innerHTML=e):this._describeHTML("fallback",e),t===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==e&&(this.descriptions.label.innerHTML=e):this._describeHTML("label",e)))},r.default.prototype.describeElement=function(e,t,n){var o,i;r.default._validateParameters("describeElement",arguments),"string"==typeof t&&"string"==typeof e&&(o=this.canvas.id,t=c(t),i=function(e){if("label"===e||"fallback"===e)throw new Error("element name should not be LABEL or FALLBACK");return e.endsWith(".")||e.endsWith(";")||e.endsWith(",")?e=e.replace(/.$/,":"):e.endsWith(":")||(e+=":"),e}(e),e=e.replace(/[^a-zA-Z0-9]/g,""),i='<th scope="row">'.concat(i,"</th><td>").concat(t,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[e]?this.descriptions.fallbackElements[e].innerHTML!==i&&(this.descriptions.fallbackElements[e].innerHTML=i):this._describeElementHTML("fallback",e,i),n===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[e]?this.descriptions.labelElements[e].innerHTML!==i&&(this.descriptions.labelElements[e].innerHTML=i):this._describeElementHTML("label",e,i)))},r.default.prototype._describeHTML=function(e,t){var n,r=this.canvas.id;"fallback"===e?(this.dummyDOM.querySelector("#".concat(r+o))?this.dummyDOM.querySelector("#"+r+a).insertAdjacentHTML("beforebegin",'<p id="'.concat(r+i,'"></p>')):(n='<div id="'.concat(r).concat(o,'" role="region" aria-label="Canvas Description"><p id="').concat(r).concat(i,'"></p></div>'),this.dummyDOM.querySelector("#".concat(r,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(r,"accessibleOutput")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#".concat(r)).innerHTML=n),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(r).concat(i)),this.descriptions.fallback.innerHTML=t):"label"===e&&(this.dummyDOM.querySelector("#".concat(r+s))?this.dummyDOM.querySelector("#".concat(r+u))&&this.dummyDOM.querySelector("#".concat(r+u)).insertAdjacentHTML("beforebegin",'<p id="'.concat(r).concat(l,'"></p>')):(n='<div id="'.concat(r).concat(s,'" class="p5Label"><p id="').concat(r).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(r,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(r,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#"+r).insertAdjacentHTML("afterend",n)),this.descriptions.label=this.dummyDOM.querySelector("#"+r+l),this.descriptions.label.innerHTML=t)},r.default.prototype._describeElementHTML=function(e,t,n){var r,c=this.canvas.id;"fallback"===e?(this.dummyDOM.querySelector("#".concat(c+o))?this.dummyDOM.querySelector("#"+c+a)||this.dummyDOM.querySelector("#"+c+i).insertAdjacentHTML("afterend",'<table id="'.concat(c).concat(a,'"><caption>Canvas elements and their descriptions</caption></table>')):(r='<div id="'.concat(c).concat(o,'" role="region" aria-label="Canvas Description"><table id="').concat(c).concat(a,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutput")).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#"+c).innerHTML=r),(r=document.createElement("tr")).id=c+"_fte_"+t,this.dummyDOM.querySelector("#"+c+a).appendChild(r),this.descriptions.fallbackElements[t]=this.dummyDOM.querySelector("#".concat(c).concat("_fte_").concat(t)),this.descriptions.fallbackElements[t].innerHTML=n):"label"===e&&(this.dummyDOM.querySelector("#".concat(c+s))?this.dummyDOM.querySelector("#".concat(c+u))||this.dummyDOM.querySelector("#"+c+l).insertAdjacentHTML("afterend",'<table id="'.concat(c+u,'"></table>')):(r='<div id="'.concat(c).concat(s,'" class="p5Label"><table id="').concat(c).concat(u,'"></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#"+c).insertAdjacentHTML("afterend",r)),(e=document.createElement("tr")).id=c+"_lte_"+t,this.dummyDOM.querySelector("#"+c+u).appendChild(e),this.descriptions.labelElements[t]=this.dummyDOM.querySelector("#".concat(c).concat("_lte_").concat(t)),this.descriptions.labelElements[t].innerHTML=n)},e=r.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.replace":194}],254:[function(e,t,n){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.map"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.map"),e("core-js/modules/es.string.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype._updateGridOutput=function(e){var t,n,r,o;this.dummyDOM.querySelector("#".concat(e,"_summary"))&&(t=this._accessibleOutputs[e],r=function(e,t,n,r){return t="".concat(t," canvas, ").concat(n," by ").concat(r," pixels, contains ").concat(e[0]),(1===e[0]?"".concat(t," shape: "):"".concat(t," shapes: ")).concat(e[1])}((n=function(e,t){var n,r="",o="",i=0;for(n in t){var a,s=0;for(a in t[n]){var l='<li id="'.concat(e,"shape").concat(i,'">').concat(t[n][a].color," ").concat(n,",");"line"===n?l+=" location = ".concat(t[n][a].pos,", length = ").concat(t[n][a].length," pixels"):(l+=" location = ".concat(t[n][a].pos),"point"!==n&&(l+=", area = ".concat(t[n][a].area," %")),l+="</li>"),r+=l,s++,i++}o=1<s?"".concat(o," ").concat(s," ").concat(n,"s"):"".concat(o," ").concat(s," ").concat(n)}return{numShapes:[i,o],details:r}}(e,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),o=function(e,t){var n,r,o=0,i="",a=Array.from(Array(10),(function(){return Array(10)}));for(n in t)for(var s in t[n]){var l;l="line"!==n?'<a href="#'.concat(e,"shape").concat(o,'">').concat(t[n][s].color," ").concat(n,"</a>"):'<a href="#'.concat(e,"shape").concat(o,'">').concat(t[n][s].color," ").concat(n," midpoint</a>"),a[t[n][s].loc.locY][t[n][s].loc.locX]?a[t[n][s].loc.locY][t[n][s].loc.locX]=a[t[n][s].loc.locY][t[n][s].loc.locX]+"  "+l:a[t[n][s].loc.locY][t[n][s].loc.locX]=l,o++}for(r in a){var u,c="<tr>";for(u in a[r])c+="<td>",void 0!==a[r][u]&&(c+=a[r][u]),c+="</td>";i=i+c+"</tr>"}return i}(e,this.ingredients.shapes),r!==t.summary.innerHTML&&(t.summary.innerHTML=r),o!==t.map.innerHTML&&(t.map.innerHTML=o),n.details!==t.shapeDetails.innerHTML&&(t.shapeDetails.innerHTML=n.details),this._accessibleOutputs[e]=t)},e=e.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.from":157,"core-js/modules/es.array.map":163,"core-js/modules/es.string.iterator":190}],255:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(e,t,n){return 10===(t=Math.floor(e[0]/t*10))&&(t-=1),10===(e=Math.floor(e[1]/n*10))&&(e-=1),{locX:t,locY:e}}r.default.prototype.textOutput=function(e){r.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),e===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},r.default.prototype.gridOutput=function(e){r.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),e===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},r.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},r.default.prototype._createOutput=function(e,t){var n,r,o,i=this.canvas.id,a=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),"");"Fallback"===t?(n=i+e,this.dummyDOM.querySelector("#".concat(r=i+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(i,"_Description"))?this.dummyDOM.querySelector("#".concat(i,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(i)).innerHTML='<div id="'.concat(r,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===t&&(n=i+e+(a=t),this.dummyDOM.querySelector("#".concat(r=i+"accessibleOutput"+t))||(this.dummyDOM.querySelector("#".concat(i,"_Label"))?this.dummyDOM.querySelector("#".concat(i,"_Label")):this.dummyDOM.querySelector("#".concat(i))).insertAdjacentHTML("afterend",'<div id="'.concat(r,'"></div>'))),this._accessibleOutputs[n]={},"textOutput"===e?(a="#".concat(i,"gridOutput").concat(a),o='<div id="'.concat(n,'">Text Output<div id="').concat(n,'Summary" aria-label="text output summary"><p id="').concat(n,'_summary"></p><ul id="').concat(n,'_list"></ul></div><table id="').concat(n,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("beforebegin",o):this.dummyDOM.querySelector("#".concat(r)).innerHTML=o,this._accessibleOutputs[n].list=this.dummyDOM.querySelector("#".concat(n,"_list"))):"gridOutput"===e&&(a="#".concat(i,"textOutput").concat(a),o='<div id="'.concat(n,'">Grid Output<p id="').concat(n,'_summary" aria-label="grid output summary"><table id="').concat(n,'_map" summary="grid output content"></table><ul id="').concat(n,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("afterend",o):this.dummyDOM.querySelector("#".concat(r)).innerHTML=o,this._accessibleOutputs[n].map=this.dummyDOM.querySelector("#".concat(n,"_map"))),this._accessibleOutputs[n].shapeDetails=this.dummyDOM.querySelector("#".concat(n,"_shapeDetails")),this._accessibleOutputs[n].summary=this.dummyDOM.querySelector("#".concat(n,"_summary"))},r.default.prototype._updateAccsOutput=function(){var e=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(e+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(e+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(e+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(e+"gridOutputLabel"))},r.default.prototype._accsBackground=function(e){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==e&&(this.ingredients.colors.backgroundRGBA=e,this.ingredients.colors.background=this._rgbColorName(e))},r.default.prototype._accsCanvasColors=function(e,t){"fill"===e?this.ingredients.colors.fillRGBA!==t&&(this.ingredients.colors.fillRGBA=t,this.ingredients.colors.fill=this._rgbColorName(t)):"stroke"===e&&this.ingredients.colors.strokeRGBA!==t&&(this.ingredients.colors.strokeRGBA=t,this.ingredients.colors.stroke=this._rgbColorName(t))},r.default.prototype._accsOutput=function(e,t){"ellipse"===e&&t[2]===t[3]?e="circle":"rectangle"===e&&t[2]===t[3]&&(e="square");var n,r,i={},a=!0,s=function(e,t){var n;return e="rectangle"===e||"ellipse"===e||"arc"===e||"circle"===e||"square"===e?(n=Math.round(t[0]+t[2]/2),Math.round(t[1]+t[3]/2)):"triangle"===e?(n=(t[0]+t[2]+t[4])/3,(t[1]+t[3]+t[5])/3):"quadrilateral"===e?(n=(t[0]+t[2]+t[4]+t[6])/4,(t[1]+t[3]+t[5]+t[7])/4):"line"===e?(n=(t[0]+t[2])/2,(t[1]+t[3])/2):(n=t[0],t[1]),[n,e]}(e,t);if("line"===e?(i.color=this.ingredients.colors.stroke,i.length=Math.round(this.dist(t[0],t[1],t[2],t[3])),n=this._getPos(t[0],[1]),r=this._getPos(t[2],[3]),i.loc=o(s,this.width,this.height),i.pos=n===r?"at ".concat(n):"from ".concat(n," to ").concat(r)):("point"===e?i.color=this.ingredients.colors.stroke:(i.color=this.ingredients.colors.fill,i.area=this._getArea(e,t)),i.pos=this._getPos.apply(this,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(s)),i.loc=o(s,this.width,this.height)),this.ingredients.shapes[e]){if(this.ingredients.shapes[e]!==[i]){for(var l in this.ingredients.shapes[e])JSON.stringify(this.ingredients.shapes[e][l])===JSON.stringify(i)&&(a=!1);!0===a&&this.ingredients.shapes[e].push(i)}}else this.ingredients.shapes[e]=[i]},r.default.prototype._getPos=function(e,t){e=new DOMPointReadOnly(e,t),t=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),t=(e=e.matrixTransform(t)).x,e=e.y;var n=this.width,r=this.height;return t<.4*n?e<.4*r?"top left":.6*r<e?"bottom left":"mid left":.6*n<t?e<.4*r?"top right":.6*r<e?"bottom right":"mid right":e<.4*r?"top middle":.6*r<e?"bottom middle":"middle"},r.default.prototype._getArea=function(e,t){var n,r,o=0,i=("arc"===e?(o=(n=((t[5]-t[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*t[2]*t[3]/8,"open"!==t[6]&&"chord"!==t[6]||(r=t[0],u=t[1],i=t[0]+t[2]/2*Math.cos(t[4]).toFixed(2),c=t[1]+t[3]/2*Math.sin(t[4]).toFixed(2),s=t[0]+t[2]/2*Math.cos(t[5]).toFixed(2),a=t[1]+t[3]/2*Math.sin(t[5]).toFixed(2),r=Math.abs(r*(c-a)+i*(a-u)+s*(u-c))/2,n>Math.PI?o+=r:o-=r)):"ellipse"===e||"circle"===e?o=3.14*t[2]/2*t[3]/2:"line"===e||"point"===e?o=0:"quadrilateral"===e?o=Math.abs((t[6]+t[0])*(t[7]-t[1])+(t[0]+t[2])*(t[1]-t[3])+(t[2]+t[4])*(t[3]-t[5])+(t[4]+t[6])*(t[5]-t[7]))/2:"rectangle"===e||"square"===e?o=t[2]*t[3]:"triangle"===e&&(o=Math.abs(t[0]*(t[3]-t[5])+t[2]*(t[5]-t[1])+t[4]*(t[1]-t[3]))/2),this.width*this._pixelDensity),a=this.height*this._pixelDensity,s=[new DOMPoint(0,0),new DOMPoint(i,0),new DOMPoint(i,a),new DOMPoint(0,a)],l=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),u=s.map((function(e){return e.matrixTransform(l)})),c=Math.abs((u[3].x+u[0].x)*(u[3].y-u[0].y)+(u[0].x+u[1].x)*(u[0].y-u[1].y)+(u[1].x+u[2].x)*(u[1].y-u[2].y)+(u[2].x+u[3].x)*(u[2].y-u[3].y))/2;return Math.round(100*o/c)},e=r.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],256:[function(e,t,n){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.concat"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype._updateTextOutput=function(e){var t,n,r,o;this.dummyDOM.querySelector("#".concat(e,"_summary"))&&(t=this._accessibleOutputs[e],r=function(e,t,n,r){return n="Your output is a, ".concat(n," by ").concat(r," pixels, ").concat(t," canvas containing the following"),1===e?"".concat(n," shape:"):"".concat(n," ").concat(e," shapes:")}((n=function(e,t){var n,r="",o=0;for(n in t)for(var i in t[n]){var a='<li><a href="#'.concat(e,"shape").concat(o,'">').concat(t[n][i].color," ").concat(n,"</a>");"line"===n?a+=", ".concat(t[n][i].pos,", ").concat(t[n][i].length," pixels long.</li>"):(a+=", at ".concat(t[n][i].pos),"point"!==n&&(a+=", covering ".concat(t[n][i].area,"% of the canvas")),a+=".</li>"),r+=a,o++}return{numShapes:o,listShapes:r}}(e,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),o=function(e,t){var n,r="",o=0;for(n in t)for(var i in t[n]){var a='<tr id="'.concat(e,"shape").concat(o,'"><th>').concat(t[n][i].color," ").concat(n,"</th>");"line"===n?a+="<td>location = ".concat(t[n][i].pos,"</td><td>length = ").concat(t[n][i].length," pixels</td></tr>"):(a+="<td>location = ".concat(t[n][i].pos,"</td>"),"point"!==n&&(a+="<td> area = ".concat(t[n][i].area,"%</td>")),a+="</tr>"),r+=a,o++}return r}(e,this.ingredients.shapes),r!==t.summary.innerHTML&&(t.summary.innerHTML=r),n.listShapes!==t.list.innerHTML&&(t.list.innerHTML=n.listShapes),o!==t.shapeDetails.innerHTML&&(t.shapeDetails.innerHTML=o),this._accessibleOutputs[e]=t)},e=e.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151}],257:[function(e,t,n){"use strict";var r=(r=e("./core/main"))&&r.__esModule?r:{default:r};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Framebuffer"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),t.exports=r.default},{"./accessibility/color_namer":252,"./accessibility/describe":253,"./accessibility/gridOutput":254,"./accessibility/outputs":255,"./accessibility/textOutput":256,"./color/color_conversion":258,"./color/creating_reading":259,"./color/p5.Color":260,"./color/setting":261,"./core/constants":262,"./core/environment":263,"./core/friendly_errors/fes_core":264,"./core/friendly_errors/file_errors":265,"./core/friendly_errors/sketch_reader":266,"./core/friendly_errors/stacktrace":267,"./core/friendly_errors/validate_params":268,"./core/helpers":269,"./core/init":270,"./core/legacy":272,"./core/main":273,"./core/p5.Element":274,"./core/p5.Graphics":275,"./core/p5.Renderer":276,"./core/p5.Renderer2D":277,"./core/preload":278,"./core/rendering":279,"./core/shape/2d_primitives":280,"./core/shape/attributes":281,"./core/shape/curves":282,"./core/shape/vertex":283,"./core/shim":284,"./core/structure":285,"./core/transform":286,"./data/local_storage.js":287,"./data/p5.TypedDict":288,"./dom/dom":289,"./events/acceleration":290,"./events/keyboard":291,"./events/mouse":292,"./events/touch":293,"./image/filters":294,"./image/image":295,"./image/loading_displaying":296,"./image/p5.Image":297,"./image/pixels":298,"./io/files":299,"./io/p5.Table":300,"./io/p5.TableRow":301,"./io/p5.XML":302,"./math/calculation":303,"./math/math":304,"./math/noise":305,"./math/p5.Vector":306,"./math/random":307,"./math/trigonometry":308,"./typography/attributes":309,"./typography/loading_displaying":310,"./typography/p5.Font":311,"./utilities/array_functions":312,"./utilities/conversion":313,"./utilities/string_functions":314,"./utilities/time_date":315,"./webgl/3d_primitives":316,"./webgl/interaction":317,"./webgl/light":318,"./webgl/loading":319,"./webgl/material":320,"./webgl/p5.Camera":321,"./webgl/p5.Framebuffer":322,"./webgl/p5.Geometry":323,"./webgl/p5.Matrix":324,"./webgl/p5.RenderBuffer":325,"./webgl/p5.RendererGL":328,"./webgl/p5.RendererGL.Immediate":326,"./webgl/p5.RendererGL.Retained":327,"./webgl/p5.Shader":329,"./webgl/p5.Texture":330,"./webgl/text":331}],258:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.ColorConversion={_hsbaToHSLA:function(e){var t=e[0],n=e[1],r=e[2],o=(2-n)*r/2;return 0!=o&&(1==o?n=0:o<.5?n/=2-n:n=n*r/(2-2*o)),[t,n,o,e[3]]},_hsbaToRGBA:function(e){var t,n,r,o,i,a=6*e[0],s=e[1],l=e[2];return 0===s?[l,l,l,e[3]]:(n=l*(1-s),r=l*(1-s*(a-(t=Math.floor(a)))),s=l*(1-s*(1+t-a)),a=1===t?(o=r,i=l,n):2===t?(o=n,i=l,s):3===t?(o=n,i=r,l):4===t?(o=s,i=n,l):5===t?(o=l,i=n,r):(o=l,i=s,n),[o,i,a,e[3]])},_hslaToHSBA:function(e){var t=e[0],n=e[1],r=e[2],o=r<.5?(1+n)*r:r+n-r*n;return[t,n=2*(o-r)/o,o,e[3]]},_hslaToRGBA:function(e){var t,n=6*e[0],r=e[1],o=e[2];return 0===r?[o,o,o,e[3]]:[(t=function(e,t,n){return e<0?e+=6:6<=e&&(e-=6),e<1?t+(n-t)*e:e<3?n:e<4?t+(n-t)*(4-e):t})(2+n,r=2*o-(o=o<.5?(1+r)*o:o+r-o*r),o),t(n,r,o),t(n-2,r,o),e[3]]},_rgbaToHSBA:function(e){var t,n,r=e[0],o=e[1],i=e[2],a=Math.max(r,o,i),s=a-Math.min(r,o,i);return 0==s?n=t=0:(n=s/a,r===a?t=(o-i)/s:o===a?t=2+(i-r)/s:i===a&&(t=4+(r-o)/s),t<0?t+=6:6<=t&&(t-=6)),[t/6,n,a,e[3]]},_rgbaToHSLA:function(e){var t,n,r,o=e[0],i=e[1],a=e[2],s=Math.max(o,i,a),l=s+(r=Math.min(o,i,a));return 0==(r=s-r)?n=t=0:(n=l<1?r/l:r/(2-l),o===s?t=(i-a)/r:i===s?t=2+(a-o)/r:a===s&&(t=4+(o-i)/r),t<0?t+=6:6<=t&&(t-=6)),[t/6,n,l/2,e[3]]}},e=e.default.ColorConversion,n.default=e},{"../core/main":273}],259:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.map"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(s=e("../core/main"))&&s.__esModule?s:{default:s},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),i.default.prototype.alpha=function(e){return i.default._validateParameters("alpha",arguments),this.color(e)._getAlpha()},i.default.prototype.blue=function(e){return i.default._validateParameters("blue",arguments),this.color(e)._getBlue()},i.default.prototype.brightness=function(e){return i.default._validateParameters("brightness",arguments),this.color(e)._getBrightness()},i.default.prototype.color=function(){var e;return i.default._validateParameters("color",arguments),arguments[0]instanceof i.default.Color?arguments[0]:(e=arguments[0]instanceof Array?arguments[0]:arguments,new i.default.Color(this,e))},i.default.prototype.green=function(e){return i.default._validateParameters("green",arguments),this.color(e)._getGreen()},i.default.prototype.hue=function(e){return i.default._validateParameters("hue",arguments),this.color(e)._getHue()},i.default.prototype.lerpColor=function(e,t,n){i.default._validateParameters("lerpColor",arguments);var r,o,s,l=this._colorMode,u=this._colorMaxes;if(l===a.RGB)o=e.levels.map((function(e){return e/255})),s=t.levels.map((function(e){return e/255}));else if(l===a.HSB)e._getBrightness(),t._getBrightness(),o=e.hsba,s=t.hsba;else{if(l!==a.HSL)throw new Error("".concat(l,"cannot be used for interpolation."));e._getLightness(),t._getLightness(),o=e.hsla,s=t.hsla}return n=Math.max(Math.min(n,1),0),void 0===this.lerp&&(this.lerp=function(e,t,n){return n*(t-e)+e}),e=this.lerp(o[0],s[0],n),t=this.lerp(o[1],s[1],n),r=this.lerp(o[2],s[2],n),o=this.lerp(o[3],s[3],n),e*=u[l][0],t*=u[l][1],r*=u[l][2],o*=u[l][3],this.color(e,t,r,o)},i.default.prototype.lightness=function(e){return i.default._validateParameters("lightness",arguments),this.color(e)._getLightness()},i.default.prototype.red=function(e){return i.default._validateParameters("red",arguments),this.color(e)._getRed()},i.default.prototype.saturation=function(e){return i.default._validateParameters("saturation",arguments),this.color(e)._getSaturation()};var s=i.default;n.default=s},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],260:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.trim"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("../core/main")),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants")),s=l(e("./color_conversion"));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},d=(e=/\s*/,/(\d{1,3})/),p=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,h=new RegExp("".concat(p.source,"%")),f={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",d.source,",",d.source,",",d.source,"\\)$"].join(e.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(e.source),"i"),RGBA:new RegExp(["^rgba\\(",d.source,",",d.source,",",d.source,",",p.source,"\\)$"].join(e.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",p.source,"\\)$"].join(e.source),"i"),HSL:new RegExp(["^hsl\\(",d.source,",",h.source,",",h.source,"\\)$"].join(e.source),"i"),HSLA:new RegExp(["^hsla\\(",d.source,",",h.source,",",h.source,",",p.source,"\\)$"].join(e.source),"i"),HSB:new RegExp(["^hsb\\(",d.source,",",h.source,",",h.source,"\\)$"].join(e.source),"i"),HSBA:new RegExp(["^hsba\\(",d.source,",",h.source,",",h.source,",",p.source,"\\)$"].join(e.source),"i")};i.default.Color=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(t._colorMode,t._colorMaxes),![a.RGB,a.HSL,a.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=e._parseInputs.apply(this,n),this._calculateLevels()}var t,n,r;return t=e,r=[{key:"_parseInputs",value:function(t,n,r,o){var i,l=arguments.length,u=this.mode,d=this.maxes[u],p=[];if(3<=l){for(p[0]=t/d[0],p[1]=n/d[1],p[2]=r/d[2],p[3]="number"==typeof o?o/d[3]:1,i=p.length-1;0<=i;--i){var h=p[i];h<0?p[i]=0:1<h&&(p[i]=1)}return u===a.HSL?s.default._hslaToRGBA(p):u===a.HSB?s.default._hsbaToRGBA(p):p}if(1===l&&"string"==typeof t){if(r=t.trim().toLowerCase(),c[r])return e._parseInputs.call(this,c[r]);if(f.HEX3.test(r))return(p=f.HEX3.exec(r).slice(1).map((function(e){return parseInt(e+e,16)/255})))[3]=1,p;if(f.HEX6.test(r))return(p=f.HEX6.exec(r).slice(1).map((function(e){return parseInt(e,16)/255})))[3]=1,p;if(f.HEX4.test(r))return f.HEX4.exec(r).slice(1).map((function(e){return parseInt(e+e,16)/255}));if(f.HEX8.test(r))return f.HEX8.exec(r).slice(1).map((function(e){return parseInt(e,16)/255}));if(f.RGB.test(r))return(p=f.RGB.exec(r).slice(1).map((function(e){return e/255})))[3]=1,p;if(f.RGB_PERCENT.test(r))return(p=f.RGB_PERCENT.exec(r).slice(1).map((function(e){return parseFloat(e)/100})))[3]=1,p;if(f.RGBA.test(r))return f.RGBA.exec(r).slice(1).map((function(e,t){return 3===t?parseFloat(e):e/255}));if(f.RGBA_PERCENT.test(r))return f.RGBA_PERCENT.exec(r).slice(1).map((function(e,t){return 3===t?parseFloat(e):parseFloat(e)/100}));if(f.HSL.test(r)?(p=f.HSL.exec(r).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100})))[3]=1:f.HSLA.test(r)&&(p=f.HSLA.exec(r).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100}))),(p=p.map((function(e){return Math.max(Math.min(e,1),0)}))).length)return s.default._hslaToRGBA(p);if(f.HSB.test(r)?(p=f.HSB.exec(r).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100})))[3]=1:f.HSBA.test(r)&&(p=f.HSBA.exec(r).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100}))),p.length){for(i=p.length-1;0<=i;--i)p[i]=Math.max(Math.min(p[i],1),0);return s.default._hsbaToRGBA(p)}p=[1,1,1,1]}else{if(1!==l&&2!==l||"number"!=typeof t)throw new Error("".concat(arguments,"is not a valid color representation."));p[0]=t/d[2],p[1]=t/d[2],p[2]=t/d[2],p[3]="number"==typeof n?n/d[3]:1,p=p.map((function(e){return Math.max(Math.min(e,1),0)}))}return p}}],(n=[{key:"toString",value:function(e){var t=this.levels,n=this._array,r=n[3];switch(e){case"#rrggbb":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16));case"#rrggbbaa":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16),t[3]<16?"0".concat(t[3].toString(16)):t[3].toString(16));case"#rgb":return"#".concat(Math.round(15*n[0]).toString(16),Math.round(15*n[1]).toString(16),Math.round(15*n[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*n[0]).toString(16),Math.round(15*n[1]).toString(16),Math.round(15*n[2]).toString(16),Math.round(15*n[3]).toString(16));case"rgb":return"rgb(".concat(t[0],", ",t[1],", ",t[2],")");case"rgb%":return"rgb(".concat((100*n[0]).toPrecision(3),"%, ",(100*n[1]).toPrecision(3),"%, ",(100*n[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*n[0]).toPrecision(3),"%, ",(100*n[1]).toPrecision(3),"%, ",(100*n[2]).toPrecision(3),"%, ",(100*n[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[a.HSB][0],", ",this.hsba[1]*this.maxes[a.HSB][1],", ",this.hsba[2]*this.maxes[a.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[a.HSB][0],", ",this.hsba[1]*this.maxes[a.HSB][1],", ",this.hsba[2]*this.maxes[a.HSB][2],", ",r,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*r).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[a.HSL][0],", ",this.hsla[1]*this.maxes[a.HSL][1],", ",this.hsla[2]*this.maxes[a.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[a.HSL][0],", ",this.hsla[1]*this.maxes[a.HSL][1],", ",this.hsla[2]*this.maxes[a.HSL][2],", ",r,")");case"hsla%":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*r).toPrecision(3),"%)");default:return"rgba(".concat(t[0],",",t[1],",",t[2],",",r,")")}}},{key:"setRed",value:function(e){this._array[0]=e/this.maxes[a.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(e){this._array[1]=e/this.maxes[a.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(e){this._array[2]=e/this.maxes[a.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(e){this._array[3]=e/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var e=this._array,t=this.levels=new Array(e.length),n=e.length-1;0<=n;--n)t[n]=Math.round(255*e[n]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(e,t){this.mode=e,this.maxes=t}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[a.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[a.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[a.RGB][1]}},{key:"_getHue",value:function(){return this.mode===a.HSB?(this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[a.HSB][0]):(this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[a.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[a.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[a.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===a.HSB?(this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[a.HSB][1]):(this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[a.HSL][1])}}])&&u(t.prototype,n),r&&u(t,r),e}(),d=i.default.Color,n.default=d},{"../core/constants":262,"../core/main":273,"./color_conversion":258,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],261:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.fill"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(s=e("../core/main"))&&s.__esModule?s:{default:s},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));e("./p5.Color"),i.default.prototype.background=function(){var e;return(e=this._renderer).background.apply(e,arguments),this},i.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},i.default.prototype.colorMode=function(e,t,n,r,o){return i.default._validateParameters("colorMode",arguments),e!==a.RGB&&e!==a.HSB&&e!==a.HSL||(this._colorMode=e,e=this._colorMaxes[e],2===arguments.length?(e[0]=t,e[1]=t,e[2]=t,e[3]=t):4===arguments.length?(e[0]=t,e[1]=n,e[2]=r):5===arguments.length&&(e[0]=t,e[1]=n,e[2]=r,e[3]=o)),this},i.default.prototype.fill=function(){var e;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(e=this._renderer).fill.apply(e,arguments),this},i.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},i.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},i.default.prototype.stroke=function(){var e;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(e=this._renderer).stroke.apply(e,arguments),this},i.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},i.default.prototype.noErase=function(){return this._renderer.noErase(),this};var s=i.default;n.default=s},{"../core/constants":262,"../core/main":273,"./p5.Color":260,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],262:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QUADRATIC=n.LINEAR=n._CTX_MIDDLE=n._DEFAULT_LEADMULT=n._DEFAULT_TEXT_FILL=n.WORD=n.CHAR=n.BOLDITALIC=n.BOLD=n.ITALIC=n.NORMAL=n.BLUR=n.ERODE=n.DILATE=n.POSTERIZE=n.INVERT=n.OPAQUE=n.GRAY=n.THRESHOLD=n.BURN=n.DODGE=n.SOFT_LIGHT=n.HARD_LIGHT=n.OVERLAY=n.REPLACE=n.SCREEN=n.MULTIPLY=n.EXCLUSION=n.SUBTRACT=n.DIFFERENCE=n.LIGHTEST=n.DARKEST=n.ADD=n.REMOVE=n.BLEND=n.UP_ARROW=n.TAB=n.SHIFT=n.RIGHT_ARROW=n.RETURN=n.OPTION=n.LEFT_ARROW=n.ESCAPE=n.ENTER=n.DOWN_ARROW=n.DELETE=n.CONTROL=n.BACKSPACE=n.ALT=n.AUTO=n.HSL=n.HSB=n.RGB=n.MITER=n.BEVEL=n.ROUND=n.SQUARE=n.PROJECT=n.PIE=n.CHORD=n.OPEN=n.CLOSE=n.TESS=n.QUAD_STRIP=n.QUADS=n.TRIANGLE_STRIP=n.TRIANGLE_FAN=n.TRIANGLES=n.LINE_LOOP=n.LINE_STRIP=n.LINES=n.POINTS=n.BASELINE=n.BOTTOM=n.TOP=n.CENTER=n.LEFT=n.RIGHT=n.RADIUS=n.CORNERS=n.CORNER=n.RAD_TO_DEG=n.DEG_TO_RAD=n.RADIANS=n.DEGREES=n.TWO_PI=n.TAU=n.QUARTER_PI=n.PI=n.HALF_PI=n.WAIT=n.TEXT=n.MOVE=n.HAND=n.CROSS=n.ARROW=n.WEBGL2=n.WEBGL=n.P2D=n.VERSION=void 0,n.RGBA=n.HALF_FLOAT=n.FLOAT=n.UNSIGNED_INT=n.UNSIGNED_BYTE=n.COVER=n.CONTAIN=n.FALLBACK=n.LABEL=n.AXES=n.GRID=n._DEFAULT_FILL=n._DEFAULT_STROKE=n.PORTRAIT=n.LANDSCAPE=n.MIRROR=n.CLAMP=n.REPEAT=n.NEAREST=n.IMAGE=n.IMMEDIATE=n.TEXTURE=n.FILL=n.STROKE=n.CURVE=n.BEZIER=void 0;var r=Math.PI,o=(n.VERSION="1.7.0",n.P2D="p2d",n.WEBGL="webgl",n.WEBGL2="webgl2",n.ARROW="default",n.CROSS="crosshair",n.HAND="pointer",n.MOVE="move",n.TEXT="text",n.WAIT="wait",r/2);n.HALF_PI=o,o=r,n.PI=o,o=r/4,n.QUARTER_PI=o,o=2*r,n.TAU=o,o=2*r,n.TWO_PI=o,n.DEGREES="degrees",n.RADIANS="radians",o=r/180,n.DEG_TO_RAD=o,o=180/r,n.RAD_TO_DEG=o,n.CORNER="corner",n.CORNERS="corners",n.RADIUS="radius",n.RIGHT="right",n.LEFT="left",n.CENTER="center",n.TOP="top",n.BOTTOM="bottom",n.BASELINE="alphabetic",n.POINTS=0,n.LINES=1,n.LINE_STRIP=3,n.LINE_LOOP=2,n.TRIANGLES=4,n.TRIANGLE_FAN=6,n.TRIANGLE_STRIP=5,n.QUADS="quads",n.QUAD_STRIP="quad_strip",n.TESS="tess",n.CLOSE="close",n.OPEN="open",n.CHORD="chord",n.PIE="pie",n.PROJECT="square",n.SQUARE="butt",n.ROUND="round",n.BEVEL="bevel",n.MITER="miter",n.RGB="rgb",n.HSB="hsb",n.HSL="hsl",n.AUTO="auto",n.ALT=18,n.BACKSPACE=8,n.CONTROL=17,n.DELETE=46,n.DOWN_ARROW=40,n.ENTER=13,n.ESCAPE=27,n.LEFT_ARROW=37,n.OPTION=18,n.RETURN=13,n.RIGHT_ARROW=39,n.SHIFT=16,n.TAB=9,n.UP_ARROW=38,n.BLEND="source-over",n.REMOVE="destination-out",n.ADD="lighter",n.DARKEST="darken",n.LIGHTEST="lighten",n.DIFFERENCE="difference",n.SUBTRACT="subtract",n.EXCLUSION="exclusion",n.MULTIPLY="multiply",n.SCREEN="screen",n.REPLACE="copy",n.OVERLAY="overlay",n.HARD_LIGHT="hard-light",n.SOFT_LIGHT="soft-light",n.DODGE="color-dodge",n.BURN="color-burn",n.THRESHOLD="threshold",n.GRAY="gray",n.OPAQUE="opaque",n.INVERT="invert",n.POSTERIZE="posterize",n.DILATE="dilate",n.ERODE="erode",n.BLUR="blur",n.NORMAL="normal",n.ITALIC="italic",n.BOLD="bold",n.BOLDITALIC="bold italic",n.CHAR="CHAR",n.WORD="WORD",n._DEFAULT_TEXT_FILL="#000000",n._DEFAULT_LEADMULT=1.25,n._CTX_MIDDLE="middle",n.LINEAR="linear",n.QUADRATIC="quadratic",n.BEZIER="bezier",n.CURVE="curve",n.STROKE="stroke",n.FILL="fill",n.TEXTURE="texture",n.IMMEDIATE="immediate",n.IMAGE="image",n.NEAREST="nearest",n.REPEAT="repeat",n.CLAMP="clamp",n.MIRROR="mirror",n.LANDSCAPE="landscape",n.PORTRAIT="portrait",n._DEFAULT_STROKE="#000000",n._DEFAULT_FILL="#FFFFFF",n.GRID="grid",n.AXES="axes",n.LABEL="label",n.FALLBACK="fallback",n.CONTAIN="contain",n.COVER="cover",n.UNSIGNED_BYTE="unsigned-byte",n.UNSIGNED_INT="unsigned-int",n.FLOAT="float",n.HALF_FLOAT="half-float",n.RGBA="rgba"},{}],263:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(a=e("./main"))&&a.__esModule?a:{default:a},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("./constants")),s=[a.ARROW,a.CROSS,a.HAND,a.MOVE,a.TEXT,a.WAIT],l=(i.default.prototype._frameRate=0,i.default.prototype._lastFrameTime=window.performance.now(),i.default.prototype._targetFrameRate=60,window.print);function u(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function c(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}i.default.prototype.print=function(){var e;arguments.length?(e=console).log.apply(e,arguments):l()},i.default.prototype.frameCount=0,i.default.prototype.deltaTime=0,i.default.prototype.focused=document.hasFocus(),i.default.prototype.cursor=function(e,t,n){var r,o="auto",i=this._curElement.elt;s.includes(e)?o=e:"string"==typeof e&&(r="",t&&n&&"number"==typeof t&&"number"==typeof n&&(r="".concat(t," ").concat(n)),o="http://"===e.substring(0,7)||"https://"===e.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(e)?"url(".concat(e,") ").concat(r,", auto"):e),i.style.cursor=o},i.default.prototype.frameRate=function(e){return i.default._validateParameters("frameRate",arguments),"number"!=typeof e||e<0?this._frameRate:(this._setProperty("_targetFrameRate",e),0===e&&this._setProperty("_frameRate",e),this)},i.default.prototype.getFrameRate=function(){return this.frameRate()},i.default.prototype.setFrameRate=function(e){return this.frameRate(e)},i.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},i.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},i.default.prototype.webglVersion=a.P2D,i.default.prototype.displayWidth=screen.width,i.default.prototype.displayHeight=screen.height,i.default.prototype.windowWidth=u(),i.default.prototype.windowHeight=c(),i.default.prototype._onresize=function(e){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",c());var t=this._isGlobal?window:this;"function"!=typeof t.windowResized||void 0===(t=t.windowResized(e))||t||e.preventDefault()},i.default.prototype.width=0,i.default.prototype.height=0,i.default.prototype.fullscreen=function(e){if(i.default._validateParameters("fullscreen",arguments),void 0===e)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(e){if(e=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},i.default.prototype.pixelDensity=function(e){var t;return i.default._validateParameters("pixelDensity",arguments),"number"==typeof e?(e!==this._pixelDensity&&(this._pixelDensity=e),(t=this).resizeCanvas(this.width,this.height,!0)):t=this._pixelDensity,t},i.default.prototype.displayDensity=function(){return window.devicePixelRatio},i.default.prototype.getURL=function(){return location.href},i.default.prototype.getURLPath=function(){return location.pathname.split("/").filter((function(e){return""!==e}))},i.default.prototype.getURLParams=function(){for(var e,t=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,n={};null!=(e=t.exec(location.search));)e.index===t.lastIndex&&t.lastIndex++,n[e[1]]=e[2];return n},e=i.default,n.default=e},{"./constants":262,"./main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.search":195,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],264:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.starts-with"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.starts-with"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(l=e("../main"))&&l.__esModule?l:{default:l};function o(e,t){t=t||console.log.bind(console),i||a(),i.some((function(n){var r;if(e.message&&null!==e.message.match("\\W?".concat(n.name,"\\W")))return r="function"===n.type?"".concat(n.name,"()"):n.name,t("Did you just try to use p5.js's ".concat(r," ").concat(n.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(s)),!0}))}e("../internationalization");var i=null,a=null,s=(r.default._friendlyError=r.default._checkForUserDefinedFunctions=r.default._fesErrorMonitor=function(){},i=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),l=(a=function(){function t(e){return Object.getOwnPropertyNames(e).filter((function(e){return"_"!==e[0]&&!(e in n)&&(n[e]=!0)})).map((function(t){var n="function"==typeof e[t]?"function":t===t.toUpperCase()?"constant":"variable";return{name:t,type:n}}))}var n={};(i=[].concat(t(r.default.prototype),t(e("../constants")))).sort((function(e,t){return t.name.length-e.name.length}))},r.default.prototype._helpForMisusedAtTopLevelCode=o,"complete"!==document.readyState&&(window.addEventListener("error",o,!1),window.addEventListener("load",(function(){window.removeEventListener("error",o,!1)}))),r.default);n.default=l},{"../constants":262,"../internationalization":271,"../main":273,"./browser_errors":void 0,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.function.name":167,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.starts-with":197,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],265:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(r=e("../main"))&&r.__esModule?r:{default:r};e("../internationalization"),r.default._friendlyFileLoadError=function(){},e=r.default,n.default=e},{"../internationalization":271,"../main":273}],266:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(e){return e&&e.__esModule?e:{default:e}}(e("../main"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}e("../internationalization"),function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n,r,i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&((r=s?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);i.default=e,t&&t.set(e,i)}(e("../constants")),i.default._fesCodeReader=function(){};var s=i.default;n.default=s},{"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],267:[function(e,t,n){"use strict";function r(){var e=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,n=/^(eval@)?(\[native code])?$/;return{parse:function(e){return void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(t)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):void 0},extractLocation:function(e){return-1===e.indexOf(":")?[e]:[(e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,"")))[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(t)}),this).map((function(e){var t=(n=(e=-1<e.indexOf("(eval ")?e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):e).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),n=(n=t?n.replace(t[0],""):n).split(/\s+/).slice(1);return t=this.extractLocation(t?t[1]:n.pop()),{functionName:n.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(t[0])?void 0:t[0],lineNumber:t[1],columnNumber:t[2],source:e}}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(n)}),this).map((function(e){var t,n;return-1===(e=-1<e.indexOf(" > eval")?e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):e).indexOf("@")&&-1===e.indexOf(":")?{functionName:e}:{functionName:(n=e.match(t=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&n[1]?n[1]:void 0,fileName:(n=this.extractLocation(e.replace(t,"")))[0],lineNumber:n[1],columnNumber:n[2],source:e}}),this)},parseOpera:function(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),r=[],o=2,i=n.length;o<i;o+=2){var a=t.exec(n[o]);a&&r.push({fileName:a[2],lineNumber:a[1],source:n[o]})}return r},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),r=[],o=0,i=n.length;o<i;o+=2){var a=t.exec(n[o]);a&&r.push({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:n[o]})}return r},parseOpera11:function(t){return t.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var t,n=e.split("@"),r=this.extractLocation(n.pop());return{functionName:(n=n.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(t=n.match(/\(([^)]*)\)/)?n.replace(/^[^(]+\(([^)]*)\)$/,"$1"):t)||"[arguments not available]"===t?void 0:t.split(","),fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e}}),this)}}}e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("../main"))&&e.__esModule?e:{default:e}).default._getErrorStackParser=function(){return new r},e=e.default,n.default=e},{"../main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196}],268:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(o=e("../main"))&&o.__esModule?o:{default:o};function i(e){return(i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}(function(e){if(!(e&&e.__esModule||null===e||"object"!==i(e)&&"function"!=typeof e)){var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=o?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}r.default=e,t&&t.set(e,r)}})(e("../constants")),e("../internationalization"),o.default._validateParameters=o.default._clearValidateParamsCache=function(){},e=o.default,n.default=e},{"../../../docs/parameterData.json":void 0,"../constants":262,"../internationalization":271,"../main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.map":168,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],269:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("./constants"));n.default={modeAdjust:function(e,t,n,r,o){return o===i.CORNER?{x:e,y:t,w:n,h:r}:o===i.CORNERS?{x:e,y:t,w:n-e,h:r-t}:o===i.RADIUS?{x:e-n,y:t-r,w:2*n,h:2*r}:o===i.CENTER?{x:e-.5*n,y:t-.5*r,w:n,h:r}:void 0}}},{"./constants":262,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],270:[function(e,t,n){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var r=(o=e("../core/main"))&&o.__esModule?o:{default:o};e("./internationalization");var o=Promise.resolve();Promise.all([new Promise((function(e,t){"complete"===document.readyState?e():window.addEventListener("load",e,!1)})),o]).then((function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!r.default.instance&&new r.default}))},{"../core/main":273,"./internationalization":271,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/web.dom-collections.iterator":236}],271:[function(e,t,n){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.setTranslatorLanguage=n.currentTranslatorLanguage=n.availableTranslatorLanguages=n.initialize=n.translator=void 0;var r,o=a(e("i18next")),i=a(e("i18next-browser-languagedetector"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.init(t,n)}var t;return(t=[{key:"fetchWithTimeout",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout"))}),n)}))])}},{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=t}},{key:"read",value:function(e,t,n){var o=this.options.loadPath;e===this.options.fallback?n(null,r[e][t]):(void 0).includes(e)?(o=this.services.interpolator.interpolate(o,{lng:e,ns:t}),this.loadUrl(o,n)):n("Not found",!1)}},{key:"loadUrl",value:function(e,t){this.fetchWithTimeout(e).then((function(t){if(t.ok)return t.json();throw new Error("failed loading ".concat(e))}),(function(){throw new Error("failed loading ".concat(e))})).then((function(e){return t(null,e)})).catch(t)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();s.type="backend",n.translator=function(e,t){console.debug("p5.js translator called before translations were loaded"),o.default.t(e,t)},n.initialize=function(){return o.default.use(i.default).use(s).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:r}).then((function(e){n.translator=e}),(function(e){return console.debug("Translations failed to load (".concat(e,")"))}))},n.availableTranslatorLanguages=function(){return o.default.languages},n.currentTranslatorLanguage=function(e){return o.default.language},n.setTranslatorLanguage=function(e){return o.default.changeLanguage(e||void 0,(function(e){return console.debug("Translations failed to load (".concat(e,")"))}))}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236,i18next:3,"i18next-browser-languagedetector":3}],272:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("./main"))&&e.__esModule?e:{default:e}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},e.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},e.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},e.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},e=e.default,n.default=e},{"./main":273}],273:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("./shim");var i,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("./constants")),s=function(){function e(t,n,r){var o=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=n,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},n=Object.getOwnPropertyNames(e.prototype._registeredMethods);var i=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var c=l.value;this._registeredMethods[c]=e.prototype._registeredMethods[c].slice()}}catch(t){a=!0,s=t}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){o._userNode&&"string"==typeof o._userNode&&(o._userNode=document.getElementById(o._userNode));var t=o._isGlobal?window:o;if(t.preload){var n,r=document.getElementById(o._loadingScreenId),i=(r||((r=document.createElement("div")).innerHTML="Loading...",r.style.position="absolute",r.id=o._loadingScreenId,(o._userNode||document.body).appendChild(r)),o._preloadMethods);for(n in i){i[n]=i[n]||e;var a=i[n];a!==e.prototype&&a!==e||(o._isGlobal&&(window[n]=o._wrapPreload(o,n)),a=o),o._registeredPreloadMethods[n]=a[n],a[n]=o._wrapPreload(a,n)}t.preload(),o._runIfPreloadsAreDone()}else o._setup(),o._recording||o._draw()},this._runIfPreloadsAreDone=function(){var e,t=this._isGlobal?window:this;0===t._preloadCount&&((e=document.getElementById(t._loadingScreenId))&&e.parentNode.removeChild(e),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),t._setup(),this._recording||t._draw()))},this._decrementPreload=function(){var e=this._isGlobal?window:this;e._preloadDone||"function"!=typeof e.preload||(e._setProperty("_preloadCount",e._preloadCount-1),e._runIfPreloadsAreDone())},this._wrapPreload=function(e,t){var n=this;return function(){n._incrementPreload();for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n._registeredPreloadMethods[t].apply(e,o)}},this._incrementPreload=function(){var e=this._isGlobal?window:this;e._preloadDone||e._setProperty("_preloadCount",e._preloadCount+1)},this._setup=function(){o.createCanvas(o._defaultCanvasSize.width,o._defaultCanvasSize.height,"p2d");var e=o._isGlobal?window:o;if("function"==typeof e.preload)for(var t in o._preloadMethods)e[t]=o._preloadMethods[t][t],e[t]&&o&&(e[t]=e[t].bind(o));o._millisStart=window.performance.now(),e._preloadDone=!0,"function"==typeof e.setup&&e.setup();var n=document.getElementsByTagName("canvas"),r=!0,i=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;"true"===u.dataset.hidden&&(u.style.visibility="",delete u.dataset.hidden)}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}o._lastTargetFrameTime=window.performance.now(),o._lastRealFrameTime=window.performance.now(),o._setupDone=!0,(o._accessibleOutputs.grid||o._accessibleOutputs.text)&&o._updateAccsOutput()},this._draw=function(){var e=window.performance.now(),t=e-o._lastTargetFrameTime,n=1e3/o._targetFrameRate;(!o._loop||n-5<=t)&&(o.deltaTime=e-o._lastRealFrameTime,o._setProperty("deltaTime",o.deltaTime),o._frameRate=1e3/o.deltaTime,o.redraw(),o._lastTargetFrameTime=Math.max(o._lastTargetFrameTime+n,e),o._lastRealFrameTime=e,void 0!==o._updateMouseCoords&&(o._updateMouseCoords(),o._setProperty("movedX",0),o._setProperty("movedY",0))),o._loop&&(o._requestAnimId=window.requestAnimationFrame(o._draw))},this._setProperty=function(e,t){o[e]=t,o._isGlobal&&(window[e]=t)},this.remove=function(){if((r=document.getElementById(o._loadingScreenId))&&(r.parentNode.removeChild(r),o._incrementPreload()),o._curElement){for(var t in o._loop=!1,o._requestAnimId&&window.cancelAnimationFrame(o._requestAnimId),o._events)window.removeEventListener(t,o._events[t]);var n=!0,r=!1,i=void 0;try{for(var a,s=o._elements[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l,u=a.value;for(l in u.elt&&u.elt.parentNode&&u.elt.parentNode.removeChild(u.elt),u._events)u.elt.removeEventListener(l,u._events[l])}}catch(t){r=!0,i=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}var c=o;o._registeredMethods.remove.forEach((function(e){void 0!==e&&e.call(c)}))}if(o._isGlobal){for(var d in e.prototype)try{delete window[d]}catch(t){window[d]=void 0}for(var p in o)if(o.hasOwnProperty(p))try{delete window[p]}catch(t){window[p]=void 0}e.instance=null}},this._registeredMethods.init.forEach((function(e){void 0!==e&&e.call(this)}),this),this._setupPromisePreloads();var d,p,h=this._createFriendlyGlobalFunctionBinder();if(t)t(this),e._checkForUserDefinedFunctions(this);else{for(var f in this._isGlobal=!0,e.instance=this,e.prototype)"function"==typeof e.prototype[f]?(d=f.substring(2),this._events.hasOwnProperty(d)||(Math.hasOwnProperty(f)&&Math[f]===e.prototype[f]?h(f,e.prototype[f]):h(f,e.prototype[f].bind(this)))):h(f,e.prototype[f]);for(var m in this)this.hasOwnProperty(m)&&h(m,this[m])}for(p in this._events){var g=this["_on".concat(p)];g&&(g=g.bind(this),window.addEventListener(p,g,{passive:!1}),this._events[p]=g)}function b(){o._setProperty("focused",!0)}function y(){o._setProperty("focused",!1)}window.addEventListener("focus",b),window.addEventListener("blur",y),this.registerMethod("remove",(function(){window.removeEventListener("focus",b),window.removeEventListener("blur",y)})),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var t;return(t=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=a.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(t,n){e.prototype._preloadMethods.hasOwnProperty(t)||(e.prototype._preloadMethods[t]=n)}},{key:"registerMethod",value:function(t,n){var r=this||e.prototype;r._registeredMethods.hasOwnProperty(t)||(r._registeredMethods[t]=[]),r._registeredMethods[t].push(n)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.globalObject||window;return t.log||console.log.bind(console),function(t,r){e.disableFriendlyErrors,n[t]=r}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();for(i in s.instance=null,s.disableFriendlyErrors=!1,a)s.prototype[i]=a[i];s.VERSION=a.VERSION,s.prototype._preloadMethods={loadJSON:s.prototype,loadImage:s.prototype,loadStrings:s.prototype,loadXML:s.prototype,loadBytes:s.prototype,loadTable:s.prototype,loadFont:s.prototype,loadModel:s.prototype,loadShader:s.prototype},s.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},s.prototype._registeredPreloadMethods={},n.default=s},{"./constants":262,"./shim":284,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-own-property-names":177,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],274:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("./main"))&&e.__esModule?e:{default:e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}r.default.Element=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.elt=t,this._pInst=this._pixelsState=n,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var t,n,i;return t=e,i=[{key:"_adjustListener",value:function(e,t,n){return!1===t?r.default.Element._detachListener(e,n):r.default.Element._attachListener(e,t,n),this}},{key:"_attachListener",value:function(e,t,n){n._events[e]&&r.default.Element._detachListener(e,n),t=t.bind(n),n.elt.addEventListener(e,t,!1),n._events[e]=t}},{key:"_detachListener",value:function(e,t){var n=t._events[e];t.elt.removeEventListener(e,n,!1),t._events[e]=null}}],(n=[{key:"parent",value:function(e){return void 0===e?this.elt.parentNode:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof r.default.Element&&(e=e.elt),e.appendChild(this.elt),this)}},{key:"id",value:function(e){return void 0===e?this.elt.id:(this.elt.id=e,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(e){return void 0===e?this.elt.className:(this.elt.className=e,this)}},{key:"mousePressed",value:function(e){return r.default.Element._adjustListener("mousedown",(function(t){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(t),e.call(this,t)}),this),this}},{key:"doubleClicked",value:function(e){return r.default.Element._adjustListener("dblclick",e,this),this}},{key:"mouseWheel",value:function(e){return r.default.Element._adjustListener("wheel",e,this),this}},{key:"mouseReleased",value:function(e){return r.default.Element._adjustListener("mouseup",e,this),this}},{key:"mouseClicked",value:function(e){return r.default.Element._adjustListener("click",e,this),this}},{key:"mouseMoved",value:function(e){return r.default.Element._adjustListener("mousemove",e,this),this}},{key:"mouseOver",value:function(e){return r.default.Element._adjustListener("mouseover",e,this),this}},{key:"mouseOut",value:function(e){return r.default.Element._adjustListener("mouseout",e,this),this}},{key:"touchStarted",value:function(e){return r.default.Element._adjustListener("touchstart",e,this),this}},{key:"touchMoved",value:function(e){return r.default.Element._adjustListener("touchmove",e,this),this}},{key:"touchEnded",value:function(e){return r.default.Element._adjustListener("touchend",e,this),this}},{key:"dragOver",value:function(e){return r.default.Element._adjustListener("dragover",e,this),this}},{key:"dragLeave",value:function(e){return r.default.Element._adjustListener("dragleave",e,this),this}},{key:"_setProperty",value:function(e,t){this[e]=t}}])&&o(t.prototype,n),i&&o(t,i),e}(),e=r.default.Element,n.default=e},{"./main":273}],275:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(d=e("./main"))&&d.__esModule?d:{default:d},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("./constants"));function a(e){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}o.default.Graphics=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e);var n=function(e){return function(){var t,n=c(e);return l(this,function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?(t=c(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments))}}(r);function r(e,t,a,s,c){var d;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");h=c||document.createElement("canvas"),(d=n.call(this,h,s)).canvas=h;var p,h=a||i.P2D;for(p in a=s._userNode||document.body,c||a.appendChild(d.canvas),o.default.prototype)d[p]||("function"==typeof o.default.prototype[p]?d[p]=o.default.prototype[p].bind(u(d)):d[p]=o.default.prototype[p]);return o.default.prototype._initializeInstanceVariables.apply(u(d)),d.width=e,d.height=t,d._pixelDensity=s._pixelDensity,h===i.WEBGL?d._renderer=new o.default.RendererGL(d.canvas,u(d),!1):d._renderer=new o.default.Renderer2D(d.canvas,u(d),!1),s._elements.push(u(d)),Object.defineProperty(u(d),"deltaTime",{get:function(){return this._pInst.deltaTime}}),d._renderer.resize(e,t),d._renderer._applyDefaults(),l(d,u(d))}return t=r,(e=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var e,t=this._pInst._elements.indexOf(this);for(e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e])}},{key:"createFramebuffer",value:function(e){return new o.default.Framebuffer(this,e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),r}(o.default.Element);var d=o.default.Graphics;n.default=d},{"./constants":262,"./main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],276:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(c=e("./main"))&&c.__esModule?c:{default:c},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(e){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e);var n=function(e){return function(){var t,n,r=u(e);return t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?(t=u(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),r=this,!(n=t)||"object"!==a(n)&&"function"!=typeof n?l(r):n}}(r);function r(e,t,o){var a;if(this instanceof r)return(a=n.call(this,e,t)).canvas=e,a._pixelsState=t,o?(a._isMainCanvas=!0,a._pInst._setProperty("_curElement",l(a)),a._pInst._setProperty("canvas",a.canvas),a._pInst._setProperty("width",a.width),a._pInst._setProperty("height",a.height)):(a.canvas.style.display="none",a._styles=[]),a._textSize=12,a._textLeading=15,a._textFont="sans-serif",a._textStyle=i.NORMAL,a._textAscent=null,a._textDescent=null,a._textAlign=i.LEFT,a._textBaseline=i.BASELINE,a._textWrap=i.WORD,a._rectMode=i.CORNER,a._ellipseMode=i.CENTER,a._curveTightness=0,a._imageMode=i.CORNER,a._tint=null,a._doStroke=!0,a._doFill=!0,a._strokeSet=!1,a._fillSet=!1,a._leadingSet=!1,a;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"push",value:function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(e){e.properties&&Object.assign(this,e.properties)}},{key:"resize",value:function(e,t){this.width=e,this.height=t,this.elt.width=e*this._pInst._pixelDensity,this.elt.height=t*this._pInst._pixelDensity,this.elt.style.width="".concat(e,"px"),this.elt.style.height="".concat(t,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(e,t,n,r){var i=this._pixelsState,a=i._pixelDensity,s=this.canvas;if(void 0===e&&void 0===t)e=t=0,n=i.width,r=i.height;else if(e*=a,t*=a,void 0===n&&void 0===r)return e<0||t<0||e>=s.width||t>=s.height?[0,0,0,0]:this._getPixel(e,t);return(i=new o.default.Image(n,r)).canvas.getContext("2d").drawImage(s,e,t,n*a,r*a,0,0,n,r),i}},{key:"textLeading",value:function(e){return"number"==typeof e?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",e),this._pInst):this._textLeading}},{key:"textStyle",value:function(e){return e?(e!==i.NORMAL&&e!==i.ITALIC&&e!==i.BOLD&&e!==i.BOLDITALIC||this._setProperty("_textStyle",e),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(e,t){return void 0!==e?(this._setProperty("_textAlign",e),void 0!==t&&this._setProperty("_textBaseline",t),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(e){return this._setProperty("_textWrap",e),this._textWrap}},{key:"text",value:function(e,t,n,r,o){var a,s,l,u,c=this._pInst,d=this._textWrap,p=Number.MAX_VALUE,h=n;if((this._doFill||this._doStroke)&&void 0!==e){if(a=(e=(e="string"!=typeof e?e.toString():e).replace(/(\t)/g,"  ")).split("\n"),void 0!==r){switch(this._rectMode===i.CENTER&&(t-=r/2),this._textAlign){case i.CENTER:t+=r/2;break;case i.RIGHT:t+=r}if(void 0!==o){this._rectMode===i.CENTER&&(n-=o/2,h-=o/2),e=n;var f=c.textAscent();switch(this._textBaseline){case i.BOTTOM:u=n+o,n=Math.max(u,n),h+=f;break;case i.CENTER:u=n+o/2,n=Math.max(u,n),h+=f/2}p=n+o-f,this._textBaseline===i.CENTER&&(p=e+o-f/2)}else this._textBaseline!==i.BOTTOM&&this._textBaseline!==i.CENTER||(h=n-(e=c.textSize()*this._textLeading)/2,p=n+e/2);if(d===i.WORD){for(var m=[],g=0;g<a.length;g++){for(var b="",y=a[g].split(" "),v=0;v<y.length;v++)s="".concat(b+y[v])+" ",b=r<(l=this.textWidth(s))&&0<b.length?(m.push(b),"".concat(y[v])+" "):s;m.push(b)}var x=0;this._textBaseline===i.CENTER?x=(m.length-1)*c.textLeading()/2:this._textBaseline===i.BOTTOM&&(x=(m.length-1)*c.textLeading());for(var w=0;w<a.length;w++){b="",y=a[w].split(" ");for(var k=0;k<y.length;k++)s="".concat(b+y[k])+" ",r<(l=this.textWidth(s))&&0<b.length?(this._renderText(c,b.trim(),t,n-x,p,h),b="".concat(y[k])+" ",n+=c.textLeading()):b=s;this._renderText(c,b.trim(),t,n-x,p,h),n+=c.textLeading()}}else{for(var _=[],S=0;S<a.length;S++)for(var E=a[S].split(b=""),T=0;T<E.length;T++)s="".concat(b+E[T]),(l=this.textWidth(s))<=r?b+=E[T]:r<l&&0<b.length&&(_.push(b),b="".concat(E[T]));_.push(b);var C=0;this._textBaseline===i.CENTER?C=(_.length-1)*c.textLeading()/2:this._textBaseline===i.BOTTOM&&(C=(_.length-1)*c.textLeading());for(var I=0;I<a.length;I++){E=a[I].split(b="");for(var j=0;j<E.length;j++)s="".concat(b+E[j]),(l=this.textWidth(s))<=r?b+=E[j]:r<l&&0<b.length&&(this._renderText(c,b.trim(),t,n-C,p,h),n+=c.textLeading(),b="".concat(E[j]))}this._renderText(c,b.trim(),t,n-C,p,h),n+=c.textLeading()}}else{var A=0;this._textBaseline===i.CENTER?A=(a.length-1)*c.textLeading()/2:this._textBaseline===i.BOTTOM&&(A=(a.length-1)*c.textLeading());for(var O=0;O<a.length;O++)this._renderText(c,a[O],t,n-A,p,h-A),n+=c.textLeading()}return c}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===a(e)&&e.font&&e.font.supported}},{key:"_updateTextMetrics",value:function(){var e,t,n,r,o,i;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((e=document.createElement("span")).style.fontFamily=this._textFont,e.style.fontSize="".concat(this._textSize,"px"),e.innerHTML="ABCjgq|",(i=document.createElement("div")).style.display="inline-block",i.style.width="1px",i.style.height="0px",(t=document.createElement("div")).appendChild(e),t.appendChild(i),t.style.height="0px",t.style.overflow="hidden",document.body.appendChild(t),i.style.verticalAlign="baseline",r=d(i),o=d(e),n=r[1]-o[1],i.style.verticalAlign="bottom",r=d(i),o=d(e),i=r[1]-o[1]-n,document.body.removeChild(t),this._setProperty("_textAscent",n),this._setProperty("_textDescent",i)),this}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),r}(o.default.Element);function d(e){var t=0,n=0;if(e.offsetParent)for(;t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;);else t+=e.offsetLeft,n+=e.offsetTop;return[t,n]}c.prototype.textSize=function(e){return"number"==typeof e?(this._setProperty("_textSize",e),this._leadingSet||this._setProperty("_textLeading",e*i._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},o.default.Renderer=c,e=o.default.Renderer,n.default=e},{"../core/constants":262,"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],277:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.reflect.get"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.reflect.get"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(d=e("./main"))&&d.__esModule?d:{default:d},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("./constants"));function a(e){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t))return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(n):e.value})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}e("./p5.Renderer");var c="rgba(0,0,0,0)",d=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e);var n=function(e){return function(){var t,n=u(e);if(t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?(t=u(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!t||"object"!==a(t)&&"function"!=typeof t){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}}(r);function r(e,t,o){if(this instanceof r)return(e=n.call(this,e,t,o)).drawingContext=e.canvas.getContext("2d"),e._pInst._setProperty("drawingContext",e.drawingContext),e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=i.BLEND,this._setFill(i._DEFAULT_FILL),this._setStroke(i._DEFAULT_STROKE),this.drawingContext.lineCap=i.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(e,t){s(u(r.prototype),"resize",this).call(this,e,t),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var e,t;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof o.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(e=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(e,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(e=this._getFill(),t=(t=this._pInst).color.apply(t,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(t.levels),t=t.toString(),this._setFill(t),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(e),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var e=(e=this._pInst).color.apply(e,arguments);this._setFill(e.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",e.levels)}},{key:"stroke",value:function(){var e=(e=this._pInst).color.apply(e,arguments);this._setStroke(e.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",e.levels)}},{key:"erase",value:function(e,t){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,e=this._pInst.color(255,e).toString(),this.drawingContext.fillStyle=e,this._cachedStrokeStyle=this.drawingContext.strokeStyle,e=this._pInst.color(255,t).toString(),this.drawingContext.strokeStyle=e,t=this._cachedBlendMode,this.blendMode(i.REMOVE),this._cachedBlendMode=t,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"image",value:function(e,t,n,r,i,a,s,l,u){e.gifProperties&&e._animateGif(this._pInst);try{o.default.MediaElement&&e instanceof o.default.MediaElement&&e._ensureCanvas();var c=(c=this._tint&&e.canvas?this._getTintedImageCanvas(e):c)||e.canvas||e.elt,d=1;e.width&&0<e.width&&(d=c.width/e.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(c,d*t,d*n,d*r,d*i,a,s,l,u),this._isErasing&&this._pInst.erase()}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e}}},{key:"_getTintedImageCanvas",value:function(e){if(!e.canvas)return e;e.tintCanvas||(e.tintCanvas=document.createElement("canvas")),e.tintCanvas.width!==e.canvas.width&&(e.tintCanvas.width=e.canvas.width),e.tintCanvas.height!==e.canvas.height&&(e.tintCanvas.height=e.canvas.height);var t=e.tintCanvas.getContext("2d");return t.save(),t.clearRect(0,0,e.canvas.width,e.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(t.drawImage(e.canvas,0,0),t.globalCompositeOperation="luminosity",t.drawImage(e.canvas,0,0),t.globalCompositeOperation="color",t.drawImage(e.canvas,0,0),t.globalCompositeOperation="multiply",t.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),t.fillRect(0,0,e.canvas.width,e.canvas.height),t.globalCompositeOperation="destination-in"),t.globalAlpha=this._tint[3]/255,t.drawImage(e.canvas,0,0),t.restore(),e.tintCanvas}},{key:"blendMode",value:function(e){if(e===i.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(e!==i.BLEND&&e!==i.REMOVE&&e!==i.DARKEST&&e!==i.LIGHTEST&&e!==i.DIFFERENCE&&e!==i.MULTIPLY&&e!==i.EXCLUSION&&e!==i.SCREEN&&e!==i.REPLACE&&e!==i.OVERLAY&&e!==i.HARD_LIGHT&&e!==i.SOFT_LIGHT&&e!==i.DODGE&&e!==i.BURN&&e!==i.ADD)throw new Error("Mode ".concat(e," not recognized."));this._cachedBlendMode=e,this.drawingContext.globalCompositeOperation=e}}},{key:"blend",value:function(){for(var e=this.drawingContext.globalCompositeOperation,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[n.length-1],a=Array.prototype.slice.call(n,0,n.length-1);this.drawingContext.globalCompositeOperation=i,o.default.prototype.copy.apply(this,a),this.drawingContext.globalCompositeOperation=e}},{key:"_getPixel",value:function(e,t){return[(e=this.drawingContext.getImageData(e,t,1,1).data)[0],e[1],e[2],e[3]]}},{key:"loadPixels",value:function(){var e=this._pixelsState,t=e._pixelDensity,n=this.width*t;t=this.height*t,n=this.drawingContext.getImageData(0,0,n,t),e._setProperty("imageData",n),e._setProperty("pixels",n.data)}},{key:"set",value:function(e,t,n){e=Math.floor(e),t=Math.floor(t);var r=this._pixelsState;if(n instanceof o.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(r._pixelDensity,r._pixelDensity),this.drawingContext.clearRect(e,t,n.width,n.height),this.drawingContext.drawImage(n.canvas,e,t),this.drawingContext.restore();else{var i=0,a=0,s=0,l=0,u=4*(t*r._pixelDensity*(this.width*r._pixelDensity)+e*r._pixelDensity);if(r.imageData||r.loadPixels.call(r),"number"==typeof n)u<r.pixels.length&&(s=a=i=n,l=255);else if(n instanceof Array){if(n.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");u<r.pixels.length&&(i=n[0],a=n[1],s=n[2],l=n[3])}else n instanceof o.default.Color&&u<r.pixels.length&&(i=n.levels[0],a=n.levels[1],s=n.levels[2],l=n.levels[3]);for(var c=0;c<r._pixelDensity;c++)for(var d=0;d<r._pixelDensity;d++)u=4*((t*r._pixelDensity+d)*this.width*r._pixelDensity+(e*r._pixelDensity+c)),r.pixels[u]=i,r.pixels[u+1]=a,r.pixels[u+2]=s,r.pixels[u+3]=l}}},{key:"updatePixels",value:function(e,t,n,r){var o=this._pixelsState,i=o._pixelDensity;void 0===e&&void 0===t&&void 0===n&&void 0===r&&(t=e=0,n=this.width,r=this.height),e*=i,t*=i,n*=i,r*=i,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=o.imageData),this.drawingContext.putImageData(o.imageData,e,t,0,0,n,r)}},{key:"_acuteArcToBezier",value:function(e,t){var n=t/2,r=Math.cos(n),o=Math.sin(n),i=1/Math.tan(n),a=(n=e+n,Math.cos(n)),s=(n=Math.sin(n),(4-r)/3);return o+=(r-s)*i,{ax:Math.cos(e).toFixed(7),ay:Math.sin(e).toFixed(7),bx:(s*a+o*n).toFixed(7),by:(s*n-o*a).toFixed(7),cx:(s*a-o*n).toFixed(7),cy:(s*n+o*a).toFixed(7),dx:Math.cos(e+t).toFixed(7),dy:Math.sin(e+t).toFixed(7)}}},{key:"arc",value:function(e,t,n,r,o,a,s){var l,u=this.drawingContext,c=n/2,d=r/2,p=[];for(e+=c,t+=d;1e-5<=a-o;)l=Math.min(a-o,i.HALF_PI),p.push(this._acuteArcToBezier(o,l)),o+=l;return this._doFill&&(u.beginPath(),p.forEach((function(n,r){0===r&&u.moveTo(e+n.ax*c,t+n.ay*d),u.bezierCurveTo(e+n.bx*c,t+n.by*d,e+n.cx*c,t+n.cy*d,e+n.dx*c,t+n.dy*d)})),s!==i.PIE&&null!=s||u.lineTo(e,t),u.closePath(),u.fill()),this._doStroke&&(u.beginPath(),p.forEach((function(n,r){0===r&&u.moveTo(e+n.ax*c,t+n.ay*d),u.bezierCurveTo(e+n.bx*c,t+n.by*d,e+n.cx*c,t+n.cy*d,e+n.dx*c,t+n.dy*d)})),s===i.PIE?(u.lineTo(e,t),u.closePath()):s===i.CHORD&&u.closePath(),u.stroke()),this}},{key:"ellipse",value:function(e){var t=this.drawingContext,n=this._doFill,r=this._doStroke,o=parseFloat(e[0]),i=parseFloat(e[1]),a=parseFloat(e[2]);if(e=parseFloat(e[3]),n&&!r){if(this._getFill()===c)return this}else if(!n&&r&&this._getStroke()===c)return this;var s=a/2*.5522847498,l=e/2*.5522847498,u=o+a,d=i+e;a=o+a/2,e=i+e/2,t.beginPath(),t.moveTo(o,e),t.bezierCurveTo(o,e-l,a-s,i,a,i),t.bezierCurveTo(a+s,i,u,e-l,u,e),t.bezierCurveTo(u,e+l,a+s,d,a,d),t.bezierCurveTo(a-s,d,o,e+l,o,e),n&&t.fill(),r&&t.stroke()}},{key:"line",value:function(e,t,n,r){var o=this.drawingContext;return this._doStroke&&this._getStroke()!==c&&(o.beginPath(),o.moveTo(e,t),o.lineTo(n,r),o.stroke()),this}},{key:"point",value:function(e,t){var n,r,o=this.drawingContext;return this._doStroke&&this._getStroke()!==c?(n=this._getStroke(),r=this._getFill(),this._setFill(n),o.beginPath(),o.arc(e,t,o.lineWidth/2,0,i.TWO_PI,!1),o.fill(),void this._setFill(r)):this}},{key:"quad",value:function(e,t,n,r,o,i,a,s){var l=this.drawingContext,u=this._doFill,d=this._doStroke;if(u&&!d){if(this._getFill()===c)return this}else if(!u&&d&&this._getStroke()===c)return this;return l.beginPath(),l.moveTo(e,t),l.lineTo(n,r),l.lineTo(o,i),l.lineTo(a,s),l.closePath(),u&&l.fill(),d&&l.stroke(),this}},{key:"rect",value:function(e){var t,n,r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],d=(e=e[7],this.drawingContext),p=this._doFill,h=this._doStroke;if(p&&!h){if(this._getFill()===c)return this}else if(!p&&h&&this._getStroke()===c)return this;return d.beginPath(),void 0===s?d.rect(r,o,i,a):(void 0===l&&(l=s),void 0===u&&(u=l),void 0===e&&(e=u),h=(p=Math.abs(i))/2,n=(t=Math.abs(a))/2,t<2*(s=p<2*s?h:s)&&(s=n),t<2*(l=p<2*l?h:l)&&(l=n),t<2*(u=p<2*u?h:u)&&(u=n),t<2*(e=p<2*e?h:e)&&(e=n),d.beginPath(),d.moveTo(r+s,o),d.arcTo(r+i,o,r+i,o+a,l),d.arcTo(r+i,o+a,r,o+a,u),d.arcTo(r,o+a,r,o,e),d.arcTo(r,o,r+i,o,s),d.closePath()),this._doFill&&d.fill(),this._doStroke&&d.stroke(),this}},{key:"triangle",value:function(e){var t=this.drawingContext,n=this._doFill,r=this._doStroke,o=e[0],i=e[1],a=e[2],s=e[3],l=e[4];if(e=e[5],n&&!r){if(this._getFill()===c)return this}else if(!n&&r&&this._getStroke()===c)return this;t.beginPath(),t.moveTo(o,i),t.lineTo(a,s),t.lineTo(l,e),t.closePath(),n&&t.fill(),r&&t.stroke()}},{key:"endShape",value:function(e,t,n,r,o,a,s){if(0!==t.length&&(this._doStroke||this._doFill)){var l,u,c,d=e===i.CLOSE,p=(d&&!a&&t.push(t[0]),t.length);if(!n||s!==i.POLYGON&&null!==s)if(!r||s!==i.POLYGON&&null!==s)if(!o||s!==i.POLYGON&&null!==s)if(s===i.POINTS)for(u=0;u<p;u++)l=t[u],this._doStroke&&this._pInst.stroke(l[6]),this._pInst.point(l[0],l[1]);else if(s===i.LINES)for(u=0;u+1<p;u+=2)l=t[u],this._doStroke&&this._pInst.stroke(t[u+1][6]),this._pInst.line(l[0],l[1],t[u+1][0],t[u+1][1]);else if(s===i.TRIANGLES)for(u=0;u+2<p;u+=3)l=t[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[u+1][0],t[u+1][1]),this.drawingContext.lineTo(t[u+2][0],t[u+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(t[u+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(t[u+2][6]),this.drawingContext.stroke());else if(s===i.TRIANGLE_STRIP)for(u=0;u+1<p;u++)l=t[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[u+1][0],t[u+1][1]),this.drawingContext.lineTo(l[0],l[1]),this._doStroke&&this._pInst.stroke(t[u+1][6]),this._doFill&&this._pInst.fill(t[u+1][5]),u+2<p&&(this.drawingContext.lineTo(t[u+2][0],t[u+2][1]),this._doStroke&&this._pInst.stroke(t[u+2][6]),this._doFill&&this._pInst.fill(t[u+2][5])),this._doFillStrokeClose(d);else if(s===i.TRIANGLE_FAN){if(2<p){for(this.drawingContext.beginPath(),u=2;u<p;u++)l=t[u],this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[u-1][0],t[u-1][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(t[0][0],t[0][1]),u<p-1&&(this._doFill&&l[5]!==t[u+1][5]||this._doStroke&&l[6]!==t[u+1][6])&&(this._doFill&&(this._pInst.fill(l[5]),this.drawingContext.fill(),this._pInst.fill(t[u+1][5])),this._doStroke&&(this._pInst.stroke(l[6]),this.drawingContext.stroke(),this._pInst.stroke(t[u+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(d)}}else if(s===i.QUADS)for(u=0;u+3<p;u+=4){for(l=t[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),c=1;c<4;c++)this.drawingContext.lineTo(t[u+c][0],t[u+c][1]);this.drawingContext.lineTo(l[0],l[1]),this._doFill&&this._pInst.fill(t[u+3][5]),this._doStroke&&this._pInst.stroke(t[u+3][6]),this._doFillStrokeClose(d)}else if(s===i.QUAD_STRIP){if(3<p)for(u=0;u+1<p;u+=2)l=t[u],this.drawingContext.beginPath(),u+3<p?(this.drawingContext.moveTo(t[u+2][0],t[u+2][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(t[u+1][0],t[u+1][1]),this.drawingContext.lineTo(t[u+3][0],t[u+3][1]),this._doFill&&this._pInst.fill(t[u+3][5]),this._doStroke&&this._pInst.stroke(t[u+3][6])):(this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[u+1][0],t[u+1][1])),this._doFillStrokeClose(d)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),u=1;u<p;u++)(l=t[u]).isVert&&(l.moveTo?this.drawingContext.moveTo(l[0],l[1]):this.drawingContext.lineTo(l[0],l[1]));this._doFillStrokeClose(d)}else{for(this.drawingContext.beginPath(),u=0;u<p;u++)t[u].isVert?t[u].moveTo?this.drawingContext.moveTo(t[u][0],t[u][1]):this.drawingContext.lineTo(t[u][0],t[u][1]):this.drawingContext.quadraticCurveTo(t[u][0],t[u][1],t[u][2],t[u][3]);this._doFillStrokeClose(d)}else{for(this.drawingContext.beginPath(),u=0;u<p;u++)t[u].isVert?t[u].moveTo?this.drawingContext.moveTo(t[u][0],t[u][1]):this.drawingContext.lineTo(t[u][0],t[u][1]):this.drawingContext.bezierCurveTo(t[u][0],t[u][1],t[u][2],t[u][3],t[u][4],t[u][5]);this._doFillStrokeClose(d)}else if(3<p){var h=[],f=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[1][0],t[1][1]),u=1;u+2<p;u++)l=t[u],h[0]=[l[0],l[1]],h[1]=[l[0]+(f*t[u+1][0]-f*t[u-1][0])/6,l[1]+(f*t[u+1][1]-f*t[u-1][1])/6],h[2]=[t[u+1][0]+(f*t[u][0]-f*t[u+2][0])/6,t[u+1][1]+(f*t[u][1]-f*t[u+2][1])/6],h[3]=[t[u+1][0],t[u+1][1]],this.drawingContext.bezierCurveTo(h[1][0],h[1][1],h[2][0],h[2][1],h[3][0],h[3][1]);d&&this.drawingContext.lineTo(t[u+1][0],t[u+1][1]),this._doFillStrokeClose(d)}a=o=r=n=!1,d&&t.pop()}return this}},{key:"strokeCap",value:function(e){return e!==i.ROUND&&e!==i.SQUARE&&e!==i.PROJECT||(this.drawingContext.lineCap=e),this}},{key:"strokeJoin",value:function(e){return e!==i.ROUND&&e!==i.BEVEL&&e!==i.MITER||(this.drawingContext.lineJoin=e),this}},{key:"strokeWeight",value:function(e){return this.drawingContext.lineWidth=void 0===e||0===e?1e-4:e,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(e){e!==this._cachedFillStyle&&(this.drawingContext.fillStyle=e,this._cachedFillStyle=e)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(e){e!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=e,this._cachedStrokeStyle=e)}},{key:"bezier",value:function(e,t,n,r,o,i,a,s){return this._pInst.beginShape(),this._pInst.vertex(e,t),this._pInst.bezierVertex(n,r,o,i,a,s),this._pInst.endShape(),this}},{key:"curve",value:function(e,t,n,r,o,i,a,s){return this._pInst.beginShape(),this._pInst.curveVertex(e,t),this._pInst.curveVertex(n,r),this._pInst.curveVertex(o,i),this._pInst.curveVertex(a,s),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(e){e&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(e,t,n,r,o,i){this.drawingContext.transform(e,t,n,r,o,i)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(e){this.drawingContext.rotate(e)}},{key:"scale",value:function(e,t){return this.drawingContext.scale(e,t),this}},{key:"translate",value:function(e,t){return e instanceof o.default.Vector&&(t=e.y,e=e.x),this.drawingContext.translate(e,t),this}},{key:"_renderText",value:function(e,t,n,r,o,a){if(!(r<a||o<=r))return e.push(),this._isOpenType()?this._textFont._renderPath(t,n,r,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(t,n,r),this._doFill&&(this._fillSet||this._setFill(i._DEFAULT_TEXT_FILL),this.drawingContext.fillText(t,n,r))),e.pop(),e}},{key:"textWidth",value:function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):this.drawingContext.measureText(e).width}},{key:"_applyTextProperties",value:function(){var e,t=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),e=this._textFont,this._isOpenType()&&(e=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(e||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===i.CENTER?this.drawingContext.textBaseline=i._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,t}},{key:"push",value:function(){return this.drawingContext.save(),s(u(r.prototype),"push",this).call(this)}},{key:"pop",value:function(e){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s(u(r.prototype),"pop",this).call(this,e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),r}(o.default.Renderer);d.prototype.text=function(e,t,n,r,a){var s;return void 0!==r&&this.drawingContext.textBaseline===i.BASELINE&&(s=!0,this.drawingContext.textBaseline=i.TOP),r=o.default.Renderer.prototype.text.apply(this,arguments),s&&(this.drawingContext.textBaseline=i.BASELINE),r},o.default.Renderer2D=d,e=o.default.Renderer2D,n.default=e},{"./constants":262,"./main":273,"./p5.Renderer":276,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],278:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var r=(e=e("./main"))&&e.__esModule?e:{default:e};function o(){return{}}r.default.prototype._promisePreloads=[];var i=!(r.default.prototype.registerPromisePreload=function(e){r.default.prototype._promisePreloads.push(e)});r.default.prototype._setupPromisePreloads=function(){var e=!0,t=!1,n=void 0;try{for(var o,a=this._promisePreloads[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value,l=this,u=s.method,c=s.addCallbacks,d=s.legacyPreloadSetup,p=s.target||this,h=p[u].bind(p);if(p===r.default.prototype){if(i)continue;l=null,h=p[u]}p[u]=this._wrapPromisePreload(l,h,c),d&&(p[d.method]=this._legacyPreloadGenerator(l,d,p[u]))}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}i=!0},r.default.prototype._wrapPromisePreload=function(e,t,n){var r=function(){for(var e=this,r=(this._incrementPreload(),null),o=null,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(n)for(var l=a.length-1;0<=l&&!o&&"function"==typeof a[l];l--)o=r,r=a.pop();var u=Promise.resolve(t.apply(this,a));return r&&u.then(r),o&&u.catch(o),u.then((function(){return e._decrementPreload()})),u};return e?r.bind(e):r},r.default.prototype._legacyPreloadGenerator=function(e,t,n){var r=t.createBaseObject||o;return t=function(){var e=this;this._incrementPreload();for(var t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];var a=r.apply(this,o);return n.apply(this,o).then((function(t){Object.assign(a,t),e._decrementPreload()})),a},e?t.bind(e):t}},{"./main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],279:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(l=e("./main"))&&l.__esModule?l:{default:l},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("./constants"));function a(e){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var s="defaultCanvas0",l=(o.default.prototype.createCanvas=function(e,t,n,r){var a,l,u;if(o.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(n=i.P2D,r=arguments[2]):a=n||i.P2D,r)(u=document.getElementById(s))&&u.parentNode.removeChild(u),u=r,this._defaultGraphicsCreated=!1;else{if(a===i.WEBGL)(u=document.getElementById(s))&&(u.parentNode.removeChild(u),l=this._renderer,this._elements=this._elements.filter((function(e){return e!==l}))),(u=document.createElement("canvas")).id=s,u.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)u=this.canvas;else{u=r||document.createElement("canvas");for(var c=0;document.getElementById("defaultCanvas".concat(c));)c++;s="defaultCanvas".concat(c),u.id=s,u.classList.add("p5Canvas")}this._setupDone||(u.dataset.hidden=!0,u.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(n=document.createElement("main"),document.body.appendChild(n)),document.getElementsByTagName("main")[0])).appendChild(u)}return a===i.WEBGL?(this._setProperty("_renderer",new o.default.RendererGL(u,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new o.default.Renderer2D(u,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(e,t),this._renderer._applyDefaults(),this._renderer},o.default.prototype.resizeCanvas=function(e,t,n){if(o.default._validateParameters("resizeCanvas",arguments),this._renderer){var r,i,s={};for(r in this.drawingContext){var l=this.drawingContext[r];"object"!==a(l)&&"function"!=typeof l&&(s[r]=l)}for(i in this.width=e,this.height=t,this._renderer.resize(e,t),s)try{this.drawingContext[i]=s[i]}catch(e){}n||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},o.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},o.default.prototype.createGraphics=function(e,t,n,r){return arguments[2]instanceof HTMLCanvasElement&&(n=i.P2D,r=arguments[2]),o.default._validateParameters("createGraphics",arguments),new o.default.Graphics(e,t,n,this,r)},o.default.prototype.createFramebuffer=function(e){return new o.default.Framebuffer(this,e)},o.default.prototype.blendMode=function(e){o.default._validateParameters("blendMode",arguments),e===i.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),e=i.BLEND),this._renderer.blendMode(e)},o.default);n.default=l},{"../webgl/p5.RendererGL":328,"./constants":262,"./main":273,"./p5.Graphics":275,"./p5.Renderer2D":277,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],280:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=l(e("../main")),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../constants")),s=l(e("../helpers"));function l(e){return e&&e.__esModule?e:{default:e}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),i.default.prototype._normalizeArcAngles=function(e,t,n,r,o){var i;return e-=a.TWO_PI*Math.floor(e/a.TWO_PI),t-=a.TWO_PI*Math.floor(t/a.TWO_PI),i=Math.min(Math.abs(e-t),a.TWO_PI-Math.abs(e-t)),o&&(e=e<=a.HALF_PI?Math.atan(n/r*Math.tan(e)):e>a.HALF_PI&&e<=3*a.HALF_PI?Math.atan(n/r*Math.tan(e))+a.PI:Math.atan(n/r*Math.tan(e))+a.TWO_PI,t=t<=a.HALF_PI?Math.atan(n/r*Math.tan(t)):t>a.HALF_PI&&t<=3*a.HALF_PI?Math.atan(n/r*Math.tan(t))+a.PI:Math.atan(n/r*Math.tan(t))+a.TWO_PI),t<e&&(t+=a.TWO_PI),{start:e,stop:t,correspondToSamePoint:i<1e-5}},i.default.prototype.arc=function(e,t,n,r,o,a,l,u){return i.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&o!==a&&(o=this._toRadians(o),a=this._toRadians(a),n=Math.abs(n),r=Math.abs(r),e=s.default.modeAdjust(e,t,n,r,this._renderer._ellipseMode),(t=this._normalizeArcAngles(o,a,e.w,e.h,!0)).correspondToSamePoint?this._renderer.ellipse([e.x,e.y,e.w,e.h,u]):(this._renderer.arc(e.x,e.y,e.w,e.h,t.start,t.stop,l,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[e.x,e.y,e.w,e.h,t.start,t.stop,l]))),this},i.default.prototype.ellipse=function(e,t,n,r,o){return i.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},i.default.prototype.circle=function(){i.default._validateParameters("circle",arguments);var e=Array.prototype.slice.call(arguments,0,2);return e.push(arguments[2]),e.push(arguments[2]),this._renderEllipse.apply(this,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(e))},i.default.prototype._renderEllipse=function(e,t,n,r,o){return(this._renderer._doStroke||this._renderer._doFill)&&(n<0&&(n=Math.abs(n)),void 0===r?r=n:r<0&&(r=Math.abs(r)),e=s.default.modeAdjust(e,t,n,r,this._renderer._ellipseMode),this._renderer.ellipse([e.x,e.y,e.w,e.h,o]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[e.x,e.y,e.w,e.h])),this},i.default.prototype.line=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.default._validateParameters("line",n),this._renderer._doStroke&&(e=this._renderer).line.apply(e,n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",n),this},i.default.prototype.point=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.default._validateParameters("point",n),this._renderer._doStroke&&(1===n.length&&n[0]instanceof i.default.Vector?this._renderer.point.call(this._renderer,n[0].x,n[0].y,n[0].z):((e=this._renderer).point.apply(e,n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",n))),this},i.default.prototype.quad=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.default._validateParameters("quad",n),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&n.length<12?this._renderer.quad.call(this._renderer,n[0],n[1],0,n[2],n[3],0,n[4],n[5],0,n[6],n[7],0,n[8],n[9]):((e=this._renderer).quad.apply(e,n),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",n))),this},i.default.prototype.rect=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default._validateParameters("rect",t),this._renderRect.apply(this,t)},i.default.prototype.square=function(e,t,n,r,o,a,s){return i.default._validateParameters("square",arguments),this._renderRect.call(this,e,t,n,n,r,o,a,s)},i.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var e=s.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),t=[e.x,e.y,e.w,e.h],n=4;n<arguments.length;n++)t[n]=arguments[n];this._renderer.rect(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[e.x,e.y,e.w,e.h])}return this},i.default.prototype.triangle=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default._validateParameters("triangle",t),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",t),this},e=i.default,n.default=e},{"../constants":262,"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../helpers":269,"../main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],281:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(s=e("../main"))&&s.__esModule?s:{default:s},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../constants"));i.default.prototype.ellipseMode=function(e){return i.default._validateParameters("ellipseMode",arguments),e!==a.CORNER&&e!==a.CORNERS&&e!==a.RADIUS&&e!==a.CENTER||(this._renderer._ellipseMode=e),this},i.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},i.default.prototype.rectMode=function(e){return i.default._validateParameters("rectMode",arguments),e!==a.CORNER&&e!==a.CORNERS&&e!==a.RADIUS&&e!==a.CENTER||(this._renderer._rectMode=e),this},i.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},i.default.prototype.strokeCap=function(e){return i.default._validateParameters("strokeCap",arguments),e!==a.ROUND&&e!==a.SQUARE&&e!==a.PROJECT||this._renderer.strokeCap(e),this},i.default.prototype.strokeJoin=function(e){return i.default._validateParameters("strokeJoin",arguments),e!==a.ROUND&&e!==a.BEVEL&&e!==a.MITER||this._renderer.strokeJoin(e),this},i.default.prototype.strokeWeight=function(e){return i.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(e),this};var s=i.default;n.default=s},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],282:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(o=e("../main"))&&o.__esModule?o:{default:o};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),r.default.prototype.bezier=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.default._validateParameters("bezier",n),(this._renderer._doStroke||this._renderer._doFill)&&(e=this._renderer).bezier.apply(e,n),this},r.default.prototype.bezierDetail=function(e){return r.default._validateParameters("bezierDetail",arguments),this._bezierDetail=e,this},r.default.prototype.bezierPoint=function(e,t,n,o,i){r.default._validateParameters("bezierPoint",arguments);var a=1-i;return Math.pow(a,3)*e+3*Math.pow(a,2)*i*t+3*a*Math.pow(i,2)*n+Math.pow(i,3)*o},r.default.prototype.bezierTangent=function(e,t,n,o,i){r.default._validateParameters("bezierTangent",arguments);var a=1-i;return 3*o*Math.pow(i,2)-3*n*Math.pow(i,2)+6*n*a*i-6*t*a*i+3*t*Math.pow(a,2)-3*e*Math.pow(a,2)},r.default.prototype.curve=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.default._validateParameters("curve",n),this._renderer._doStroke&&(e=this._renderer).curve.apply(e,n),this},r.default.prototype.curveDetail=function(e){return r.default._validateParameters("curveDetail",arguments),this._curveDetail=e<3?3:e,this},r.default.prototype.curveTightness=function(e){return r.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=e,this},r.default.prototype.curvePoint=function(e,t,n,o,i){r.default._validateParameters("curvePoint",arguments);var a=this._renderer._curveTightness,s=i*i*i,l=i*i;return e*((a-1)/2*s+(1-a)*l+(a-1)/2*i)+t*((a+3)/2*s+(-5-a)/2*l+1)+n*((-3-a)/2*s+(a+2)*l+(1-a)/2*i)+o*((1-a)/2*s+(a-1)/2*l)},r.default.prototype.curveTangent=function(e,t,n,o,i){r.default._validateParameters("curveTangent",arguments);var a=this._renderer._curveTightness,s=i*i*3;return e*((a-1)/2*s+(1-a)*(i*=2)+(a-1)/2)+t*((a+3)/2*s+(-5-a)/2*i)+n*((-3-a)/2*s+(a+2)*i+(1-a)/2)+o*((1-a)/2*s+(a-1)/2*i)};var o=r.default;n.default=o},{"../friendly_errors/fes_core":264,"../friendly_errors/file_errors":265,"../friendly_errors/validate_params":268,"../main":273}],283:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(m=e("../main"))&&m.__esModule?m:{default:m},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../constants")),s=null,l=[],u=[],c=!1,d=!1,p=!1,h=!1,f=!0,m=(i.default.prototype.beginContour=function(){return u=[],h=!0,this},i.default.prototype.beginShape=function(e){var t;return i.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(t=this._renderer).beginShape.apply(t,arguments):(s=e===a.POINTS||e===a.LINES||e===a.TRIANGLES||e===a.TRIANGLE_FAN||e===a.TRIANGLE_STRIP||e===a.QUADS||e===a.QUAD_STRIP?e:null,l=[],u=[]),this},i.default.prototype.bezierVertex=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(i.default._validateParameters("bezierVertex",n),this._renderer.isP3D)(e=this._renderer).bezierVertex.apply(e,n);else if(0===l.length)i.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{c=!0;for(var o=[],a=0;a<n.length;a++)o[a]=n[a];o.isVert=!1,(h?u:l).push(o)}return this},i.default.prototype.curveVertex=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.default._validateParameters("curveVertex",n),this._renderer.isP3D?(e=this._renderer).curveVertex.apply(e,n):(d=!0,this.vertex(n[0],n[1])),this},i.default.prototype.endContour=function(){var e=u[0].slice();e.isVert=u[0].isVert,e.moveTo=!1,u.push(e),f&&(l.push(l[0]),f=!1);for(var t=0;t<u.length;t++)l.push(u[t]);return this},i.default.prototype.endShape=function(e){if(i.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(e,d,c,p,h,s);else{if(0===l.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var t=e===a.CLOSE;t&&!h&&l.push(l[0]),this._renderer.endShape(e,l,d,c,p,h,s),f=!(h=p=c=d=!1),t&&l.pop()}return this},i.default.prototype.quadraticVertex=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(i.default._validateParameters("quadraticVertex",n),this._renderer.isP3D)(e=this._renderer).quadraticVertex.apply(e,n);else{if(this._contourInited)return(e={}).x=n[0],e.y=n[1],e.x3=n[2],e.y3=n[3],e.type=a.QUADRATIC,this._contourVertices.push(e),this;if(0<l.length){p=!0;for(var o=[],s=0;s<n.length;s++)o[s]=n[s];o.isVert=!1,(h?u:l).push(o)}else i.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},i.default.prototype.vertex=function(e,t,n,r,o){var i;return this._renderer.isP3D?(i=this._renderer).vertex.apply(i,arguments):((i=[]).isVert=!0,i[0]=e,i[1]=t,i[2]=0,i[3]=0,i[4]=0,i[5]=this._renderer._getFill(),i[6]=this._renderer._getStroke(),n&&(i.moveTo=n),(h?(0===u.length&&(i.moveTo=!0),u):l).push(i)),this},i.default.prototype.normal=function(e,t,n){var r;return this._assert3d("normal"),i.default._validateParameters("normal",arguments),(r=this._renderer).normal.apply(r,arguments),this},i.default);n.default=m},{"../constants":262,"../main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],284:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var a,s,l;e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(a=Object.keys,e=Object.defineProperty,s="function"==typeof Symbol&&"symbol"===i(Symbol()),l=Object.prototype.propertyIsEnumerable,e(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("target must be an object");for(var n,r=Object(e),i=1;i<arguments.length;++i){var u=Object(arguments[i]),c=a(u);for(s&&Object.getOwnPropertySymbols&&c.push.apply(c,o(Object.getOwnPropertySymbols(u).filter(function(e){return function(t){return l.call(e,t)}}(u)))),n=0;n<c.length;++n)r[c[n]]=u[c[n]]}return r},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":155,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/web.dom-collections.iterator":236}],285:[function(e,t,n){"use strict";e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("./main"))&&e.__esModule?e:{default:e}).default.prototype.noLoop=function(){this._loop=!1},e.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},e.default.prototype.isLooping=function(){return this._loop},e.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},e.default.prototype.pop=function(){var e=this._styles.pop();e?(this._renderer.pop(e.renderer),Object.assign(this,e.props)):console.warn("pop() was called without matching push()")},e.default.prototype.redraw=function(e){if(!this._inUserDraw&&this._setupDone){var t=parseInt(e),n=((isNaN(t)||t<1)&&(t=1),this._isGlobal?window:this);if("function"==typeof n.draw){void 0===n.setup&&n.scale(n._pixelDensity,n._pixelDensity);for(var r=function(e){e.call(n)},o=0;o<t;o++){n.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),n._renderer.isP3D&&n._renderer._update(),n._setProperty("frameCount",n.frameCount+1),n._registeredMethods.pre.forEach(r),this._inUserDraw=!0;try{n.draw()}finally{this._inUserDraw=!1}n._registeredMethods.post.forEach(r)}}}},e=e.default,n.default=e},{"./main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.object.assign":174,"core-js/modules/web.dom-collections.for-each":235}],286:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("./main"))&&e.__esModule?e:{default:e};r.default.prototype.applyMatrix=function(){var e=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||e?(e=this._renderer).applyMatrix.apply(e,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(arguments.length<=0?void 0:arguments[0])):(e=this._renderer).applyMatrix.apply(e,arguments),this},r.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},r.default.prototype.rotate=function(e,t){return r.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(e),t),this},r.default.prototype.rotateX=function(e){return this._assert3d("rotateX"),r.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(e)),this},r.default.prototype.rotateY=function(e){return this._assert3d("rotateY"),r.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(e)),this},r.default.prototype.rotateZ=function(e){return this._assert3d("rotateZ"),r.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(e)),this},r.default.prototype.scale=function(e,t,n){var o;return r.default._validateParameters("scale",arguments),e instanceof r.default.Vector?(e=(o=e).x,t=o.y,n=o.z):e instanceof Array&&(e=(o=e)[0],t=o[1],n=o[2]||1),isNaN(t)?t=n=e:isNaN(n)&&(n=1),this._renderer.scale.call(this._renderer,e,t,n),this},r.default.prototype.shearX=function(e){return r.default._validateParameters("shearX",arguments),e=this._toRadians(e),this._renderer.applyMatrix(1,0,Math.tan(e),1,0,0),this},r.default.prototype.shearY=function(e){return r.default._validateParameters("shearY",arguments),e=this._toRadians(e),this._renderer.applyMatrix(1,Math.tan(e),0,1,0,0),this},r.default.prototype.translate=function(e,t,n){return r.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(e,t,n):this._renderer.translate(e,t),this},e=r.default,n.default=e},{"./main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236}],287:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var o=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}o.default.prototype.storeItem=function(e,t){"string"!=typeof e&&console.log("The argument that you passed to storeItem() - ".concat(e," is not a string.")),e.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(e," must not end with 'p5TypeID'.")),void 0===t&&console.log("You cannot store undefined variables using storeItem().");var n=a(t);switch(n){case"number":case"boolean":t=t.toString();break;case"object":t instanceof o.default.Color?n="p5.Color":t instanceof o.default.Vector&&(n="p5.Vector",t=[t.x,t.y,t.z]),t=JSON.stringify(t)}localStorage.setItem(e,t),e="".concat(e,"p5TypeID"),localStorage.setItem(e,n)},o.default.prototype.getItem=function(e){var t=localStorage.getItem(e),n=localStorage.getItem("".concat(e,"p5TypeID"));if(void 0===n)console.log("Unable to determine type of item stored under ".concat(e,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==t)switch(n){case"number":t=parseFloat(t);break;case"boolean":t="true"===t;break;case"object":t=JSON.parse(t);break;case"p5.Color":t=JSON.parse(t),t=this.color.apply(this,i(t.levels));break;case"p5.Vector":t=JSON.parse(t),t=this.createVector.apply(this,i(t))}return t},o.default.prototype.clearStorage=function(){localStorage.clear()},o.default.prototype.removeItem=function(e){"string"!=typeof e&&console.log("The argument that you passed to removeItem() - ".concat(e," is not a string.")),localStorage.removeItem(e),localStorage.removeItem("".concat(e,"p5TypeID"))}},{"../core/main":273,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.ends-with":188,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],288:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e){return(i="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function s(e){return function(){var t,n=l(e);if(t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?(t=l(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!t||"object"!==i(t)&&"function"!=typeof t){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){t&&c(e.prototype,t),n&&c(e,n)}o.default.prototype.createStringDict=function(e,t){return o.default._validateParameters("createStringDict",arguments),new o.default.StringDict(e,t)},o.default.prototype.createNumberDict=function(e,t){return o.default._validateParameters("createNumberDict",arguments),new o.default.NumberDict(e,t)},o.default.TypedDict=function(){function e(t,n){return u(this,e),t instanceof Object?this.data=t:(this.data={},this.data[t]=n),this}return d(e,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(e){return this.data.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.data.hasOwnProperty(e))return this.data[e];console.log("".concat(e," does not exist in this Dictionary"))}},{key:"set",value:function(e,t){this._validate(t)?this.data[e]=t:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(e){for(var t in e)this.set(t,e[t])}},{key:"create",value:function(e,t){e instanceof Object&&void 0===t?this._addObj(e):void 0!==e?this.set(e,t):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(e){if(!this.data.hasOwnProperty(e))throw new Error("".concat(e," does not exist in this Dictionary"));delete this.data[e]}},{key:"print",value:function(){for(var e in this.data)console.log("key:".concat(e," value:").concat(this.data[e]))}},{key:"saveTable",value:function(e){var t,n="";for(t in this.data)n+="".concat(t,",").concat(this.data[t],"\n");var r=new Blob([n],{type:"text/csv"});o.default.prototype.downloadFile(r,e||"mycsv","csv")}},{key:"saveJSON",value:function(e,t){o.default.prototype.saveJSON(this.data,e,t)}},{key:"_validate",value:function(e){return!0}}]),e}(),o.default.StringDict=function(){a(t,o.default.TypedDict);var e=s(t);function t(){u(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.call.apply(e,[this].concat(r))}return d(t,[{key:"_validate",value:function(e){return"string"==typeof e}}]),t}(),o.default.NumberDict=function(){a(t,o.default.TypedDict);var e=s(t);function t(){u(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e.call.apply(e,[this].concat(r))}return d(t,[{key:"_validate",value:function(e){return"number"==typeof e}},{key:"add",value:function(e,t){this.data.hasOwnProperty(e)?this.data[e]+=t:console.log("The key - ".concat(e," does not exist in this dictionary."))}},{key:"sub",value:function(e,t){this.add(e,-t)}},{key:"mult",value:function(e,t){this.data.hasOwnProperty(e)?this.data[e]*=t:console.log("The key - ".concat(e," does not exist in this dictionary."))}},{key:"div",value:function(e,t){this.data.hasOwnProperty(e)?this.data[e]/=t:console.log("The key - ".concat(e," does not exist in this dictionary."))}},{key:"_valueTest",value:function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var t,n=this.data[Object.keys(this.data)[0]];for(t in this.data)this.data[t]*e<n*e&&(n=this.data[t]);return n}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var t=Object.keys(this.data)[0],n=1;n<Object.keys(this.data).length;n++)Object.keys(this.data)[n]*e<t*e&&(t=Object.keys(this.data)[n]);return t}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),t}(),e=o.default.TypedDict,n.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],289:[function(t,n,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e){return(p="function"==typeof Symbol&&"symbol"===o(Symbol.iterator)?function(e){return o(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":o(e)})(e)}function h(e,t,n){return(t._userNode||document.body).appendChild(e),n=new(n?i.default.MediaElement:i.default.Element)(e,t),t._elements.push(n),n}function f(e,t,n,r){var o=document.createElement(t),i=("string"==typeof(n=n||"")&&(n=[n]),!0),a=void(t=!1);try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=document.createElement("source");c.setAttribute("src",u),o.appendChild(c)}}catch(e){t=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(t)throw a}}"function"==typeof r&&o.addEventListener("canplaythrough",(function e(){r(),o.removeEventListener("canplaythrough",e)}));var d=h(o,e,!0);return d.loadedmetadata=!1,o.addEventListener("loadedmetadata",(function(){d.width=o.videoWidth,d.height=o.videoHeight,0===d.elt.width&&(d.elt.width=o.videoWidth),0===d.elt.height&&(d.elt.height=o.videoHeight),d.presetPlaybackRate&&(d.elt.playbackRate=d.presetPlaybackRate,delete d.presetPlaybackRate),d.loadedmetadata=!0})),d}function m(e,t,n,r){d(this,m),this.callback=e,this.time=t,this.id=n,this.val=r}i.default.prototype.select=function(e,t){return i.default._validateParameters("select",arguments),(t=this._getContainer(t).querySelector(e))?this._wrapElement(t):null},i.default.prototype.selectAll=function(e,t){i.default._validateParameters("selectAll",arguments);var n=[],r=this._getContainer(t).querySelectorAll(e);if(r)for(var o=0;o<r.length;o++){var a=this._wrapElement(r[o]);n.push(a)}return n},i.default.prototype._getContainer=function(e){var t=document;return"string"==typeof e?t=document.querySelector(e)||document:e instanceof i.default.Element?t=e.elt:e instanceof HTMLElement&&(t=e),t},i.default.prototype._wrapElement=function(e){var t,n=Array.prototype.slice.call(e.children);return"INPUT"===e.tagName&&"checkbox"===e.type?((t=new i.default.Element(e,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},t):"VIDEO"===e.tagName||"AUDIO"===e.tagName?new i.default.MediaElement(e,this):"SELECT"===e.tagName?this.createSelect(new i.default.Element(e,this)):0<n.length&&n.every((function(e){return"INPUT"===e.tagName||"LABEL"===e.tagName}))?this.createRadio(new i.default.Element(e,this)):new i.default.Element(e,this)},i.default.prototype.removeElements=function(e){i.default._validateParameters("removeElements",arguments),this._elements.filter((function(e){return!(e.elt instanceof HTMLCanvasElement)})).map((function(e){return e.remove()}))},i.default.Element.prototype.changed=function(e){return i.default.Element._adjustListener("change",e,this),this},i.default.Element.prototype.input=function(e){return i.default.Element._adjustListener("input",e,this),this},i.default.prototype.createDiv=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");return t.innerHTML=e,h(t,this)},i.default.prototype.createP=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("p");return t.innerHTML=e,h(t,this)},i.default.prototype.createSpan=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("span");return t.innerHTML=e,h(t,this)},i.default.prototype.createImg=function(){i.default._validateParameters("createImg",arguments);var e,t=document.createElement("img"),n=arguments;return 1<n.length&&"string"==typeof n[1]&&(t.alt=n[1]),2<n.length&&"string"==typeof n[2]&&(t.crossOrigin=n[2]),t.src=n[0],e=h(t,this),t.addEventListener("load",(function(){e.width=t.offsetWidth||t.width,e.height=t.offsetHeight||t.height;var r=n[n.length-1];"function"==typeof r&&r(e)})),e},i.default.prototype.createA=function(e,t,n){i.default._validateParameters("createA",arguments);var r=document.createElement("a");return r.href=e,r.innerHTML=t,n&&(r.target=n),h(r,this)},i.default.prototype.createSlider=function(e,t,n,r){i.default._validateParameters("createSlider",arguments);var o=document.createElement("input");return o.type="range",o.min=e,o.max=t,0===r?o.step=1e-18:r&&(o.step=r),"number"==typeof n&&(o.value=n),h(o,this)},i.default.prototype.createButton=function(e,t){i.default._validateParameters("createButton",arguments);var n=document.createElement("button");return n.innerHTML=e,t&&(n.value=t),h(n,this)},i.default.prototype.createCheckbox=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.default._validateParameters("createCheckbox",t);var r=document.createElement("div"),o=document.createElement("input"),a=(o.type="checkbox",document.createElement("label")),s=(a.appendChild(o),r.appendChild(a),h(r,this));return s.checked=function(){var e=s.elt.firstElementChild.getElementsByTagName("input")[0];if(e){if(0===arguments.length)return e.checked;e.checked=!(arguments.length<=0||!arguments[0])}return s},this.value=function(e){return s.value=e,this},t[0]&&(s.value(t[0]),(r=document.createElement("span")).innerHTML=t[0],a.appendChild(r)),t[1]&&(o.checked=!0),s},i.default.prototype.createSelect=function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.default._validateParameters("createSelect",n);var o,a=n[0];return a instanceof i.default.Element&&a.elt instanceof HTMLSelectElement?this.elt=(e=a).elt:a instanceof HTMLSelectElement?(e=h(a,this),this.elt=a):(o=document.createElement("select"),a&&"boolean"==typeof a&&o.setAttribute("multiple","true"),e=h(o,this),this.elt=o),e.option=function(e,t){var n;if(void 0!==e){for(var r,o=0;o<this.elt.length;o+=1)if(this.elt[o].textContent===e){n=o;break}void 0!==n?!1===t?this.elt.remove(n):this.elt[n].value=t:((r=document.createElement("option")).textContent=e,r.value=void 0===t?e:t,this.elt.appendChild(r),this._pInst._elements.push(r))}},e.selected=function(e){if(void 0!==e){for(var t=0;t<this.elt.length;t+=1)this.elt[t].value.toString()===e.toString()&&(this.elt.selectedIndex=t);return this}if(this.elt.getAttribute("multiple")){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=this.elt.selectedOptions[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n.push(l.value)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}return this.elt.value},e.disable=function(e){if("string"==typeof e)for(var t=0;t<this.elt.length;t++)this.elt[t].value.toString()===e&&(this.elt[t].disabled=!0,this.elt[t].selected=!1);else this.elt.disabled=!0;return this},e.enable=function(e){if("string"==typeof e)for(var t=0;t<this.elt.length;t++)this.elt[t].value.toString()===e&&(this.elt[t].disabled=!1,this.elt[t].selected=!1);else{this.elt.disabled=!1;for(var n=0;n<this.elt.length;n++)this.elt[n].disabled=!1,this.elt[n].selected=!1}return this},e},i.default.prototype.createRadio=function(){function e(e){return e instanceof HTMLInputElement&&"radio"===e.type}function t(e){return e instanceof HTMLLabelElement}var n,r,o,a=arguments.length<=0?void 0:arguments[0];return a instanceof i.default.Element&&(a.elt instanceof HTMLDivElement||a.elt instanceof HTMLSpanElement)?(n=a,this.elt=a.elt):a instanceof HTMLDivElement||a instanceof HTMLSpanElement?(n=h(a,this),r=this.elt=a,"string"==typeof(arguments.length<=1?void 0:arguments[1])&&(o=arguments.length<=1?void 0:arguments[1])):("string"==typeof a&&(o=a),r=document.createElement("div"),n=h(r,this),this.elt=r),n._name=o||"radioOption",n._getOptionsArray=function(){return Array.from(this.elt.children).filter((function(n){return e(n)||t(n)&&e(n.firstElementChild)})).map((function(t){return e(t)?t:t.firstElementChild}))},n.option=function(e,r){var o,i,a,s=!0,l=!1,u=void 0;try{for(var c,d=n._getOptionsArray()[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var p=c.value;if(p.value===e){o=p;break}}}catch(e){l=!0,u=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw u}}return void 0===o&&((o=document.createElement("input")).setAttribute("type","radio"),o.setAttribute("value",e)),o.setAttribute("name",n._name),t(o.parentElement)?i=o.parentElement:(i=document.createElement("label")).insertAdjacentElement("afterbegin",o),i.lastElementChild instanceof HTMLSpanElement?a=i.lastElementChild:(a=document.createElement("span"),o.insertAdjacentElement("afterend",a)),a.innerHTML=void 0===r?e:r,this.elt.appendChild(i),o},n.remove=function(e){var r=!0,o=!1,i=void 0;try{for(var a,s=n._getOptionsArray()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(l.value===e)return void(t(l.parentElement)?l.parentElement:l).remove()}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}},n.value=function(){var e="",t=!0,r=!1,o=void 0;try{for(var i,a=n._getOptionsArray()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;if(s.checked){e=s.value;break}}}catch(e){r=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}return e},n.selected=function(e){var t=null;if(void 0===e){var r=!0,o=!1,i=void 0;try{for(var a,s=n._getOptionsArray()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(l.checked){t=l;break}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}else{n._getOptionsArray().forEach((function(e){e.checked=!1,e.removeAttribute("checked")}));var u=!0;o=!1,i=void 0;try{for(var c,d=n._getOptionsArray()[Symbol.iterator]();!(u=(c=d.next()).done);u=!0){var p=c.value;p.value===e&&(p.setAttribute("checked",!0),p.checked=!0,t=p)}}catch(e){o=!0,i=e}finally{try{u||null==d.return||d.return()}finally{if(o)throw i}}}return t},n.disable=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=!0,r=!1,o=void 0;try{for(var i,a=n._getOptionsArray()[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)i.value.setAttribute("disabled",e)}catch(e){r=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw o}}},n},i.default.prototype.createColorPicker=function(e){i.default._validateParameters("createColorPicker",arguments);var t=document.createElement("input");return t.type="color",e?e instanceof i.default.Color?t.value=e.toString("#rrggbb"):(i.default.prototype._colorMode="rgb",i.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},t.value=i.default.prototype.color(e).toString("#rrggbb")):t.value="#000000",(t=h(t,this)).color=function(){return e&&(e.mode&&(i.default.prototype._colorMode=e.mode),e.maxes&&(i.default.prototype._colorMaxes=e.maxes)),i.default.prototype.color(this.elt.value)},t},i.default.prototype.createInput=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",n=(i.default._validateParameters("createInput",arguments),document.createElement("input"));return n.setAttribute("value",e),n.setAttribute("type",t),h(n,this)},i.default.prototype.createFileInput=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(i.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(t=document.createElement("input")).setAttribute("type","file"),n&&t.setAttribute("multiple",!0),t.addEventListener("change",(function(t){var n=!0,r=!1,o=void 0;try{for(var a,s=t.target.files[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;i.default.File._load(l,e)}}catch(t){r=!0,o=t}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}),!1),h(t,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},i.default.prototype.createVideo=function(e,t){return i.default._validateParameters("createVideo",arguments),f(this,"video",e,t)},i.default.prototype.createAudio=function(e,t){return i.default._validateParameters("createAudio",arguments),f(this,"audio",e,t)},i.default.prototype.VIDEO="video",i.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),i.default.prototype.createCapture=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(i.default._validateParameters("createCapture",t),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var r,o=!0,a=!0,s=0,l=t;s<l.length;s++){var u=l[s];u===i.default.prototype.VIDEO?a=!1:u===i.default.prototype.AUDIO?o=!1:"object"===p(u)?c=u:"function"==typeof u&&(r=u)}var c=c||{video:o,audio:a},d=document.createElement("video"),f=(d.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(c).then((function(e){try{"srcObject"in d?d.srcObject=e:d.src=window.URL.createObjectURL(e)}catch(t){d.src=e}}),console.log),h(d,this,!0));return f.loadedmetadata=!1,d.addEventListener("loadedmetadata",(function(){d.play(),d.width?(f.width=d.width,f.height=d.height):(f.width=f.elt.width=d.videoWidth,f.height=f.elt.height=d.videoHeight),f.loadedmetadata=!0,r&&r(d.srcObject)})),f},i.default.prototype.createElement=function(e,t){return i.default._validateParameters("createElement",arguments),e=document.createElement(e),void 0!==t&&(e.innerHTML=t),h(e,this)},i.default.Element.prototype.addClass=function(e){return this.elt.className?this.hasClass(e)||(this.elt.className=this.elt.className+" "+e):this.elt.className=e,this},i.default.Element.prototype.removeClass=function(e){return this.elt.classList.remove(e),this},i.default.Element.prototype.hasClass=function(e){return this.elt.classList.contains(e)},i.default.Element.prototype.toggleClass=function(e){return this.elt.classList.contains(e)?this.elt.classList.remove(e):this.elt.classList.add(e),this},i.default.Element.prototype.child=function(e){return void 0===e?this.elt.childNodes:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof i.default.Element&&(e=e.elt),e instanceof HTMLElement&&this.elt.appendChild(e),this)},i.default.Element.prototype.center=function(e){var t=this.elt.style.display,n="none"===this.elt.style.display,r="none"===this.parent().style.display,o={x:this.elt.offsetLeft,y:this.elt.offsetTop},i=(n&&this.show(),r&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),a=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===e||void 0===e?this.position(i/2+this.parent().offsetLeft,a/2+this.parent().offsetTop):"horizontal"===e?this.position(i/2+this.parent().offsetLeft,o.y):"vertical"===e&&this.position(o.x,a/2+this.parent().offsetTop),this.style("display",t),n&&this.hide(),r&&this.parent().hide(),this},i.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},i.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==(arguments.length<=2?void 0:arguments[2])&&"fixed"!==(arguments.length<=2?void 0:arguments[2])&&"relative"!==(arguments.length<=2?void 0:arguments[2])&&"sticky"!==(arguments.length<=2?void 0:arguments[2])&&"initial"!==(arguments.length<=2?void 0:arguments[2])&&"inherit"!==(arguments.length<=2?void 0:arguments[2])?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},i.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var e="";return this.elt.style.transform&&(e=(e=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=e,this},i.default.Element.prototype._rotate=function(){var e="";return this.elt.style.transform&&(e=(e=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":2===arguments.length?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=e,this},i.default.Element.prototype.style=function(e,t){if(void 0===(t=t instanceof i.default.Color?"rgba("+t.levels[0]+","+t.levels[1]+","+t.levels[2]+","+t.levels[3]/255+")":t)){if(-1===e.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(e);for(var n=e.split(";"),r=0;r<n.length;r++){var o=n[r].split(":");o[0]&&o[1]&&(this.elt.style[o[0].trim()]=o[1].trim())}}else this.elt.style[e]=t,"width"!==e&&"height"!==e&&"left"!==e&&"top"!==e||(t=window.getComputedStyle(this.elt).getPropertyValue(e).replace(/[^\d.]/g,""),this[e]=Math.round(parseFloat(t,10)));return this},i.default.Element.prototype.attribute=function(e,t){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===t?this.elt.getAttribute(e):(this.elt.setAttribute(e,t),this);if(void 0===t)return this.elt.firstChild.getAttribute(e);for(var n=0;n<this.elt.childNodes.length;n++)this.elt.childNodes[n].setAttribute(e,t)},i.default.Element.prototype.removeAttribute=function(e){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var t=0;t<this.elt.childNodes.length;t++)this.elt.childNodes[t].removeAttribute(e);return this.elt.removeAttribute(e),this},i.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},i.default.Element.prototype.show=function(){return this.elt.style.display="block",this},i.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},i.default.Element.prototype.size=function(e,t){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var n=e,r=t,o=i.default.prototype.AUTO;if(n!==o||r!==o){if(n===o?n=t*this.width/this.height:r===o&&(r=e*this.height/this.width),this.elt instanceof HTMLCanvasElement){var a,s={},l=this.elt.getContext("2d");for(a in l)s[a]=l[a];for(a in this.elt.setAttribute("width",n*this._pInst._pixelDensity),this.elt.setAttribute("height",r*this._pInst._pixelDensity),this.elt.style.width=n+"px",this.elt.style.height=r+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),s)this.elt.getContext("2d")[a]=s[a]}else this.elt.style.width=n+"px",this.elt.style.height=r+"px",this.elt.width=n,this.elt.height=r;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},i.default.Element.prototype.remove=function(){this instanceof i.default.MediaElement&&(this.stop(),null!==(t=this.elt.srcObject)&&t.getTracks().forEach((function(e){e.stop()})));var e,t=this._pInst._elements.indexOf(this);for(e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},i.default.Element.prototype.drop=function(e,t){var n;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",n=function(e){e.preventDefault()}),this.elt.addEventListener("dragleave",n)),i.default.Element._attachListener("drop",(function(n){n.preventDefault(),"function"==typeof t&&t.call(this,n),n=n.dataTransfer.files;var r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;i.default.File._load(u,e)}}catch(n){o=!0,a=n}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}}),this)):console.log("The File APIs are not fully supported in this browser."),this},t=function(t){var n=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&l(n,t);var r=function(e){return function(){var t,n,r=c(e);return t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?(t=c(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),r=this,!(n=t)||"object"!==p(n)&&"function"!=typeof n?u(r):n}}(o);function o(e,t){d(this,o);var n=u(t=r.call(this,e,t));return t.elt.crossOrigin="anonymous",t._prevTime=0,t._cueIDCounter=0,t._cues=[],t.pixels=[],t._pixelsState=u(t),t._pixelDensity=1,t._modified=!1,t._frameOnCanvas=-1,Object.defineProperty(n,"src",{get:function(){var e=n.elt.children[0].src,t=n.elt.src===window.location.href?"":n.elt.src;return e===window.location.href?t:e},set:function(t){for(var r=0;r<n.elt.children.length;r++)n.elt.removeChild(n.elt.children[r]);var o=document.createElement("source");o.src=t,e.appendChild(o),n.elt.src=t,n.modified=!0}}),n._onended=function(){},n.elt.onended=function(){n._onended(n)},t}return s(o,[{key:"play",value:function(){var e;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(e=this.elt.play())&&e.catch&&e.catch((function(e){"NotAllowedError"===e.name?console.error(e):console.error("Media play method encountered an unexpected error",e)})),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var t=setTimeout((function(){console.error(e)}),500);this.elt.addEventListener("play",(function(){return clearTimeout(t)}),{passive:!0,once:!0})}},{key:"autoplay",value:function(e){var t=this,n=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",e),e&&!n&&(e=function(){return t._setupAutoplayFailDetection()},4===this.elt.readyState?e():this.elt.addEventListener("canplay",e,{passive:!0,once:!0})),this}},{key:"volume",value:function(e){if(void 0===e)return this.elt.volume;this.elt.volume=e}},{key:"speed",value:function(e){if(void 0===e)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=e:this.presetPlaybackRate=e}},{key:"time",value:function(e){return void 0===e?this.elt.currentTime:(this.elt.currentTime=e,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var e=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&e&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.Renderer2D.prototype.loadPixels.apply(this,t)}},{key:"updatePixels",value:function(e,t,n,r){return this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.updatePixels.call(this,e,t,n,r)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.Renderer2D.prototype.get.apply(this,t)}},{key:"_getPixel",value:function(){this.loadPixels();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default.Renderer2D.prototype._getPixel.apply(this,t)}},{key:"set",value:function(e,t,n){this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.set.call(this,e,t,n),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.default.prototype.copy.apply(this,t)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.default.Image.prototype.mask.apply(this,t)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(e){this._modified=e}},{key:"onended",value:function(e){return this._onended=e,this}},{key:"connect",value:function(e){var t,n;if("function"==typeof i.default.prototype.getAudioContext)t=i.default.prototype.getAudioContext(),n=i.default.soundOut.input;else try{n=(t=e.context).destination}catch(e){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=t.createMediaElementSource(this.elt),this.audioSourceNode.connect(n)),e?e.input?this.audioSourceNode.connect(e.input):this.audioSourceNode.connect(e):this.audioSourceNode.connect(n)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(e,t,n){var r=this._cueIDCounter++;return t=new m(t,e,r,n),this._cues.push(t),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),r}},{key:"removeCue",value:function(e){for(var t=0;t<this._cues.length;t++)this._cues[t].id===e&&(console.log(e),this._cues.splice(t,1));0===this._cues.length&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var e=this.time(),t=0;t<this._cues.length;t++){var n=this._cues[t].time,r=this._cues[t].val;this._prevTime<n&&n<=e&&this._cues[t].callback(r)}this._prevTime=e}}]),o}(i.default.Element),i.default.MediaElement=t,t=function(){function e(t,n){d(this,e),this.file=t,this._pInst=n,n=t.type.split("/"),this.type=n[0],this.subtype=n[1],this.name=t.name,this.size=t.size,this.data=void 0}return s(e,null,[{key:"_createLoader",value:function(e,t){var n=new FileReader;return n.onload=function(n){var r,o=new i.default.File(e);"application/json"===o.file.type?o.data=JSON.parse(n.target.result):"text/xml"===o.file.type?(r=(new DOMParser).parseFromString(n.target.result,"text/xml"),o.data=new i.default.XML(r.documentElement)):o.data=n.target.result,t(o)},n}},{key:"_load",value:function(e,t){var n;/^text\//.test(e.type)||"application/json"===e.type?i.default.File._createLoader(e,t).readAsText(e):/^(video|audio)\//.test(e.type)?((n=new i.default.File(e)).data=URL.createObjectURL(e),t(n)):i.default.File._createLoader(e,t).readAsDataURL(e)}}]),e}(),i.default.File=t,t=i.default,r.default=t},{"../core/main":273,"core-js/modules/es.array.every":153,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238}],290:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(m=e("../core/main"))&&m.__esModule?m:{default:m},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));i.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",i.default.prototype.accelerationX=0,i.default.prototype.accelerationY=0,i.default.prototype.accelerationZ=0,i.default.prototype.pAccelerationX=0,i.default.prototype.pAccelerationY=0,i.default.prototype.pAccelerationZ=0,i.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},i.default.prototype.rotationX=0,i.default.prototype.rotationY=0,i.default.prototype.rotationZ=0,i.default.prototype.pRotationX=0,i.default.prototype.pRotationY=0;var s=i.default.prototype.pRotationZ=0,l=0,u=0,c="clockwise",d="clockwise",p="clockwise",h=(i.default.prototype.pRotateDirectionX=void 0,i.default.prototype.pRotateDirectionY=void 0,i.default.prototype.pRotateDirectionZ=void 0,i.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},i.default.prototype.turnAxis=void 0,.5),f=30,m=(i.default.prototype.setMoveThreshold=function(e){i.default._validateParameters("setMoveThreshold",arguments),h=e},i.default.prototype.setShakeThreshold=function(e){i.default._validateParameters("setShakeThreshold",arguments),f=e},i.default.prototype._ondeviceorientation=function(e){this._updatePRotations(),this._angleMode===a.radians&&(e.beta=e.beta*(_PI/180),e.gamma=e.gamma*(_PI/180),e.alpha=e.alpha*(_PI/180)),this._setProperty("rotationX",e.beta),this._setProperty("rotationY",e.gamma),this._setProperty("rotationZ",e.alpha),this._handleMotion()},i.default.prototype._ondevicemotion=function(e){this._updatePAccelerations(),this._setProperty("accelerationX",2*e.acceleration.x),this._setProperty("accelerationY",2*e.acceleration.y),this._setProperty("accelerationZ",2*e.acceleration.z),this._handleMotion()},i.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var e,t,n,r,o,i=this._isGlobal?window:this;"function"==typeof i.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>h||Math.abs(this.accelerationY-this.pAccelerationY)>h||Math.abs(this.accelerationZ-this.pAccelerationZ)>h)&&i.deviceMoved(),"function"==typeof i.deviceTurned&&(t=this.rotationX+180,e=this.pRotationX+180,n=s+180,0<t-e&&t-e<270||t-e<-270?c="clockwise":(t-e<0||270<t-e)&&(c="counter-clockwise"),c!==this.pRotateDirectionX&&(n=t),90<Math.abs(t-n)&&Math.abs(t-n)<270&&(n=t,this._setProperty("turnAxis","X"),i.deviceTurned()),this.pRotateDirectionX=c,s=n-180,e=this.rotationY+180,t=this.pRotationY+180,n=l+180,0<e-t&&e-t<270||e-t<-270?d="clockwise":(e-t<0||270<e-this.pRotationY)&&(d="counter-clockwise"),d!==this.pRotateDirectionY&&(n=e),90<Math.abs(e-n)&&Math.abs(e-n)<270&&(n=e,this._setProperty("turnAxis","Y"),i.deviceTurned()),this.pRotateDirectionY=d,l=n-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?p="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(p="counter-clockwise"),p!==this.pRotateDirectionZ&&(u=this.rotationZ),90<Math.abs(this.rotationZ-u)&&Math.abs(this.rotationZ-u)<270&&(u=this.rotationZ,this._setProperty("turnAxis","Z"),i.deviceTurned()),this.pRotateDirectionZ=p,this._setProperty("turnAxis",void 0)),"function"==typeof i.deviceShaken&&(null!==this.pAccelerationX&&(r=Math.abs(this.accelerationX-this.pAccelerationX),o=Math.abs(this.accelerationY-this.pAccelerationY)),f<r+o&&i.deviceShaken())},i.default);n.default=m},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],291:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};r.default.prototype.isKeyPressed=!1,r.default.prototype.keyIsPressed=!1,r.default.prototype.key="",r.default.prototype.keyCode=0,r.default.prototype._onkeydown=function(e){var t;this._downKeys[e.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",e.which),this._downKeys[e.which]=!0,this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),"function"!=typeof(t=this._isGlobal?window:this).keyPressed||e.charCode||!1===t.keyPressed(e)&&e.preventDefault())},r.default.prototype._onkeyup=function(e){this._downKeys[e.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),this._setProperty("keyCode",e.which);var t=this._isGlobal?window:this;"function"==typeof t.keyReleased&&!1===t.keyReleased(e)&&e.preventDefault()},r.default.prototype._onkeypress=function(e){var t;e.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",e.which),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),"function"==typeof(t=this._isGlobal?window:this).keyTyped&&!1===t.keyTyped(e)&&e.preventDefault())},r.default.prototype._onblur=function(e){this._downKeys={}},r.default.prototype.keyIsDown=function(e){return r.default._validateParameters("keyIsDown",arguments),this._downKeys[e]||!1},r.default.prototype._areDownKeys=function(){for(var e in this._downKeys)if(this._downKeys.hasOwnProperty(e)&&!0===this._downKeys[e])return!0;return!1},e=r.default,n.default=e},{"../core/main":273}],292:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(i=e("../core/main"))&&i.__esModule?i:{default:i},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));i.default.prototype.movedX=0,i.default.prototype.movedY=0,i.default.prototype._hasMouseInteracted=!1,i.default.prototype.mouseX=0,i.default.prototype.mouseY=0,i.default.prototype.pmouseX=0,i.default.prototype.pmouseY=0,i.default.prototype.winMouseX=0,i.default.prototype.winMouseY=0,i.default.prototype.pwinMouseX=0,i.default.prototype.pwinMouseY=0,i.default.prototype.mouseButton=0,i.default.prototype.mouseIsPressed=!1,i.default.prototype._updateNextMouseCoords=function(e){var t,n,r,o,i;null!==this._curElement&&(!e.touches||0<e.touches.length)&&(t=this._curElement.elt,n=this.width,r=this.height,(o=e)&&!o.clientX&&(o.touches?o=o.touches[0]:o.changedTouches&&(o=o.changedTouches[0])),i=t.getBoundingClientRect(),n=t.scrollWidth/n||1,t=t.scrollHeight/r||1,r={x:(o.clientX-i.left)/n,y:(o.clientY-i.top)/t,winX:o.clientX,winY:o.clientY,id:o.identifier},this._setProperty("movedX",e.movementX),this._setProperty("movedY",e.movementY),this._setProperty("mouseX",r.x),this._setProperty("mouseY",r.y),this._setProperty("winMouseX",r.winX),this._setProperty("winMouseY",r.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},i.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},i.default.prototype._setMouseButton=function(e){1===e.button?this._setProperty("mouseButton",a.CENTER):2===e.button?this._setProperty("mouseButton",a.RIGHT):this._setProperty("mouseButton",a.LEFT)},i.default.prototype._onmousemove=function(e){var t=this._isGlobal?window:this;this._updateNextMouseCoords(e),this.mouseIsPressed?"function"==typeof t.mouseDragged?!1===t.mouseDragged(e)&&e.preventDefault():"function"==typeof t.touchMoved&&!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseMoved&&!1===t.mouseMoved(e)&&e.preventDefault()},i.default.prototype._onmousedown=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(e),this._updateNextMouseCoords(e),"function"==typeof t.mousePressed?!1===t.mousePressed(e)&&e.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof t.touchStarted&&!1===t.touchStarted(e)&&e.preventDefault()},i.default.prototype._onmouseup=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof t.mouseReleased?!1===t.mouseReleased(e)&&e.preventDefault():"function"==typeof t.touchEnded&&!1===t.touchEnded(e)&&e.preventDefault()},i.default.prototype._ondragend=i.default.prototype._onmouseup,i.default.prototype._ondragover=i.default.prototype._onmousemove,i.default.prototype._onclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.mouseClicked&&!1===t.mouseClicked(e)&&e.preventDefault()},i.default.prototype._ondblclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.doubleClicked&&!1===t.doubleClicked(e)&&e.preventDefault()},i.default.prototype._mouseWheelDeltaY=0,i.default.prototype._pmouseWheelDeltaY=0,i.default.prototype._onwheel=function(e){var t=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",e.deltaY),"function"==typeof t.mouseWheel&&(e.delta=e.deltaY,!1===t.mouseWheel(e)&&e.preventDefault())},i.default.prototype.requestPointerLock=function(){var e=this._curElement.elt;return e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock,e.requestPointerLock?(e.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},i.default.prototype.exitPointerLock=function(){document.exitPointerLock()},e=i.default,n.default=e},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],293:[function(e,t,n){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.touches=[],e.default.prototype._updateTouchCoords=function(e){if(null!==this._curElement){for(var t=[],n=0;n<e.touches.length;n++)t[n]=function(e,t,n,r){var o=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=e.getBoundingClientRect();return t=e.scrollWidth/t||1,e=e.scrollHeight/n||1,{x:((n=r.touches[o]||r.changedTouches[o]).clientX-i.left)/t,y:(n.clientY-i.top)/e,winX:n.clientX,winY:n.clientY,id:n.identifier}}(this._curElement.elt,this.width,this.height,e,n);this._setProperty("touches",t)}},e.default.prototype._ontouchstart=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(e),this._updateNextMouseCoords(e),this._updateMouseCoords(),"function"==typeof t.touchStarted?!1===t.touchStarted(e)&&e.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof t.mousePressed&&!1===t.mousePressed(e)&&e.preventDefault()},e.default.prototype._ontouchmove=function(e){var t=this._isGlobal?window:this;this._updateTouchCoords(e),this._updateNextMouseCoords(e),"function"==typeof t.touchMoved?!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseDragged&&!1===t.mouseDragged(e)&&e.preventDefault()},e.default.prototype._ontouchend=function(e){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(e),this._updateNextMouseCoords(e);var t=this._isGlobal?window:this;"function"==typeof t.touchEnded?!1===t.touchEnded(e)&&e.preventDefault():"function"==typeof t.mouseReleased&&!1===t.mouseReleased(e)&&e.preventDefault()},e=e.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.string.includes":189}],294:[function(e,t,n){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,o,i,a,s={_toPixels:function(e){var t,n;return e instanceof ImageData?e.data:e.getContext("2d")?e.getContext("2d").getImageData(0,0,e.width,e.height).data:e.getContext("webgl")?(n=(t=e.getContext("webgl")).drawingBufferWidth*t.drawingBufferHeight*4,n=new Uint8Array(n),t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,n),n):void 0},_getARGB:function(e,t){return e[3+(t*=4)]<<24&4278190080|e[t]<<16&16711680|e[1+t]<<8&65280|255&e[2+t]},_setPixels:function(e,t){for(var n,r=0,o=e.length;r<o;r++)e[0+(n=4*r)]=(16711680&t[r])>>>16,e[1+n]=(65280&t[r])>>>8,e[2+n]=255&t[r],e[3+n]=(4278190080&t[r])>>>24},_toImageData:function(e){return e instanceof ImageData?e:e.getContext("2d").getImageData(0,0,e.width,e.height)},_createImageData:function(e,t){return s._tmpCanvas=document.createElement("canvas"),s._tmpCtx=s._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(e,t)},apply:function(e,t,n){var r=e.getContext("2d"),o=r.getImageData(0,0,e.width,e.height);(t=t(o,n))instanceof ImageData?r.putImageData(t,0,0,0,0,e.width,e.height):r.putImageData(o,0,0,0,0,e.width,e.height)},threshold:function(e,t){for(var n=s._toPixels(e),r=(void 0===t&&(t=.5),Math.floor(255*t)),o=0;o<n.length;o+=4){var i=r<=.2126*n[o]+.7152*n[o+1]+.0722*n[o+2]?255:0;n[o]=n[o+1]=n[o+2]=i}},gray:function(e){for(var t=s._toPixels(e),n=0;n<t.length;n+=4){var r=t[n],o=t[n+1],i=t[n+2];t[n]=t[n+1]=t[n+2]=.2126*r+.7152*o+.0722*i}},opaque:function(e){for(var t=s._toPixels(e),n=0;n<t.length;n+=4)t[n+3]=255;return t},invert:function(e){for(var t=s._toPixels(e),n=0;n<t.length;n+=4)t[n]=255-t[n],t[n+1]=255-t[n+1],t[n+2]=255-t[n+2]},posterize:function(e,t){var n=s._toPixels(e);if(t<2||255<t)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var r=t-1,o=0;o<n.length;o+=4){var i=n[o],a=n[o+1],l=n[o+2];n[o]=255*(i*t>>8)/r,n[o+1]=255*(a*t>>8)/r,n[o+2]=255*(l*t>>8)/r}},dilate:function(e){for(var t,n,r,o,i,a,l,u,c,d=s._toPixels(e),p=0,h=d.length?d.length/4:0,f=new Int32Array(h);p<h;)for(n=(t=p)+e.width;p<n;)o=r=s._getARGB(d,p),(c=p-1)<t&&(c=p),n<=(u=p+1)&&(u=p),(i=p-e.width)<0&&(i=0),h<=(a=p+e.width)&&(a=p),i=s._getARGB(d,i),c=s._getARGB(d,c),a=s._getARGB(d,a),(o=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))<(l=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(r=c,o=l),o<(l=77*((c=s._getARGB(d,u))>>16&255)+151*(c>>8&255)+28*(255&c))&&(r=c,o=l),o<(u=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(r=i,o=u),o<(c=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(r=a,o=c),f[p++]=r;s._setPixels(d,f)},erode:function(e){for(var t,n,r,o,i,a,l,u,c,d=s._toPixels(e),p=0,h=d.length?d.length/4:0,f=new Int32Array(h);p<h;)for(n=(t=p)+e.width;p<n;)o=r=s._getARGB(d,p),(c=p-1)<t&&(c=p),n<=(u=p+1)&&(u=p),(i=p-e.width)<0&&(i=0),h<=(a=p+e.width)&&(a=p),i=s._getARGB(d,i),c=s._getARGB(d,c),a=s._getARGB(d,a),(l=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(o=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))&&(r=c,o=l),(l=77*((c=s._getARGB(d,u))>>16&255)+151*(c>>8&255)+28*(255&c))<o&&(r=c,o=l),(u=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<o&&(r=i,o=u),(c=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<o&&(r=a,o=c),f[p++]=r;s._setPixels(d,f)},blur:function(e,t){for(var n,l,u,c,d,p,h,f,m,g,b=s._toPixels(e),y=e.width,v=e.height,x=y*v,w=new Int32Array(x),k=0;k<x;k++)w[k]=s._getARGB(b,k);var _,S,E,T,C,I,j,A,O=new Int32Array(x),N=new Int32Array(x),R=new Int32Array(x),P=new Int32Array(x),M=0,D=3.5*t|0;if(r!==(D=D<1?1:D<248?D:248)){o=1+(r=D)<<1,i=new Int32Array(o),a=new Array(o);for(var L=0;L<o;L++)a[L]=new Int32Array(256);for(var F=1,B=D-1;F<D;F++){i[D+F]=i[B]=I=B*B,j=a[D+F],A=a[B--];for(var $=0;$<256;$++)j[$]=A[$]=I*$}C=i[D]=D*D,j=a[D];for(var z=0;z<256;z++)j[z]=C*z}for(S=0;S<v;S++){for(_=0;_<y;_++){if(c=u=l=d=n=0,(p=_-r)<0)g=-p,p=0;else{if(y<=p)break;g=0}for(E=g;E<o&&!(y<=p);E++){var U=w[p+M];d+=(T=a[E])[(-16777216&U)>>>24],l+=T[(16711680&U)>>16],u+=T[(65280&U)>>8],c+=T[255&U],n+=i[E],p++}O[h=M+_]=d/n,N[h]=l/n,R[h]=u/n,P[h]=c/n}M+=y}for(m=(f=-r)*y,S=M=0;S<v;S++){for(_=0;_<y;_++){if(c=u=l=d=n=0,f<0)g=h=-f,p=_;else{if(v<=f)break;g=0,h=f,p=_+m}for(E=g;E<o&&!(v<=h);E++)d+=(T=a[E])[O[p]],l+=T[N[p]],u+=T[R[p]],c+=T[P[p]],n+=i[E],h++,p+=y;w[_+M]=d/n<<24|l/n<<16|u/n<<8|c/n}M+=y,m+=y,f++}s._setPixels(b,w)}};n.default=s},{"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int32-array":215,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232}],295:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("../core/main")),o=i(e("omggif"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}r.default.prototype.createImage=function(e,t){return r.default._validateParameters("createImage",arguments),new r.default.Image(e,t)},r.default.prototype.saveCanvas=function(){r.default._validateParameters("saveCanvas",arguments);var e,t,n,o,i=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(e=arguments[0],i.shift()):arguments[0]instanceof r.default.Element?(e=arguments[0].elt,i.shift()):e=this._curElement&&this._curElement.elt,1<=i.length&&(t=i[0]),n=(n=2<=i.length?i[1]:n)||r.default.prototype._checkFileExtension(t,n)[1]||"png"){default:o="image/png";break;case"jpeg":case"jpg":o="image/jpeg"}e.toBlob((function(e){r.default.prototype.downloadFile(e,t,n)}),o)},r.default.prototype.encodeAndDownloadGif=function(e,t){for(var n=e.gifProperties,i=(1===(I=n.loopLimit)?I=null:null===I&&(I=0),new Uint8Array(e.width*e.height*n.numFrames)),s=[],l={},u=0;u<n.numFrames;u++){for(var c=new Set,d=n.frames[u].image.data,p=d.length,h=new Uint32Array(e.width*e.height),f=0,m=0;f<p;f+=4,m++){var g=d[f+0]<<16|d[f+1]<<8|d[f+2]<<0;c.add(g),h[m]=g}var b=a(c).sort().toString();void 0===l[b]?l[b]={freq:1,frames:[u]}:(l[b].freq+=1,l[b].frames.push(u)),s.push(h)}for(var y=[],v=Object.keys(l).sort((function(e,t){return l[t].freq-l[e].freq})),x=v[0].split(",").map((function(e){return parseInt(e)})),w=(y=y.concat(l[x].frames),new Set(x)),k=1;k<v.length;k++){var _=v[k].split(",").map((function(e){return parseInt(e)})).filter((function(e){return!w.has(e)}));if(x.length+_.length<=256){for(var S=0;S<_.length;S++)x.push(_[S]),w.add(_[S]);y=y.concat(l[v[k]].frames)}}y=new Set(y);for(var E={},T=0;T<x.length;T++)E[x[T]]||(E[x[T]]=T);for(var C=1;C<x.length;)C<<=1;x.length=C;for(var I={loop:I,palette:new Uint32Array(x)},j=new o.default.GifWriter(i,e.width,e.height,I),A={},O=0;O<n.numFrames;O++)!function(t){var r=!y.has(t),o=r?[]:x,i=new Uint8Array(e.width*e.height),a={},l=new Set,u=(s[t].forEach((function(e,n){r?(void 0===a[e]&&(a[e]=o.length,o.push(e)),i[n]=a[e]):i[n]=E[e],0<t&&s[t-1][n]!==e&&l.add(e)})),{});if(0<(c=o.filter((function(e){return!l.has(e)}))).length){var c=c[0],d=(r?a:E)[c];if(0<t){for(var p=0;p<s[t].length;p++)s[t-1][p]===s[t][p]&&(i[p]=d);u.transparent=d,A.frameOpts.disposal=1}}if(u.delay=n.frames[t].delay/10,r){for(var h=1;h<o.length;)h<<=1;o.length=h,u.palette=new Uint32Array(o)}0<t&&j.addFrame(0,0,e.width,e.height,A.pixelPaletteIndex,A.frameOpts),A={pixelPaletteIndex:i,frameOpts:u}}(O);A.frameOpts.disposal=1,j.addFrame(0,0,e.width,e.height,A.pixelPaletteIndex,A.frameOpts),I=new Blob([i.slice(0,j.end())],{type:"image/gif"}),r.default.prototype.downloadFile(I,t,"gif")},r.default.prototype.saveFrames=function(e,t,n,o,i){r.default._validateParameters("saveFrames",arguments),n=r.default.prototype.constrain(n=n||3,0,15),n*=1e3,o=r.default.prototype.constrain(o||15,0,22);var a=0,s=r.default.prototype._makeFrame,l=this._curElement.elt,u=[],c=setInterval((function(){u.push(s(e+a,t,l)),a++}),1e3/o);setTimeout((function(){if(clearInterval(c),i)i(u);else{var e=!0,t=!1,n=void 0;try{for(var o,a=u[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var s=o.value;r.default.prototype.downloadFile(s.imageData,s.filename,s.ext)}}catch(e){t=!0,n=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw n}}}u=[]}),.01+n)},r.default.prototype._makeFrame=function(e,t,n){var r;if(n=this?this._curElement.elt:n,t)switch(t.toLowerCase()){case"png":default:r="image/png";break;case"jpeg":case"jpg":r="image/jpeg"}else t="png",r="image/png";n=(n=n.toDataURL(r)).replace(r,"image/octet-stream");var o={};return o.imageData=n,o.filename=e,o.ext=t,o},e=r.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236,omggif:246}],296:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e("regenerator-runtime/runtime");var i=c(e("../core/main")),a=c(e("../core/helpers")),s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants")),l=c(e("omggif")),u=e("gifenc");function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t,n,r,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,o)}function p(e,t){return 0<e&&e<t?e:t}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),i.default.prototype.loadImage=function(e,t,n){i.default._validateParameters("loadImage",arguments);var r=new i.default.Image(1,1,this),o=this,a=new Request(e,{method:"GET",mode:"cors"});return fetch(e,a).then((function(a){var s,u=a.headers.get("content-type");null===u&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),u&&u.includes("image/gif")?a.arrayBuffer().then((function(e){if(e){e=new Uint8Array(e);for(var a=r,s=t,u=n,c=function(e){o._decrementPreload()}.bind(o),d=new l.default.GifReader(e),p=(a.width=a.canvas.width=d.width,a.height=a.canvas.height=d.height,[]),h=d.numFrames(),f=new Uint8ClampedArray(a.width*a.height*4),m=0;m<h;m++){var g=d.frameInfo(m),b=a.drawingContext.getImageData(0,0,a.width,a.height),y=(f=b.data.slice(),function(e,t){try{t.decodeAndBlitFrameRGBA(e,f)}catch(e){i.default._friendlyFileLoadError(8,a.src),"function"==typeof u?u(e):console.error(e)}}(m,d),new ImageData(f,a.width,a.height));0===(a.drawingContext.putImageData(y,0,0),y=g.delay)&&(y=10),p.push({image:a.drawingContext.getImageData(0,0,a.width,a.height),delay:10*y}),2===g.disposal?a.drawingContext.clearRect(g.x,g.y,g.width,g.height):3===g.disposal&&a.drawingContext.putImageData(b,0,0,g.x,g.y,g.width,g.height)}null===(e=d.loopCount())?e=1:0===e&&(e=null),a.drawingContext.putImageData(p[0].image,0,0),1<p.length&&(a.gifProperties={displayIndex:0,loopLimit:e,loopCount:0,frames:p,numFrames:h,playing:!0,timeDisplayed:0,lastChangeTime:0}),"function"==typeof s&&s(a),c()}}),(function(e){"function"==typeof n?(n(e),o._decrementPreload()):console.error(e)})):((s=new Image).onload=function(){r.width=r.canvas.width=s.width,r.height=r.canvas.height=s.height,r.drawingContext.drawImage(s,0,0),r.modified=!0,"function"==typeof t&&t(r),o._decrementPreload()},s.onerror=function(e){i.default._friendlyFileLoadError(0,s.src),"function"==typeof n?(n(e),o._decrementPreload()):console.error(e)},0!==e.indexOf("data:image/")&&(s.crossOrigin="Anonymous"),s.src=e),r.modified=!0})).catch((function(t){i.default._friendlyFileLoadError(0,e),"function"==typeof n?(n(t),o._decrementPreload()):console.error(t)})),r},i.default.prototype.saveGif=function(){e=regeneratorRuntime.mark((function e(t,n){var r,o,a,s,l,c,d,p,h,f,m,g,b,y,v,x,w,k,_,S,E,T,C,I,j,A,O=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=2<O.length&&void 0!==O[2]?O[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},"string"!=typeof t)throw TypeError("fileName parameter must be a string");e.next=3;break;case 3:if("number"!=typeof n)throw TypeError("Duration parameter must be a number");e.next=5;break;case 5:if(o=r&&r.delay||0,a=r&&r.units||"seconds",s=r&&r.silent||!1,l=r&&r.notificationDuration||0,c=r&&r.notificationID||"progressBar","number"!=typeof o)throw TypeError("Delay parameter must be a number");e.next=12;break;case 12:if("seconds"!==a&&"frames"!==a)throw TypeError('Units parameter must be either "frames" or "seconds"');e.next=14;break;case 14:if("boolean"!=typeof s)throw TypeError("Silent parameter must be a boolean");e.next=16;break;case 16:if("number"!=typeof l)throw TypeError("Notification duration parameter must be a number");e.next=18;break;case 18:if("string"!=typeof c)throw TypeError("Notification ID parameter must be a string");e.next=20;break;case 20:return this._recording=!0,f=this._targetFrameRate,d=(d=1/(f=f!==1/0&&void 0!==f&&0!==f?f:60)*1e3)<20?20:d,h=(p="seconds"===a?n*f:n)+(f="seconds"===a?o*f:o),this.frameCount=f,m=this._pixelDensity,this.pixelDensity(1),g=[],null!==document.getElementById(c)&&document.getElementById(c).remove(),s||((b=this.createP("")).id(c),b.style("font-size","16px"),b.style("font-family","Montserrat"),b.style("background-color","#ffffffa0"),b.style("padding","8px"),b.style("border-radius","10px"),b.position(0,0)),this._renderer instanceof i.default.RendererGL&&(v=this.drawingContext,y=new Uint8Array(v.drawingBufferWidth*v.drawingBufferHeight*4)),this.noLoop(),e.next=39,Promise.resolve();case 39:if(f<h)return this.redraw(),I=void 0,I=this._renderer instanceof i.default.RendererGL?(y=new Uint8Array(v.drawingBufferWidth*v.drawingBufferHeight*4),v.readPixels(0,0,v.drawingBufferWidth,v.drawingBufferHeight,v.RGBA,v.UNSIGNED_BYTE,y),function(e){for(var t=parseInt(height/2),n=4*width,r=new Uint8Array(4*width),o=0;o<t;++o){var i=o*n,a=(height-o-1)*n;r.set(e.subarray(i,i+n)),e.copyWithin(i,a,a+n),e.set(r,a)}return e}(y)):this.drawingContext.getImageData(0,0,this.width,this.height).data,g.push(I),f++,s||b.html("Saved frame <b>"+g.length.toString()+"</b> out of "+p.toString()),e.next=48,new Promise((function(e){return setTimeout(e,0)}));e.next=50;break;case 48:e.next=39;break;case 50:s||b.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(m),x=(0,u.GIFEncoder)(),w=function(e){for(var t=new Uint8Array(e.length*e[0].length),n=0;n<e.length;n++)t.set(e[n],n*e[0].length);var r=(0,u.quantize)(t,256,{format:"rgba4444",oneBitAlpha:!0});return 256===r.length?r[r.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:r.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),r}(g),k={},_=function(e){for(var t=e.length/4,n=new Uint8Array(t),r=0;r<t;r++){var o=e[4*r]<<24|e[4*r+1]<<16|e[4*r+2]<<8|e[4*r+3];void 0===k[o]&&(k[o]=(0,u.nearestColorIndex)(w,e.slice(4*r,4*(r+1)))),n[r]=k[o]}return n},S=w.length-1,E=[],T=0;case 60:if(!(T<g.length)){e.next=71;break}if(C=_(g[T]),I=C.slice(),0===T)x.writeFrame(C,this.width,this.height,{palette:w,delay:d,dispose:1});else{for(j=0;j<C.length;j++)C[j]===E[j]&&(C[j]=S);x.writeFrame(C,this.width,this.height,{delay:d,transparent:!0,transparentIndex:S,dispose:1})}return E=I,s||b.html("Rendered frame <b>"+T.toString()+"</b> out of "+p.toString()),e.next=68,new Promise((function(e){return setTimeout(e,0)}));case 68:T++,e.next=60;break;case 71:x.finish(),A=x.bytesView(),A=new Blob([A],{type:"image/gif"}),g=[],this._recording=!1,this.loop(),s||(b.html("Done. Downloading your gif!"),0<l&&setTimeout((function(){return b.remove()}),1e3*l)),i.default.prototype.downloadFile(A,t,"gif");case 80:case"end":return e.stop()}}),e,this)}));var e,t=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))};return function(e,n){return t.apply(this,arguments)}}(),i.default.prototype.image=function(e,t,n,r,o,l,u,c,d,h,f,m){i.default._validateParameters("image",arguments);var g=e.width,b=e.height,y=(m=m||s.CENTER,f=f||s.CENTER,e.elt&&e.elt.videoWidth&&!e.canvas&&(g=e.elt.videoWidth,b=e.elt.videoHeight),r||g);o=o||b,l=l||0,u=u||0,c=p(c||g,g),g=p(d||b,b),d=1,e.elt&&!e.canvas&&e.elt.style.width&&(d=e.elt.videoWidth&&!r?e.elt.videoWidth:e.elt.width,d/=parseInt(e.elt.style.width,10)),l*=d,u*=d,g*=d,c*=d,b=function(e,t,n,r,o,i,a,l,u,c,d){var p,h,f,m,g,b,y,v,x;return e===s.COVER&&(p=t,f=n,y=i,v=a,b=l,x=u,h=c,m=d,y/=g=Math.max(y/h,v/m),v/=g,g=b,b=x,p===s.CENTER?g+=(h-y)/2:p===s.RIGHT&&(g+=h-y),f===s.CENTER?b+=(m-v)/2:f===s.BOTTOM&&(b+=m-v),l=(x={x:g,y:b,w:y,h:v}).x,u=x.y,c=x.w,d=x.h),e===s.CONTAIN&&(p=t,h=n,f=r,m=o,g=i,b=a,y=c,v=d,y/=x=Math.max(y/g,v/b),v/=x,x=f,f=m,p===s.CENTER?x+=(g-y)/2:p===s.RIGHT&&(x+=g-y),h===s.CENTER?f+=(b-v)/2:h===s.BOTTOM&&(f+=b-v),r=(e={x,y:f,w:y,h:v}).x,o=e.y,i=e.w,a=e.h),{sx:l,sy:u,sw:c,sh:d,dx:r,dy:o,dw:i,dh:a}}(h,f,m,(b=a.default.modeAdjust(t,n,y,o,this._renderer._imageMode)).x,b.y,b.w,b.h,l,u,c,g),this._renderer.image(e,b.sx,b.sy,b.sw,b.sh,b.dx,b.dy,b.dw,b.dh)},i.default.prototype.tint=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.default._validateParameters("tint",t);var r=this.color.apply(this,t);this._renderer._tint=r.levels},i.default.prototype.noTint=function(){this._renderer._tint=null},i.default.prototype._getTintedImageCanvas=i.default.Renderer2D.prototype._getTintedImageCanvas,i.default.prototype.imageMode=function(e){i.default._validateParameters("imageMode",arguments),e!==s.CORNER&&e!==s.CORNERS&&e!==s.CENTER||(this._renderer._imageMode=e)},e=i.default,n.default=e},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/helpers":269,"../core/main":273,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,gifenc:243,omggif:246,"regenerator-runtime/runtime":250}],297:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("../core/main")),o=i(e("./filters"));function i(e){return e&&e.__esModule?e:{default:e}}r.default.Image=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.width=t,this.height=n,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var t;return(t=[{key:"_animateGif",value:function(e){var t,n=this.gifProperties;e=e._lastRealFrameTime,0===n.lastChangeTime&&(n.lastChangeTime=e),n.playing&&(n.timeDisplayed=e-n.lastChangeTime,t=n.frames[n.displayIndex].delay,n.timeDisplayed>=t&&(t=Math.floor(n.timeDisplayed/t),n.timeDisplayed=0,n.lastChangeTime=e,n.displayIndex+=t,n.loopCount=Math.floor(n.displayIndex/n.numFrames),null!==n.loopLimit&&n.loopCount>=n.loopLimit?n.playing=!1:(e=n.displayIndex%n.numFrames,this.drawingContext.putImageData(n.frames[e].image,0,0),n.displayIndex=e,this.setModified(!0))))}},{key:"_setProperty",value:function(e,t){this[e]=t,this.setModified(!0)}},{key:"loadPixels",value:function(){r.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(e,t,n,o){r.default.Renderer2D.prototype.updatePixels.call(this,e,t,n,o),this.setModified(!0)}},{key:"get",value:function(e,t,n,o){return r.default._validateParameters("p5.Image.get",arguments),r.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.default.Renderer2D.prototype._getPixel.apply(this,t)}},{key:"set",value:function(e,t,n){r.default.Renderer2D.prototype.set.call(this,e,t,n),this.setModified(!0)}},{key:"resize",value:function(e,t){0===e&&0===t?(e=this.canvas.width,t=this.canvas.height):0===e?e=this.canvas.width*t/this.canvas.height:0===t&&(t=this.canvas.height*e/this.canvas.width),e=Math.floor(e),t=Math.floor(t);var n=document.createElement("canvas");if(n.width=e,n.height=t,this.gifProperties)for(var r=this.gifProperties,o=0;o<r.numFrames;o++){for(var i=this.drawingContext.createImageData(e,t),a=(d=d=c=u=l=void 0,r.frames[o].image),s=i,l=0,u=0;u<s.height;u++)for(var c=0;c<s.width;c++){var d=Math.floor(c*a.width/s.width);d=4*(Math.floor(u*a.height/s.height)*a.width+d),s.data[l++]=a.data[d++],s.data[l++]=a.data[d++],s.data[l++]=a.data[d++],s.data[l++]=a.data[+d]}r.frames[o].image=i}n.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,n.width,n.height),this.canvas.width=this.width=e,this.canvas.height=this.height=t,this.drawingContext.drawImage(n,0,0,e,t,0,0,e,t),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default.prototype.copy.apply(this,t)}},{key:"mask",value:function(e){var t=this.drawingContext.globalCompositeOperation,n=1,o=[e=void 0===e?this:e,0,0,(n=e instanceof r.default.Renderer?e._pInst._pixelDensity:n)*e.width,n*e.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var i=0;i<this.gifProperties.frames.length;i++)this.drawingContext.putImageData(this.gifProperties.frames[i].image,0,0),this.copy.apply(this,o),this.gifProperties.frames[i].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,o);this.drawingContext.globalCompositeOperation=t,this.setModified(!0)}},{key:"filter",value:function(e,t){o.default.apply(this.canvas,o.default[e],t),this.setModified(!0)}},{key:"blend",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default._validateParameters("p5.Image.blend",arguments),r.default.prototype.blend.apply(this,t),this.setModified(!0)}},{key:"setModified",value:function(e){this._modified=e}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(e,t){this.gifProperties?r.default.prototype.encodeAndDownloadGif(this,e):r.default.prototype.saveCanvas(this.canvas,e,t)}},{key:"reset",value:function(){var e;this.gifProperties&&((e=this.gifProperties).playing=!0,e.timeSinceStart=0,e.timeDisplayed=0,e.lastChangeTime=0,e.loopCount=0,e.displayIndex=0,this.drawingContext.putImageData(e.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var e;if(this.gifProperties)return(e=this.gifProperties).displayIndex%e.numFrames}},{key:"setFrame",value:function(e){var t;this.gifProperties&&(e<(t=this.gifProperties).numFrames&&0<=e?(t.timeDisplayed=0,t.lastChangeTime=0,t.displayIndex=e,this.drawingContext.putImageData(t.frames[e].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(e,t){if(this.gifProperties){var n=this.gifProperties;if(t<n.numFrames&&0<=t)n.frames[t].delay=e;else{var r=!0,o=void(t=!1);try{for(var i,a=n.frames[Symbol.iterator]();!(r=(i=a.next()).done);r=!0)i.value.delay=e}catch(e){t=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(t)throw o}}}}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e=r.default.Image,n.default=e},{"../core/main":273,"./filters":294,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],298:[function(e,t,n){"use strict";e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.filter"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=i(e("../core/main")),o=i(e("./filters"));function i(e){return e&&e.__esModule?e:{default:e}}e("../color/p5.Color"),r.default.prototype.pixels=[],r.default.prototype.blend=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];r.default._validateParameters("blend",n),this._renderer?(e=this._renderer).blend.apply(e,n):r.default.Renderer2D.prototype.blend.apply(this,n)},r.default.prototype.copy=function(){for(var e,t,n,o,i,a,s,l,u,c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];if(r.default._validateParameters("copy",d),9===d.length)e=d[0],t=d[1],n=d[2],o=d[3],i=d[4],a=d[5],s=d[6],l=d[7],u=d[8];else{if(8!==d.length)throw new Error("Signature not supported");e=this,t=d[0],n=d[1],o=d[2],i=d[3],a=d[4],s=d[5],l=d[6],u=d[7]}r.default.prototype._copyHelper(this,e,t,n,o,i,a,s,l,u)},r.default.prototype._copyHelper=function(e,t,n,o,i,a,s,l,u,c){t.loadPixels();var d=t.canvas.width/t.width,p=0,h=0;t._renderer&&t._renderer.isP3D&&(p=t.width/2,h=t.height/2),e._renderer&&e._renderer.isP3D?r.default.RendererGL.prototype.image.call(e._renderer,t,n+p,o+h,i,a,s,l,u,c):e.drawingContext.drawImage(t.canvas,d*(n+p),d*(o+h),d*i,d*a,s,l,u,c)},r.default.prototype.filter=function(e,t){r.default._validateParameters("filter",arguments),void 0!==this.canvas?o.default.apply(this.canvas,o.default[e],t):o.default.apply(this.elt,o.default[e],t)},r.default.prototype.get=function(e,t,n,o){var i;return r.default._validateParameters("get",arguments),(i=this._renderer).get.apply(i,arguments)},r.default.prototype.loadPixels=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default._validateParameters("loadPixels",t),this._renderer.loadPixels()},r.default.prototype.set=function(e,t,n){this._renderer.set(e,t,n)},r.default.prototype.updatePixels=function(e,t,n,o){r.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(e,t,n,o)},e=r.default,n.default=e},{"../color/p5.Color":260,"../core/main":273,"./filters":294,"core-js/modules/es.array.filter":155}],299:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.from-entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.from-entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=s(e("../core/main")),i=(e("whatwg-fetch"),e("es6-promise/auto"),s(e("fetch-jsonp"))),a=s(e("file-saver"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function u(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function c(e,t){t&&!0!==t&&"true"!==t||(t="");var n="";return(e=e||"untitled")&&e.includes(".")&&(n=e.split(".").pop()),t&&n!==t&&(n=t,e="".concat(e,".").concat(n)),[e,n]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),o.default.prototype.loadJSON=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.default._validateParameters("loadJSON",t);for(var r,i,a,s=t[0],u={},c="json",d=1;d<t.length;d++){var p=t[d];"string"==typeof p?"jsonp"!==p&&"json"!==p||(c=p):"function"==typeof p?r?i=p:r=p:"object"===l(p)&&(p.hasOwnProperty("jsonpCallback")||p.hasOwnProperty("jsonpCallbackFunction"))&&(c="jsonp",a=p)}var h=this;return this.httpDo(s,"GET",a,c,(function(e){for(var t in e)u[t]=e[t];void 0!==r&&r(e),h._decrementPreload()}),(function(e){if(o.default._friendlyFileLoadError(5,s),!i)throw e;i(e)})),u},o.default.prototype.loadStrings=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.default._validateParameters("loadStrings",t);for(var r,i,a=[],s=1;s<t.length;s++){var l=t[s];"function"==typeof l&&(void 0===r?r=l:void 0===i&&(i=l))}var u=this;return o.default.prototype.httpDo.call(this,t[0],"GET","text",(function(e){for(var t=e.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),n=0,o=t.length;n<o;n+=32768)Array.prototype.push.apply(a,t.slice(n,Math.min(n+32768,o)));void 0!==r&&r(a),u._decrementPreload()}),(function(e){if(o.default._friendlyFileLoadError(3,e),!i)throw e;i(e)})),a},o.default.prototype.loadTable=function(e){var t,n,r,i=[],a=!1,s=e.substring(e.lastIndexOf(".")+1,e.length);"csv"===s?r=",":"ssv"===s?r=";":"tsv"===s&&(r="\t");for(var l=1;l<arguments.length;l++)"function"==typeof arguments[l]?void 0===t?t=arguments[l]:void 0===n&&(n=arguments[l]):"string"==typeof arguments[l]&&(i.push(arguments[l]),"header"===arguments[l]&&(a=!0),"csv"===arguments[l]?r=",":"ssv"===arguments[l]?r=";":"tsv"===arguments[l]&&(r="\t"));var u=new o.default.Table,c=this;return this.httpDo(e,"GET","table",(function(e){for(var n,i,s={},l=[],d=0,p=null,h=function(){s.currentState=0,s.token=""},f=function(){p.push(s.token),h()},m=function(){s.currentState=4,l.push(p),p=null};;){if(null==(n=e[d++])){if(s.escaped)throw new Error("Unclosed quote in file.");if(p){f(),m();break}}if(null===p&&(s.escaped=!1,p=[],h()),0===s.currentState){if('"'===n){s.escaped=!0,s.currentState=1;continue}s.currentState=1}if(1===s.currentState&&s.escaped)if('"'===n)'"'===e[d]?(s.token+='"',d++):(s.escaped=!1,s.currentState=2);else{if("\r"===n)continue;s.token+=n}else"\r"===n?("\n"===e[d]&&d++,f(),m()):"\n"===n?(f(),m()):n===r?f():1===s.currentState&&(s.token+=n)}if(a)u.columns=l.shift();else for(var g=0;g<l[0].length;g++)u.columns[g]="null";for(var b=0;b<l.length;b++)(1!==l[b].length||"undefined"!==l[b][0]&&""!==l[b][0])&&((i=new o.default.TableRow).arr=l[b],i.obj=function(e,t){if(void 0===(t=t||[]))for(var n=0;n<e.length;n++)t[n.toString()]=n;return Object.fromEntries(t.map((function(t,n){return[t,e[n]]})))}(l[b],u.columns),u.addRow(i));"function"==typeof t&&t(u),c._decrementPreload()}),(function(t){o.default._friendlyFileLoadError(2,e),n?n(t):console.error(t)})),u},o.default.prototype.loadXML=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r,i,a=new o.default.XML,s=1;s<t.length;s++){var l=t[s];"function"==typeof l&&(void 0===r?r=l:void 0===i&&(i=l))}var u=this;return this.httpDo(t[0],"GET","xml",(function(e){for(var t in e)a[t]=e[t];void 0!==r&&r(a),u._decrementPreload()}),(function(e){if(o.default._friendlyFileLoadError(1,e),!i)throw e;i(e)})),a},o.default.prototype.loadBytes=function(e,t,n){var r={},i=this;return this.httpDo(e,"GET","arrayBuffer",(function(e){r.bytes=new Uint8Array(e),"function"==typeof t&&t(r),i._decrementPreload()}),(function(t){if(o.default._friendlyFileLoadError(6,e),!n)throw t;n(t)})),r},o.default.prototype.httpGet=function(){o.default._validateParameters("httpGet",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"GET"),o.default.prototype.httpDo.apply(this,e)},o.default.prototype.httpPost=function(){o.default._validateParameters("httpPost",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"POST"),o.default.prototype.httpDo.apply(this,e)},o.default.prototype.httpDo=function(){for(var e,t,n,r={},a=0,s="text/plain",u=arguments.length-1;0<u&&"function"==typeof(u<0||arguments.length<=u?void 0:arguments[u]);u--)a++;var c=arguments.length<=0?void 0:arguments[0];if(2==(g=arguments.length-a)&&"string"==typeof c&&"object"===l(arguments.length<=1?void 0:arguments[1]))b=new Request(c,arguments.length<=1?void 0:arguments[1]),t=arguments.length<=2?void 0:arguments[2],n=arguments.length<=3?void 0:arguments[3];else{for(var d,p="GET",h=1;h<arguments.length;h++){var f=h<0||arguments.length<=h?void 0:arguments[h];if("string"==typeof f)"GET"===f||"POST"===f||"PUT"===f||"DELETE"===f?p=f:"json"===f||"jsonp"===f||"binary"===f||"arrayBuffer"===f||"xml"===f||"text"===f||"table"===f?e=f:d=f;else if("number"==typeof f)d=f.toString();else if("object"===l(f))if(f.hasOwnProperty("jsonpCallback")||f.hasOwnProperty("jsonpCallbackFunction"))for(var m in f)r[m]=f[m];else s=f instanceof o.default.XML?(d=f.serialize(),"application/xml"):(d=JSON.stringify(f),"application/json");else"function"==typeof f&&(t?n=f:t=f)}var g="GET"===p?new Headers:new Headers({"Content-Type":s}),b=new Request(c,{method:p,mode:"cors",body:d,headers:g})}return(g=(g="jsonp"===(e=e||(c.includes("json")?"json":c.includes("xml")?"xml":"text"))?(0,i.default)(c,r):fetch(b)).then((function(t){if(!t.ok)throw(n=new Error(t.body)).status=t.status,n.ok=!1,n;var n=0;switch((n="jsonp"!==e?t.headers.get("content-length"):n)&&64e6<n&&o.default._friendlyFileLoadError(7,c),e){case"json":case"jsonp":return t.json();case"binary":return t.blob();case"arrayBuffer":return t.arrayBuffer();case"xml":return t.text().then((function(e){return e=(new DOMParser).parseFromString(e,"text/xml"),new o.default.XML(e.documentElement)}));default:return t.text()}}))).then(t||function(){}),g.catch(n||console.error),g},window.URL=window.URL||window.webkitURL,o.default.prototype._pWriters=[],o.default.prototype.createWriter=function(e,t){var n,r;for(r in o.default.prototype._pWriters)if(o.default.prototype._pWriters[r].name===e)return n=new o.default.PrintWriter(e+this.millis(),t),o.default.prototype._pWriters.push(n),n;return n=new o.default.PrintWriter(e,t),o.default.prototype._pWriters.push(n),n},o.default.PrintWriter=function(e,t){var n=this;this.name=e,this.content="",this.write=function(e){this.content+=e},this.print=function(e){this.content+="".concat(e,"\n")},this.clear=function(){this.content=""},this.close=function(){var r,i=[];for(r in i.push(this.content),o.default.prototype.writeFile(i,e,t),o.default.prototype._pWriters)o.default.prototype._pWriters[r].name===this.name&&o.default.prototype._pWriters.splice(r,1);n.clear(),n={}}},o.default.prototype.save=function(e,t,n){var r=arguments,i=(this._curElement||this).elt;if(0===r.length)o.default.prototype.saveCanvas(i);else if(r[0]instanceof o.default.Renderer||r[0]instanceof o.default.Graphics)o.default.prototype.saveCanvas(r[0].elt,r[1],r[2]);else if(1===r.length&&"string"==typeof r[0])o.default.prototype.saveCanvas(i,r[0]);else switch(c(r[1],r[2])[1]){case"json":return void o.default.prototype.saveJSON(r[0],r[1],r[2]);case"txt":return void o.default.prototype.saveStrings(r[0],r[1],r[2]);default:r[0]instanceof Array?o.default.prototype.saveStrings(r[0],r[1],r[2]):r[0]instanceof o.default.Table?o.default.prototype.saveTable(r[0],r[1],r[2]):r[0]instanceof o.default.Image?o.default.prototype.saveCanvas(r[0].canvas,r[1]):r[0]instanceof o.default.SoundFile&&o.default.prototype.saveSound(r[0],r[1],r[2],r[3])}},o.default.prototype.saveJSON=function(e,t,n){o.default._validateParameters("saveJSON",arguments),n=n?JSON.stringify(e):JSON.stringify(e,void 0,2),this.saveStrings(n.split("\n"),t,"json")},o.default.prototype.saveJSONObject=o.default.prototype.saveJSON,o.default.prototype.saveJSONArray=o.default.prototype.saveJSON,o.default.prototype.saveStrings=function(e,t,n,r){o.default._validateParameters("saveStrings",arguments);for(var i=this.createWriter(t,n||"txt"),a=0;a<e.length;a++)r?i.write(e[a]+"\r\n"):i.write(e[a]+"\n");i.close(),i.clear()},o.default.prototype.saveTable=function(e,t,n){o.default._validateParameters("saveTable",arguments),r=void 0===n?t.substring(t.lastIndexOf(".")+1,t.length):n;var r,i=this.createWriter(t,r),a=e.columns,s="tsv"===r?"\t":",";if("html"!==r){if("0"!==a[0]){for(var l=0;l<a.length;l++)l<a.length-1?i.write(a[l]+s):i.write(a[l]);i.write("\n")}for(var c=0;c<e.rows.length;c++){var d=void 0;for(d=0;d<e.rows[c].arr.length;d++)d<e.rows[c].arr.length-1?"csv"===r&&String(e.rows[c].arr[d]).includes(",")?i.write('"'+e.rows[c].arr[d]+'"'+s):i.write(e.rows[c].arr[d]+s):"csv"===r&&String(e.rows[c].arr[d]).includes(",")?i.write('"'+e.rows[c].arr[d]+'"'):i.write(e.rows[c].arr[d]);i.write("\n")}}else{if(i.print("<html>"),i.print("<head>"),i.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),i.print("</head>"),i.print("<body>"),i.print("  <table>"),"0"!==a[0]){i.print("    <tr>");for(var p=0;p<a.length;p++){var h=u(a[p]);i.print("      <td>".concat(h)),i.print("      </td>")}i.print("    </tr>")}for(var f=0;f<e.rows.length;f++){i.print("    <tr>");for(var m=0;m<e.columns.length;m++){var g=u(e.rows[f].getString(m));i.print("      <td>".concat(g)),i.print("      </td>")}i.print("    </tr>")}i.print("  </table>"),i.print("</body>"),i.print("</html>")}i.close(),i.clear()},o.default.prototype.writeFile=function(e,t,n){var r="application/octet-stream";o.default.prototype._isSafari()&&(r="text/plain"),e=new Blob(e,{type:r}),o.default.prototype.downloadFile(e,t,n)},o.default.prototype.downloadFile=function(e,t,n){var r;n=(t=c(t,n))[0],e instanceof Blob?a.default.saveAs(e,n):((r=document.createElement("a")).href=e,r.download=n,r.onclick=function(e){document.body.removeChild(e.target),e.stopPropagation()},r.style.display="none",document.body.appendChild(r),o.default.prototype._isSafari()&&(e=(e='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(t[1],'"'),alert(e)),r.click())},o.default.prototype._checkFileExtension=c,o.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},e=o.default,n.default=e},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.promise":181,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/web.dom-collections.iterator":236,"core-js/modules/web.url":238,"es6-promise/auto":239,"fetch-jsonp":241,"file-saver":242,"whatwg-fetch":251}],300:[function(e,t,n){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};r.default.Table=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=[]}var t;return(t=[{key:"addRow",value:function(e){if(void 0===(e=e||new r.default.TableRow).arr||void 0===e.obj)throw new Error("invalid TableRow: ".concat(e));return(e.table=this).rows.push(e),e}},{key:"removeRow",value:function(e){this.rows[e].table=null,e=this.rows.splice(e+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(e)}},{key:"getRow",value:function(e){return this.rows[e]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(e,t){if("string"==typeof t){for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[t]===e)return this.rows[n]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[t]===e)return this.rows[r];return null}},{key:"findRows",value:function(e,t){var n=[];if("string"==typeof t)for(var r=0;r<this.rows.length;r++)this.rows[r].obj[t]===e&&n.push(this.rows[r]);else for(var o=0;o<this.rows.length;o++)this.rows[o].arr[t]===e&&n.push(this.rows[o]);return n}},{key:"matchRow",value:function(e,t){if("number"==typeof t){for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[t].match(e))return this.rows[n]}else for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[t].match(e))return this.rows[r];return null}},{key:"matchRows",value:function(e,t){var n=[];if("number"==typeof t)for(var r=0;r<this.rows.length;r++)this.rows[r].arr[t].match(e)&&n.push(this.rows[r]);else for(var o=0;o<this.rows.length;o++)this.rows[o].obj[t].match(e)&&n.push(this.rows[o]);return n}},{key:"getColumn",value:function(e){var t=[];if("string"==typeof e)for(var n=0;n<this.rows.length;n++)t.push(this.rows[n].obj[e]);else for(var r=0;r<this.rows.length;r++)t.push(this.rows[r].arr[e]);return t}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(e){this.columns.push(e||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e.charAt(r).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var o=new RegExp(n.join("|"),"g");if(void 0===t)for(var i=0;i<this.columns.length;i++)for(var a=0;a<this.rows.length;a++){var s=(s=this.rows[a].arr[i]).replace(o,"");this.rows[a].arr[i]=s,this.rows[a].obj[this.columns[i]]=s}else if("string"==typeof t)for(var l=0;l<this.rows.length;l++){var u=(u=this.rows[l].obj[t]).replace(o,""),c=(this.rows[l].obj[t]=u,this.columns.indexOf(t));this.rows[l].arr[c]=u}else for(var d=0;d<this.rows.length;d++){var p=(p=this.rows[d].arr[t]).replace(o,"");this.rows[d].arr[t]=p,this.rows[d].obj[this.columns[t]]=p}}},{key:"trim",value:function(e){var t=new RegExp(" ","g");if(void 0===e)for(var n=0;n<this.columns.length;n++)for(var r=0;r<this.rows.length;r++){var o=(o=this.rows[r].arr[n]).replace(t,"");this.rows[r].arr[n]=o,this.rows[r].obj[this.columns[n]]=o}else if("string"==typeof e)for(var i=0;i<this.rows.length;i++){var a=(a=this.rows[i].obj[e]).replace(t,""),s=(this.rows[i].obj[e]=a,this.columns.indexOf(e));this.rows[i].arr[s]=a}else for(var l=0;l<this.rows.length;l++){var u=(u=this.rows[l].arr[e]).replace(t,"");this.rows[l].arr[e]=u,this.rows[l].obj[this.columns[e]]=u}}},{key:"removeColumn",value:function(e){var t,n;"string"==typeof e?n=this.columns.indexOf(t=e):t=this.columns[n=e],e=this.columns.splice(n+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(e);for(var r=0;r<this.rows.length;r++){var o=this.rows[r].arr,i=o.splice(n+1,o.length);o.pop(),this.rows[r].arr=o.concat(i),delete this.rows[r].obj[t]}}},{key:"set",value:function(e,t,n){this.rows[e].set(t,n)}},{key:"setNum",value:function(e,t,n){this.rows[e].setNum(t,n)}},{key:"setString",value:function(e,t,n){this.rows[e].setString(t,n)}},{key:"get",value:function(e,t){return this.rows[e].get(t)}},{key:"getNum",value:function(e,t){return this.rows[e].getNum(t)}},{key:"getString",value:function(e,t){return this.rows[e].getString(t)}},{key:"getObject",value:function(e){for(var t,n={},r=0;r<this.rows.length;r++)if(t=this.rows[r].obj,"string"==typeof e){if(!(0<=this.columns.indexOf(e)))throw new Error('This table has no column named "'.concat(e,'"'));n[t[e]]=t}else n[r]=this.rows[r].obj;return n}},{key:"getArray",value:function(){for(var e=[],t=0;t<this.rows.length;t++)e.push(this.rows[t].arr);return e}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e=r.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.join":161,"core-js/modules/es.array.splice":166,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.match":191,"core-js/modules/es.string.replace":194}],301:[function(e,t,n){"use strict";e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.from-entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.from-entries"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.TableRow=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var r=[];t&&(r=t.split(n=n||",")),this.arr=r,this.obj=Object.fromEntries(r.entries()),this.table=null}var t;return(t=[{key:"set",value:function(e,t){if("string"==typeof e){var n=this.table.columns.indexOf(e);if(!(0<=n))throw new Error('This table has no column named "'.concat(e,'"'));this.obj[e]=t,this.arr[n]=t}else{if(!(e<this.table.columns.length))throw new Error("Column #".concat(e," is out of the range of this table"));this.arr[e]=t,n=this.table.columns[e],this.obj[n]=t}}},{key:"setNum",value:function(e,t){t=parseFloat(t),this.set(e,t)}},{key:"setString",value:function(e,t){t=t.toString(),this.set(e,t)}},{key:"get",value:function(e){return("string"==typeof e?this.obj:this.arr)[e]}},{key:"getNum",value:function(e){var t="string"==typeof e?parseFloat(this.obj[e]):parseFloat(this.arr[e]);if("NaN"===t.toString())throw"Error: ".concat(this.obj[e]," is NaN (Not a Number)");return t}},{key:"getString",value:function(e){return("string"==typeof e?this.obj:this.arr)[e].toString()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e=e.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.from-entries":175,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.split":196,"core-js/modules/web.dom-collections.iterator":236}],302:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};r.default.XML=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");t?this.DOM=t:(t=document.implementation.createDocument(null,"doc"),this.DOM=t.createElement("root"))}var t;return(t=[{key:"getParent",value:function(){return new r.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(e){var t=this.DOM.innerHTML,n=this.DOM.attributes,r=document.implementation.createDocument(null,"default").createElement(e);r.innerHTML=t;for(var o=0;o<n.length;o++)r.setAttribute(n[o].nodeName,n.nodeValue);this.DOM=r}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var e=[],t=0;t<this.DOM.childNodes.length;t++)e.push(this.DOM.childNodes[t].nodeName);return e}},{key:"getChildren",value:function(e){return function(e){for(var t=[],n=0;n<e.length;n++)t.push(new r.default.XML(e[n]));return t}(e?this.DOM.getElementsByTagName(e):this.DOM.children)}},{key:"getChild",value:function(e){if("string"!=typeof e)return new r.default.XML(this.DOM.children[e]);var t=!0,n=!1,o=void 0;try{for(var i,a=this.DOM.children[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;if(s.tagName===e)return new r.default.XML(s)}}catch(e){n=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw o}}}},{key:"addChild",value:function(e){e instanceof r.default.XML&&this.DOM.appendChild(e.DOM)}},{key:"removeChild",value:function(e){var t=-1;if("string"==typeof e){for(var n=0;n<this.DOM.children.length;n++)if(this.DOM.children[n].tagName===e){t=n;break}}else t=e;-1!==t&&this.DOM.removeChild(this.DOM.children[t])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var e=[],t=!0,n=!1,r=void 0;try{for(var o,i=this.DOM.attributes[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;e.push(a.nodeName)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}return e}},{key:"hasAttribute",value:function(e){var t={},n=!0,r=!1,o=void 0;try{for(var i,a=this.DOM.attributes[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t[s.nodeName]=s.nodeValue}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return!!t[e]}},{key:"getNum",value:function(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,s=this.DOM.attributes[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n[l.nodeName]=l.nodeValue}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return Number(n[e])||t||0}},{key:"getString",value:function(e,t){var n={},r=!0,o=!1,i=void 0;try{for(var a,s=this.DOM.attributes[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n[l.nodeName]=l.nodeValue}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n[e]?String(n[e]):t||null}},{key:"setAttribute",value:function(e,t){this.DOM.setAttribute(e,t)}},{key:"getContent",value:function(e){var t=this.DOM.textContent;return(t=t.replace(/\s\s+/g,","))||e||null}},{key:"setContent",value:function(e){this.DOM.children.length||(this.DOM.textContent=e)}},{key:"serialize",value:function(){return(new XMLSerializer).serializeToString(this.DOM)}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e=r.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.replace":194,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],303:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var e=arguments.length,t=[],n=0,r=0;r<e;r++){var o=arguments[r];if((o=+o)==1/0||o===-1/0)return 1/0;n<(o=Math.abs(o))&&(n=o),t[r]=o}0===n&&(n=1);for(var i=0,a=0,s=0;s<e;s++){var l,u=i+(l=(l=t[s]/n)*l-a);a=u-i-l,i=u}return Math.sqrt(i)*n}r.default.prototype.abs=Math.abs,r.default.prototype.ceil=Math.ceil,r.default.prototype.constrain=function(e,t,n){return r.default._validateParameters("constrain",arguments),Math.max(Math.min(e,n),t)},r.default.prototype.dist=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.default._validateParameters("dist",t),4===t.length?o(t[2]-t[0],t[3]-t[1]):6===t.length?o(t[3]-t[0],t[4]-t[1],t[5]-t[2]):void 0},r.default.prototype.exp=Math.exp,r.default.prototype.floor=Math.floor,r.default.prototype.lerp=function(e,t,n){return r.default._validateParameters("lerp",arguments),n*(t-e)+e},r.default.prototype.log=Math.log,r.default.prototype.mag=function(e,t){return r.default._validateParameters("mag",arguments),o(e,t)},r.default.prototype.map=function(e,t,n,o,i,a){return r.default._validateParameters("map",arguments),e=(e-t)/(n-t)*(i-o)+o,a?o<i?this.constrain(e,o,i):this.constrain(e,i,o):e},r.default.prototype.max=function(){for(var e=function(e){var t=-1/0,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t=t<s?s:t}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n[0]instanceof Array?e(n[0]):e(n)},r.default.prototype.min=function(){for(var e=function(e){var t=1/0,n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t=s<t?s:t}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n[0]instanceof Array?e(n[0]):e(n)},r.default.prototype.norm=function(e,t,n){return r.default._validateParameters("norm",arguments),this.map(e,t,n,0,1)},r.default.prototype.pow=Math.pow,r.default.prototype.round=function(e,t){return t?(t=Math.pow(10,t),Math.round(e*t)/t):Math.round(e)},r.default.prototype.sq=function(e){return e*e},r.default.prototype.sqrt=Math.sqrt,r.default.prototype.fract=function(e){r.default._validateParameters("fract",arguments);var t,n=0;return e=Number(e),isNaN(e)||Math.abs(e)===1/0?e:(e<0&&(e=-e,n=1),String(e).includes(".")&&!String(e).includes("e")?(t=String(e),t=Number("0"+t.slice(t.indexOf("."))),Math.abs(n-t)):e<1?Math.abs(n-e):0)},e=r.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],304:[function(e,t,n){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(e,t,n){return(o=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?Reflect.construct:function(e,t,n){var r=[null];return r.push.apply(r,t),t=new(Function.bind.apply(e,r)),n&&i(t,n.prototype),t}).apply(null,arguments)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.default.prototype.createVector=function(e,t,n){return this instanceof r.default?o(r.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new r.default.Vector(e,t,n)},e=r.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186}],305:[function(e,t,n){"use strict";function r(e){return.5*(1-Math.cos(e*Math.PI))}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e};var o,i=4095,a=4,s=.5;e.default.prototype.noise=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==o){o=new Array(4096);for(var l=0;l<4096;l++)o[l]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),n<0&&(n=-n);for(var u,c,d=Math.floor(e),p=Math.floor(t),h=Math.floor(n),f=e-d,m=t-p,g=n-h,b=0,y=.5,v=0;v<a;v++){var x=d+(p<<4)+(h<<8),w=r(f),k=r(m),_=o[x&i];_+=w*(o[x+1&i]-_),u=o[x+16&i],_+=k*((u+=w*(o[x+16+1&i]-u))-_),u=o[(x+=256)&i],u+=w*(o[x+1&i]-u),c=o[x+16&i],u+=k*((c+=w*(o[x+16+1&i]-c))-u),b+=(_+=r(g)*(u-_))*y,y*=s,d<<=1,p<<=1,h<<=1,1<=(f*=2)&&(d++,f--),1<=(m*=2)&&(p++,m--),1<=(g*=2)&&(h++,g--)}return b},e.default.prototype.noiseDetail=function(e,t){0<e&&(a=e),0<t&&(s=t)},e.default.prototype.noiseSeed=function(e){var t,n;n=4294967296,function(e){t=(null==e?Math.random()*n:e)>>>0}(e),o=new Array(4096);for(var r=0;r<4096;r++)o[r]=(t=(1664525*t+1013904223)%n)/n},e=e.default,n.default=e},{"../core/main":273}],306:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.string.sub"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(c=e("../core/main"))&&c.__esModule?c:{default:c},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return 0!==e&&(this.x=this.x%e),0!==t&&(this.y=this.y%t),this}function u(e,t,n){return 0!==e&&(this.x=this.x%e),0!==t&&(this.y=this.y%t),0!==n&&(this.z=this.z%n),this}i.default.Vector=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var t,n,r="function"==typeof(arguments.length<=0?void 0:arguments[0])?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],t=(arguments.length<=2?void 0:arguments[2])||0,n=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(t=(arguments.length<=0?void 0:arguments[0])||0,n=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=t,this.y=n,this.z=r}var t,n,r;return t=e,r=[{key:"fromAngle",value:function(e,t){return new i.default.Vector((t=void 0===t?1:t)*Math.cos(e),t*Math.sin(e),0)}},{key:"fromAngles",value:function(e,t,n){void 0===n&&(n=1);var r=Math.cos(t),o=(t=Math.sin(t),Math.cos(e));return e=Math.sin(e),new i.default.Vector(n*e*t,-n*o,n*e*r)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*a.TWO_PI)}},{key:"random3D",value:function(){var e=Math.random()*a.TWO_PI,t=2*Math.random()-1,n=(r=Math.sqrt(1-t*t))*Math.cos(e),r=r*Math.sin(e);return new i.default.Vector(n,r,t)}},{key:"copy",value:function(e){return e.copy(e)}},{key:"add",value:function(e,t,n){return n?n.set(e):(n=e.copy(),3===arguments.length&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),n.add(t),n}},{key:"rem",value:function(e,t){if(e instanceof i.default.Vector&&t instanceof i.default.Vector)return(e=e.copy()).rem(t),e}},{key:"sub",value:function(e,t,n){return n?n.set(e):(n=e.copy(),3===arguments.length&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),n.sub(t),n}},{key:"mult",value:function(e,t,n){return n?n.set(e):(n=e.copy(),3===arguments.length&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),n.mult(t),n}},{key:"rotate",value:function(e,t,n){return 2===arguments.length?n=e.copy():(n instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),n.set(e)),n.rotate(t),n}},{key:"div",value:function(e,t,n){return n?n.set(e):(n=e.copy(),3===arguments.length&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),n.div(t),n}},{key:"dot",value:function(e,t){return e.dot(t)}},{key:"cross",value:function(e,t){return e.cross(t)}},{key:"dist",value:function(e,t){return e.dist(t)}},{key:"lerp",value:function(e,t,n,r){return r?r.set(e):(r=e.copy(),4===arguments.length&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),r.lerp(t,n),r}},{key:"slerp",value:function(e,t,n,r){return r?r.set(e):(r=e.copy(),4===arguments.length&&i.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),r.slerp(t,n),r}},{key:"mag",value:function(e){return e.mag()}},{key:"magSq",value:function(e){return e.magSq()}},{key:"normalize",value:function(e,t){return arguments.length<2?t=e.copy():(t instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),t.set(e)),t.normalize()}},{key:"limit",value:function(e,t,n){return arguments.length<3?n=e.copy():(n instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),n.set(e)),n.limit(t)}},{key:"setMag",value:function(e,t,n){return arguments.length<3?n=e.copy():(n instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),n.set(e)),n.setMag(t)}},{key:"heading",value:function(e){return e.heading()}},{key:"angleBetween",value:function(e,t){return e.angleBetween(t)}},{key:"reflect",value:function(e,t,n){return arguments.length<3?n=e.copy():(n instanceof i.default.Vector||i.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),n.set(e)),n.reflect(t)}},{key:"array",value:function(e){return e.array()}},{key:"equals",value:function(e,t){var n;return e instanceof i.default.Vector?n=e:e instanceof Array?n=(new i.default.Vector).set(e):i.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),n.equals(t)}}],(n=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(e,t,n){return e instanceof i.default.Vector?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):Array.isArray(e)?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0):(this.x=e||0,this.y=t||0,this.z=n||0),this}},{key:"copy",value:function(){return this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new i.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(e,t,n){return e instanceof i.default.Vector?(this.x+=e.x||0,this.y+=e.y||0,this.z+=e.z||0):Array.isArray(e)?(this.x+=e[0]||0,this.y+=e[1]||0,this.z+=e[2]||0):(this.x+=e||0,this.y+=t||0,this.z+=n||0),this}},{key:"rem",value:function(e,t,n){var r;if(e instanceof i.default.Vector){if([e.x,e.y,e.z].every(Number.isFinite))return o=parseFloat(e.x),a=parseFloat(e.y),r=parseFloat(e.z),u.call(this,o,a,r)}else if(Array.isArray(e)){if(e.every((function(e){return Number.isFinite(e)})))return 2===e.length?l.call(this,e[0],e[1]):3===e.length?u.call(this,e[0],e[1],e[2]):void 0}else if(1===arguments.length){if(Number.isFinite(e)&&0!==e)return this.x=this.x%e,this.y=this.y%e,this.z=this.z%e,this}else if(2===arguments.length){var o=Array.prototype.slice.call(arguments);if(o.every((function(e){return Number.isFinite(e)}))&&2===o.length)return l.call(this,o[0],o[1])}else if(3===arguments.length){var a=Array.prototype.slice.call(arguments);if(a.every((function(e){return Number.isFinite(e)}))&&3===a.length)return u.call(this,a[0],a[1],a[2])}}},{key:"sub",value:function(e,t,n){return e instanceof i.default.Vector?(this.x-=e.x||0,this.y-=e.y||0,this.z-=e.z||0):Array.isArray(e)?(this.x-=e[0]||0,this.y-=e[1]||0,this.z-=e[2]||0):(this.x-=e||0,this.y-=t||0,this.z-=n||0),this}},{key:"mult",value:function(e,t,n){var r;return e instanceof i.default.Vector?Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z)&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.z?(this.x*=e.x,this.y*=e.y,this.z*=e.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(e)?e.every((function(e){return Number.isFinite(e)}))&&e.every((function(e){return"number"==typeof e}))?1===e.length?(this.x*=e[0],this.y*=e[0],this.z*=e[0]):2===e.length?(this.x*=e[0],this.y*=e[1]):3===e.length&&(this.x*=e[0],this.y*=e[1],this.z*=e[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(r=Array.prototype.slice.call(arguments)).every((function(e){return Number.isFinite(e)}))&&r.every((function(e){return"number"==typeof e}))?(1===arguments.length&&(this.x*=e,this.y*=e,this.z*=e),2===arguments.length&&(this.x*=e,this.y*=t),3===arguments.length&&(this.x*=e,this.y*=t,this.z*=n)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(e,t,n){if(e instanceof i.default.Vector)if(Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z)&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.z){var r=0===e.z&&0===this.z;if(0===e.x||0===e.y||!r&&0===e.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=e.x,this.y/=e.y,r||(this.z/=e.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(e))if(e.every((function(e){return Number.isFinite(e)}))&&e.every((function(e){return"number"==typeof e}))){if(e.some((function(e){return 0===e})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===e.length?(this.x/=e[0],this.y/=e[0],this.z/=e[0]):2===e.length?(this.x/=e[0],this.y/=e[1]):3===e.length&&(this.x/=e[0],this.y/=e[1],this.z/=e[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if((r=Array.prototype.slice.call(arguments)).every((function(e){return Number.isFinite(e)}))&&r.every((function(e){return"number"==typeof e}))){if(r.some((function(e){return 0===e})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=e,this.y/=e,this.z/=e),2===arguments.length&&(this.x/=e,this.y/=t),3===arguments.length&&(this.x/=e,this.y/=t,this.z/=n)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var e=this.x,t=this.y,n=this.z;return e*e+t*t+n*n}},{key:"dot",value:function(e,t,n){return e instanceof i.default.Vector?this.dot(e.x,e.y,e.z):this.x*(e||0)+this.y*(t||0)+this.z*(n||0)}},{key:"cross",value:function(e){var t=this.y*e.z-this.z*e.y,n=this.z*e.x-this.x*e.z;return e=this.x*e.y-this.y*e.x,this.isPInst?new i.default.Vector(this._fromRadians,this._toRadians,t,n,e):new i.default.Vector(t,n,e)}},{key:"dist",value:function(e){return e.copy().sub(this).mag()}},{key:"normalize",value:function(){var e=this.mag();return 0!==e&&this.mult(1/e),this}},{key:"limit",value:function(e){var t=this.magSq();return e*e<t&&this.div(Math.sqrt(t)).mult(e),this}},{key:"setMag",value:function(e){return this.normalize().mult(e)}},{key:"heading",value:function(){var e=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(e):e}},{key:"setHeading",value:function(e){this.isPInst&&(e=this._toRadians(e));var t=this.mag();return this.x=t*Math.cos(e),this.y=t*Math.sin(e),this}},{key:"rotate",value:function(e){e=this.heading()+e;var t=(this.isPInst&&(e=this._toRadians(e)),this.mag());return this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this}},{key:"angleBetween",value:function(e){var t;return 0==this.magSq()*e.magSq()?NaN:(t=this.cross(e),e=Math.atan2(t.mag(),this.dot(e))*Math.sign(t.z||1),this.isPInst?this._fromRadians(e):e)}},{key:"lerp",value:function(e,t,n,r){return e instanceof i.default.Vector?this.lerp(e.x,e.y,e.z,t):(this.x+=(e-this.x)*r||0,this.y+=(t-this.y)*r||0,this.z+=(n-this.z)*r||0,this)}},{key:"slerp",value:function(e,t){if(0!==t){if(1===t)return this.set(e);var n=this.mag(),r=e.mag();if(0==n*r)this.mult(1-t).add(e.x*t,e.y*t,e.z*t);else{var o=this.cross(e),i=o.mag(),a=Math.atan2(i,this.dot(e));if(0<i)o.x/=i,o.y/=i,o.z/=i;else{if(a<.5*Math.PI)return this.mult(1-t).add(e.x*t,e.y*t,e.z*t),this;0===this.z&&0===e.z?o.set(0,0,1):0!==this.x?o.set(this.y,-this.x,0).normalize():o.set(1,0,0)}i=o.cross(this),o=(e=1-t+t*r/n)*Math.cos(t*a),r=e*Math.sin(t*a),this.x=this.x*o+i.x*r,this.y=this.y*o+i.y*r,this.z=this.z*o+i.z*r}}return this}},{key:"reflect",value:function(e){return e.normalize(),this.sub(e.mult(2*this.dot(e)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(e,t,n){var r,o;return e=e instanceof i.default.Vector?(r=e.x||0,o=e.y||0,e.z||0):Array.isArray(e)?(r=e[0]||0,o=e[1]||0,e[2]||0):(r=e||0,o=t||0,n||0),this.x===r&&this.y===o&&this.z===e}}])&&s(t.prototype,n),r&&s(t,r),e}();var c=i.default.Vector;n.default=c},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.every":153,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.constructor":171,"core-js/modules/es.number.is-finite":172,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],307:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e},o="_lcg_random_state",i=4294967296,a=0;r.default.prototype._lcg=function(e){return this[e]=(1664525*this[e]+1013904223)%i,this[e]/i},r.default.prototype._lcgSetSeed=function(e,t){this[e]=(null==t?Math.random()*i:t)>>>0},r.default.prototype.randomSeed=function(e){this._lcgSetSeed(o,e),this._gaussian_previous=!1},r.default.prototype.random=function(e,t){var n,i;return r.default._validateParameters("random",arguments),n=null!=this[o]?this._lcg(o):Math.random(),void 0===e?n:void 0===t?e instanceof Array?e[Math.floor(n*e.length)]:n*e:(t<e&&(i=e,e=t,t=i),n*(t-e)+e)},r.default.prototype.randomGaussian=function(e){var t,n,r,o,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)t=a,this._gaussian_previous=!1;else{for(;1<=(o=(n=this.random(2)-1)*n+(r=this.random(2)-1)*r););t=n*(o=Math.sqrt(-2*Math.log(o)/o)),a=r*o,this._gaussian_previous=!0}return t*i+(e||0)},e=r.default,n.default=e},{"../core/main":273}],308:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(s=e("../core/main"))&&s.__esModule?s:{default:s},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));i.default.prototype._angleMode=a.RADIANS,i.default.prototype.acos=function(e){return this._fromRadians(Math.acos(e))},i.default.prototype.asin=function(e){return this._fromRadians(Math.asin(e))},i.default.prototype.atan=function(e){return this._fromRadians(Math.atan(e))},i.default.prototype.atan2=function(e,t){return this._fromRadians(Math.atan2(e,t))},i.default.prototype.cos=function(e){return Math.cos(this._toRadians(e))},i.default.prototype.sin=function(e){return Math.sin(this._toRadians(e))},i.default.prototype.tan=function(e){return Math.tan(this._toRadians(e))},i.default.prototype.degrees=function(e){return e*a.RAD_TO_DEG},i.default.prototype.radians=function(e){return e*a.DEG_TO_RAD},i.default.prototype.angleMode=function(e){if(i.default._validateParameters("angleMode",arguments),void 0===e)return this._angleMode;e!==a.DEGREES&&e!==a.RADIANS||(this._angleMode=e)},i.default.prototype._toRadians=function(e){return this._angleMode===a.DEGREES?e*a.DEG_TO_RAD:e},i.default.prototype._toDegrees=function(e){return this._angleMode===a.RADIANS?e*a.RAD_TO_DEG:e},i.default.prototype._fromRadians=function(e){return this._angleMode===a.DEGREES?e*a.RAD_TO_DEG:e};var s=i.default;n.default=s},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],309:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};r.default.prototype.textAlign=function(e,t){var n;return r.default._validateParameters("textAlign",arguments),(n=this._renderer).textAlign.apply(n,arguments)},r.default.prototype.textLeading=function(e){var t;return r.default._validateParameters("textLeading",arguments),(t=this._renderer).textLeading.apply(t,arguments)},r.default.prototype.textSize=function(e){var t;return r.default._validateParameters("textSize",arguments),(t=this._renderer).textSize.apply(t,arguments)},r.default.prototype.textStyle=function(e){var t;return r.default._validateParameters("textStyle",arguments),(t=this._renderer).textStyle.apply(t,arguments)},r.default.prototype.textWidth=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n[0]+="",r.default._validateParameters("textWidth",n),0===n[0].length?0:(e=this._renderer).textWidth.apply(e,n)},r.default.prototype.textAscent=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.default._validateParameters("textAscent",t),this._renderer.textAscent()},r.default.prototype.textDescent=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.default._validateParameters("textDescent",t),this._renderer.textDescent()},r.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},r.default.prototype.textWrap=function(e){if("WORD"!==e&&"CHAR"!==e)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(e)},e=r.default,n.default=e},{"../core/main":273}],310:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(c=e("../core/main"))&&c.__esModule?c:{default:c},a=u(e("../core/constants")),s=u(e("opentype.js"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n,r,i={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&((r=a?Object.getOwnPropertyDescriptor(e,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),i.default.prototype.loadFont=function(e,t,n){i.default._validateParameters("loadFont",arguments);var r=new i.default.Font(this),o=this;return s.load(e,(function(a,s){if(a)return i.default._friendlyFileLoadError(4,e),void 0!==n?n(a):void console.error(a,e);r.font=s,void 0!==t&&t(r),o._decrementPreload();var l=(s=(a=e.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:a.slice(s+1);["ttf","otf","woff","woff2"].includes(l)&&(l=a.slice(0,-1!==s?s:0),(a=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(l,";\nsrc: url(").concat(e,");\n}\n"))),document.head.appendChild(a))})),r},i.default.prototype.text=function(e,t,n,r,o){var a;return i.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(a=this._renderer).text.apply(a,arguments):this},i.default.prototype.textFont=function(e,t){if(i.default._validateParameters("textFont",arguments),arguments.length){if(e)return this._renderer._setProperty("_textFont",e),t&&(this._renderer._setProperty("_textSize",t),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",t*a._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var c=i.default;n.default=c},{"../core/constants":262,"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.last-index-of":162,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,"opentype.js":247}],311:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(o=e("../core/main"))&&o.__esModule?o:{default:o},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(e){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function s(e,t){var n=e.length;return e[t<0?t%n+n:t%n]}function l(e,t,n,r){var o,i,a;return r?(void 0===l.tmpPoint1&&(l.tmpPoint1=[],l.tmpPoint2=[]),i=l.tmpPoint1,a=l.tmpPoint2,i.x=t.x-e.x,i.y=t.y-e.y,a.x=n.x-t.x,a.y=n.y-t.y,o=i.x*a.x+i.y*a.y,i=Math.sqrt(i.x*i.x+i.y*i.y),a=Math.sqrt(a.x*a.x+a.y*a.y),Math.acos(o/(i*a))<r):0==(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function u(e,t,n,r,o,i,a,s,l){var u=1-l,c=(d=Math.pow(u,3))*e+3*(p=Math.pow(u,2))*l*n+3*u*l*l*o+(h=(m=l*l)*l)*a,d=d*t+3*p*l*r+3*u*l*l*i+h*s,p=e+2*l*(n-e)+m*(o-2*n+e),h=t+2*l*(r-t)+m*(i-2*r+t),f=n+2*l*(o-n)+m*(a-2*o+n),m=r+2*l*(i-r)+m*(s-2*i+r);return e=u*e+l*n,n=u*t+l*r,t=u*o+l*a,r=u*i+l*s,o=90-180*Math.atan2(p-f,h-m)/Math.PI,(f<p||h<m)&&(o+=180),{x:c,y:d,m:{x:p,y:h},n:{x:f,y:m},start:{x:e,y:n},end:{x:t,y:r},alpha:o}}function c(e,t,n,r,o,i,a,s,l){return null==l?b(e,t,n,r,o,i,a,s):u(e,t,n,r,o,i,a,s,function(e,t,n,r,o,i,a,s,l){if(!(l<0||b(e,t,n,r,o,i,a,s)<l)){var u,c=.5,d=1-c;for(u=b(e,t,n,r,o,i,a,s,d);.01<Math.abs(u-l);)u=b(e,t,n,r,o,i,a,s,d+=(u<l?1:-1)*(c/=2));return d}}(e,t,n,r,o,i,a,s,l))}function d(e,t,n){for(var r,o,i,a,s,l=0,d=0,f=(e=function(e,t){function n(e,t,n){var r,o;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(h.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":o="C"===n||"S"===n?(r=2*t.x-t.bx,2*t.y-t.by):(r=t.x,t.y),e=["C",r,o].concat(e.slice(1));break;case"T":"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(g(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(g(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(m(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(m(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(m(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(m(t.x,t.y,t.X,t.Y))}return e}function r(e,t){if(7<e[t].length){e[t].shift();for(var n=e[t];n.length;)c[t]="A",s&&(d[t]="A"),e.splice(t++,0,["C"].concat(n.splice(0,6)));e.splice(t,1),i=Math.max(a.length,s&&s.length||0)}}function o(e,t,n,r,o){e&&t&&"M"===e[o][0]&&"M"!==t[o][0]&&(t.splice(o,0,["M",r.x,r.y]),n.bx=0,n.by=0,n.x=e[o][1],n.y=e[o][2],i=Math.max(a.length,s&&s.length||0))}var i,a=p(e),s=void 0,l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],d=[],f="",b="";i=Math.max(a.length,s&&s.length||0);for(var y=0;y<i;y++){"C"!==(f=a[y]?a[y][0]:f)&&(c[y]=f,y&&(b=c[y-1])),a[y]=n(a[y],l,b),"A"!==c[y]&&"C"===f&&(c[y]="C"),r(a,y),s&&("C"!==(f=s[y]?s[y][0]:f)&&(d[y]=f,y&&(b=d[y-1])),s[y]=n(s[y],u,b),"A"!==d[y]&&"C"===f&&(d[y]="C"),r(s,y)),o(a,s,l,u,y),o(s,a,u,l,y);var v=a[y],x=s&&s[y],w=v.length,k=s&&x.length;l.x=v[w-2],l.y=v[w-1],l.bx=parseFloat(v[w-4])||l.x,l.by=parseFloat(v[w-3])||l.y,u.bx=s&&(parseFloat(x[k-4])||u.x),u.by=s&&(parseFloat(x[k-3])||u.y),u.x=s&&x[k-2],u.y=s&&x[k-1]}return s?[a,s]:a}(e)).length;d<f;d++){if("M"===(i=e[d])[0])r=+i[1],o=+i[2];else{if(t<l+(a=c(r,o,i[1],i[2],i[3],i[4],i[5],i[6]))&&!n)return{x:(s=c(r,o,i[1],i[2],i[3],i[4],i[5],i[6],t-l)).x,y:s.y,alpha:s.alpha};l+=a,r=+i[5],o=+i[6]}i.shift()}return(s=n?l:u(r,o,i[0],i[1],i[2],i[3],i[4],i[5],1)).alpha?{x:s.x,y:s.y,alpha:s.alpha}:s}function p(e){var t=[],n=0,r=0,o=0,i=0,a=0;if(e){"M"===e[0][0]&&(o=n=+e[0][1],i=r=+e[0][2],a++,t[0]=["M",n,r]);for(var s,l,u=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),c=a,d=e.length;c<d;c++){if(t.push(s=[]),(l=e[c])[0]!==String.prototype.toUpperCase.call(l[0]))switch(s[0]=String.prototype.toUpperCase.call(l[0]),s[0]){case"A":s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],s[6]=+(l[6]+n),s[7]=+(l[7]+r);break;case"V":s[1]=+l[1]+r;break;case"H":s[1]=+l[1]+n;break;case"R":for(var p,h=2,m=(p=[n,r].concat(l.slice(1))).length;h<m;h++)p[h]=+p[h]+n,p[++h]=+p[h]+r;t.pop(),t=t.concat(f(p,u));break;case"M":o=+l[1]+n,i=+l[2]+r;break;default:for(var g=1,b=l.length;g<b;g++)s[g]=+l[g]+(g%2?n:r)}else if("R"===l[0])p=[n,r].concat(l.slice(1)),t.pop(),t=t.concat(f(p,u)),s=["R"].concat(l.slice(-2));else for(var y=0,v=l.length;y<v;y++)s[y]=l[y];switch(s[0]){case"Z":n=o,r=i;break;case"H":n=s[1];break;case"V":r=s[1];break;case"M":o=s[s.length-2],i=s[s.length-1];break;default:n=s[s.length-2],r=s[s.length-1]}}}return t}function h(e,t,n,r,o,i,a,s,l,u){function c(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}var d,p=120*(y=Math.PI)/180,f=y/180*(+o||0),m=[],g=(u?(_=u[0],d=u[1],w=u[2],k=u[3]):(e=(v=c(e,t,-f)).x,t=v.y,1<(g=(b=(e-(s=(v=c(s,l,-f)).x))/2)*b/(n*n)+(v=(t-(l=v.y))/2)*v/(r*r))&&(n*=g=Math.sqrt(g),r*=g),g=n*n,x=r*r,w=(i=(i===a?-1:1)*Math.sqrt(Math.abs((g*x-g*v*v-x*b*b)/(g*v*v+x*b*b))))*n*v/r+(e+s)/2,k=i*-r*b/n+(t+l)/2,_=Math.asin(((t-k)/r).toFixed(9)),d=Math.asin(((l-k)/r).toFixed(9)),(_=e<w?y-_:_)<0&&(_=2*y+_),(d=s<w?y-d:d)<0&&(d=2*y+d),a&&d<_&&(_-=2*y),!a&&_<d&&(d-=2*y)),d-_),b=(Math.abs(g)>p&&(x=d,v=s,i=l,d=_+p*(a&&_<d?1:-1),m=h(s=w+n*Math.cos(d),l=k+r*Math.sin(d),n,r,o,0,a,v,i,[d,x,w,k])),g=d-_,Math.cos(_)),y=Math.sin(_),v=(p=Math.cos(d),o=Math.sin(d),4/3*n*(a=Math.tan(g/4))),x=[e,t],w=[e+v*y,t-(i=4/3*r*a)*b],k=[s+v*o,l-i*p],_=[s,l];if(w[0]=2*x[0]-w[0],w[1]=2*x[1]-w[1],u)return[w,k,_].concat(m);for(var S=[],E=0,T=(m=[w,k,_].concat(m).join().split(",")).length;E<T;E++)S[E]=E%2?c(m[E-1],m[E],f).y:c(m[E],m[E+1],f).x;return S}function f(e,t){for(var n=[],r=0,o=e.length;r<o-2*!t;r+=2){var i=[{x:+e[r-2],y:+e[r-1]},{x:+e[r],y:+e[r+1]},{x:+e[r+2],y:+e[r+3]},{x:+e[r+4],y:+e[r+5]}];t?r?o-4===r?i[3]={x:+e[0],y:+e[1]}:o-2===r&&(i[2]={x:+e[0],y:+e[1]},i[3]={x:+e[2],y:+e[3]}):i[0]={x:+e[o-2],y:+e[o-1]}:o-4===r?i[3]=i[2]:r||(i[0]={x:+e[r],y:+e[r+1]}),n.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y])}return n}function m(e,t,n,r){return[e,t,n,r,n,r]}function g(e,t,n,r,o,i){return[1/3*e+2/3*n,1/3*t+2/3*r,1/3*o+2/3*n,1/3*i+2/3*r,o,i]}function b(e,t,n,r,o,i,a,s,l){for(var u=(l=1<(l=null==l?1:l)?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=0,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0;h<12;h++){var f=y(m=u*c[h]+u,e,n,o,a),m=y(m,t,r,i,s);d+=p[h]*Math.sqrt(f*f+m*m)}return u*d}function y(e,t,n,r,o){return e*(e*(-3*t+9*n-9*r+3*o)+6*t-12*n+6*r)-3*t+3*n}o.default.Font=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.parent=t,this.cache={},this.font=void 0}var t;return(t=[{key:"textBounds",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=3<arguments.length?arguments[3]:void 0,o=4<arguments.length?arguments[4]:void 0,a=o&&o.renderer&&o.renderer._pInst||this.parent;if((b=a._renderer.drawingContext).textAlign||i.LEFT,b.textBaseline||i.BASELINE,r=r||a._renderer._textSize,!y){for(var s=[],l=[],u=[],c=(u[0]=[],[]),d=this._scale(r),p=a._renderer.textLeading(),h=0,f=(this.font.forEachGlyph(e,t,n,r,o,(function(e,t,n,r){var o=e.getMetrics();0===e.index||10===e.index?u[h+=1]=[]:(u[h].push(t+o.xMin*d),u[h].push(t+o.xMax*d),c.push(n+h*p+-o.yMin*d),c.push(n+h*p+-o.yMax*d))})),0<u[h].length&&(s[h]=Math.min.apply(null,u[h]),l[h]=Math.max.apply(null,u[h])),0),m=0;m<=h;m++){s[m]=Math.min.apply(null,u[m]),l[m]=Math.max.apply(null,u[m]);var g=l[m]-s[m];f<g&&(f=g)}var b,y={x:b=Math.min.apply(null,s),y:n=Math.min.apply(null,c),h:Math.max.apply(null,c)-n,w:f,advance:b-t};r=this._handleAlignment(a._renderer,e,y.x,y.y,y.w+y.advance),y.x=r.x,y.y=r.y}return y}},{key:"textToPoints",value:function(e,t,n,r,o){var i=0,u=[],c=this._getGlyphs(e);r=r||this.parent._renderer._textSize;for(var p,h=0;h<c.length;h++){if(!(c[p=h].name&&"space"===c[p].name||e.length===c.length&&" "===e[p]))for(var f=function(e){for(var t,n=[],r=0;r<e.length;r++)"M"===e[r].type&&(t&&n.push(t),t=[]),t.push(function(e){var t=[e.type];return"M"===e.type||"L"===e.type?t.push(e.x,e.y):"C"===e.type?t.push(e.x1,e.y1,e.x2,e.y2,e.x,e.y):"Q"===e.type&&t.push(e.x1,e.y1,e.x,e.y),t}(e[r]));return n.push(t),n}(c[h].getPath(t,n,r).commands),m=0;m<f.length;m++)for(var g=function(e,t){t=function(e,t){if("object"!==a(e))e=t;else for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}(t,{sampleFactor:.1,simplifyThreshold:0});for(var n=d(e,0,1),r=n/(n*t.sampleFactor),o=[],i=0;i<n;i+=r)o.push(d(e,i));return t.simplifyThreshold&&function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=e.length-1;3<e.length&&0<=n;--n)l(s(e,n-1),s(e,n),s(e,n+1),t)&&e.splice(n%e.length,1)}(o,t.simplifyThreshold),o}(f[m],o),b=0;b<g.length;b++)g[b].x+=i,u.push(g[b]);i+=c[h].advanceWidth*this._scale(r)}return u}},{key:"_getGlyphs",value:function(e){return this.font.stringToGlyphs(e)}},{key:"_getPath",value:function(e,t,n,r){var o=(r&&r.renderer&&r.renderer._pInst||this.parent)._renderer;return t=this._handleAlignment(o,e,t,n),this.font.getPath(e,t.x,t.y,o._textSize,r)}},{key:"_getPathData",value:function(e,t,n,r){var o=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,n,r):"object"===a(t)&&(r=t),r&&"number"==typeof r.decimals&&(o=r.decimals),e.toPathData(o)}},{key:"_getSVG",value:function(e,t,n,r){var o=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,n,r):"object"===a(t)&&(r=t),r&&("number"==typeof r.decimals&&(o=r.decimals),"number"==typeof r.strokeWidth&&(e.strokeWidth=r.strokeWidth),void 0!==r.fill&&(e.fill=r.fill),void 0!==r.stroke&&(e.stroke=r.stroke)),e.toSVG(o)}},{key:"_renderPath",value:function(e,t,n,r){var o=r&&r.renderer||this.parent._renderer,s=o.drawingContext,l=(e=("object"===a(e)&&e.commands?e:this._getPath(e,t,n,r)).commands,s.beginPath(),!0);t=!1,n=void 0;try{for(var u,c=e[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var d=u.value;"M"===d.type?s.moveTo(d.x,d.y):"L"===d.type?s.lineTo(d.x,d.y):"C"===d.type?s.bezierCurveTo(d.x1,d.y1,d.x2,d.y2,d.x,d.y):"Q"===d.type?s.quadraticCurveTo(d.x1,d.y1,d.x,d.y):"Z"===d.type&&s.closePath()}}catch(e){t=!0,n=e}finally{try{l||null==c.return||c.return()}finally{if(t)throw n}}return o._doStroke&&o._strokeSet&&s.stroke(),o._doFill&&(o._fillSet||o._setFill(i._DEFAULT_TEXT_FILL),s.fill()),this}},{key:"_textWidth",value:function(e,t){return this.font.getAdvanceWidth(e,t)}},{key:"_textAscent",value:function(e){return this.font.ascender*this._scale(e)}},{key:"_textDescent",value:function(e){return-this.font.descender*this._scale(e)}},{key:"_scale",value:function(e){return 1/this.font.unitsPerEm*(e||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(e,t,n,r,o){var a=e._textSize;switch(void 0===o&&(o=this._textWidth(t,a)),e._textAlign){case i.CENTER:n-=o/2;break;case i.RIGHT:n-=o}switch(e._textBaseline){case i.TOP:r+=this._textAscent(a);break;case i.CENTER:r+=this._textAscent(a)/2;break;case i.BOTTOM:r-=this._textDescent(a)}return{x:n,y:r}}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e=o.default,n.default=e},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.function.name":167,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],312:[function(e,t,n){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.append=function(e,t){return e.push(t),e},e.default.prototype.arrayCopy=function(e,t,n,r,o){var i,a;e=void 0!==o?(a=Math.min(o,e.length),i=r,e.slice(t,a+t)):(a=void 0!==n?(a=n,Math.min(a,e.length)):e.length,n=t,e.slice(i=0,a)),Array.prototype.splice.apply(n,[i,a].concat(e))},e.default.prototype.concat=function(e,t){return e.concat(t)},e.default.prototype.reverse=function(e){return e.reverse()},e.default.prototype.shorten=function(e){return e.pop(),e},e.default.prototype.shuffle=function(e,t){for(var n,r,o=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e),i=(e=t||o?e:e.slice()).length;1<i;)n=this.random(0,1)*i|0,r=e[--i],e[i]=e[n],e[n]=r;return e},e.default.prototype.sort=function(e,t){var n=t?e.slice(0,Math.min(t,e.length)):e;return t=t?e.slice(Math.min(t,e.length)):[],(n="string"==typeof n[0]?n.sort():n.sort((function(e,t){return e-t}))).concat(t)},e.default.prototype.splice=function(e,t,n){return Array.prototype.splice.apply(e,[n,0].concat(t)),e},e.default.prototype.subset=function(e,t,n){return void 0!==n?e.slice(t,t+n):e.slice(t,e.length)},e=e.default,n.default=e},{"../core/main":273,"core-js/modules/es.array-buffer.constructor":150,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180}],313:[function(e,t,n){"use strict";e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};r.default.prototype.float=function(e){return e instanceof Array?e.map(parseFloat):parseFloat(e)},r.default.prototype.int=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return e===1/0||"Infinity"===e?1/0:e===-1/0||"-Infinity"===e?-1/0:"string"==typeof e?parseInt(e,t):"number"==typeof e?0|e:"boolean"==typeof e?e?1:0:e instanceof Array?e.map((function(e){return r.default.prototype.int(e,t)})):void 0},r.default.prototype.str=function(e){return e instanceof Array?e.map(r.default.prototype.str):String(e)},r.default.prototype.boolean=function(e){return"number"==typeof e?0!==e:"string"==typeof e?"true"===e.toLowerCase():"boolean"==typeof e?e:e instanceof Array?e.map(r.default.prototype.boolean):void 0},r.default.prototype.byte=function(e){return"number"==typeof(e=r.default.prototype.int(e,10))?(e+128)%256-128:e instanceof Array?e.map(r.default.prototype.byte):void 0},r.default.prototype.char=function(e){return"number"!=typeof e||isNaN(e)?e instanceof Array?e.map(r.default.prototype.char):"string"==typeof e?r.default.prototype.char(parseInt(e,10)):void 0:String.fromCharCode(e)},r.default.prototype.unchar=function(e){return"string"==typeof e&&1===e.length?e.charCodeAt(0):e instanceof Array?e.map(r.default.prototype.unchar):void 0},r.default.prototype.hex=function(e,t){if(t=null==t?8:t,e instanceof Array)return e.map((function(e){return r.default.prototype.hex(e,t)}));if(e===1/0||e===-1/0)return(e===1/0?"F":"0").repeat(t);if("number"==typeof e){e<0&&(e=4294967295+e+1);for(var n=Number(e).toString(16).toUpperCase();n.length<t;)n="0".concat(n);return n.length>=t?n.substring(n.length-t,n.length):n}},r.default.prototype.unhex=function(e){return e instanceof Array?e.map(r.default.prototype.unhex):parseInt("0x".concat(e),16)},e=r.default,n.default=e},{"../core/main":273,"core-js/modules/es.array.map":163,"core-js/modules/es.number.constructor":171,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.repeat":193}],314:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.pad-start"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.pad-start"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(u=e("../core/main"))&&u.__esModule?u:{default:u};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t,n){var r=(i=o(e.toString().split("."),2))[0],i=i[1];return void 0===n?(r=r.padStart(t,"0"),i?r+"."+i:r):(r=(e=o(e.toFixed(n).toString().split("."),2))[0],i=e[1],(r=r.padStart(t,"0"))+"."+i)}function a(e,t){var n=(e=e.toString()).indexOf("."),r=-1!==n?e.substring(n):"";if(e=(e=-1!==n?e.substring(0,n):e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===t)r="";else if(void 0!==t)if(t>r.length)for(var o=t-(r+=-1===n?".":"").length+1,i=0;i<o;i++)r+="0";else r=r.substring(0,t+1);return e+r}function s(e){return 0<parseFloat(e)?"+".concat(e.toString()):e.toString()}function l(e){return 0<=parseFloat(e)?" ".concat(e.toString()):e.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),r.default.prototype.join=function(e,t){return r.default._validateParameters("join",arguments),e.join(t)},r.default.prototype.match=function(e,t){return r.default._validateParameters("match",arguments),e.match(t)},r.default.prototype.matchAll=function(e,t){r.default._validateParameters("matchAll",arguments);for(var n=new RegExp(t,"g"),o=n.exec(e),i=[];null!==o;)i.push(o),o=n.exec(e);return i},r.default.prototype.nf=function(e,t,n){return r.default._validateParameters("nf",arguments),e instanceof Array?e.map((function(e){return i(e,t,n)})):"[object Arguments]"===Object.prototype.toString.call(e)?3===e.length?this.nf(e[0],e[1],e[2]):2===e.length?this.nf(e[0],e[1]):this.nf(e[0]):i(e,t,n)},r.default.prototype.nfc=function(e,t){return r.default._validateParameters("nfc",arguments),e instanceof Array?e.map((function(e){return a(e,t)})):a(e,t)},r.default.prototype.nfp=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default._validateParameters("nfp",t);var o=r.default.prototype.nf.apply(this,t);return o instanceof Array?o.map(s):s(o)},r.default.prototype.nfs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.default._validateParameters("nfs",t);var o=r.default.prototype.nf.apply(this,t);return o instanceof Array?o.map(l):l(o)},r.default.prototype.split=function(e,t){return r.default._validateParameters("split",arguments),e.split(t)},r.default.prototype.splitTokens=function(e,t){var n,o;return r.default._validateParameters("splitTokens",arguments),o=void 0!==t?(o=/\]/g.exec(t),(n=/\[/g.exec(t))&&o?(t=t.slice(0,o.index)+t.slice(o.index+1),n=/\[/g.exec(t),t=t.slice(0,n.index)+t.slice(n.index+1),new RegExp("[\\[".concat(t,"\\]]"),"g")):o?(t=t.slice(0,o.index)+t.slice(o.index+1),new RegExp("[".concat(t,"\\]]"),"g")):n?(t=t.slice(0,n.index)+t.slice(n.index+1),new RegExp("[".concat(t,"\\[]"),"g")):new RegExp("[".concat(t,"]"),"g")):/\s/g,e.split(o).filter((function(e){return e}))},r.default.prototype.trim=function(e){return r.default._validateParameters("trim",arguments),e instanceof Array?e.map(this.trim):e.trim()};var u=r.default;n.default=u},{"../core/friendly_errors/fes_core":264,"../core/friendly_errors/file_errors":265,"../core/friendly_errors/validate_params":268,"../core/main":273,"core-js/modules/es.array.filter":155,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.constructor":184,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.match":191,"core-js/modules/es.string.pad-start":192,"core-js/modules/es.string.replace":194,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],315:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.day=function(){return(new Date).getDate()},e.default.prototype.hour=function(){return(new Date).getHours()},e.default.prototype.minute=function(){return(new Date).getMinutes()},e.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},e.default.prototype.month=function(){return(new Date).getMonth()+1},e.default.prototype.second=function(){return(new Date).getSeconds()},e.default.prototype.year=function(){return(new Date).getFullYear()},e=e.default,n.default=e},{"../core/main":273}],316:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=(e("./p5.Geometry"),function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants")));function s(e,t,n,r,o,a,s){e=e<=0?1:e,t=t<0?0:t,n=n<=0?e:n,r=r<3?3:r;for(var l,u,c=(a=void 0===a||a)?-2:0,d=(o=o<1?1:o)+((s=void 0===s?0!==t:s)?2:0),p=Math.atan2(e-t,n),h=Math.sin(p),f=Math.cos(p),m=c;m<=d;++m){var g=m/o,b=n*g,y=void 0;for(y=m<0?(g=b=0,e):o<m?(b=n,g=1,t):e+(t-e)*g,-2!==m&&m!==o+2||(y=0),b-=n/2,l=0;l<r;++l){var v=l/(r-1),x=2*Math.PI*v,w=Math.sin(x),k=(x=Math.cos(x),this.vertices.push(new i.default.Vector(w*y,b,x*y)));k=m<0?new i.default.Vector(0,-1,0):o<m&&t?new i.default.Vector(0,1,0):new i.default.Vector(w*f,h,x*f),this.vertexNormals.push(k),this.uvs.push(v,g)}}var _=0;if(a){for(u=0;u<r;++u)this.faces.push([_+u,_+r+(u+1)%r,_+r+u]);_+=2*r}for(m=0;m<o;++m){for(l=0;l<r;++l){var S=(l+1)%r;this.faces.push([_+l,_+S,_+r+S]),this.faces.push([_+l,_+r+S,_+r+l])}_+=r}if(s)for(_+=r,l=0;l<r;++l)this.faces.push([_+l,_+(l+1)%r,_+r])}i.default.prototype.plane=function(e,t,n,r){this._assert3d("plane"),i.default._validateParameters("plane",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=1);var o,a="plane|".concat(n=void 0===n?1:n,"|").concat(r);return this._renderer.geometryInHash(a)||((o=new i.default.Geometry(n,r,(function(){for(var e,t,n=0;n<=this.detailY;n++)for(var r=n/this.detailY,o=0;o<=this.detailX;o++)e=o/this.detailX,t=new i.default.Vector(e-.5,r-.5,0),this.vertices.push(t),this.uvs.push(e,r)}))).computeFaces().computeNormals(),n<=1&&r<=1?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(a,o)),this._renderer.drawBuffersScaled(a,e,t,1),this},i.default.prototype.box=function(e,t,n,r,o){this._assert3d("box"),i.default._validateParameters("box",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===n&&(n=t);var a,s=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===o&&(o=s?1:4),s="box|".concat(r=void 0===r?s?1:4:r,"|").concat(o),this._renderer.geometryInHash(s)||((a=new i.default.Geometry(r,o,(function(){var e=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach((function(t,n){n*=4;for(var r=0;r<4;r++){var o=t[r];o=new i.default.Vector((2*(1&o)-1)/2,((2&o)-1)/2,((4&o)/2-1)/2),e.vertices.push(o),e.uvs.push(1&r,(2&r)/2)}e.faces.push([n,1+n,2+n]),e.faces.push([2+n,1+n,3+n])}))}))).computeNormals(),r<=4&&o<=4?a._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(s,a)),this._renderer.drawBuffersScaled(s,e,t,n),this},i.default.prototype.sphere=function(e,t,n){return this._assert3d("sphere"),i.default._validateParameters("sphere",arguments),this.ellipsoid(e=void 0===e?50:e,e,e,t=void 0===t?24:t,n=void 0===n?16:n),this},i.default.prototype.cylinder=function(e,t,n,r,o,a){this._assert3d("cylinder"),i.default._validateParameters("cylinder",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=1),void 0===a&&(a=!0),void 0===o&&(o=!0);var l,u="cylinder|".concat(n=void 0===n?24:n,"|").concat(r,"|").concat(o,"|").concat(a);return this._renderer.geometryInHash(u)||(l=new i.default.Geometry(n,r),s.call(l,1,1,1,n,r,o,a),n<=24&&r<=16?l._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(u,l)),this._renderer.drawBuffersScaled(u,e,t,e),this},i.default.prototype.cone=function(e,t,n,r,o){this._assert3d("cone"),i.default._validateParameters("cone",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=1),void 0===o&&(o=!0);var a,l="cone|".concat(n=void 0===n?24:n,"|").concat(r,"|").concat(o);return this._renderer.geometryInHash(l)||(a=new i.default.Geometry(n,r),s.call(a,1,0,1,n,r,o,!1),n<=24&&r<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(l,a)),this._renderer.drawBuffersScaled(l,e,t,e),this},i.default.prototype.ellipsoid=function(e,t,n,r,o){this._assert3d("ellipsoid"),i.default._validateParameters("ellipsoid",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===n&&(n=e),void 0===o&&(o=16);var a,s="ellipsoid|".concat(r=void 0===r?24:r,"|").concat(o);return this._renderer.geometryInHash(s)||((a=new i.default.Geometry(r,o,(function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,n=Math.PI*t-Math.PI/2,r=Math.cos(n),o=Math.sin(n),a=0;a<=this.detailX;a++){var s=a/this.detailX,l=2*Math.PI*s,u=Math.cos(l);l=Math.sin(l),l=new i.default.Vector(r*l,o,r*u),this.vertices.push(l),this.vertexNormals.push(l),this.uvs.push(s,t)}}))).computeFaces(),r<=24&&o<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(s,a)),this._renderer.drawBuffersScaled(s,e,t,n),this},i.default.prototype.torus=function(e,t,n,r){if(this._assert3d("torus"),i.default._validateParameters("torus",arguments),void 0===e)e=50;else if(!e)return;if(void 0===t)t=10;else if(!t)return;void 0===n&&(n=24),void 0===r&&(r=16);var o,a=(t/e).toPrecision(4);return t="torus|".concat(a,"|").concat(n,"|").concat(r),this._renderer.geometryInHash(t)||((o=new i.default.Geometry(n,r,(function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,n=2*Math.PI*t,r=Math.cos(n),o=Math.sin(n),s=1+a*r,l=0;l<=this.detailX;l++){var u=l/this.detailX,c=2*Math.PI*u,d=Math.cos(c),p=(c=Math.sin(c),new i.default.Vector(s*d,s*c,a*o));d=new i.default.Vector(r*d,r*c,o),this.vertices.push(p),this.vertexNormals.push(d),this.uvs.push(u,t)}}))).computeFaces(),n<=24&&r<=16?o._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(t,o)),this._renderer.drawBuffersScaled(t,e,e,e),this},i.default.RendererGL.prototype.point=function(e,t,n){var r=[];return r.push(new i.default.Vector(e,t,n=void 0===n?0:n)),this._drawPoints(r,this.immediateMode.buffers.point),this},i.default.RendererGL.prototype.triangle=function(e){var t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],s=(e=e[5],this.geometryInHash("tri")||((s=new i.default.Geometry(1,1,(function(){var e=[];e.push(new i.default.Vector(0,0,0)),e.push(new i.default.Vector(1,0,0)),e.push(new i.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=e,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]})))._edgesToVertices(),s.computeNormals(),this.createBuffers("tri",s)),this.uMVMatrix.copy());try{var l=Math.sign(t*o-r*n+r*e-a*o+a*n-t*e),u=new i.default.Matrix([r-t,o-n,0,0,a-t,e-n,0,0,0,0,l,0,t,n,0,1]).mult(this.uMVMatrix);this.uMVMatrix=u,this.drawBuffers("tri")}finally{this.uMVMatrix=s}return this},i.default.RendererGL.prototype.ellipse=function(e){this.arc(e[0],e[1],e[2],e[3],0,a.TWO_PI,a.OPEN,e[4])},i.default.RendererGL.prototype.arc=function(e){var t,n=arguments[1],r=arguments[2],o=arguments[3],s=arguments[4],l=arguments[5],u=arguments[6],c=arguments[7]||25,d=(Math.abs(l-s)>=a.TWO_PI?"".concat(p="ellipse","|"):"".concat(p="arc","|").concat(s,"|").concat(l,"|").concat(u,"|")).concat(c,"|"),p=(this.geometryInHash(d)||((t=new i.default.Geometry(c,1,(function(){if(s.toFixed(10)!==l.toFixed(10)){u!==a.PIE&&void 0!==u||(this.vertices.push(new i.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var e=0;e<=c;e++){var t=e/c*(l-s)+s,n=.5+Math.cos(t)/2;t=.5+Math.sin(t)/2,this.vertices.push(new i.default.Vector(n,t,0)),this.uvs.push([n,t]),e<c-1&&(this.faces.push([0,e+1,e+2]),this.edges.push([e+1,e+2]))}switch(u){case a.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case a.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case a.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}}))).computeNormals(),c<=50?t._edgesToVertices(t):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(p," with more than 50 detail")),this.createBuffers(d,t)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([e,n,0]),this.uMVMatrix.scale(r,o,1),this.drawBuffers(d)}finally{this.uMVMatrix=p}return this},i.default.RendererGL.prototype.rect=function(e){var t=e[0],n=e[1],r=e[2],o=e[3];if(void 0===e[4]){var s=this._pInst._glAttributes.perPixelLighting,l=e[4]||(s?1:24),u=e[5]||(s?1:16),c=(s="rect|".concat(l,"|").concat(u),this.geometryInHash(s)||((c=new i.default.Geometry(l,u,(function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,n=0;n<=this.detailX;n++){var r=n/this.detailX,o=new i.default.Vector(r,t,0);this.vertices.push(o),this.uvs.push(r,t)}0<l&&0<u&&(this.edges=[[0,l],[l,(l+1)*(u+1)-1],[(l+1)*(u+1)-1,(l+1)*u],[(l+1)*u,0]])}))).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(s,c)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([t,n,0]),this.uMVMatrix.scale(r,o,1),this.drawBuffers(s)}finally{this.uMVMatrix=c}}else{s=e[4],c=void 0===e[5]?s:e[5];var d=void 0===e[6]?c:e[6],p=(e=void 0===e[7]?d:e[7],r),h=o,f=((p+=t)<t&&(g=t,t=p,p=g),(h+=n)<n&&(g=n,n=h,h=g),(g=Math.min((p-t)/2,(h-n)/2))<s&&(s=g),g<c&&(c=g),g<d&&(d=g),g<e&&(e=g),t),m=n,g=p,b=(t=h,this.beginShape(),0!==c?(this.vertex(g-c,m),this.quadraticVertex(g,m,g,m+c)):this.vertex(g,m),0!==d?(this.vertex(g,t-d),this.quadraticVertex(g,t,g-d,t)):this.vertex(g,t),0!==e?(this.vertex(f+e,t),this.quadraticVertex(f,t,f,t-e)):this.vertex(f,t),0!==s?(this.vertex(f,m+s),this.quadraticVertex(f,m,f+s,m)):this.vertex(f,m),!(this.immediateMode.geometry.uvs.length=0));n=!1,p=void 0;try{for(var y,v=this.immediateMode.geometry.vertices[Symbol.iterator]();!(b=(y=v.next()).done);b=!0){var x=y.value,w=(x.x-f)/r,k=(x.y-m)/o;this.immediateMode.geometry.uvs.push(w,k)}}catch(e){n=!0,p=e}finally{try{b||null==v.return||v.return()}finally{if(n)throw p}}this.endShape(a.CLOSE)}return this},i.default.RendererGL.prototype.quad=function(e,t,n,r,o,a,s,l,u,c,d,p,h,f){void 0===h&&(h=2),void 0===f&&(f=2);var m="quad|".concat(e,"|").concat(t,"|").concat(n,"|").concat(r,"|").concat(o,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u,"|").concat(c,"|").concat(d,"|").concat(p,"|").concat(h,"|").concat(f);if(!this.geometryInHash(m)){var g=new i.default.Geometry(h,f,(function(){for(var h=1/(this.detailX-1),f=1/(this.detailY-1),m=0;m<this.detailY;m++)for(var g=0;g<this.detailX;g++){var b=g*h,y=m*f;this.vertices.push(new i.default.Vector((1-b)*((1-y)*e+y*c)+b*((1-y)*r+y*s),(1-b)*((1-y)*t+y*d)+b*((1-y)*o+y*l),(1-b)*((1-y)*n+y*p)+b*((1-y)*a+y*u))),this.uvs.push([b,y])}}));g.faces=[];for(var b=0;b<f-1;b++)for(var y=0;y<h-1;y++){var v=y+b*h,x=y+1+(b+1)*h,w=y+(b+1)*h;g.faces.push([v,y+1+b*h,x]),g.faces.push([v,x,w])}g.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(m,g)}return this.drawBuffers(m),this},i.default.RendererGL.prototype.bezier=function(e,t,n,r,o,i,a,s,l,u,c,d){8===arguments.length&&(c=s,u=a,s=i,a=o,o=r,r=n,n=i=l=d=0);var p=this._pInst._bezierDetail||20;this.beginShape();for(var h=0;h<=p;h++){var f=Math.pow(1-h/p,3),m=h/p*3*Math.pow(1-h/p,2),g=3*Math.pow(h/p,2)*(1-h/p),b=Math.pow(h/p,3);this.vertex(e*f+r*m+a*g+u*b,t*f+o*m+s*g+c*b,n*f+i*m+l*g+d*b)}return this.endShape(),this},i.default.RendererGL.prototype.curve=function(e,t,n,r,o,i,a,s,l,u,c,d){8===arguments.length&&(u=a,c=s,a=o,s=r,o=r=n,n=i=l=d=0);var p=this._pInst._curveDetail;this.beginShape();for(var h=0;h<=p;h++){var f=.5*Math.pow(h/p,3),m=.5*Math.pow(h/p,2),g=h/p*.5;this.vertex(f*(3*r-e-3*a+u)+m*(2*e-5*r+4*a-u)+g*(-e+a)+2*r*.5,f*(3*o-t-3*s+c)+m*(2*t-5*o+4*s-c)+g*(-t+s)+2*o*.5,f*(3*i-n-3*l+d)+m*(2*n-5*i+4*l-d)+g*(-n+l)+2*i*.5)}return this.endShape(),this},i.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(a.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(a.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},i.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var e,t,n,r,o,i,a=[],s=[],l=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,c=0,d=1,p=0;c<1;){if(i=parseFloat(c.toFixed(6)),this._lookUpTableBezier[p]=this._bezierCoefficients(i),d.toFixed(6)===u.toFixed(6)){i=parseFloat(d.toFixed(6))+parseFloat(c.toFixed(6)),++p,this._lookUpTableBezier[p]=this._bezierCoefficients(i);break}c+=u,d-=u,++p}}for(var h=this._lookUpTableBezier.length,f=[],m=0;m<4;m++)f.push([]);f[0]=this.immediateMode.geometry.vertexColors.slice(-4),f[3]=this.curFillColor.slice();var g=[];for(m=0;m<4;m++)g.push([]);if(g[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),g[3]=this.curStrokeColor.slice(),6===l){this.isBezier=!0,a=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],s=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]];var b=Math.hypot(a[0]-a[1],s[0]-s[1]),y=Math.hypot(a[1]-a[2],s[1]-s[2]),v=Math.hypot(a[2]-a[3],s[2]-s[3]);for(b/=y=b+y+v,v/=y,o=0;o<4;o++)f[1].push(f[0][o]*(1-b)+f[3][o]*b),f[2].push(f[0][o]*v+f[3][o]*(1-v)),g[1].push(g[0][o]*(1-b)+g[3][o]*b),g[2].push(g[0][o]*v+g[3][o]*(1-v));for(r=0;r<h;r++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],m=e=t=0;m<4;m++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableBezier[r][m]*f[m][o],this.curStrokeColor[o]+=this._lookUpTableBezier[r][m]*g[m][o];e+=a[m]*this._lookUpTableBezier[r][m],t+=s[m]*this._lookUpTableBezier[r][m]}this.vertex(e,t)}this.curFillColor=f[3],this.curStrokeColor=g[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===l){this.isBezier=!0,a=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],s=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var x=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],w=Math.hypot(a[0]-a[1],s[0]-s[1],x[0]-x[1]),k=(y=Math.hypot(a[1]-a[2],s[1]-s[2],x[1]-x[2]),Math.hypot(a[2]-a[3],s[2]-s[3],x[2]-x[3]));for(w/=l=w+y+k,k/=l,o=0;o<4;o++)f[1].push(f[0][o]*(1-w)+f[3][o]*w),f[2].push(f[0][o]*k+f[3][o]*(1-k)),g[1].push(g[0][o]*(1-w)+g[3][o]*w),g[2].push(g[0][o]*k+g[3][o]*(1-k));for(r=0;r<h;r++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],m=e=t=n=0;m<4;m++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableBezier[r][m]*f[m][o],this.curStrokeColor[o]+=this._lookUpTableBezier[r][m]*g[m][o];e+=a[m]*this._lookUpTableBezier[r][m],t+=s[m]*this._lookUpTableBezier[r][m],n+=x[m]*this._lookUpTableBezier[r][m]}this.vertex(e,t,n)}this.curFillColor=f[3],this.curStrokeColor=g[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},i.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var e,t,n,r,o,i,a=[],s=[],l=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var u=1/this._lutQuadraticDetail,c=0,d=1,p=0;c<1;){if(i=parseFloat(c.toFixed(6)),this._lookUpTableQuadratic[p]=this._quadraticCoefficients(i),d.toFixed(6)===u.toFixed(6)){i=parseFloat(d.toFixed(6))+parseFloat(c.toFixed(6)),++p,this._lookUpTableQuadratic[p]=this._quadraticCoefficients(i);break}c+=u,d-=u,++p}}for(var h=this._lookUpTableQuadratic.length,f=[],m=0;m<3;m++)f.push([]);f[0]=this.immediateMode.geometry.vertexColors.slice(-4),f[2]=this.curFillColor.slice();var g=[];for(m=0;m<3;m++)g.push([]);if(g[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),g[2]=this.curStrokeColor.slice(),4===l){this.isQuadratic=!0,a=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],s=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]];var b=Math.hypot(a[0]-a[1],s[0]-s[1]);for(b/=b+Math.hypot(a[1]-a[2],s[1]-s[2]),o=0;o<4;o++)f[1].push(f[0][o]*(1-b)+f[2][o]*b),g[1].push(g[0][o]*(1-b)+g[2][o]*b);for(r=0;r<h;r++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],m=e=t=0;m<3;m++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableQuadratic[r][m]*f[m][o],this.curStrokeColor[o]+=this._lookUpTableQuadratic[r][m]*g[m][o];e+=a[m]*this._lookUpTableQuadratic[r][m],t+=s[m]*this._lookUpTableQuadratic[r][m]}this.vertex(e,t)}this.curFillColor=f[2],this.curStrokeColor=g[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===l){this.isQuadratic=!0,a=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],s=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var y=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],v=Math.hypot(a[0]-a[1],s[0]-s[1],y[0]-y[1]);for(v/=v+Math.hypot(a[1]-a[2],s[1]-s[2],y[1]-y[2]),o=0;o<4;o++)f[1].push(f[0][o]*(1-v)+f[2][o]*v),g[1].push(g[0][o]*(1-v)+g[2][o]*v);for(r=0;r<h;r++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],m=e=t=n=0;m<3;m++){for(o=0;o<4;o++)this.curFillColor[o]+=this._lookUpTableQuadratic[r][m]*f[m][o],this.curStrokeColor[o]+=this._lookUpTableQuadratic[r][m]*g[m][o];e+=a[m]*this._lookUpTableQuadratic[r][m],t+=s[m]*this._lookUpTableQuadratic[r][m],n+=y[m]*this._lookUpTableQuadratic[r][m]}this.vertex(e,t,n)}this.curFillColor=f[2],this.curStrokeColor=g[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},i.default.RendererGL.prototype.curveVertex=function(){var e,t,n,r,o,i,a=[],s=[],l=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,c=0,d=1,p=0;c<1;){if(i=parseFloat(c.toFixed(6)),this._lookUpTableBezier[p]=this._bezierCoefficients(i),d.toFixed(6)===u.toFixed(6)){i=parseFloat(d.toFixed(6))+parseFloat(c.toFixed(6)),++p,this._lookUpTableBezier[p]=this._bezierCoefficients(i);break}c+=u,d-=u,++p}}var h=this._lookUpTableBezier.length;if(2===l){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),o=0;o<h;o++)t=a[0]*this._lookUpTableBezier[o][0]+a[1]*this._lookUpTableBezier[o][1]+a[2]*this._lookUpTableBezier[o][2]+a[3]*this._lookUpTableBezier[o][3],n=s[0]*this._lookUpTableBezier[o][0]+s[1]*this._lookUpTableBezier[o][1]+s[2]*this._lookUpTableBezier[o][2]+s[3]*this._lookUpTableBezier[o][3],this.vertex(t,n);for(o=0;o<l;o++)this.immediateMode._curveVertex.shift()}}else if(3===l&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),e=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),o=0;o<h;o++)t=a[0]*this._lookUpTableBezier[o][0]+a[1]*this._lookUpTableBezier[o][1]+a[2]*this._lookUpTableBezier[o][2]+a[3]*this._lookUpTableBezier[o][3],n=s[0]*this._lookUpTableBezier[o][0]+s[1]*this._lookUpTableBezier[o][1]+s[2]*this._lookUpTableBezier[o][2]+s[3]*this._lookUpTableBezier[o][3],r=e[0]*this._lookUpTableBezier[o][0]+e[1]*this._lookUpTableBezier[o][1]+e[2]*this._lookUpTableBezier[o][2]+e[3]*this._lookUpTableBezier[o][3],this.vertex(t,n,r);for(o=0;o<l;o++)this.immediateMode._curveVertex.shift()}},i.default.RendererGL.prototype.image=function(e,t,n,r,o,i,s,l,u){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(e),this._pInst.textureMode(a.NORMAL);var c=0,d=(t<=e.width&&(c=t/e.width),1);t+r<=e.width&&(d=(t+r)/e.width),t=0,n<=e.height&&(t=n/e.height),r=1,n+o<=e.height&&(r=(n+o)/e.height),this.beginShape(),this.vertex(i,s,0,c,t),this.vertex(i+l,s,0,d,t),this.vertex(i+l,s+u,0,d,r),this.vertex(i,s+u,0,c,r),this.endShape(a.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(a.REMOVE)};var l=i.default;n.default=l},{"../core/constants":262,"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.number.to-fixed":173,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],317:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(s=e("../core/main"))&&s.__esModule?s:{default:s},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function a(e){return(a="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}o.default.prototype.orbitControl=function(e,t,n,r){var i=this,s=(this._assert3d("orbitControl"),o.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);void 0===e&&(e=1),void 0===t&&(t=e),void 0===n&&(n=1),"object"!==a(r)&&(r={}),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var l=r.disableTouchActions;!0===this.touchActionsDisabled||void 0!==l&&!l||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0)),r=void 0!==(l=r.freeRotation)&&l;var u,c,d,p=[],h=(this.touches.forEach((function(e){i._renderer.prevTouches.forEach((function(t){e.id===t.id&&(t={x:e.x,y:e.y,px:t.x,py:t.y},p.push(t))}))})),this._renderer.prevTouches=this.touches,l=0,0),f=0,m=0,g=0,b=this.height<this.width?this.height:this.width,y=!1;return 0<p.length?(y=0<p[0].x&&p[0].x<this.width&&0<p[0].y&&p[0].y<this.height,1===p.length?(h=-e*((u=p[0]).x-u.px)/b,f=t*(u.y-u.py)/b):(u=p[0],c=p[1],l=-(Math.hypot(u.x-c.x,u.y-c.y)-Math.hypot(u.px-c.px,u.py-c.py))*n*4e-4,m=.5*(u.x+c.x)-.5*(u.px+c.px),g=.5*(u.y+c.y)-.5*(u.py+c.py)),0<this.touches.length?y&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(y=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,0!==this._mouseWheelDeltaY?(l=Math.sign(this._mouseWheelDeltaY)*n,l*=.01,this._mouseWheelDeltaY=0,y&&(this._renderer.executeZoom=!0)):this._renderer.zoomFlag=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(h=-e*this.movedX/b,f=t*this.movedY/b):this.mouseButton===this.RIGHT&&(m=this.movedX,g=this.movedY),y&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),0!==l&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=l),.001<Math.abs(this._renderer.zoomVelocity)?(r?s._orbitFree(0,0,this._renderer.zoomVelocity):s._orbit(0,0,this._renderer.zoomVelocity),0!==s.projMatrix.mat4[15]&&(s.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),s.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=s.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=s.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,0===h&&0===f||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*h,.6*f),1e-6<this._renderer.rotateVelocity.magSq()?(r?s._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):s._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),0===m&&0===g||!this._renderer.executeRotateAndMove||(u=2*m/this.width,c=2*-g/this.height,this._renderer.moveVelocity.add(.15*u,.15*c)),1e-6<this._renderer.moveVelocity.magSq()?(n=s._getLocalAxes(),e=s.eyeX-s.centerX,t=s.eyeY-s.centerY,b=s.eyeZ-s.centerZ,y=Math.sqrt(e*e+t*t+b*b),l=new o.default.Vector(s.centerX,s.centerY,s.centerZ),l=s.cameraMatrix.multiplyPoint(l),(l=this._renderer.uPMatrix.multiplyAndNormalizePoint(l)).x-=this._renderer.moveVelocity.x,l.y-=this._renderer.moveVelocity.y,f=0===(h=this._renderer.uPMatrix.mat4)[15]?(d=(h[8]+l.x)/h[0]*y,(h[9]+l.y)/h[5]*y):(d=(l.x-h[12])/h[0],(l.y-h[13])/h[5]),s.setPosition(s.eyeX+d*n.x[0]+f*n.y[0],s.eyeY+d*n.x[1]+f*n.y[1],s.eyeZ+d*n.x[2]+f*n.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},o.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.default._validateParameters("debugMode",t);for(var r=this._registeredMethods.post.length-1;0<=r;r--)this._registeredMethods.post[r].toString()!==this._grid().toString()&&this._registeredMethods.post[r].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(r,1);t[0]===i.GRID?this.registerMethod("post",this._grid.call(this,t[1],t[2],t[3],t[4],t[5])):t[0]===i.AXES?this.registerMethod("post",this._axesIcon.call(this,t[1],t[2],t[3],t[4])):(this.registerMethod("post",this._grid.call(this,t[0],t[1],t[2],t[3],t[4])),this.registerMethod("post",this._axesIcon.call(this,t[5],t[6],t[7],t[8])))},o.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var e=this._registeredMethods.post.length-1;0<=e;e--)this._registeredMethods.post[e].toString()!==this._grid().toString()&&this._registeredMethods.post[e].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(e,1)},o.default.prototype._grid=function(e,t,n,r,o){void 0===e&&(e=this.width/2),void 0===t&&(t=Math.round(e/30)<4?4:Math.round(e/30)),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=0);var i=e/t,a=e/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var e=0;e<=t;e++)this.beginShape(this.LINES),this.vertex(-a+n,r,e*i-a+o),this.vertex(a+n,r,e*i-a+o),this.endShape();for(var s=0;s<=t;s++)this.beginShape(this.LINES),this.vertex(s*i-a+n,r,-a+o),this.vertex(s*i-a+n,r,a+o),this.endShape();this.pop()}},o.default.prototype._axesIcon=function(e,t,n,r){return void 0===e&&(e=40<this.width/20?this.width/20:40),void 0===t&&(t=-this.width/4),void 0===n&&(n=t),void 0===r&&(r=t),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(t,n,r),this.vertex(t+e,n,r),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(t,n,r),this.vertex(t,n+e,r),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(t,n,r),this.vertex(t,n,r+e),this.endShape(),this.pop()}};var s=o.default;n.default=s},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.splice":166,"core-js/modules/es.math.hypot":169,"core-js/modules/es.math.sign":170,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.for-each":235,"core-js/modules/web.dom-collections.iterator":236}],318:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};r.default.prototype.ambientLight=function(e,t,n,o){this._assert3d("ambientLight"),r.default._validateParameters("ambientLight",arguments);var i=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(i._array[0],i._array[1],i._array[2]),this._renderer._enableLighting=!0,this},r.default.prototype.specularColor=function(e,t,n){this._assert3d("specularColor"),r.default._validateParameters("specularColor",arguments);var o=this.color.apply(this,arguments);return this._renderer.specularColors=[o._array[0],o._array[1],o._array[2]],this},r.default.prototype.directionalLight=function(e,t,n,o,i,a){var s,l;return this._assert3d("directionalLight"),r.default._validateParameters("directionalLight",arguments),e=e instanceof r.default.Color?e:this.color(e,t,n),n="number"==typeof(t=arguments[arguments.length-1])?(s=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(s=t.x,l=t.y,t.z),t=Math.sqrt(s*s+l*l+n*n),this._renderer.directionalLightDirections.push(s/t,l/t,n/t),this._renderer.directionalLightDiffuseColors.push(e._array[0],e._array[1],e._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},r.default.prototype.pointLight=function(e,t,n,o,i,a){var s,l;return this._assert3d("pointLight"),r.default._validateParameters("pointLight",arguments),e=e instanceof r.default.Color?e:this.color(e,t,n),n="number"==typeof(t=arguments[arguments.length-1])?(s=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(s=t.x,l=t.y,t.z),this._renderer.pointLightPositions.push(s,l,n),this._renderer.pointLightDiffuseColors.push(e._array[0],e._array[1],e._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},r.default.prototype.lights=function(){this._assert3d("lights");var e=this.color("rgb(128,128,128)");return this.ambientLight(e),this.directionalLight(e,0,0,-1),this},r.default.prototype.lightFalloff=function(e,t,n){return this._assert3d("lightFalloff"),r.default._validateParameters("lightFalloff",arguments),e<0&&(e=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),t<0&&(t=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),n<0&&(n=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===e&&0===t&&0===n&&(e=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=e,this._renderer.linearAttenuation=t,this._renderer.quadraticAttenuation=n,this},r.default.prototype.spotLight=function(e,t,n,o,i,a,s,l,u,c,d){this._assert3d("spotLight"),r.default._validateParameters("spotLight",arguments);var p,h,f,m=arguments.length;switch(m){case 11:case 10:p=this.color(e,t,n),h=new r.default.Vector(o,i,a),f=new r.default.Vector(s,l,u);break;case 9:e instanceof r.default.Color?(p=e,h=new r.default.Vector(t,n,o),f=new r.default.Vector(i,a,s),c=l,d=u):o instanceof r.default.Vector?(p=this.color(e,t,n),h=o,f=new r.default.Vector(i,a,s),c=l,d=u):s instanceof r.default.Vector?(p=this.color(e,t,n),h=new r.default.Vector(o,i,a),f=s,c=l,d=u):(p=this.color(e,t,n),h=new r.default.Vector(o,i,a),f=new r.default.Vector(s,l,u));break;case 8:f=e instanceof r.default.Color?(p=e,h=new r.default.Vector(t,n,o),new r.default.Vector(i,a,s)):o instanceof r.default.Vector?(p=this.color(e,t,n),h=o,new r.default.Vector(i,a,s)):(p=this.color(e,t,n),h=new r.default.Vector(o,i,a),s),c=l;break;case 7:e instanceof r.default.Color&&t instanceof r.default.Vector?(p=e,h=t,f=new r.default.Vector(n,o,i),c=a,d=s):e instanceof r.default.Color&&i instanceof r.default.Vector?(p=e,h=new r.default.Vector(t,n,o),f=i,c=a,d=s):o instanceof r.default.Vector&&i instanceof r.default.Vector?(p=this.color(e,t,n),h=o,f=i,c=a,d=s):f=e instanceof r.default.Color?(p=e,h=new r.default.Vector(t,n,o),new r.default.Vector(i,a,s)):o instanceof r.default.Vector?(p=this.color(e,t,n),h=o,new r.default.Vector(i,a,s)):(p=this.color(e,t,n),h=new r.default.Vector(o,i,a),s);break;case 6:o instanceof r.default.Vector&&i instanceof r.default.Vector?(p=this.color(e,t,n),h=o,f=i,c=a):e instanceof r.default.Color&&i instanceof r.default.Vector?(p=e,h=new r.default.Vector(t,n,o),f=i,c=a):e instanceof r.default.Color&&t instanceof r.default.Vector&&(p=e,h=t,f=new r.default.Vector(n,o,i),c=a);break;case 5:e instanceof r.default.Color&&t instanceof r.default.Vector&&n instanceof r.default.Vector?(p=e,h=t,f=n,c=o,d=i):o instanceof r.default.Vector&&i instanceof r.default.Vector?(p=this.color(e,t,n),h=o,f=i):e instanceof r.default.Color&&i instanceof r.default.Vector?(p=e,h=new r.default.Vector(t,n,o),f=i):e instanceof r.default.Color&&t instanceof r.default.Vector&&(p=e,h=t,f=new r.default.Vector(n,o,i));break;case 4:p=e,h=t,f=n,c=o;break;case 3:p=e,h=t,f=n;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(m<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(p._array[0],p._array[1],p._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(h.x,h.y,h.z),f.normalize(),this._renderer.spotLightDirections.push(f.x,f.y,f.z),void 0===c&&(c=Math.PI/3),void 0!==d&&d<1?(d=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===d&&(d=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(d),this._renderer._enableLighting=!0,this},r.default.prototype.noLights=function(){this._assert3d("noLights");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.default._validateParameters("noLights",t),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this},e=r.default,n.default=e},{"../core/main":273}],319:[function(e,t,n){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(o=e("../core/main"))&&o.__esModule?o:{default:o};e("./p5.Geometry"),r.default.prototype.loadModel=function(e){r.default._validateParameters("loadModel",arguments);var t,n,o,i=e.slice(-4),a=("boolean"==typeof arguments[1]?(t=arguments[1],n=arguments[2],o=arguments[3],void 0!==arguments[4]&&(i=arguments[4])):(t=!1,n=arguments[1],o=arguments[2],void 0!==arguments[3]&&(i=arguments[3])),new r.default.Geometry),s=(a.gid="".concat(e,"|").concat(t),this);return i.match(/\.stl$/i)?this.httpDo(e,"GET","arrayBuffer",(function(e){!function(e,t){if(function(e){for(var t=new DataView(e),n=[115,111,108,105,100],r=0;r<5;r++)if(function(e,t,n){for(var r=0,o=e.length;r<o;r++)if(e[r]!==t.getUint8(n+r,!1))return;return 1}(n,t,r))return;return 1}(t))!function(e,t){for(var n,o,i,a,s,l,u,c=new DataView(t),d=c.getUint32(80,!0),p=!1,h=0;h<70;h++)1129270351===c.getUint32(h,!1)&&82===c.getUint8(h+4)&&61===c.getUint8(h+5)&&(p=!0,a=[],s=c.getUint8(h+6)/255,l=c.getUint8(h+7)/255,u=c.getUint8(h+8)/255);for(var f=0;f<d;f++){for(var m,g=84+50*f,b=c.getFloat32(g,!0),y=c.getFloat32(4+g,!0),v=c.getFloat32(8+g,!0),x=(p&&(i=0==(32768&(m=c.getUint16(48+g,!0)))?(n=(31&m)/31,o=(m>>5&31)/31,(m>>10&31)/31):(n=s,o=l,u)),new r.default.Vector(b,y,v)),w=1;w<=3;w++){var k=g+12*w;k=new r.default.Vector(c.getFloat32(k,!0),c.getFloat32(4+k,!0),c.getFloat32(8+k,!0)),e.vertices.push(k),e.vertexNormals.push(x),p&&a.push(n,o,i)}e.faces.push([3*f,3*f+1,3*f+2]),e.uvs.push([0,0],[0,0],[0,0])}}(e,t);else{if(t=new DataView(t),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(e,t){for(var n,o,i="",a=[],s=0;s<t.length;++s){for(var l=t[s].trim(),u=l.split(" "),c=0;c<u.length;++c)""===u[c]&&u.splice(c,1);if(0!==u.length)switch(i){case"":if("solid"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "solid"'));i="solid";break;case"solid":if("facet"!==u[0]||"normal"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "facet normal"'));n=new r.default.Vector(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),e.vertexNormals.push(n,n,n),i="facet normal";break;case"facet normal":if("outer"!==u[0]||"loop"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "outer loop"'));i="vertex";break;case"vertex":if("vertex"===u[0])o=new r.default.Vector(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])),e.vertices.push(o),e.uvs.push([0,0]),a.push(e.vertices.indexOf(o));else{if("endloop"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "vertex" or "endloop"'));e.faces.push(a),a=[],i="endloop"}break;case"endloop":if("endfacet"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "endfacet"'));i="endfacet";break;case"endfacet":if("endsolid"!==u[0]){if("facet"!==u[0]||"normal"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "endsolid" or "facet normal"'));n=new r.default.Vector(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),e.vertexNormals.push(n,n,n),i="facet normal"}break;default:console.error('Invalid state "'.concat(i,'"'))}}}(e,t=new TextDecoder("utf-8").decode(t).split("\n"))}}(a,e),t&&a.normalize(),s._decrementPreload(),"function"==typeof n&&n(a)}),o):i.match(/\.obj$/i)?this.loadStrings(e,(function(e){for(var o=a,i=e,l={v:[],vt:[],vn:[]},u={},c=0;c<i.length;++c){var d=i[c].trim().split(/\b\s+/);if(0<d.length)if("v"===d[0]||"vn"===d[0]){var p=new r.default.Vector(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]));l[d[0]].push(p)}else if("vt"===d[0])p=[parseFloat(d[1]),1-parseFloat(d[2])],l[d[0]].push(p);else if("f"===d[0])for(var h=3;h<d.length;++h){for(var f=[],m=[1,h-1,h],g=0;g<m.length;++g){var b=d[m[g]],y=0;if(void 0!==u[b])y=u[b];else{for(var v=b.split("/"),x=0;x<v.length;x++)v[x]=parseInt(v[x])-1;y=u[b]=o.vertices.length,o.vertices.push(l.v[v[0]].copy()),l.vt[v[1]]?o.uvs.push(l.vt[v[1]].slice()):o.uvs.push([0,0]),l.vn[v[2]]&&o.vertexNormals.push(l.vn[v[2]].copy())}f.push(y)}f[0]!==f[1]&&f[0]!==f[2]&&f[1]!==f[2]&&o.faces.push(f)}}0===o.vertexNormals.length&&o.computeNormals(),t&&a.normalize(),s._decrementPreload(),"function"==typeof n&&n(a)}),o):(r.default._friendlyFileLoadError(3,e),o?o():r.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),a},r.default.prototype.model=function(e){this._assert3d("model"),r.default._validateParameters("model",arguments),0<e.vertices.length&&(this._renderer.geometryInHash(e.gid)||(0===e.edges.length&&e._makeTriangleEdges(),e._edgesToVertices(),this._renderer.createBuffers(e.gid,e)),this._renderer.drawBuffers(e.gid))};var o=r.default;n.default=o},{"../core/main":273,"./p5.Geometry":323,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.splice":166,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.match":191,"core-js/modules/es.string.split":196,"core-js/modules/es.string.trim":199}],320:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(s=e("../core/main"))&&s.__esModule?s:{default:s},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));e("./p5.Texture"),i.default.prototype.loadShader=function(e,t,n,r){function o(){s._decrementPreload(),n&&n(a)}i.default._validateParameters("loadShader",arguments),r=r||console.error;var a=new i.default.Shader,s=this,l=!1,u=!1;return this.loadStrings(e,(function(e){a._vertSrc=e.join("\n"),u=!0,l&&o()}),r),this.loadStrings(t,(function(e){a._fragSrc=e.join("\n"),l=!0,u&&o()}),r),a},i.default.prototype.createShader=function(e,t){return this._assert3d("createShader"),i.default._validateParameters("createShader",arguments),new i.default.Shader(this._renderer,e,t)},i.default.prototype.shader=function(e){return this._assert3d("shader"),i.default._validateParameters("shader",arguments),void 0===e._renderer&&(e._renderer=this._renderer),e.init(),e.isStrokeShader()?this._renderer.userStrokeShader=e:(this._renderer.userFillShader=e,this._renderer._useNormalMaterial=!1),this},i.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},i.default.prototype.texture=function(e){return this._assert3d("texture"),i.default._validateParameters("texture",arguments),e.gifProperties&&e._animateGif(this),this._renderer.drawMode=a.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=e,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.textureMode=function(e){e!==a.IMAGE&&e!==a.NORMAL?console.warn("You tried to set ".concat(e," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=e},i.default.prototype.textureWrap=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,n=(this._renderer.textureWrapX=e,this._renderer.textureWrapY=t,!0),r=!1,o=void 0;try{for(var i,a=this._renderer.textures.values()[Symbol.iterator]();!(n=(i=a.next()).done);n=!0)i.value.setWrapMode(e,t)}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},i.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.default._validateParameters("normalMaterial",t),this._renderer.drawMode=a.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},i.default.prototype.ambientMaterial=function(e,t,n){this._assert3d("ambientMaterial"),i.default._validateParameters("ambientMaterial",arguments);var r=i.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=r._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},i.default.prototype.emissiveMaterial=function(e,t,n,r){this._assert3d("emissiveMaterial"),i.default._validateParameters("emissiveMaterial",arguments);var o=i.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=o._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},i.default.prototype.specularMaterial=function(e,t,n,r){this._assert3d("specularMaterial"),i.default._validateParameters("specularMaterial",arguments);var o=i.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=o._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},i.default.prototype.shininess=function(e){return this._assert3d("shininess"),i.default._validateParameters("shininess",arguments),this._renderer._useShininess=e=e<1?1:e,this},i.default.RendererGL.prototype._applyColorBlend=function(e){var t=this.GL,n=this.drawMode===a.TEXTURE;return(n=this.userFillShader||this.userStrokeShader||this.userPointShader||n||this.curBlendMode!==a.BLEND||e[e.length-1]<1||this._isErasing)!==this._isBlending&&(n||this.curBlendMode!==a.BLEND&&this.curBlendMode!==a.ADD?t.enable(t.BLEND):t.disable(t.BLEND),t.depthMask(!0),this._isBlending=n),this._applyBlendMode(),e},i.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var e=this.GL;switch(this.curBlendMode){case a.BLEND:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case a.ADD:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE);break;case a.REMOVE:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_ALPHA);break;case a.MULTIPLY:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA);break;case a.SCREEN:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ONE_MINUS_SRC_COLOR);break;case a.EXCLUSION:e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE_MINUS_DST_COLOR,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE);break;case a.REPLACE:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO);break;case a.SUBTRACT:e.blendEquationSeparate(e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case a.DARKEST:this.blendExt?(e.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case a.LIGHTEST:this.blendExt?(e.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var s=i.default;n.default=s},{"../core/constants":262,"../core/main":273,"./p5.Texture":330,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.join":161,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],321:[function(e,t,n){"use strict";e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.string.sub"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};r.default.prototype.camera=function(){var e;this._assert3d("camera");for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.default._validateParameters("camera",n),(e=this._renderer._curCamera).camera.apply(e,n),this},r.default.prototype.perspective=function(){var e;this._assert3d("perspective");for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.default._validateParameters("perspective",n),(e=this._renderer._curCamera).perspective.apply(e,n),this},r.default.prototype.ortho=function(){var e;this._assert3d("ortho");for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.default._validateParameters("ortho",n),(e=this._renderer._curCamera).ortho.apply(e,n),this},r.default.prototype.frustum=function(){var e;this._assert3d("frustum");for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.default._validateParameters("frustum",n),(e=this._renderer._curCamera).frustum.apply(e,n),this},r.default.prototype.createCamera=function(){this._assert3d("createCamera");var e=new r.default.Camera(this._renderer);return e._computeCameraDefaultSettings(),e._setDefaultCamera(),this._renderer._curCamera=e},r.default.Camera=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._renderer=t,this.cameraType="default",this.cameraMatrix=new r.default.Matrix,this.projMatrix=new r.default.Matrix,this.yScale=1}var t;return(t=[{key:"perspective",value:function(e,t,n,o){this.cameraType=0<arguments.length?"custom":"default",void 0===e?(e=this.defaultCameraFOV,this.cameraFOV=e):this.cameraFOV=this._renderer._pInst._toRadians(e),void 0===t&&(t=this.defaultAspectRatio),void 0===n&&(n=this.defaultCameraNear),void 0===o&&(o=this.defaultCameraFar),n<=1e-4&&(n=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),o<n&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=t,this.cameraNear=n,this.cameraFar=o,this.projMatrix=r.default.Matrix.identity(),e=1/Math.tan(this.cameraFOV/2);var i=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(e/t,0,0,0,0,-e*this.yScale,0,0,0,0,(o+n)*i,-1,0,0,2*o*n*i,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}},{key:"ortho",value:function(e,t,n,o,i,a){void 0===e&&(e=-this._renderer.width/2),void 0===t&&(t=+this._renderer.width/2),void 0===n&&(n=-this._renderer.height/2),void 0===o&&(o=+this._renderer.height/2),void 0===i&&(i=0),void 0===a&&(a=Math.max(this._renderer.width,this._renderer.height)),this.cameraNear=i;var s=t-e,l=o-n,u=(this.cameraFar=a)-i,c=2/s,d=2/l*this.yScale,p=-2/u;t=-(t+e)/s,e=-(o+n)/l,s=-(a+i)/u,this.projMatrix=r.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,-d,0,0,0,0,p,0,t,e,s,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"frustum",value:function(e,t,n,o,i,a){void 0===e&&(e=.05*-this._renderer.width),void 0===t&&(t=.05*+this._renderer.width),void 0===n&&(n=.05*+this._renderer.height),void 0===o&&(o=.05*-this._renderer.height),void 0===i&&(i=this.defaultCameraNear),void 0===a&&(a=this.defaultCameraFar),this.cameraNear=i;var s=t-e,l=o-n,u=(this.cameraFar=a)-i,c=2*i/s,d=2*i/l*this.yScale,p=-2*a*i/u;t=(t+e)/s,e=(o+n)/l,s=-(a+i)/u,this.projMatrix=r.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,-d,0,0,t,e,s,-1,0,0,p,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"}},{key:"_rotateView",value:function(e,t,n,o){var i=this.centerX,a=this.centerY,s=this.centerZ,l=(i-=this.eyeX,a-=this.eyeY,s-=this.eyeZ,r.default.Matrix.identity(this._renderer._pInst));(l.rotate(this._renderer._pInst._toRadians(e),t,n,o),e=[i*l.mat4[0]+a*l.mat4[4]+s*l.mat4[8],i*l.mat4[1]+a*l.mat4[5]+s*l.mat4[9],i*l.mat4[2]+a*l.mat4[6]+s*l.mat4[10]])[0]+=this.eyeX,e[1]+=this.eyeY,e[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,e[0],e[1],e[2],this.upX,this.upY,this.upZ)}},{key:"pan",value:function(e){var t=this._getLocalAxes();this._rotateView(e,t.y[0],t.y[1],t.y[2])}},{key:"tilt",value:function(e){var t=this._getLocalAxes();this._rotateView(e,t.x[0],t.x[1],t.x[2])}},{key:"lookAt",value:function(e,t,n){this.camera(this.eyeX,this.eyeY,this.eyeZ,e,t,n,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(e,t,n,r,o,i,a,s,l){return void 0===e&&(e=this.defaultEyeX,t=this.defaultEyeY,n=this.defaultEyeZ,r=e,o=t,s=1,l=a=i=0),this.eyeX=e,this.eyeY=t,this.eyeZ=n,void 0!==r&&(this.centerX=r,this.centerY=o,this.centerZ=i),void 0!==a&&(this.upX=a,this.upY=s,this.upZ=l),r=this._getLocalAxes(),this.cameraMatrix.set(r.x[0],r.y[0],r.z[0],0,r.x[1],r.y[1],r.z[1],0,r.x[2],r.y[2],r.z[2],0,0,0,0,1),o=-e,this.cameraMatrix.translate([o,-t,-n]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this}},{key:"move",value:function(e,t,n){e=[(r=this._getLocalAxes()).x[0]*e,r.x[1]*e,r.x[2]*e],t=[r.y[0]*t,r.y[1]*t,r.y[2]*t];var r=[r.z[0]*n,r.z[1]*n,r.z[2]*n];this.camera(this.eyeX+e[0]+t[0]+r[0],this.eyeY+e[1]+t[1]+r[1],this.eyeZ+e[2]+t[2]+r[2],this.centerX+e[0]+t[0]+r[0],this.centerY+e[1]+t[1]+r[1],this.centerZ+e[2]+t[2]+r[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(e,t,n){var r=e-this.eyeX,o=t-this.eyeY,i=n-this.eyeZ;this.camera(e,t,n,this.centerX+r,this.centerY+o,this.centerZ+i,this.upX,this.upY,this.upZ)}},{key:"set",value:function(e){for(var t=0,n=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType"];t<n.length;t++){var r=n[t];this[r]=e[r]}this.cameraMatrix=e.cameraMatrix.copy(),this.projMatrix=e.projMatrix.copy(),this._isActive()&&(this._renderer.uMVMatrix.mat4=this.cameraMatrix.mat4.slice(),this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())}},{key:"slerp",value:function(e,t,n){var o,i,a,s,l,u,c,d,p,h,f,m,g,b,y,v,x,w;0===n?this.set(e):1===n?this.set(t):(0!==this.projMatrix.mat4[15]&&(this.projMatrix.mat4[0]=e.projMatrix.mat4[0]*Math.pow(t.projMatrix.mat4[0]/e.projMatrix.mat4[0],n),this.projMatrix.mat4[5]=e.projMatrix.mat4[5]*Math.pow(t.projMatrix.mat4[5]/e.projMatrix.mat4[5],n),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),s=new r.default.Vector(e.eyeX,e.eyeY,e.eyeZ),l=new r.default.Vector(t.eyeX,t.eyeY,t.eyeZ),v=new r.default.Vector(e.centerX,e.centerY,e.centerZ),w=new r.default.Vector(t.centerX,t.centerY,t.centerZ),a=r.default.Vector.dist(s,v),o=r.default.Vector.dist(l,w),o=a*Math.pow(o/a,n),a=r.default.Vector.sub(s,l),i=1,1e-6<(x=(b=s.copy().sub(l).sub(v).add(w)).magSq())&&(i=r.default.Vector.dot(a,b)/x,i=Math.max(0,Math.min(i,1))),a=r.default.Vector.lerp(r.default.Vector.lerp(s,v,i),r.default.Vector.lerp(l,w,i),n),b=e.cameraMatrix.createSubMatrix3x3(),x=t.cameraMatrix.createSubMatrix3x3(),s=b.column(2),v=x.column(2),l=b.column(1),w=x.column(1),e=new r.default.Vector,t=new r.default.Vector,u=new r.default.Vector,c=new r.default.Vector,1-(d=.5*((b=(x=x.mult3x3(b.copy().transpose3x3())).diagonal())[0]+b[1]+b[2]-1))<1e-7?(e.set(r.default.Vector.lerp(s,v,n)).normalize(),u.set(e).mult(i*o).add(a),c.set(e).mult((i-1)*o).add(a),t.set(r.default.Vector.lerp(l,w,n)).normalize()):(v=1/(1-d),w=Math.max(b[0],b[1],b[2]),m=x.mat3[1]+x.mat3[3],g=x.mat3[2]+x.mat3[6],y=x.mat3[5]+x.mat3[7],w=w===b[0]?(h=.5*m*(v/=p=Math.sqrt((b[0]-d)*v)),f=.5*g*v,.5*(x.mat3[7]-x.mat3[5])/p):w===b[1]?(f=.5*y*(v/=h=Math.sqrt((b[1]-d)*v)),p=.5*m*v,.5*(x.mat3[2]-x.mat3[6])/h):(p=.5*g*(v/=f=Math.sqrt((b[2]-d)*v)),h=.5*y*v,.5*(x.mat3[3]-x.mat3[1])/f),m=n*Math.atan2(w,d),g=Math.cos(m),b=Math.sin(m),(w=new r.default.Matrix("mat3",[g+(y=1-g)*p*p,y*(v=p*h)-b*f,y*(x=f*p)+b*h,y*v+b*f,g+y*h*h,y*(n=h*f)-b*p,y*x-b*h,y*n+b*p,g+y*f*f])).multiplyVec3(s,e),u.set(e).mult(i*o).add(a),c.set(e).mult((i-1)*o).add(a),w.multiplyVec3(l,t)),this.camera(u.x,u.y,u.z,c.x,c.y,c.z,t.x,t.y,t.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}},{key:"copy",value:function(){var e=new r.default.Camera(this._renderer);return e.cameraFOV=this.cameraFOV,e.aspectRatio=this.aspectRatio,e.eyeX=this.eyeX,e.eyeY=this.eyeY,e.eyeZ=this.eyeZ,e.centerX=this.centerX,e.centerY=this.centerY,e.centerZ=this.centerZ,e.upX=this.upX,e.upY=this.upY,e.upZ=this.upZ,e.cameraNear=this.cameraNear,e.cameraFar=this.cameraFar,e.cameraType=this.cameraType,e.cameraMatrix=this.cameraMatrix.copy(),e.projMatrix=this.projMatrix.copy(),e}},{key:"_getLocalAxes",value:function(){var e,t=this.eyeX-this.centerX,n=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,o=(0!==(o=Math.sqrt(t*t+n*n+r*r))&&(t/=o,n/=o,r/=o),this.upX),i=(l=this.upY)*r-(u=this.upZ)*n,a=-o*r+u*t,s=o*n-l*t,l=(o=n*s-r*a,-t*s+r*i),u=t*a-n*i;return 0!==(0!==(e=Math.sqrt(i*i+a*a+s*s))&&(i/=e,a/=e,s/=e),e=Math.sqrt(o*o+l*l+u*u))&&(o/=e,l/=e,u/=e),{x:[i,a,s],y:[o,l,u],z:[t,n,r]}}},{key:"_orbit",value:function(e,t,n){var o=this.eyeX-this.centerX,i=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,s=Math.hypot(o,i,a),l=(o=new r.default.Vector(o,i,a).normalize(),i=new r.default.Vector(this.upX,this.upY,this.upZ).normalize(),a=new r.default.Vector.cross(i,o).normalize(),new r.default.Vector.cross(a,i));(s=(s*=Math.pow(10,n))<this.cameraNear?this.cameraNear:s)>this.cameraFar&&(s=this.cameraFar),n=Math.acos(Math.max(-1,Math.min(1,r.default.Vector.dot(o,i))))+t,t=e,(n<=0||n>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),i.mult(Math.cos(n)),l.mult(Math.cos(t)*Math.sin(n)),a.mult(Math.sin(t)*Math.sin(n)),o.set(i).add(l).add(a),this.eyeX=s*o.x+this.centerX,this.eyeY=s*o.y+this.centerY,this.eyeZ=s*o.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(e,t,n){var o=this.eyeX-this.centerX,i=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,s=Math.hypot(o,i,a),l=(o=new r.default.Vector(o,i,a).normalize(),i=new r.default.Vector(this.upX,this.upY,this.upZ),a=new r.default.Vector.cross(i,o).normalize(),new r.default.Vector.cross(o,a)),u=Math.atan2(t,e),c=(l.mult(Math.sin(u)),a.mult(Math.cos(u)).add(l),u=Math.sqrt(e*e+t*t),l=new r.default.Vector.cross(o,a),(s=(s*=Math.pow(10,n))<this.cameraNear?this.cameraNear:s)>this.cameraFar&&(s=this.cameraFar),e=Math.cos(u),t=Math.sin(u),(n=i.dot(o))*e+(u=i.dot(a))*t);n=-n*t+u*e,u=i.dot(l),i.x=c*o.x+n*a.x+u*l.x,i.y=c*o.y+n*a.y+u*l.y,i.z=c*o.z+n*a.z+u*l.z,a.mult(-t),o.mult(e).add(a).mult(s),this.camera(o.x+this.centerX,o.y+this.centerY,o.z+this.centerZ,this.centerX,this.centerY,this.centerZ,i.x,i.y,i.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),r.default.prototype.setCamera=function(e){this._renderer._curCamera=e,this._renderer.uPMatrix.set(e.projMatrix.mat4[0],e.projMatrix.mat4[1],e.projMatrix.mat4[2],e.projMatrix.mat4[3],e.projMatrix.mat4[4],e.projMatrix.mat4[5],e.projMatrix.mat4[6],e.projMatrix.mat4[7],e.projMatrix.mat4[8],e.projMatrix.mat4[9],e.projMatrix.mat4[10],e.projMatrix.mat4[11],e.projMatrix.mat4[12],e.projMatrix.mat4[13],e.projMatrix.mat4[14],e.projMatrix.mat4[15])},e=r.default.Camera,n.default=e},{"../core/main":273,"core-js/modules/es.array.slice":164,"core-js/modules/es.math.hypot":169,"core-js/modules/es.string.sub":198}],322:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.reflect.get"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.reflect.get"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=(v=e("../core/main"))&&v.__esModule?v:{default:v},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==c(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants")),a=e("./p5.Texture"),s=e("./p5.RendererGL");function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){if(e=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t))return(e=Object.getOwnPropertyDescriptor(e,t)).get?e.get.call(n):e.value})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e);var n=function(e){return function(){var t,n=g(e);if(t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?(t=g(this).constructor,Reflect.construct(n,arguments,t)):n.apply(this,arguments),n=this,!t||"object"!==c(t)&&"function"!=typeof t){if(void 0!==n)return n;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}}(r);function r(e){var t;return d(this,r),(t=n.call(this,e.target._renderer)).fbo=e,t.yScale=-1,t}return h(r,[{key:"_computeCameraDefaultSettings",value:function(){f(g(r.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultEyeZ=this.fbo.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_resize",value:function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this.fbo.width/this.fbo.height)}}]),r}(o.default.Camera),y=(o.default.FramebufferCamera=b,function(){function e(t,n){d(this,e),this.framebuffer=t,this.property=n}return h(e,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),e}()),v=(o.default.FramebufferTexture=y,function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(d(this,e),this.target=t,this.target._renderer.framebuffers.add(this),this.pixels=[],this.format=n.format||i.UNSIGNED_BYTE,this.channels=n.channels||(t._renderer._pInst._glAttributes.alpha?i.RGBA:i.RGB),this.useDepth=void 0===n.depth||n.depth,this.depthFormat=n.depthFormat||i.FLOAT,this.textureFiltering=n.textureFiltering||i.LINEAR,void 0===n.antialias?this.antialiasSamples=t._renderer._pInst._glAttributes.antialias?2:0:"number"==typeof n.antialias?this.antialiasSamples=n.antialias:this.antialiasSamples=n.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&t.webglVersion!==i.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),n.width&&n.height?(this.width=n.width,this.height=n.height,this.autoSized=!1):(void 0===n.width!=(void 0===n.height)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=t.width,this.height=t.height,this.autoSized=!0),this.density=n.density||t.pixelDensity(),n=t._renderer.GL,this.gl=n,this._checkIfFormatsAvailable(),this.framebuffer=n.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=n.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures(),t=this.target._renderer._curCamera,this.defaultCamera=this.createCamera(),this.target._renderer._curCamera=t}return h(e,[{key:"resize",value:function(e,t){this.autoSized=!1,this.width=e,this.height=t,this._handleResize()}},{key:"pixelDensity",value:function(e){if(!e)return this.density;this.autoSized=!1,this.density=e,this._handleResize()}},{key:"autoSized",value:function(e){if(void 0===e)return this.autoSized;this.autoSized=e,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var e=this.gl;(this.useDepth&&this.target.webglVersion===i.WEBGL&&!e.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===i.WEBGL&&this.depthFormat===i.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=i.UNSIGNED_INT),[i.UNSIGNED_BYTE,i.FLOAT,i.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=i.UNSIGNED_BYTE),this.useDepth&&![i.UNSIGNED_INT,i.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=i.FLOAT),e=(0,a.checkWebGLCapabilities)(this.target._renderer)).float||this.format!==i.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=i.UNSIGNED_BYTE),this.useDepth&&!e.float&&this.depthFormat===i.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=i.UNSIGNED_INT),e.halfFloat||this.format!==i.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=i.UNSIGNED_BYTE),this.channels===i.RGB&&[i.FLOAT,i.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=i.RGBA)}},{key:"_recreateTextures",value:function(){var e=this.gl,t=(this._updateSize(),e.getParameter(e.TEXTURE_BINDING_2D)),n=e.getParameter(e.FRAMEBUFFER_BINDING);if(!(a=e.createTexture()))throw new Error("Unable to create color texture");e.bindTexture(e.TEXTURE_2D,a);var r=this._glColorFormat();if(e.texImage2D(e.TEXTURE_2D,0,r.internalFormat,this.width*this.density,this.height*this.density,0,r.format,r.type,null),this.colorTexture=a,e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),this.useDepth){var a;if(!(a=e.createTexture()))throw new Error("Unable to create depth texture");var s=this._glDepthFormat();e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,s.internalFormat,this.width*this.density,this.height*this.density,0,s.format,s.type,null),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0),this.depthTexture=a}this.antialias&&(this.colorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.colorRenderbuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,e.getParameter(e.MAX_SAMPLES))),r.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(s=this._glDepthFormat(),this.depthRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.depthRenderbuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,e.getParameter(e.MAX_SAMPLES))),s.internalFormat,this.width*this.density,this.height*this.density)),e.bindFramebuffer(e.FRAMEBUFFER,this.aaFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new y(this,"depthTexture"),a=e.NEAREST,this.depthP5Texture=new o.default.Texture(this.target._renderer,this.depth,{minFilter:a,magFilter:a}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new y(this,"colorTexture"),r=this.textureFiltering===i.LINEAR?e.LINEAR:e.NEAREST,this.colorP5Texture=new o.default.Texture(this.target._renderer,this.color,{glMinFilter:r,glMagFilter:r}),this.target._renderer.textures.set(this.color,this.colorP5Texture),e.bindTexture(e.TEXTURE_2D,t),e.bindFramebuffer(e.FRAMEBUFFER,n)}},{key:"_glColorFormat",value:function(){var e,t,n=this.gl,r=this.format===i.FLOAT?n.FLOAT:this.format===i.HALF_FLOAT?this.target.webglVersion===i.WEBGL2?n.HALF_FLOAT:n.getExtension("OES_texture_half_float").HALF_FLOAT_OES:n.UNSIGNED_BYTE,o=this.channels===i.RGBA?n.RGBA:n.RGB;return{internalFormat:this.target.webglVersion===i.WEBGL2?(u(t={},n.FLOAT,u({},n.RGBA,n.RGBA32F)),u(t,n.HALF_FLOAT,u({},n.RGBA,n.RGBA16F)),u(t,n.UNSIGNED_BYTE,(u(e={},n.RGBA,n.RGBA8),u(e,n.RGB,n.RGB8),e)),t[r][o]):this.format===i.HALF_FLOAT?n.RGBA:o,format:o,type:r}}},{key:"_glDepthFormat",value:function(){var e=this.gl,t=this.depthFormat===i.FLOAT?e.FLOAT:e.UNSIGNED_INT,n=e.DEPTH_COMPONENT;return{internalFormat:e=this.target.webglVersion===i.WEBGL2?this.depthFormat===i.FLOAT?e.DEPTH_COMPONENT32F:e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT,format:n,type:t}}},{key:"_updateSize",value:function(){this.autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this.autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var e=this.color,t=this.depth,n=this.colorRenderbuffer,r=this.depthRenderbuffer;this._deleteTexture(e),t&&this._deleteTexture(t),e=this.gl,n&&e.deleteRenderbuffer(n),r&&e.deleteRenderbuffer(r),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var e=new b(this);return e._computeCameraDefaultSettings(),e._setDefaultCamera(),this.target._renderer._curCamera=e}},{key:"_deleteTexture",value:function(e){this.gl.deleteTexture(e.rawTexture()),this.target._renderer.textures.delete(e)}},{key:"remove",value:function(){var e=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),e.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&e.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&e.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&e.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){var e=this.gl;this.prevFramebuffer=e.getParameter(e.FRAMEBUFFER_BINDING),this.antialias?e.bindFramebuffer(e.FRAMEBUFFER,this.aaFramebuffer):e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),this.prevViewport=e.getParameter(e.VIEWPORT),e.viewport(0,0,this.width*this.density,this.height*this.density),this.target.push(),this.target.setCamera(this.defaultCamera),this.target._renderer.uMVMatrix.set(this.target._renderer._curCamera.cameraMatrix.mat4[0],this.target._renderer._curCamera.cameraMatrix.mat4[1],this.target._renderer._curCamera.cameraMatrix.mat4[2],this.target._renderer._curCamera.cameraMatrix.mat4[3],this.target._renderer._curCamera.cameraMatrix.mat4[4],this.target._renderer._curCamera.cameraMatrix.mat4[5],this.target._renderer._curCamera.cameraMatrix.mat4[6],this.target._renderer._curCamera.cameraMatrix.mat4[7],this.target._renderer._curCamera.cameraMatrix.mat4[8],this.target._renderer._curCamera.cameraMatrix.mat4[9],this.target._renderer._curCamera.cameraMatrix.mat4[10],this.target._renderer._curCamera.cameraMatrix.mat4[11],this.target._renderer._curCamera.cameraMatrix.mat4[12],this.target._renderer._curCamera.cameraMatrix.mat4[13],this.target._renderer._curCamera.cameraMatrix.mat4[14],this.target._renderer._curCamera.cameraMatrix.mat4[15])}},{key:"end",value:function(){var e=this.gl;if(this.antialias){e.bindFramebuffer(e.READ_FRAMEBUFFER,this.aaFramebuffer),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,this.framebuffer);var t=[[e.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]];this.useDepth&&t.push([e.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var n=0,r=t;n<r.length;n++){var o=(i=l(r[n],2))[0],i=i[1];e.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,o,i)}}e.bindFramebuffer(e.FRAMEBUFFER,this.prevFramebuffer),e.viewport.apply(e,function(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}(this.prevViewport)),this.target.pop()}},{key:"draw",value:function(e){this.begin(),e(),this.end()}},{key:"loadPixels",value:function(){var e=this.gl,t=e.getParameter(e.FRAMEBUFFER_BINDING),n=(e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,s.readPixelsWebGL)(this.pixels,e,this.framebuffer,0,0,this.width*this.density,this.height*this.density,n.format,n.type),e.bindFramebuffer(e.FRAMEBUFFER,t)}},{key:"get",value:function(e,t,n,r){o.default._validateParameters("p5.Framebuffer.get",arguments);var i=this._glColorFormat();if(void 0===e&&void 0===t)t=e=0,n=this.width,r=this.height;else if(void 0===n&&void 0===r)return(e<0||t<0||e>=this.width||t>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),e=this.target.constrain(e,0,this.width-1),t=this.target.constrain(t,0,this.height-1)),(0,s.readPixelWebGL)(this.gl,this.framebuffer,e*this.density,t*this.density,i.format,i.type);e=this.target.constrain(e,0,this.width-1),t=this.target.constrain(t,0,this.height-1),n=this.target.constrain(n,1,this.width-e),r=this.target.constrain(r,1,this.height-t);for(var a=(0,s.readPixelsWebGL)(void 0,this.gl,this.framebuffer,e*this.density,t*this.density,n*this.density,r*this.density,i.format,i.type),l=new Uint8ClampedArray(n*r*this.density*this.density*4),u=(l.fill(255),i.type===this.gl.RGB?3:4),c=0;c<r*this.density;c++)for(var d=0;d<n*this.density;d++)for(var p=0;p<4;p++){var h,f=4*(c*n*this.density+d)+p;p<u&&(h=4==u?f:(c*n*this.density+d)*u+p,l[f]=a[h])}return(e=new o.default.Image(n*this.density,r*this.density)).imageData=e.canvas.getContext("2d").createImageData(e.width,e.height),e.imageData.data.set(l),e.pixels=e.imageData.data,e.updatePixels(),1!==this.density&&e.resize(n,r),e}},{key:"updatePixels",value:function(){var e=this.gl,t=(this.colorP5Texture.bindTexture(),this._glColorFormat()),n=t.format===e.RGBA?4:3,r=(n=this.width*this.height*this.density*this.density*n,t.type===e.UNSIGNED_BYTE?Uint8Array:Float32Array);if(!(this.pixels instanceof r)||this.pixels.length!==n)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");e.texImage2D(e.TEXTURE_2D,0,t.internalFormat,this.width*this.density,this.height*this.density,0,t.format,t.type,this.pixels),this.colorP5Texture.unbindTexture(),this.prevFramebuffer=e.getParameter(e.FRAMEBUFFER_BINDING),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(e.clearDepth(1),e.clear(e.DEPTH_BUFFER_BIT)),this.end()):(e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer),this.useDepth&&(e.clearDepth(1),e.clear(e.DEPTH_BUFFER_BIT)),e.bindFramebuffer(e.FRAMEBUFFER,this.prevFramebuffer))}}]),e}());e=o.default.Framebuffer=v,n.default=e},{"../core/constants":262,"../core/main":273,"./p5.RendererGL":328,"./p5.Texture":330,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.reflect.get":183,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.typed-array.uint8-clamped-array":233,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],323:[function(e,t,n){"use strict";e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};r.default.Geometry=function(){function e(t,n,r){if(this instanceof e)return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=void 0!==t?t:1,this.detailY=void 0!==n?n:1,this.dirtyFlags={},r instanceof Function&&r.call(this),this;throw new TypeError("Cannot call a class as a function")}var t;return(t=[{key:"reset",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"computeFaces",value:function(){this.faces.length=0;for(var e,t,n,r=this.detailX+1,o=0;o<this.detailY;o++)for(var i=0;i<this.detailX;i++)t=(o+1)*r+i+1,this.faces.push([o*r+i,e=o*r+i+1,n=(o+1)*r+i]),this.faces.push([n,e,t]);return this}},{key:"_getFaceNormal",value:function(e){e=this.faces[e];var t=this.vertices[e[0]],n=this.vertices[e[1]],o=(e=this.vertices[e[2]],n=r.default.Vector.sub(n,t),e=r.default.Vector.sub(e,t),t=r.default.Vector.cross(n,e),r.default.Vector.mag(t));return 0==(n=o/(r.default.Vector.mag(n)*r.default.Vector.mag(e)))||isNaN(n)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),t):(1<n&&(n=1),t.mult(Math.asin(n)/o))}},{key:"computeNormals",value:function(){for(var e=this,t=this.vertexNormals,n=this.vertices,o=this.faces,i=t.length=0;i<n.length;++i)t.push(new r.default.Vector);for(o.forEach((function(n,r){for(var o=e._getFaceNormal(r),i=0;i<3;++i){var a=n[i];t[a].add(o)}})),i=0;i<n.length;++i)t[i].normalize();return this}},{key:"averageNormals",value:function(){for(var e=0;e<=this.detailY;e++){var t=this.detailX+1,n=r.default.Vector.add(this.vertexNormals[e*t],this.vertexNormals[e*t+this.detailX]);n=r.default.Vector.div(n,2),this.vertexNormals[e*t]=n,this.vertexNormals[e*t+this.detailX]=n}return this}},{key:"averagePoleNormals",value:function(){for(var e=new r.default.Vector(0,0,0),t=0;t<this.detailX;t++)e.add(this.vertexNormals[t]);e=r.default.Vector.div(e,this.detailX);for(var n=0;n<this.detailX;n++)this.vertexNormals[n]=e;e=new r.default.Vector(0,0,0);for(var o=this.vertices.length-1;o>this.vertices.length-1-this.detailX;o--)e.add(this.vertexNormals[o]);e=r.default.Vector.div(e,this.detailX);for(var i=this.vertices.length-1;i>this.vertices.length-1-this.detailX;i--)this.vertexNormals[i]=e;return this}},{key:"_makeTriangleEdges",value:function(){for(var e=this.edges.length=0;e<this.faces.length;e++)this.edges.push([this.faces[e][0],this.faces[e][1]]),this.edges.push([this.faces[e][1],this.faces[e][2]]),this.edges.push([this.faces[e][2],this.faces[e][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var e,t=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],n=!1,r=0;r<this.edges.length;r++){var o=this.edges[r-1],i=this.edges[r],a=this.vertices[i[0]],s=this.vertices[i[1]],l=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*i[0],4*(i[0]+1)):[0,0,0,0],u=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*i[1],4*(i[1]+1)):[0,0,0,0],c=s.copy().sub(a).normalize(),d=0<c.magSq();d&&this._addSegment(a,s,l,u,c),0<r&&o[1]===i[0]?(e&&d&&c.dot(e)<1-1e-8&&this._addJoin(a,e,c,l),!d||n||t||(this._addCap(a,c.copy().mult(-1),l),n=!0)):(n=!1,d&&(!t||0<r)&&(this._addCap(a,c.copy().mult(-1),l),n=!0),e&&(!t||r<this.edges.length-1)&&(this._addCap(this.vertices[o[1]],e,l),e=void 0)),r===this.edges.length-1&&(t?this._addJoin(s,c,this.vertices[this.edges[0][1]].copy().sub(s).normalize(),u):this._addCap(s,c,u)),d&&(e=c)}return this}},{key:"_addSegment",value:function(e,t,n,r,o){e=e.array(),t=t.array();var i=o.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var a=0,s=[this.lineTangentsIn,this.lineTangentsOut];a<s.length;a++)s[a].push(i,i,i,i,i,i);return this.lineVertices.push(e,e,t,t,e,t),this.lineVertexColors.push(n,n,r,r,n,r),this}},{key:"_addCap",value:function(e,t,n){for(var r=e.array(),o=t.array(),i=[0,0,0],a=0;a<6;a++)this.lineVertices.push(r),this.lineTangentsIn.push(o),this.lineTangentsOut.push(i),this.lineVertexColors.push(n);return this.lineSides.push(-1,-2,2,2,1,-1),this}},{key:"_addJoin",value:function(e,t,n,r){for(var o=e.array(),i=t.array(),a=n.array(),s=0;s<12;s++)this.lineVertices.push(o),this.lineTangentsIn.push(i),this.lineTangentsOut.push(a),this.lineVertexColors.push(r);for(var l=0,u=[-1,1];l<u.length;l++){var c=u[l];this.lineSides.push(c,2*c,3*c,c,3*c,0)}return this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var e=this.vertices[0].copy(),t=this.vertices[0].copy(),n=0;n<this.vertices.length;n++)e.x=Math.max(e.x,this.vertices[n].x),t.x=Math.min(t.x,this.vertices[n].x),e.y=Math.max(e.y,this.vertices[n].y),t.y=Math.min(t.y,this.vertices[n].y),e.z=Math.max(e.z,this.vertices[n].z),t.z=Math.min(t.z,this.vertices[n].z);for(var o=r.default.Vector.lerp(e,t,.5),i=r.default.Vector.sub(e,t),a=200/Math.max(Math.max(i.x,i.y),i.z),s=0;s<this.vertices.length;s++)this.vertices[s].sub(o),this.vertices[s].mult(a)}return this}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e=r.default.Geometry,n.default=e},{"../core/main":273,"core-js/modules/es.array.for-each":156,"core-js/modules/es.array.slice":164,"core-js/modules/es.string.sub":198,"core-js/modules/web.dom-collections.for-each":235}],324:[function(e,t,n){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=Array,a=function(e){return Array.isArray(e)};"undefined"!=typeof Float32Array&&(i=Float32Array,a=function(e){return Array.isArray(e)||e instanceof Float32Array}),r.default.Matrix=function(){function e(){var t=this,n=e;if(t instanceof n)return arguments.length&&((t=arguments.length-1)<0||arguments.length<=t?void 0:arguments[t])instanceof r.default&&(this.p5=(n=arguments.length-1)<0||arguments.length<=n?void 0:arguments[n]),"mat3"===(arguments.length<=0?void 0:arguments[0])?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new i([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var t,n,s;return t=e,s=[{key:"identity",value:function(e){return new r.default.Matrix(e)}}],(n=[{key:"set",value:function(e){return e instanceof r.default.Matrix?this.mat4=e.mat4:a(e)?this.mat4=e:16===arguments.length&&(this.mat4[0]=e,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this}},{key:"get",value:function(){return new r.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var e;return void 0!==this.mat3?((e=new r.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],e.mat3[1]=this.mat3[1],e.mat3[2]=this.mat3[2],e.mat3[3]=this.mat3[3],e.mat3[4]=this.mat3[4],e.mat3[5]=this.mat3[5],e.mat3[6]=this.mat3[6],e.mat3[7]=this.mat3[7],e.mat3[8]=this.mat3[8]):((e=new r.default.Matrix(this.p5)).mat4[0]=this.mat4[0],e.mat4[1]=this.mat4[1],e.mat4[2]=this.mat4[2],e.mat4[3]=this.mat4[3],e.mat4[4]=this.mat4[4],e.mat4[5]=this.mat4[5],e.mat4[6]=this.mat4[6],e.mat4[7]=this.mat4[7],e.mat4[8]=this.mat4[8],e.mat4[9]=this.mat4[9],e.mat4[10]=this.mat4[10],e.mat4[11]=this.mat4[11],e.mat4[12]=this.mat4[12],e.mat4[13]=this.mat4[13],e.mat4[14]=this.mat4[14],e.mat4[15]=this.mat4[15]),e}},{key:"transpose",value:function(e){var t,n,o,i,s,l;return e instanceof r.default.Matrix?(t=e.mat4[1],n=e.mat4[2],o=e.mat4[3],i=e.mat4[6],s=e.mat4[7],l=e.mat4[11],this.mat4[0]=e.mat4[0],this.mat4[1]=e.mat4[4],this.mat4[2]=e.mat4[8],this.mat4[3]=e.mat4[12],this.mat4[4]=t,this.mat4[5]=e.mat4[5],this.mat4[6]=e.mat4[9],this.mat4[7]=e.mat4[13],this.mat4[8]=n,this.mat4[9]=i,this.mat4[10]=e.mat4[10],this.mat4[11]=e.mat4[14],this.mat4[12]=o,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=e.mat4[15]):a(e)&&(t=e[1],n=e[2],o=e[3],i=e[6],s=e[7],l=e[11],this.mat4[0]=e[0],this.mat4[1]=e[4],this.mat4[2]=e[8],this.mat4[3]=e[12],this.mat4[4]=t,this.mat4[5]=e[5],this.mat4[6]=e[9],this.mat4[7]=e[13],this.mat4[8]=n,this.mat4[9]=i,this.mat4[10]=e[10],this.mat4[11]=e[14],this.mat4[12]=o,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=e[15]),this}},{key:"invert",value:function(e){e instanceof r.default.Matrix?(t=e.mat4[0],n=e.mat4[1],o=e.mat4[2],i=e.mat4[3],s=e.mat4[4],l=e.mat4[5],u=e.mat4[6],c=e.mat4[7],d=e.mat4[8],p=e.mat4[9],h=e.mat4[10],f=e.mat4[11],m=e.mat4[12],g=e.mat4[13],b=e.mat4[14],y=e.mat4[15]):a(e)&&(t=e[0],n=e[1],o=e[2],i=e[3],s=e[4],l=e[5],u=e[6],c=e[7],d=e[8],p=e[9],h=e[10],f=e[11],m=e[12],g=e[13],b=e[14],y=e[15]);var t,n,o,i,s,l,u,c,d,p,h,f,m,g,b,y,v=t*u-o*s,x=t*c-i*s,w=n*u-o*l,k=n*c-i*l,_=o*c-i*u,S=d*g-p*m,E=d*b-h*m,T=d*y-f*m,C=p*b-h*g,I=p*y-f*g,j=h*y-f*b,A=(e=t*l-n*s)*j-v*I+x*C+w*T-k*E+_*S;return A?(this.mat4[0]=(l*j-u*I+c*C)*(A=1/A),this.mat4[1]=(o*I-n*j-i*C)*A,this.mat4[2]=(g*_-b*k+y*w)*A,this.mat4[3]=(h*k-p*_-f*w)*A,this.mat4[4]=(u*T-s*j-c*E)*A,this.mat4[5]=(t*j-o*T+i*E)*A,this.mat4[6]=(b*x-m*_-y*v)*A,this.mat4[7]=(d*_-h*x+f*v)*A,this.mat4[8]=(s*I-l*T+c*S)*A,this.mat4[9]=(n*T-t*I-i*S)*A,this.mat4[10]=(m*k-g*x+y*e)*A,this.mat4[11]=(p*x-d*k-f*e)*A,this.mat4[12]=(l*E-s*C-u*S)*A,this.mat4[13]=(t*C-n*E+o*S)*A,this.mat4[14]=(g*v-m*w-b*e)*A,this.mat4[15]=(d*w-p*v+h*e)*A,this):null}},{key:"invert3x3",value:function(){var e=this.mat3[0],t=this.mat3[1],n=this.mat3[2],r=this.mat3[3],o=this.mat3[4],i=this.mat3[5],a=this.mat3[6],s=this.mat3[7],l=this.mat3[8],u=l*o-i*s,c=-l*r+i*a,d=s*r-o*a,p=e*u+t*c+n*d;return p?(this.mat3[0]=u*(p=1/p),this.mat3[1]=(-l*t+n*s)*p,this.mat3[2]=(i*t-n*o)*p,this.mat3[3]=c*p,this.mat3[4]=(l*e-n*a)*p,this.mat3[5]=(-i*e+n*r)*p,this.mat3[6]=d*p,this.mat3[7]=(-s*e+t*a)*p,this.mat3[8]=(o*e-t*r)*p,this):null}},{key:"transpose3x3",value:function(e){var t=(e=void 0===e?this.mat3:e)[1],n=e[2],r=e[5];return this.mat3[0]=e[0],this.mat3[1]=e[3],this.mat3[2]=e[6],this.mat3[3]=t,this.mat3[4]=e[4],this.mat3[5]=e[7],this.mat3[6]=n,this.mat3[7]=r,this.mat3[8]=e[8],this}},{key:"inverseTranspose",value:function(e){if(e=e.mat4,void 0===this.mat3?r.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=e[0],this.mat3[1]=e[1],this.mat3[2]=e[2],this.mat3[3]=e[4],this.mat3[4]=e[5],this.mat3[5]=e[6],this.mat3[6]=e[8],this.mat3[7]=e[9],this.mat3[8]=e[10]),e=this.invert3x3())e.transpose3x3(this.mat3);else for(var t=0;t<9;t++)this.mat3[t]=0;return this}},{key:"determinant",value:function(){var e=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],t=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],n=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],r=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],o=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],i=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],a=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],s=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],l=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],u=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],c=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return e*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-t*c+n*u+r*l-o*s+i*a}},{key:"mult",value:function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof r.default.Matrix)t=e.mat4;else if(a(e))t=e;else{if(16!==arguments.length)return;t=arguments}e=this.mat4[0];var n=this.mat4[1],o=this.mat4[2],i=this.mat4[3];return this.mat4[0]=e*t[0]+n*t[4]+o*t[8]+i*t[12],this.mat4[1]=e*t[1]+n*t[5]+o*t[9]+i*t[13],this.mat4[2]=e*t[2]+n*t[6]+o*t[10]+i*t[14],this.mat4[3]=e*t[3]+n*t[7]+o*t[11]+i*t[15],e=this.mat4[4],n=this.mat4[5],o=this.mat4[6],i=this.mat4[7],this.mat4[4]=e*t[0]+n*t[4]+o*t[8]+i*t[12],this.mat4[5]=e*t[1]+n*t[5]+o*t[9]+i*t[13],this.mat4[6]=e*t[2]+n*t[6]+o*t[10]+i*t[14],this.mat4[7]=e*t[3]+n*t[7]+o*t[11]+i*t[15],e=this.mat4[8],n=this.mat4[9],o=this.mat4[10],i=this.mat4[11],this.mat4[8]=e*t[0]+n*t[4]+o*t[8]+i*t[12],this.mat4[9]=e*t[1]+n*t[5]+o*t[9]+i*t[13],this.mat4[10]=e*t[2]+n*t[6]+o*t[10]+i*t[14],this.mat4[11]=e*t[3]+n*t[7]+o*t[11]+i*t[15],e=this.mat4[12],n=this.mat4[13],o=this.mat4[14],i=this.mat4[15],this.mat4[12]=e*t[0]+n*t[4]+o*t[8]+i*t[12],this.mat4[13]=e*t[1]+n*t[5]+o*t[9]+i*t[13],this.mat4[14]=e*t[2]+n*t[6]+o*t[10]+i*t[14],this.mat4[15]=e*t[3]+n*t[7]+o*t[11]+i*t[15],this}},{key:"apply",value:function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof r.default.Matrix)t=e.mat4;else if(a(e))t=e;else{if(16!==arguments.length)return;t=arguments}var n=(e=this.mat4)[0],o=e[4],i=e[8],s=e[12];return e[0]=t[0]*n+t[1]*o+t[2]*i+t[3]*s,e[4]=t[4]*n+t[5]*o+t[6]*i+t[7]*s,e[8]=t[8]*n+t[9]*o+t[10]*i+t[11]*s,e[12]=t[12]*n+t[13]*o+t[14]*i+t[15]*s,n=e[1],o=e[5],i=e[9],s=e[13],e[1]=t[0]*n+t[1]*o+t[2]*i+t[3]*s,e[5]=t[4]*n+t[5]*o+t[6]*i+t[7]*s,e[9]=t[8]*n+t[9]*o+t[10]*i+t[11]*s,e[13]=t[12]*n+t[13]*o+t[14]*i+t[15]*s,n=e[2],o=e[6],i=e[10],s=e[14],e[2]=t[0]*n+t[1]*o+t[2]*i+t[3]*s,e[6]=t[4]*n+t[5]*o+t[6]*i+t[7]*s,e[10]=t[8]*n+t[9]*o+t[10]*i+t[11]*s,e[14]=t[12]*n+t[13]*o+t[14]*i+t[15]*s,n=e[3],o=e[7],i=e[11],s=e[15],e[3]=t[0]*n+t[1]*o+t[2]*i+t[3]*s,e[7]=t[4]*n+t[5]*o+t[6]*i+t[7]*s,e[11]=t[8]*n+t[9]*o+t[10]*i+t[11]*s,e[15]=t[12]*n+t[13]*o+t[14]*i+t[15]*s,this}},{key:"scale",value:function(e,t,n){return e instanceof r.default.Vector?(t=e.y,n=e.z,e=e.x):e instanceof Array&&(t=e[1],n=e[2],e=e[0]),this.mat4[0]*=e,this.mat4[1]*=e,this.mat4[2]*=e,this.mat4[3]*=e,this.mat4[4]*=t,this.mat4[5]*=t,this.mat4[6]*=t,this.mat4[7]*=t,this.mat4[8]*=n,this.mat4[9]*=n,this.mat4[10]*=n,this.mat4[11]*=n,this}},{key:"rotate",value:function(e,t,n,o){t instanceof r.default.Vector?(n=t.y,o=t.z,t=t.x):t instanceof Array&&(n=t[1],o=t[2],t=t[0]);var i=(t*=1/(i=Math.sqrt(t*t+n*n+o*o)),n*=1/i,o*=1/i,this.mat4[0]),a=this.mat4[1],s=this.mat4[2],l=this.mat4[3],u=this.mat4[4],c=this.mat4[5],d=this.mat4[6],p=this.mat4[7],h=this.mat4[8],f=this.mat4[9],m=this.mat4[10],g=this.mat4[11],b=Math.sin(e),y=1-(e=Math.cos(e)),v=t*t*y+e,x=n*t*y+o*b,w=o*t*y-n*b,k=t*n*y-o*b,_=n*n*y+e,S=o*n*y+t*b,E=t*o*y+n*b;return n=n*o*y-t*b,t=o*o*y+e,this.mat4[0]=i*v+u*x+h*w,this.mat4[1]=a*v+c*x+f*w,this.mat4[2]=s*v+d*x+m*w,this.mat4[3]=l*v+p*x+g*w,this.mat4[4]=i*k+u*_+h*S,this.mat4[5]=a*k+c*_+f*S,this.mat4[6]=s*k+d*_+m*S,this.mat4[7]=l*k+p*_+g*S,this.mat4[8]=i*E+u*n+h*t,this.mat4[9]=a*E+c*n+f*t,this.mat4[10]=s*E+d*n+m*t,this.mat4[11]=l*E+p*n+g*t,this}},{key:"translate",value:function(e){var t=e[0],n=e[1];e=e[2]||0,this.mat4[12]+=this.mat4[0]*t+this.mat4[4]*n+this.mat4[8]*e,this.mat4[13]+=this.mat4[1]*t+this.mat4[5]*n+this.mat4[9]*e,this.mat4[14]+=this.mat4[2]*t+this.mat4[6]*n+this.mat4[10]*e,this.mat4[15]+=this.mat4[3]*t+this.mat4[7]*n+this.mat4[11]*e}},{key:"rotateX",value:function(e){this.rotate(e,1,0,0)}},{key:"rotateY",value:function(e){this.rotate(e,0,1,0)}},{key:"rotateZ",value:function(e){this.rotate(e,0,0,1)}},{key:"perspective",value:function(e,t,n,r){e=1/Math.tan(e/2);var o=1/(n-r);return this.mat4[0]=e/t,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=e,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(r+n)*o,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*r*n*o,this.mat4[15]=0,this}},{key:"ortho",value:function(e,t,n,r,o,i){var a=1/(e-t),s=1/(n-r),l=1/(o-i);return this.mat4[0]=-2*a,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*l,this.mat4[11]=0,this.mat4[12]=(e+t)*a,this.mat4[13]=(r+n)*s,this.mat4[14]=(i+o)*l,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(e,t,n,r){var o=new Array(4),i=this.mat4;return o[0]=i[0]*e+i[4]*t+i[8]*n+i[12]*r,o[1]=i[1]*e+i[5]*t+i[9]*n+i[13]*r,o[2]=i[2]*e+i[6]*t+i[10]*n+i[14]*r,o[3]=i[3]*e+i[7]*t+i[11]*n+i[15]*r,o}},{key:"multiplyPoint",value:function(e){var t=e.x,n=e.y;return e=e.z,t=this.multiplyVec4(t,n,e,1),new r.default.Vector(t[0],t[1],t[2])}},{key:"multiplyAndNormalizePoint",value:function(e){var t=e.x,n=e.y;return e=e.z,(t=this.multiplyVec4(t,n,e,1))[0]/=t[3],t[1]/=t[3],t[2]/=t[3],new r.default.Vector(t[0],t[1],t[2])}},{key:"multiplyDirection",value:function(e){var t=e.x,n=e.y;return e=e.z,t=this.multiplyVec4(t,n,e,0),new r.default.Vector(t[0],t[1],t[2])}},{key:"mult3x3",value:function(e){var t;if(e===this||e===this.mat3)t=this.copy().mat3;else if(e instanceof r.default.Matrix)t=e.mat3;else if(a(e))t=e;else{if(9!==arguments.length)return;t=arguments}e=this.mat3[0];var n=this.mat3[1],o=this.mat3[2];return this.mat3[0]=e*t[0]+n*t[3]+o*t[6],this.mat3[1]=e*t[1]+n*t[4]+o*t[7],this.mat3[2]=e*t[2]+n*t[5]+o*t[8],e=this.mat3[3],n=this.mat3[4],o=this.mat3[5],this.mat3[3]=e*t[0]+n*t[3]+o*t[6],this.mat3[4]=e*t[1]+n*t[4]+o*t[7],this.mat3[5]=e*t[2]+n*t[5]+o*t[8],e=this.mat3[6],n=this.mat3[7],o=this.mat3[8],this.mat3[6]=e*t[0]+n*t[3]+o*t[6],this.mat3[7]=e*t[1]+n*t[4]+o*t[7],this.mat3[8]=e*t[2]+n*t[5]+o*t[8],this}},{key:"column",value:function(e){return new r.default.Vector(this.mat3[e],this.mat3[e+3],this.mat3[e+6])}},{key:"row",value:function(e){return new r.default.Vector(this.mat3[3*e],this.mat3[3*e+1],this.mat3[3*e+2])}},{key:"diagonal",value:function(){return void 0!==this.mat3?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(e,t){return(t=void 0===t?e.copy():t).x=this.row(0).dot(e),t.y=this.row(1).dot(e),t.z=this.row(2).dot(e),t}},{key:"createSubMatrix3x3",value:function(){var e=new r.default.Matrix("mat3");return e.mat3[0]=this.mat4[0],e.mat3[1]=this.mat4[1],e.mat3[2]=this.mat4[2],e.mat3[3]=this.mat4[4],e.mat3[4]=this.mat4[5],e.mat3[5]=this.mat4[6],e.mat3[6]=this.mat4[8],e.mat3[7]=this.mat4[9],e.mat3[8]=this.mat4[10],e}}])&&o(t.prototype,n),s&&o(t,s),e}(),e=r.default.Matrix,n.default=e},{"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.to-string":180,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229}],325:[function(e,t,n){"use strict";e("core-js/modules/es.array.map"),e("core-js/modules/es.array.map"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.RenderBuffer=function(){function e(t,n,r,o,i,a){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.size=t,this.src=n,this.dst=r,this.attr=o,this._renderer=i,this.map=a}var t;return(t=[{key:"_prepareBuffer",value:function(e,t){var n,r,o,i=t.attributes,a=this._renderer.GL,s=e.model||e;(i=i[this.attr])&&(n=e[this.dst],0<(r=s[this.src]).length?((o=!n)&&(e[this.dst]=n=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,n),!o&&!1===s.dirtyFlags[this.src]||(o=(e=this.map)?e(r):r,this._renderer._bindBuffer(n,a.ARRAY_BUFFER,o),s.dirtyFlags[this.src]=!1),t.enableAttrib(i,this.size)):-1!==(e=i.location)&&this._renderer.registerEnabled[e]&&(a.disableVertexAttribArray(e),this._renderer.registerEnabled[e]=!1))}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e=e.default.RenderBuffer,n.default=e},{"../core/main":273,"core-js/modules/es.array.map":163}],326:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(u=e("../core/main"))&&u.__esModule?u:{default:u},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function s(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e("./p5.RenderBuffer"),i.default.RendererGL.prototype.beginShape=function(e){return this.immediateMode.shapeMode=void 0!==e?e:a.TESS,this.immediateMode.geometry.reset(),this};var l={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},u=(i.default.RendererGL.prototype.vertex=function(e,t){if(this.immediateMode.shapeMode===a.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var n in l){var r=l[n];(n=this.immediateMode.geometry[n]).push.apply(n,s(n.slice(n.length-3*r,n.length-2*r)).concat(s(n.slice(n.length-r,n.length))))}var o,u,c=o=u=0,d=(3===arguments.length?c=arguments[2]:4===arguments.length?(o=arguments[2],u=arguments[3]):5===arguments.length&&(c=arguments[2],o=arguments[3],u=arguments[4]),new i.default.Vector(e,t,c));return this.immediateMode.geometry.vertices.push(d),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),d=this.curFillColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexColors.push(d[0],d[1],d[2],d[3]),d=this.curStrokeColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexStrokeColors.push(d[0],d[1],d[2],d[3]),this.textureMode===a.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(o/=this._tex.width,u/=this._tex.height):!this.isProcessingVertices&&null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(o,u),this.immediateMode._bezierVertex[0]=e,this.immediateMode._bezierVertex[1]=t,this.immediateMode._bezierVertex[2]=c,this.immediateMode._quadraticVertex[0]=e,this.immediateMode._quadraticVertex[1]=t,this.immediateMode._quadraticVertex[2]=c,this},i.default.RendererGL.prototype.normal=function(e,t,n){return e instanceof i.default.Vector?this._currentNormal=e:this._currentNormal=new i.default.Vector(e,t,n),this},i.default.RendererGL.prototype.endShape=function(e,t,n,r,o,i){return this.immediateMode.shapeMode===a.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},i.default.RendererGL.prototype._processVertices=function(e){var t;0!==this.immediateMode.geometry.vertices.length&&(t=this._doStroke,e=e===a.CLOSE,t&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,e),this.immediateMode.geometry._edgesToVertices()),t=this.immediateMode.shapeMode===a.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||t)&&this.immediateMode.shapeMode!==a.LINES&&this._tesselateShape())},i.default.RendererGL.prototype._calculateEdges=function(e,t,n){var r=[],o=0;switch(e){case a.TRIANGLE_STRIP:for(o=0;o<t.length-2;o++)r.push([o,o+1]),r.push([o,o+2]);r.push([o,o+1]);break;case a.TRIANGLE_FAN:for(o=1;o<t.length-1;o++)r.push([0,o]),r.push([o,o+1]);r.push([0,t.length-1]);break;case a.TRIANGLES:for(o=0;o<t.length-2;o+=3)r.push([o,o+1]),r.push([o+1,o+2]),r.push([o+2,o]);break;case a.LINES:for(o=0;o<t.length-1;o+=2)r.push([o,o+1]);break;case a.QUADS:for(o=0;o<t.length-5;o+=6)r.push([o,o+1]),r.push([o+1,o+2]),r.push([o+3,o+5]),r.push([o+4,o+5]);break;case a.QUAD_STRIP:for(o=0;o<t.length-2;o+=2)r.push([o,o+1]),r.push([o,o+2]),r.push([o+1,o+3]);r.push([o,o+1]);break;default:for(o=0;o<t.length-1;o++)r.push([o,o+1])}return n&&r.push([t.length-1,0]),r},i.default.RendererGL.prototype._tesselateShape=function(){for(var e=this,t=(this.immediateMode.shapeMode=a.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map((function(t,n){return[t.x,t.y,t.z,e.immediateMode.geometry.uvs[2*n],e.immediateMode.geometry.uvs[2*n+1],e.immediateMode.geometry.vertexColors[4*n],e.immediateMode.geometry.vertexColors[4*n+1],e.immediateMode.geometry.vertexColors[4*n+2],e.immediateMode.geometry.vertexColors[4*n+3],e.immediateMode.geometry.vertexNormals[n].x,e.immediateMode.geometry.vertexNormals[n].y,e.immediateMode.geometry.vertexNormals[n].z]})))]),n=this._triangulate(t),r=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),o=0,l=n.length;o<l;o+=i.default.RendererGL.prototype.tessyVertexSize)r.push.apply(r,s(n.slice(o+5,o+9))),this.normal.apply(this,s(n.slice(o+9,o+12))),this.vertex.apply(this,s(n.slice(o,o+5)));this.immediateMode.geometry.vertexColors=r},i.default.RendererGL.prototype._drawImmediateFill=function(){var e=this.GL,t=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),n=(this._setFillUniforms(t),!0),r=!1,o=void 0;try{for(var i,s=this.immediateMode.buffers.fill[Symbol.iterator]();!(n=(i=s.next()).done);n=!0)i.value._prepareBuffer(this.immediateMode.geometry,t)}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}this.immediateMode.shapeMode!==a.LINE_STRIP&&this.immediateMode.shapeMode!==a.LINES||(this.immediateMode.shapeMode=a.TRIANGLE_FAN),this.immediateMode.shapeMode===a.QUADS?this.immediateMode.shapeMode=a.TRIANGLES:this.immediateMode.shapeMode===a.QUAD_STRIP&&(this.immediateMode.shapeMode=a.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),e.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),t.unbindShader()},i.default.RendererGL.prototype._drawImmediateStroke=function(){var e=this.GL,t=e.isEnabled(e.CULL_FACE),n=(e.disable(e.CULL_FACE),this._getImmediateStrokeShader()),r=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(n),!0),o=!1,i=void 0;try{for(var a,s=this.immediateMode.buffers.stroke[Symbol.iterator]();!(r=(a=s.next()).done);r=!0)a.value._prepareBuffer(this.immediateMode.geometry,n)}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}this._applyColorBlend(this.curStrokeColor),e.drawArrays(e.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),t&&e.enable(e.CULL_FACE),n.unbindShader()},i.default.RendererGL);n.default=u},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.map":163,"core-js/modules/es.array.slice":164,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],327:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=(e("./p5.RendererGL"),e("./p5.RenderBuffer"),function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"))),s=0,l=(i.default.RendererGL.prototype._initBufferDefaults=function(e){var t;return this._freeBuffers(e),1e3<++s&&(t=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[t],s--),this.retainedMode.geometry[e]={}},i.default.RendererGL.prototype._freeBuffers=function(e){var t,n=this.retainedMode.geometry[e];function r(e){var r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;n[l.dst]&&(t.deleteBuffer(n[l.dst]),n[l.dst]=null)}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}n&&(delete this.retainedMode.geometry[e],s--,t=this.GL,n.indexBuffer&&t.deleteBuffer(n.indexBuffer),r(this.retainedMode.buffers.stroke),r(this.retainedMode.buffers.fill))},i.default.RendererGL.prototype.createBuffers=function(e,t){var n,r,o,a=this.GL,s=((e=this._initBufferDefaults(e)).model=t,e.indexBuffer);return t.faces.length?(s=s||(e.indexBuffer=a.createBuffer()),o=(r=(n=i.default.RendererGL.prototype._flatten(t.faces)).some((function(e){return 65535<e})))?Uint32Array:Uint16Array,this._bindBuffer(s,a.ELEMENT_ARRAY_BUFFER,n,o),e.indexBufferType=r?a.UNSIGNED_INT:a.UNSIGNED_SHORT,e.vertexCount=3*t.faces.length):(s&&(a.deleteBuffer(s),e.indexBuffer=null),e.vertexCount=t.vertices?t.vertices.length:0),e.lineVertexCount=t.lineVertices?t.lineVertices.length:0,e},i.default.RendererGL.prototype.drawBuffers=function(e){var t=this.GL,n=this.retainedMode.geometry[e];if(this._doFill){this._useVertexColor=0<n.model.vertexColors.length;var r=this._getRetainedFillShader(),o=(this._setFillUniforms(r),!0),i=!1,a=void 0;try{for(var s,l=this.retainedMode.buffers.fill[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)s.value._prepareBuffer(n,r)}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}n.indexBuffer&&this._bindBuffer(n.indexBuffer,t.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(t.TRIANGLES,e),r.unbindShader()}if(this._doStroke&&0<n.lineVertexCount){i=t.isEnabled(t.CULL_FACE);var u=(t.disable(t.CULL_FACE),this._getRetainedStrokeShader()),c=(this._useLineColor=0<n.model.vertexStrokeColors.length,this._setStrokeUniforms(u),!0),d=void(a=!1);try{for(var p,h=this.retainedMode.buffers.stroke[Symbol.iterator]();!(c=(p=h.next()).done);c=!0)p.value._prepareBuffer(n,u)}catch(e){a=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(a)throw d}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(t.TRIANGLES,e),i&&t.enable(t.CULL_FACE),u.unbindShader()}return this},i.default.RendererGL.prototype.drawBuffersScaled=function(e,t,n,r){var o=this.uMVMatrix.copy();try{this.uMVMatrix.scale(t,n,r),this.drawBuffers(e)}finally{this.uMVMatrix=o}},i.default.RendererGL.prototype._drawArrays=function(e,t){return this.GL.drawArrays(e,0,this.retainedMode.geometry[t].lineVertexCount),this},i.default.RendererGL.prototype._drawElements=function(e,t){t=this.retainedMode.geometry[t];var n=this.GL;if(t.indexBuffer){if(this._pInst.webglVersion!==a.WEBGL2&&t.indexBufferType===n.UNSIGNED_INT&&!n.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");n.drawElements(n.TRIANGLES,t.vertexCount,t.indexBufferType,0)}else n.drawArrays(e||n.TRIANGLES,0,t.vertexCount)},i.default.RendererGL.prototype._drawPoints=function(e,t){var n=this.GL,r=this._getImmediatePointShader();this._setPointUniforms(r),this._bindBuffer(t,n.ARRAY_BUFFER,this._vToNArray(e),Float32Array,n.STATIC_DRAW),r.enableAttrib(r.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),n.drawArrays(n.Points,0,e.length),r.unbindShader()},i.default.RendererGL);n.default=l},{"../core/constants":262,"../core/main":273,"./p5.RenderBuffer":325,"./p5.RendererGL":328,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.some":165,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.keys":179,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],328:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.map"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.map"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.readPixelsWebGL=x,n.readPixelWebGL=w,n.default=void 0;var o=s(e("../core/main")),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var i;Object.prototype.hasOwnProperty.call(e,n)&&((i=o?Object.getOwnPropertyDescriptor(e,n):null)&&(i.get||i.set)?Object.defineProperty(r,n,i):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants")),a=s(e("libtess"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}function u(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){b+="#define STROKE_CAP_".concat(e," ").concat(t,"\n"),m[i[e]]=t}function f(e,t){b+="#define STROKE_JOIN_".concat(e," ").concat(t,"\n"),g[i[e]]=t}e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");var m={},g={},b="",y="#ifdef WEBGL2\n\n#define IN in\n#define OUT out\n\n#ifdef FRAGMENT_SHADER\nout vec4 outColor;\n#define OUT_COLOR outColor\n#endif\n#define TEXTURE texture\n\n#else\n\n#ifdef FRAGMENT_SHADER\n#define IN varying\n#else\n#define IN attribute\n#endif\n#define OUT varying\n#define TEXTURE texture2D\n\n#ifdef FRAGMENT_SHADER\n#define OUT_COLOR gl_FragColor\n#endif\n\n#endif\n",v={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform vec4 uMaterialColor;\nuniform bool uUseVertexColor;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",lightVert:(h("ROUND",0),h("PROJECT",1),h("SQUARE",2),f("ROUND",0),f("MITER",1),f("BEVEL",2),(e="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n")+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n"),lightTextureFrag:"precision highp float;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = vColor;\n  }\n  else {\n    vec4 baseColor = isTexture\n      // Textures come in with premultiplied alpha. To apply tint and still have\n      // premultiplied alpha output, we need to multiply the RGB channels by the\n      // tint RGB, and all channels by the tint alpha.\n      ? texture2D(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n      // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n      // channels by alpha to convert it to premultiplied alpha.\n      : vec4(vColor.rgb * vColor.a, vColor.a);\n    gl_FragColor = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);\n  }\n}\n",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\nattribute vec4 aVertexColor;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nuniform bool uUseVertexColor;\nuniform vec4 uMaterialColor;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n  \n  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);\n}\n",phongFrag:e+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform bool uHasSetAmbient;\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\nvarying vec4 vColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  vec4 baseColor = isTexture\n    // Textures come in with premultiplied alpha. To apply tint and still have\n    // premultiplied alpha output, we need to multiply the RGB channels by the\n    // tint RGB, and all channels by the tint alpha.\n    ? texture2D(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)\n    // Colors come in with unmultiplied alpha, so we need to multiply the RGB\n    // channels by alpha to convert it to premultiplied alpha.\n    : vec4(vColor.rgb * vColor.a, vColor.a);\n  gl_FragColor = vec4(diffuse * baseColor.rgb + \n                    vAmbientColor * (\n                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb\n                    ) + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb, baseColor.a);\n}\n",fontVert:y+"IN vec3 aPosition;\nIN vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nOUT vec2 vTexCoord;\nOUT float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // Expand glyph bounding boxes by 1px on each side to give a bit of room\n  // for antialiasing\n  vec2 pixelScale = vec2(\n    1. / uModelViewMatrix[0][0],\n    1. / uModelViewMatrix[1][1]\n  );\n  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);\n  vec2 textureOffset = offset * (1. / vec2(\n    uGlyphRect.z - uGlyphRect.x,\n    uGlyphRect.w - uGlyphRect.y\n  ));\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n\n  positionVec4.xy += offset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord + textureOffset;\n  w = gl_Position.w;\n}\n",fontFrag:y+"#ifndef WEBGL2\n#extension GL_OES_standard_derivatives : enable\n#endif\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nIN vec2 vTexCoord;\n\n// some helper functions\nint ROUND(float v) { return ifloor(v + 0.5); }\nivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = ROUND(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n  OUT_COLOR *= saturate(max(antialias, cover));\n}\n",lineVert:b+"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nprecision mediump float;\nprecision mediump int;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform bool uUseLineColor;\nuniform vec4 uMaterialColor;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\nuniform int uStrokeJoin;\n\nattribute vec4 aPosition;\nattribute vec3 aTangentIn;\nattribute vec3 aTangentOut;\nattribute float aSide;\nattribute vec4 aVertexColor;\n\nvarying vec4 vColor;\nvarying vec2 vTangent;\nvarying vec2 vCenter;\nvarying vec2 vPosition;\nvarying float vMaxDist;\nvarying float vCap;\nvarying float vJoin;\n\nvec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {\n  // Rotate and translate so a starts at the origin and goes out to the right\n  bPoint -= aPoint;\n  vec2 rotatedBFrom = vec2(\n    bPoint.x*aDir.x + bPoint.y*aDir.y,\n    bPoint.y*aDir.x - bPoint.x*aDir.y\n  );\n  vec2 bTo = bPoint + bDir;\n  vec2 rotatedBTo = vec2(\n    bTo.x*aDir.x + bTo.y*aDir.y,\n    bTo.y*aDir.x - bTo.x*aDir.y\n  );\n  float intersectionDistance =\n    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /\n    (rotatedBTo.y - rotatedBFrom.y);\n  return aPoint + aDir * intersectionDistance;\n}\n\nvoid main() {\n  // Caps have one of either the in or out tangent set to 0\n  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))\n    ? 1. : 0.;\n\n  // Joins have two unique, defined tangents\n  vJoin = (\n    aTangentIn != vec3(0.) &&\n    aTangentOut != vec3(0.) &&\n    aTangentIn != aTangentOut\n  ) ? 1. : 0.;\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));\n  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));\n\n  float facingCamera = pow(\n    // The word space tangent's z value is 0 if it's facing the camera\n    abs(normalize(posqIn-posp).z),\n\n    // Using pow() here to ramp `facingCamera` up from 0 to 1 really quickly\n    // so most lines get scaled and don't get clipped\n    0.25\n  );\n\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  float scale = mix(1., 0.995, facingCamera);\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posqIn.xyz = posqIn.xyz * scale;\n  posqOut.xyz = posqOut.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 qIn = uProjectionMatrix * posqIn;\n  vec4 qOut = uProjectionMatrix * posqOut;\n  vCenter = p.xy;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);\n  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);\n\n  vec2 curPerspScale;\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  vec2 offset;\n  if (vJoin == 1.) {\n    vTangent = normalize(tangentIn + tangentOut);\n    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);\n    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);\n    float side = sign(aSide);\n    float sideEnum = abs(aSide);\n\n    // We generate vertices for joins on either side of the centerline, but\n    // the \"elbow\" side is the only one needing a join. By not setting the\n    // offset for the other side, all its vertices will end up in the same\n    // spot and not render, effectively discarding it.\n    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {\n      // Side enums:\n      //   1: the side going into the join\n      //   2: the middle of the join\n      //   3: the side going out of the join\n      if (sideEnum == 2.) {\n        // Calculate the position + tangent on either side of the join, and\n        // find where the lines intersect to find the elbow of the join\n        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;\n        vec2 intersection = lineIntersection(\n          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,\n          tangentIn,\n          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,\n          tangentOut\n        );\n        offset = (intersection - c);\n\n        // When lines are thick and the angle of the join approaches 180, the\n        // elbow might be really far from the center. We'll apply a limit to\n        // the magnitude to avoid lines going across the whole screen when this\n        // happens.\n        float mag = length(offset);\n        float maxMag = 3. * uStrokeWeight;\n        if (mag > maxMag) {\n          offset *= maxMag / mag;\n        }\n      } else if (sideEnum == 1.) {\n        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;\n      } else if (sideEnum == 3.) {\n        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;\n      }\n    }\n    if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);\n      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));\n    } else {\n      vMaxDist = uStrokeWeight / 2.;\n    }\n  } else {\n    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;\n    vTangent = tangent;\n    vec2 normal = vec2(-tangent.y, tangent.x);\n\n    float normalOffset = sign(aSide);\n    // Caps will have side values of -2 or 2 on the edge of the cap that\n    // extends out from the line\n    float tangentOffset = abs(aSide) - 1.;\n    offset = (normal * normalOffset + tangent * tangentOffset) *\n      uStrokeWeight * 0.5 * curPerspScale;\n    vMaxDist = uStrokeWeight / 2.;\n  }\n  vPosition = vCenter + offset / curPerspScale;\n\n  gl_Position.xy = p.xy + offset.xy;\n  gl_Position.zw = p.zw;\n  \n  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);\n}\n",lineFrag:b+"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\nuniform int uStrokeCap;\nuniform int uStrokeJoin;\nuniform float uStrokeWeight;\n\nvarying vec4 vColor;\nvarying vec2 vTangent;\nvarying vec2 vCenter;\nvarying vec2 vPosition;\nvarying float vMaxDist;\nvarying float vCap;\nvarying float vJoin;\n\nfloat distSquared(vec2 a, vec2 b) {\n  vec2 aToB = b - a;\n  return dot(aToB, aToB);\n}\n\nvoid main() {\n  if (vCap > 0.) {\n    if (\n      uStrokeCap == STROKE_CAP_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (\n      uStrokeCap == STROKE_CAP_SQUARE &&\n      dot(vPosition - vCenter, vTangent) > 0.\n    ) {\n      discard;\n    }\n    // Use full area for PROJECT\n  } else if (vJoin > 0.) {\n    if (\n      uStrokeJoin == STROKE_JOIN_ROUND &&\n      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25\n    ) {\n      discard;\n    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {\n      vec2 normal = vec2(-vTangent.y, vTangent.x);\n      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {\n        discard;\n      }\n    }\n    // Use full area for MITER\n  }\n  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;\n}\n",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n  float mask = 0.0;\n\n  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n  // if strokeWeight is 1 or less lets just draw a square\n  // this prevents weird artifacting from carving circles when our points are really small\n  // if strokeWeight is larger than 1, we just use it as is\n\n  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n  // throw away the borders of the mask\n  // otherwise we get weird alpha blending issues\n\n  if(mask > 0.98){\n    discard;\n  }\n\n  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;\n}\n"};function x(e,t,n,r,o,i,a,s,l,u){var c=t.getParameter(t.FRAMEBUFFER_BINDING),d=i*a*(t.bindFramebuffer(t.FRAMEBUFFER,n),n=s===t.RGBA?4:3),p=l===t.UNSIGNED_BYTE?Uint8Array:Float32Array;if(e instanceof p&&e.length===d||(e=new p(d)),t.readPixels(r,u?u-o-a:o,i,a,s,l,e),t.bindFramebuffer(t.FRAMEBUFFER,c),u)for(var h=Math.floor(a/2),f=new p(i*n),m=0;m<h;m++){var g=m*i*4,b=(a-m-1)*i*4;f.set(e.subarray(g,g+4*i)),e.copyWithin(g,b,b+4*i),e.set(f,b)}return e}function w(e,t,n,r,o,i,a){var s=e.getParameter(e.FRAMEBUFFER_BINDING);return e.bindFramebuffer(e.FRAMEBUFFER,t),t=o===e.RGBA?4:3,t=new(i===e.UNSIGNED_BYTE?Uint8Array:Float32Array)(t),e.readPixels(n,a?a-r-1:r,1,1,o,i,t),e.bindFramebuffer(e.FRAMEBUFFER,s),Array.from(t)}o.default.prototype.setAttributes=function(e,t){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var n=!0;if(void 0!==t?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[e]!==t&&(this._glAttributes[e]=t,n=!1)):e instanceof Object&&this._glAttributes!==e&&(this._glAttributes=e,n=!1),this._renderer.isP3D&&!n){if(!this._setupDone)for(var r in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(r))return void o.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},o.default.RendererGL=function(e){var t=r;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e);var n=function(e){return function(){var t,n,r=p(e);return t=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?(t=p(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),r=this,!(n=t)||"object"!==l(n)&&"function"!=typeof n?d(r):n}}(r);function r(e,t,a,s){if(this instanceof r)return(e=n.call(this,e,t,a))._setAttributeDefaults(t),e._initContext(),e.isP3D=!0,e.GL=e.drawingContext,e._pInst._setProperty("drawingContext",e.drawingContext),e._isErasing=!1,e._enableLighting=!1,e.ambientLightColors=[],e.specularColors=[1,1,1],e.directionalLightDirections=[],e.directionalLightDiffuseColors=[],e.directionalLightSpecularColors=[],e.pointLightPositions=[],e.pointLightDiffuseColors=[],e.pointLightSpecularColors=[],e.spotLightPositions=[],e.spotLightDirections=[],e.spotLightDiffuseColors=[],e.spotLightSpecularColors=[],e.spotLightAngle=[],e.spotLightConc=[],e.drawMode=i.FILL,e.curFillColor=e._cachedFillStyle=[1,1,1,1],e.curAmbientColor=e._cachedFillStyle=[1,1,1,1],e.curSpecularColor=e._cachedFillStyle=[0,0,0,0],e.curEmissiveColor=e._cachedFillStyle=[0,0,0,0],e.curStrokeColor=e._cachedStrokeStyle=[0,0,0,1],e.curBlendMode=i.BLEND,e._cachedBlendMode=void 0,e.webglVersion===i.WEBGL2?e.blendExt=e.GL:e.blendExt=e.GL.getExtension("EXT_blend_minmax"),e._isBlending=!1,e._hasSetAmbient=!1,e._useSpecularMaterial=!1,e._useEmissiveMaterial=!1,e._useNormalMaterial=!1,e._useShininess=1,e._useLineColor=!1,e._useVertexColor=!1,e.registerEnabled=[],e._tint=[255,255,255,255],e.constantAttenuation=1,e.linearAttenuation=0,e.quadraticAttenuation=0,e.uMVMatrix=new o.default.Matrix,e.uPMatrix=new o.default.Matrix,e.uNMatrix=new o.default.Matrix("mat3"),e._currentNormal=new o.default.Vector(0,0,1),e._curCamera=new o.default.Camera(d(e)),e._curCamera._computeCameraDefaultSettings(),e._curCamera._setDefaultCamera(),e.prevTouches=[],e.zoomVelocity=0,e.rotateVelocity=new o.default.Vector(0,0),e.moveVelocity=new o.default.Vector(0,0),e.executeZoom=!1,e.executeRotateAndMove=!1,e._defaultLightShader=void 0,e._defaultImmediateModeShader=void 0,e._defaultNormalShader=void 0,e._defaultColorShader=void 0,e._defaultPointShader=void 0,e.userFillShader=void 0,e.userStrokeShader=void 0,e.userPointShader=void 0,e.retainedMode={geometry:{},buffers:{stroke:[new o.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",d(e),e._flatten),new o.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",d(e),e._flatten),new o.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",d(e),e._flatten),new o.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",d(e),e._flatten),new o.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",d(e))],fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",d(e),e._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",d(e),e._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",d(e)),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",d(e)),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",d(e),e._flatten)],text:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",d(e),e._vToNArray),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",d(e),e._flatten)]}},e.immediateMode={geometry:new o.default.Geometry,shapeMode:i.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",d(e),e._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",d(e),e._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",d(e)),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",d(e)),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",d(e),e._flatten)],stroke:[new o.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",d(e),e._flatten),new o.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",d(e),e._flatten),new o.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",d(e),e._flatten),new o.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",d(e),e._flatten),new o.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",d(e))],point:e.GL.createBuffer()}},e.pointSize=5,e.curStrokeWeight=1,e.curStrokeCap=i.ROUND,e.curStrokeJoin=i.ROUND,e.textures=new Map,e.framebuffers=new Set,e.textureMode=i.IMAGE,e.textureWrapX=i.CLAMP,e.textureWrapY=i.CLAMP,e._tex=null,e._curveTightness=6,e._lookUpTableBezier=[],e._lookUpTableQuadratic=[],e._lutBezierDetail=0,e._lutQuadraticDetail=0,e.isProcessingVertices=!1,e._tessy=e._initTessy(),e.fontInfos={},e._curShader=void 0,e;throw new TypeError("Cannot call a class as a function")}return t=r,(e=[{key:"_setAttributeDefaults",value:function(e){var t={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};null===e._glAttributes?e._glAttributes=t:e._glAttributes=Object.assign(t,e._glAttributes)}},{key:"_initContext",value:function(){if(1!==this._pInst._glAttributes.version&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?i.WEBGL2:i.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),null===this.drawingContext)throw new Error("Error creating webgl context");var e=this.drawingContext;e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_resetContext",value:function(e,t){var n,r=this.width,i=this.height,a=this.canvas.id,s=this._pInst instanceof o.default.Graphics;s?((n=this._pInst).canvas.parentNode.removeChild(n.canvas),n.canvas=document.createElement("canvas"),(n._pInst._userNode||document.body).appendChild(n.canvas),o.default.Element.call(n,n.canvas,n._pInst),n.width=r,n.height=i):((n=this.canvas)&&n.parentNode.removeChild(n),(n=document.createElement("canvas")).id=a,(this._pInst._userNode||document.body).appendChild(n),this._pInst.canvas=n,this.canvas=n),a=new o.default.RendererGL(this._pInst.canvas,this._pInst,!s),this._pInst._setProperty("_renderer",a),a.resize(r,i),a._applyDefaults(),s||this._pInst._elements.push(a),"function"==typeof t&&setTimeout((function(){t.apply(window._renderer,e)}),0)}},{key:"_update",value:function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"background",value:function(){var e=(r=(r=this._pInst).color.apply(r,arguments)).levels[0]/255,t=r.levels[1]/255,n=r.levels[2]/255,r=r.levels[3]/255;this.clear(e,t,n,r)}},{key:"fill",value:function(e,t,n,r){var a=o.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=a._array,this.drawMode=i.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(e,t,n,r){var i=o.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=i._array}},{key:"strokeCap",value:function(e){this.curStrokeCap=e}},{key:"strokeJoin",value:function(e){this.curStrokeJoin=e}},{key:"filter",value:function(e){o.default._friendlyError("filter() does not work in WEBGL mode")}},{key:"blendMode",value:function(e){e===i.DARKEST||e===i.LIGHTEST||e===i.ADD||e===i.BLEND||e===i.SUBTRACT||e===i.SCREEN||e===i.EXCLUSION||e===i.REPLACE||e===i.MULTIPLY||e===i.REMOVE?this.curBlendMode=e:e!==i.BURN&&e!==i.OVERLAY&&e!==i.HARD_LIGHT&&e!==i.SOFT_LIGHT&&e!==i.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(e,t){this._isErasing||(this._applyBlendMode(i.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,e/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,t/255])}},{key:"noErase",value:function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))}},{key:"strokeWeight",value:function(e){this.curStrokeWeight!==e&&(this.pointSize=e,this.curStrokeWeight=e)}},{key:"_getPixel",value:function(e,t){var n=this.GL;return w(n,null,e,t,n.RGBA,n.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var e,t,n=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(e=this._pInst._pixelDensity,t=this.GL,n._setProperty("pixels",x(n.pixels,t,null,0,0,this.width*e,this.height*e,t.RGBA,t.UNSIGNED_BYTE,this.height*e)))}},{key:"updatePixels",value:function(){var e=this._getTempFramebuffer();e.pixels=this._pixelsState.pixels,e.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(i.CENTER),this._pInst.image(e,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:i.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:i.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(e){return void 0!==this.retainedMode.geometry[e]}},{key:"resize",value:function(e,t){o.default.Renderer.prototype.resize.call(this,e,t),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize();var n=(void 0!==(e=this._pixelsState).pixels&&e._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0);t=!1,e=void 0;try{for(var r,i=this.framebuffers[Symbol.iterator]();!(n=(r=i.next()).done);n=!0)r.value._canvasSizeChanged()}catch(n){t=!0,e=n}finally{try{n||null==i.return||i.return()}finally{if(t)throw e}}}},{key:"clear",value:function(){var e=(arguments.length<=0?void 0:arguments[0])||0,t=(arguments.length<=1?void 0:arguments[1])||0,n=(arguments.length<=2?void 0:arguments[2])||0,r=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(e*r,t*r,n*r,r),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(e,t,n,r,i,a){16===arguments.length?o.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([e,t,0,0,n,r,0,0,0,0,1,0,i,a,0,1])}},{key:"translate",value:function(e,t,n){return e instanceof o.default.Vector&&(n=e.z,t=e.y,e=e.x),this.uMVMatrix.translate([e,t,n]),this}},{key:"scale",value:function(e,t,n){return this.uMVMatrix.scale(e,t,n),this}},{key:"rotate",value:function(e,t){return void 0===t?this.rotateZ(e):(o.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)}},{key:"rotateX",value:function(e){return this.rotate(e,1,0,0),this}},{key:"rotateY",value:function(e){return this.rotate(e,0,1,0),this}},{key:"rotateZ",value:function(e){return this.rotate(e,0,0,1),this}},{key:"push",value:function(){var e=o.default.Renderer.prototype.push.apply(this),t=e.properties;return t.uMVMatrix=this.uMVMatrix.copy(),t.uPMatrix=this.uPMatrix.copy(),t._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),t.ambientLightColors=this.ambientLightColors.slice(),t.specularColors=this.specularColors.slice(),t.directionalLightDirections=this.directionalLightDirections.slice(),t.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),t.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),t.pointLightPositions=this.pointLightPositions.slice(),t.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),t.pointLightSpecularColors=this.pointLightSpecularColors.slice(),t.spotLightPositions=this.spotLightPositions.slice(),t.spotLightDirections=this.spotLightDirections.slice(),t.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),t.spotLightSpecularColors=this.spotLightSpecularColors.slice(),t.spotLightAngle=this.spotLightAngle.slice(),t.spotLightConc=this.spotLightConc.slice(),t.userFillShader=this.userFillShader,t.userStrokeShader=this.userStrokeShader,t.userPointShader=this.userPointShader,t.pointSize=this.pointSize,t.curStrokeWeight=this.curStrokeWeight,t.curStrokeColor=this.curStrokeColor,t.curFillColor=this.curFillColor,t.curAmbientColor=this.curAmbientColor,t.curSpecularColor=this.curSpecularColor,t.curEmissiveColor=this.curEmissiveColor,t._hasSetAmbient=this._hasSetAmbient,t._useSpecularMaterial=this._useSpecularMaterial,t._useEmissiveMaterial=this._useEmissiveMaterial,t._useShininess=this._useShininess,t.constantAttenuation=this.constantAttenuation,t.linearAttenuation=this.linearAttenuation,t.quadraticAttenuation=this.quadraticAttenuation,t._enableLighting=this._enableLighting,t._useNormalMaterial=this._useNormalMaterial,t._tex=this._tex,t.drawMode=this.drawMode,t._currentNormal=this._currentNormal,t.curBlendMode=this.curBlendMode,e}},{key:"resetMatrix",value:function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this}},{key:"_getImmediateStrokeShader",value:function(){var e=this.userStrokeShader;return e&&e.isStrokeShader()?e:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getImmediateFillShader",value:function(){var e=this.userFillShader;if(this._useNormalMaterial&&(!e||!e.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!e||!e.isLightShader())return this._getLightShader()}else if(this._tex){if(!e||!e.isTextureShader())return this._getLightShader()}else if(!e)return this._getImmediateModeShader();return e}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var e=this.userFillShader;if(this._enableLighting){if(!e||!e.isLightShader())return this._getLightShader()}else if(this._tex){if(!e||!e.isTextureShader())return this._getLightShader()}else if(!e)return this._getColorShader();return e}},{key:"_getImmediatePointShader",value:function(){var e=this.userPointShader;return e&&e.isPointShader()?e:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new o.default.Shader(this,v.phongVert,v.phongFrag):this._defaultLightShader=new o.default.Shader(this,v.lightVert,v.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new o.default.Shader(this,v.immediateVert,v.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new o.default.Shader(this,v.normalVert,v.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new o.default.Shader(this,v.normalVert,v.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new o.default.Shader(this,v.pointVert,v.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new o.default.Shader(this,v.lineVert,v.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===i.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new o.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+v.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+v.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(e,t){var n="";return this.webglVersion===i.WEBGL2&&(n+="#version 300 es\n#define WEBGL2\n"),"vert"===e?n+="#define VERTEX_SHADER\n":"frag"===e&&(n+="#define FRAGMENT_SHADER\n"),t&&(n+="precision ".concat(t," float;\n")),n}},{key:"_getEmptyTexture",value:function(){var e;return this._emptyTexture||((e=new o.default.Image(1,1)).set(0,0,255),this._emptyTexture=new o.default.Texture(this,e)),this._emptyTexture}},{key:"getTexture",value:function(e){e instanceof o.default.Framebuffer&&(e=e.color);var t=this.textures.get(e);return t||(t=new o.default.Texture(this,e),this.textures.set(e,t),t)}},{key:"createFramebuffer",value:function(e){return new o.default.Framebuffer(this,e)}},{key:"_setStrokeUniforms",value:function(e){e.bindShader(),e.setUniform("uUseLineColor",this._useLineColor),e.setUniform("uMaterialColor",this.curStrokeColor),e.setUniform("uStrokeWeight",this.curStrokeWeight),e.setUniform("uStrokeCap",m[this.curStrokeCap]),e.setUniform("uStrokeJoin",g[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(e){e.bindShader(),e.setUniform("uUseVertexColor",this._useVertexColor),e.setUniform("uMaterialColor",this.curFillColor),e.setUniform("isTexture",!!this._tex),this._tex&&e.setUniform("uSampler",this._tex),e.setUniform("uTint",this._tint),e.setUniform("uHasSetAmbient",this._hasSetAmbient),e.setUniform("uAmbientMatColor",this.curAmbientColor),e.setUniform("uSpecularMatColor",this.curSpecularColor),e.setUniform("uEmissiveMatColor",this.curEmissiveColor),e.setUniform("uSpecular",this._useSpecularMaterial),e.setUniform("uEmissive",this._useEmissiveMaterial),e.setUniform("uShininess",this._useShininess),e.setUniform("uUseLighting",this._enableLighting);var t=this.pointLightDiffuseColors.length/3;e.setUniform("uPointLightCount",t),e.setUniform("uPointLightLocation",this.pointLightPositions),e.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),e.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),t=this.directionalLightDiffuseColors.length/3,e.setUniform("uDirectionalLightCount",t),e.setUniform("uLightingDirection",this.directionalLightDirections),e.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),e.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),t=this.ambientLightColors.length/3,e.setUniform("uAmbientLightCount",t),e.setUniform("uAmbientColor",this.ambientLightColors),t=this.spotLightDiffuseColors.length/3,e.setUniform("uSpotLightCount",t),e.setUniform("uSpotLightAngle",this.spotLightAngle),e.setUniform("uSpotLightConc",this.spotLightConc),e.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),e.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),e.setUniform("uSpotLightLocation",this.spotLightPositions),e.setUniform("uSpotLightDirection",this.spotLightDirections),e.setUniform("uConstantAttenuation",this.constantAttenuation),e.setUniform("uLinearAttenuation",this.linearAttenuation),e.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),e.bindTextures()}},{key:"_setPointUniforms",value:function(e){e.bindShader(),e.setUniform("uMaterialColor",this.curStrokeColor),e.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(e,t,n,r,o){t=t||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(t,e),void 0!==n&&(e=new(r||Float32Array)(n),this.GL.bufferData(t,e,o||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}},{key:"_isTypedArray",value:function(e){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some((function(t){return e instanceof t}))}},{key:"_flatten",value:function(e){if(0===e.length)return[];var t;if(2e4<e.length){for(var n=[],r=e.slice(),o=r.pop();Array.isArray(o)?r.push.apply(r,u(o)):n.push(o),r.length&&void 0!==(o=r.pop()););return n.reverse(),n}return(t=[]).concat.apply(t,u(e))}},{key:"_vToNArray",value:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;t.push(s.x,s.y,s.z)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}return t}},{key:"_bezierCoefficients",value:function(e){var t=e*e,n=1-e,r=n*n;return[r*n,3*r*e,3*n*t,t*e]}},{key:"_quadraticCoefficients",value:function(e){var t=1-e;return[t*t,2*t*e,e*e]}},{key:"_bezierToCatmull",value:function(e){return[e[1],e[1]+(e[2]-e[0])/this._curveTightness,e[2]-(e[3]-e[1])/this._curveTightness,e[2]]}},{key:"_initTessy",value:function(){var e=new a.default.GluTesselator;return e.gluTessCallback(a.default.gluEnum.GLU_TESS_VERTEX_DATA,(function(e,t){for(var n=0;n<e.length;n++)t.push(e[n])})),e.gluTessCallback(a.default.gluEnum.GLU_TESS_BEGIN,(function(e){e!==a.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(e))})),e.gluTessCallback(a.default.gluEnum.GLU_TESS_ERROR,(function(e){console.log("error callback"),console.log("error number: ".concat(e))})),e.gluTessCallback(a.default.gluEnum.GLU_TESS_COMBINE,(function(e,t,n){for(var r=new Array(o.default.RendererGL.prototype.tessyVertexSize).fill(0),i=0;i<n.length;i++)for(var a=0;a<r.length;a++)0!==n[i]&&t[i]&&(r[a]+=t[i][a]*n[i]);return r})),e.gluTessCallback(a.default.gluEnum.GLU_TESS_EDGE_FLAG,(function(e){})),e}},{key:"_triangulate",value:function(e){var t=e[0]?e[0][2]:void 0,n=!0,r=!0,i=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)for(var u=s.value,c=0;c<u.length;c+=o.default.RendererGL.prototype.tessyVertexSize)if(u[c+2]!==t){n=!1;break}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}n?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),i=[];var d=(this._tessy.gluTessBeginPolygon(i),!0),p=void(a=!1);try{for(var h,f=e[Symbol.iterator]();!(d=(h=f.next()).done);d=!0){var m=h.value;this._tessy.gluTessBeginContour();for(var g=0;g<m.length;g+=o.default.RendererGL.prototype.tessyVertexSize){var b=m.slice(g,g+o.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(b,b)}this._tessy.gluTessEndContour()}}catch(e){a=!0,p=e}finally{try{d||null==f.return||f.return()}finally{if(a)throw p}}return this._tessy.gluTessEndPolygon(),i}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),r}(o.default.Renderer),o.default.prototype._assert3d=function(e){if(!this._renderer.isP3D)throw new Error("".concat(e,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},o.default.RendererGL.prototype.tessyVertexSize=12,e=o.default.RendererGL,n.default=e},{"../core/constants":262,"../core/main":273,"../core/p5.Renderer":276,"./p5.Camera":321,"./p5.Matrix":324,"./p5.Shader":329,"core-js/modules/es.array.concat":151,"core-js/modules/es.array.copy-within":152,"core-js/modules/es.array.every":153,"core-js/modules/es.array.fill":154,"core-js/modules/es.array.from":157,"core-js/modules/es.array.includes":158,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.array.some":165,"core-js/modules/es.map":168,"core-js/modules/es.object.assign":174,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.get-prototype-of":178,"core-js/modules/es.object.to-string":180,"core-js/modules/es.reflect.construct":182,"core-js/modules/es.regexp.to-string":186,"core-js/modules/es.set":187,"core-js/modules/es.string.includes":189,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.float32-array":209,"core-js/modules/es.typed-array.float64-array":210,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.int16-array":214,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint16-array":230,"core-js/modules/es.typed-array.uint32-array":231,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236,libtess:245,path:248}],329:[function(e,t,n){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(e=e("../core/main"))&&e.__esModule?e:{default:e};r.default.Shader=function(){function e(t,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._renderer=t,this._vertSrc=n,this._fragSrc=r,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var t;return(t=[{key:"init",value:function(){if(0===this._glProgram){var e=this._renderer.GL;if(this._vertShader=e.createShader(e.VERTEX_SHADER),e.shaderSource(this._vertShader,this._vertSrc),e.compileShader(this._vertShader),!e.getShaderParameter(this._vertShader,e.COMPILE_STATUS))return r.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(e.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(this._fragShader,this._fragSrc),e.compileShader(this._fragShader),!e.getShaderParameter(this._fragShader,e.COMPILE_STATUS))return r.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(e.getShaderInfoLog(this._fragShader))),null;this._glProgram=e.createProgram(),e.attachShader(this._glProgram,this._vertShader),e.attachShader(this._glProgram,this._fragShader),e.linkProgram(this._glProgram),e.getProgramParameter(this._glProgram,e.LINK_STATUS)||r.default._friendlyError("Snap! Error linking shader program: ".concat(e.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_ATTRIBUTES),n=0;n<t;++n){var r=e.getActiveAttrib(this._glProgram,n),o=r.name,i=e.getAttribLocation(this._glProgram,o),a={};a.name=o,a.location=i,a.index=n,a.type=r.type,a.size=r.size,this.attributes[o]=a}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_UNIFORMS),n=0,r=0;r<t;++r){var o=e.getActiveUniform(this._glProgram,r),i={},a=(i.location=e.getUniformLocation(this._glProgram,o.name),i.size=o.size,o.name);1<o.size&&(a=a.substring(0,a.indexOf("[0]"))),i.name=a,i.type=o.type,i._cachedData=void 0,i.type===e.SAMPLER_2D&&(i.samplerIndex=n,n++,this.samplers.push(i)),i.isArray=1<o.size||i.type===e.FLOAT_MAT3||i.type===e.FLOAT_MAT4||i.type===e.FLOAT_VEC2||i.type===e.FLOAT_VEC3||i.type===e.FLOAT_VEC4||i.type===e.INT_VEC2||i.type===e.INT_VEC4||i.type===e.INT_VEC3,this.uniforms[a]=i}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var e=this._renderer.GL,t=!0,n=!1,r=void 0;try{for(var o,i=this.samplers[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,s=a.texture;void 0===s&&(s=this._renderer._getEmptyTexture()),e.activeTexture(e.TEXTURE0+a.samplerIndex),s.bindTexture(),s.update(),e.uniform1i(a.location,a.samplerIndex)}}catch(e){n=!0,r=e}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"updateTextures",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.samplers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value.texture;i&&i.update()}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"unbindTextures",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,o=this.samplers[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var i=r.value;this.setUniform(i.name,this._renderer._getEmptyTexture())}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},{key:"_setMatrixUniforms",value:function(){var e=this._renderer._curCamera.cameraMatrix,t=this._renderer.uPMatrix,n=this._renderer.uMVMatrix,r=n.copy();r.mult(t),this.isStrokeShader()&&("default"===this._renderer._curCamera.cameraType?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",e.mat4),this.setUniform("uProjectionMatrix",t.mat4),this.setUniform("uModelViewMatrix",n.mat4),this.setUniform("uModelViewProjectionMatrix",r.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))}},{key:"useProgram",value:function(){var e=this._renderer.GL;return this._renderer._curShader!==this&&(e.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(e,t){var n=this.uniforms[e];if(n){var o=this._renderer.GL;if(n.isArray){if(n._cachedData&&this._renderer._arraysEqual(n._cachedData,t))return;n._cachedData=t.slice(0)}else{if(n._cachedData&&n._cachedData===t)return;Array.isArray(t)?n._cachedData=t.slice(0):n._cachedData=t}var i=n.location;switch(this.useProgram(),n.type){case o.BOOL:!0===t?o.uniform1i(i,1):o.uniform1i(i,0);break;case o.INT:1<n.size?t.length&&o.uniform1iv(i,t):o.uniform1i(i,t);break;case o.FLOAT:1<n.size?t.length&&o.uniform1fv(i,t):o.uniform1f(i,t);break;case o.FLOAT_MAT3:o.uniformMatrix3fv(i,!1,t);break;case o.FLOAT_MAT4:o.uniformMatrix4fv(i,!1,t);break;case o.FLOAT_VEC2:1<n.size?t.length&&o.uniform2fv(i,t):o.uniform2f(i,t[0],t[1]);break;case o.FLOAT_VEC3:1<n.size?t.length&&o.uniform3fv(i,t):o.uniform3f(i,t[0],t[1],t[2]);break;case o.FLOAT_VEC4:1<n.size?t.length&&o.uniform4fv(i,t):o.uniform4f(i,t[0],t[1],t[2],t[3]);break;case o.INT_VEC2:1<n.size?t.length&&o.uniform2iv(i,t):o.uniform2i(i,t[0],t[1]);break;case o.INT_VEC3:1<n.size?t.length&&o.uniform3iv(i,t):o.uniform3i(i,t[0],t[1],t[2]);break;case o.INT_VEC4:1<n.size?t.length&&o.uniform4iv(i,t):o.uniform4i(i,t[0],t[1],t[2],t[3]);break;case o.SAMPLER_2D:o.activeTexture(o.TEXTURE0+n.samplerIndex),n.texture=t instanceof r.default.Texture?t:this._renderer.getTexture(t),o.uniform1i(i,n.samplerIndex),n.texture.src.gifProperties&&n.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular}},{key:"isNormalShader",value:function(){return void 0!==this.attributes.aNormal}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return void 0!==this.uniforms.uStrokeWeight}},{key:"enableAttrib",value:function(e,t,n,r,o,i){var a;return e&&-1!==(e=e.location)&&(a=this._renderer.GL,this._renderer.registerEnabled[e]||(a.enableVertexAttribArray(e),this._renderer.registerEnabled[e]=!0),this._renderer.GL.vertexAttribPointer(e,t,n||a.FLOAT,r||!1,o||0,i||0)),this}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}(),e=r.default.Shader,n.default=e},{"../core/main":273,"core-js/modules/es.array.index-of":159,"core-js/modules/es.array.iterator":160,"core-js/modules/es.array.slice":164,"core-js/modules/es.function.name":167,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/web.dom-collections.iterator":236}],330:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(n,"__esModule",{value:!0}),n.checkWebGLCapabilities=s,n.default=void 0;var i=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function s(e){var t=e.GL,n=(e=e.webglVersion)===a.WEBGL2?t.getExtension("EXT_color_buffer_float")&&t.getExtension("EXT_float_blend"):t.getExtension("OES_texture_float");return{float:n,floatLinear:n&&t.getExtension("OES_texture_float_linear"),halfFloat:e=e===a.WEBGL2?t.getExtension("EXT_color_buffer_float"):t.getExtension("OES_texture_half_float"),halfFloatLinear:e&&t.getExtension("OES_texture_half_float_linear")}}i.default.Texture=function(){function e(t,n,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._renderer=t;var o=this._renderer.GL;return r=r||{},this.src=n,this.glTex=void 0,this.glTarget=o.TEXTURE_2D,this.glFormat=r.format||o.RGBA,this.mipmaps=!1,this.glMinFilter=r.minFilter||o.LINEAR,this.glMagFilter=r.magFilter||o.LINEAR,this.glWrapS=r.wrapS||o.CLAMP_TO_EDGE,this.glWrapT=r.wrapT||o.CLAMP_TO_EDGE,this.glDataType=r.dataType||o.UNSIGNED_BYTE,r=s(t),this.glFormat!==o.HALF_FLOAT||r.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=o.FLOAT),this.glFormat!==o.HALF_FLOAT||this.glMinFilter!==o.LINEAR&&this.glMagFilter!==o.LINEAR||r.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===o.LINEAR&&(this.glMinFilter=o.NEAREST),this.glMagFilter===o.LINEAR&&(this.glMagFilter=o.NEAREST)),this.glFormat!==o.FLOAT||r.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=o.UNSIGNED_BYTE),this.glFormat!==o.FLOAT||this.glMinFilter!==o.LINEAR&&this.glMagFilter!==o.LINEAR||r.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===o.LINEAR&&(this.glMinFilter=o.NEAREST),this.glMagFilter===o.LINEAR&&(this.glMagFilter=o.NEAREST)),this.isSrcMediaElement=void 0!==i.default.MediaElement&&n instanceof i.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==i.default.Element&&n instanceof i.default.Element&&!(n instanceof i.default.Graphics)&&!(n instanceof i.default.Renderer),this.isSrcP5Image=n instanceof i.default.Image,this.isSrcP5Graphics=n instanceof i.default.Graphics,this.isSrcP5Renderer=n instanceof i.default.Renderer,this.isImageData="undefined"!=typeof ImageData&&n instanceof ImageData,this.isFramebufferTexture=n instanceof i.default.FramebufferTexture,t=this._getTextureDataFromSource(),this.width=t.width,this.height=t.height,this.init(t),this}var t;return(t=[{key:"_getTextureDataFromSource",value:function(){var e;return this.isFramebufferTexture?e=this.src.rawTexture():this.isSrcP5Image?e=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?e=this.src.elt:this.isImageData&&(e=this.src),e}},{key:"init",value:function(e){var t,n=this._renderer.GL;this.isFramebufferTexture||(this.glTex=n.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.glMagFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(t=new Uint8Array([1,1,1,1]),n.texImage2D(this.glTarget,0,n.RGBA,1,1,0,this.glFormat,this.glDataType,t)):n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,e))}},{key:"update",value:function(){var e,t,n,r=this.src;return 0!==r.width&&0!==r.height&&!this.isFramebufferTexture&&(e=this._getTextureDataFromSource(),t=!1,n=this._renderer.GL,e.width!==this.width||e.height!==this.height?(t=!0,this.width=e.width||r.width,this.height=e.height||r.height,this.isSrcP5Image?r.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&r.setModified(!0)):this.isSrcP5Image?r.isModified()&&r.setModified(!(t=!0)):this.isSrcMediaElement?r.isModified()?r.setModified(!(t=!0)):r.loadedmetadata&&this._videoPrevUpdateTime!==r.time()&&(this._videoPrevUpdateTime=r.time(),t=!0):this.isImageData?r._dirty&&(t=!(r._dirty=!1)):t=!0,t&&(this.bindTexture(),n.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,e)),t)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(e,t){var n=this._renderer.GL;e===a.NEAREST?this.glMinFilter=n.NEAREST:this.glMinFilter=n.LINEAR,t===a.NEAREST?this.glMagFilter=n.NEAREST:this.glMagFilter=n.LINEAR,this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,this.glMinFilter),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"setWrapMode",value:function(e,t){function n(e){return 0==(e&e-1)}var r=this._renderer.GL,o=(o=this._getTextureDataFromSource()).naturalWidth&&o.naturalHeight?(i=o.naturalWidth,o.naturalHeight):(i=this.width,this.height),i=n(i);o=n(o),e===a.REPEAT?this._renderer.webglVersion===a.WEBGL2||i&&o?this.glWrapS=r.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=r.CLAMP_TO_EDGE):e===a.MIRROR?this._renderer.webglVersion===a.WEBGL2||i&&o?this.glWrapS=r.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=r.CLAMP_TO_EDGE):this.glWrapS=r.CLAMP_TO_EDGE,t===a.REPEAT?this._renderer.webglVersion===a.WEBGL2||i&&o?this.glWrapT=r.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=r.CLAMP_TO_EDGE):t===a.MIRROR?this._renderer.webglVersion===a.WEBGL2||i&&o?this.glWrapT=r.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=r.CLAMP_TO_EDGE):this.glWrapT=r.CLAMP_TO_EDGE,this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this.glWrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();var l=i.default.Texture;n.default=l},{"../core/constants":262,"../core/main":273,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.string.iterator":190,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.typed-array.copy-within":203,"core-js/modules/es.typed-array.every":204,"core-js/modules/es.typed-array.fill":205,"core-js/modules/es.typed-array.filter":206,"core-js/modules/es.typed-array.find":208,"core-js/modules/es.typed-array.find-index":207,"core-js/modules/es.typed-array.for-each":211,"core-js/modules/es.typed-array.includes":212,"core-js/modules/es.typed-array.index-of":213,"core-js/modules/es.typed-array.iterator":216,"core-js/modules/es.typed-array.join":217,"core-js/modules/es.typed-array.last-index-of":218,"core-js/modules/es.typed-array.map":219,"core-js/modules/es.typed-array.reduce":221,"core-js/modules/es.typed-array.reduce-right":220,"core-js/modules/es.typed-array.reverse":222,"core-js/modules/es.typed-array.set":223,"core-js/modules/es.typed-array.slice":224,"core-js/modules/es.typed-array.some":225,"core-js/modules/es.typed-array.sort":226,"core-js/modules/es.typed-array.subarray":227,"core-js/modules/es.typed-array.to-locale-string":228,"core-js/modules/es.typed-array.to-string":229,"core-js/modules/es.typed-array.uint8-array":232,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}],331:[function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var i,a=(i=e("../core/main"))&&i.__esModule?i:{default:i},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t="function"!=typeof WeakMap?null:new WeakMap;if(t&&t.has(e))return t.get(e);var n,r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in e){var a;Object.prototype.hasOwnProperty.call(e,n)&&((a=i?Object.getOwnPropertyDescriptor(e,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=e[n])}return r.default=e,t&&t.set(e,r),r}(e("../core/constants"));function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){t&&u(e.prototype,t),n&&u(e,n)}e("./p5.Shader"),e("./p5.RendererGL.Retained"),a.default.RendererGL.prototype._applyTextProperties=function(){},a.default.RendererGL.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):0};var d=function(){function e(t,n){l(this,e),this.width=t,this.height=n,this.infos=[]}return c(e,[{key:"findImage",value:function(e){var t,n,r=this.width*this.height;if(r<e)throw new Error("font is too complex to render in 3D");for(var o=this.infos.length-1;0<=o;--o){var i=this.infos[o];if(i.index+e<r){n=(t=i).imageData;break}}if(!t){try{n=new ImageData(this.width,this.height)}catch(e){var a=document.getElementsByTagName("canvas")[0],s=!a,l=(a||((a=document.createElement("canvas")).style.display="none",document.body.appendChild(a)),a.getContext("2d"));l&&(n=l.createImageData(this.width,this.height)),s&&document.body.removeChild(a)}this.infos.push(t={index:0,imageData:n})}return l=t.index,t.index+=e,n._dirty=!0,{imageData:n,index:l}}}]),e}();function p(e,t,n,r,o){var i=e.imageData.data;e=4*e.index++,i[e++]=t,i[e++]=n,i[e++]=r,i[+e]=o}var h=Math.sqrt(3),f=function(){function e(t){l(this,e),this.font=t,this.strokeImageInfos=new d(64,64),this.colDimImageInfos=new d(64,64),this.rowDimImageInfos=new d(64,64),this.colCellImageInfos=new d(64,64),this.rowCellImageInfos=new d(64,64),this.glyphInfos={}}return c(e,[{key:"getGlyphInfo",value:function(e){var t=this.glyphInfos[e.index];if(!t){var n=e.getBoundingBox(),r=n.x1,o=n.y1,i=n.x2-r,s=n.y2-o,u=e.path.commands;if(0==i||0==s||!u.length)return this.glyphInfos[e.index]={};for(var d=[],f=[],m=[],g=8;0<=g;--g)m.push([]);for(g=8;0<=g;--g)f.push([]);var b,y,v,x,w=function(){function e(t,n,r,o){l(this,e),this.p0=t,this.c0=n,this.c1=r,this.p1=o}return c(e,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return a.default.Vector.sub(a.default.Vector.sub(this.p1,this.p0),a.default.Vector.mult(a.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(t){var n=a.default.Vector.lerp(this.p0,this.c0,t),r=a.default.Vector.lerp(this.c0,this.c1,t),o=a.default.Vector.lerp(n,r,t);return this.c1=a.default.Vector.lerp(this.c1,this.p1,t),this.c0=a.default.Vector.lerp(r,this.c1,t),r=a.default.Vector.lerp(o,this.c0,t),t=new e(this.p0,n,o,r),this.p0=r,t}},{key:"splitInflections",value:function(){var e=a.default.Vector.sub(this.c0,this.p0),t=a.default.Vector.sub(a.default.Vector.sub(this.c1,this.c0),e),n=a.default.Vector.sub(a.default.Vector.sub(a.default.Vector.sub(this.p1,this.c1),e),a.default.Vector.mult(t,2)),r=[],o=t.x*n.y-t.y*n.x;return 0!==o&&0<=(e=(n=e.x*n.y-e.y*n.x)*n-4*o*(e.x*t.y-e.y*t.x))&&(o<0&&(o=-o,n=-n),e=(-n+(t=Math.sqrt(e)))/(2*o),0<(n=(-n-t)/(2*o))&&n<1&&(r.push(this.split(n)),e=1-(1-e)/(1-n)),0<e&&e<1&&r.push(this.split(e))),r.push(this),r}}]),e}(),k=!0,_=!1,S=void 0;try{for(var E,T=u[Symbol.iterator]();!(k=(E=T.next()).done);k=!0){var C=E.value,I=(C.x-r)/i,j=(C.y-o)/s;if(!V(b,y,I,j)){switch(C.type){case"M":v=I,x=j;break;case"L":U(b,y,I,j);break;case"Q":var A=(C.x1-r)/i,O=(C.y1-o)/s;$([b,I,A],[y,j,O],{x:b,y,cx:A,cy:O});break;case"Z":V(b,y,v,x)?d.push({x:b,y}):(U(b,y,v,x),d.push({x:v,y:x}));break;case"C":for(var N=function(e,t,n,r,o,i,s,l){e=new w(new a.default.Vector(e,t),new a.default.Vector(n,r),new a.default.Vector(o,i),new a.default.Vector(s,l)).splitInflections();var u=[],c=30/h,d=!0;t=!1,n=void 0;try{for(var p,f=e[Symbol.iterator]();!(d=(p=f.next()).done);d=!0){for(var m=p.value,g=[],b=void 0;!(.125<=(b=c/m.quadError()));){var y=Math.pow(b,1/3),v=m.split(y),x=m.split(1-y/(1-y));u.push(v),g.push(m),m=x}b<1&&u.push(m.split(.5)),u.push(m),Array.prototype.push.apply(u,g.reverse())}}catch(e){t=!0,n=e}finally{try{d||null==f.return||f.return()}finally{if(t)throw n}}return u}(b,y,(C.x1-r)/i,(C.y1-o)/s,(C.x2-r)/i,(C.y2-o)/s,I,j),R=0;R<N.length;R++){var P=N[R].toQuadratic();$([P.x,P.x1,P.cx],[P.y,P.y1,P.cy],P)}break;default:throw new Error("unknown command type: ".concat(C.type))}b=I,y=j}}}catch(e){_=!0,S=e}finally{try{k||null==T.return||T.return()}finally{if(_)throw S}}for(var M=d.length,D=this.strokeImageInfos.findImage(M),L=D.index,F=0;F<M;++F){var B=d[F];p(D,z(B.x),z(B.y),z(B.cx),z(B.cy))}(t=this.glyphInfos[e.index]={glyph:e,uGlyphRect:[n.x1,-n.y1,n.x2,-n.y2],strokeImageInfo:D,strokes:d,colInfo:G(m,this.colDimImageInfos,this.colCellImageInfos),rowInfo:G(f,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[t.colInfo.dimOffset,t.rowInfo.dimOffset]}return t;function $(e,t,n){var r=d.length;function o(e,t,n){for(var r=e.length;0<r--;){var o=e[r];o<t&&(t=o),n<o&&(n=o)}return{min:t,max:n}}d.push(n),n=o(e,1,0),e=Math.max(Math.floor(9*n.min-.5),0);for(var i=Math.min(Math.ceil(9*n.max+.5),9),a=e;a<i;++a)m[a].push(r);n=o(t,1,0),e=Math.max(Math.floor(9*n.min-.5),0);for(var s=Math.min(Math.ceil(9*n.max+.5),9),l=e;l<s;++l)f[l].push(r)}function z(e){return(e*=255)<0?0:255<e?255:e}function U(e,t,n,r){$([e,n],[t,r],{x:e,y:t,cx:(e+n)/2,cy:(t+r)/2})}function V(e,t,n,r){return Math.abs(n-e)<1e-5&&Math.abs(r-t)<1e-5}function G(e,t,n){for(var r=e.length,o=t.findImage(r),i=(t=o.index,0),a=0;a<r;++a)i+=e[a].length;for(var s=n.findImage(i),l=0;l<r;++l){var u=e[l],c=u.length,d=s.index;p(o,d>>7,127&d,c>>7,127&c);for(var h=0;h<c;++h){var f=u[h]+L;p(s,f>>7,127&f,0,0)}}return{cellImageInfo:s,dimOffset:t,dimImageInfo:o}}}}]),e}();a.default.RendererGL.prototype._renderText=function(e,t,n,r,o){if(this._textFont&&"string"!=typeof this._textFont){if(!(o<=r)&&this._doFill){if(this._isOpenType()){e.push(),o=this._doStroke;var i=this.drawMode,l=(this._doStroke=!1,this.drawMode=s.TEXTURE,this._textFont.font),u=(u=this._textFont._fontInfo)||(this._textFont._fontInfo=new f(l)),c=(n=this._textFont._handleAlignment(this,t,n,r),r=this._textSize/l.unitsPerEm,this.translate(n.x,n.y,0),this.scale(r,r,1),this.GL),d=(n=!this._defaultFontShader,this._getFontShader()),p=(d.init(),d.bindShader(),n&&(d.setUniform("uGridImageSize",[64,64]),d.setUniform("uCellsImageSize",[64,64]),d.setUniform("uStrokeImageSize",[64,64]),d.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),h=(p||((r=this._textGeom=new a.default.Geometry(1,1,(function(){for(var e=0;e<=1;e++)for(var t=0;t<=1;t++)this.vertices.push(new a.default.Vector(t,e,0)),this.uvs.push(t,e)}))).computeFaces().computeNormals(),p=this.createBuffers("glyph",r)),!0);n=!1,r=void 0;try{for(var m,g=this.retainedMode.buffers.text[Symbol.iterator]();!(h=(m=g.next()).done);h=!0)m.value._prepareBuffer(p,d)}catch(e){n=!0,r=e}finally{try{h||null==g.return||g.return()}finally{if(n)throw r}}this._bindBuffer(p.indexBuffer,c.ELEMENT_ARRAY_BUFFER),d.setUniform("uMaterialColor",this.curFillColor),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var b=0,y=null,v=l.stringToGlyphs(t),x=!0,w=!1,k=void 0;try{for(var _,S=v[Symbol.iterator]();!(x=(_=S.next()).done);x=!0){var E,T,C=_.value,I=(y&&(b+=l.getKerningValue(y,C)),u.getGlyphInfo(C));I.uGlyphRect&&(E=I.rowInfo,T=I.colInfo,d.setUniform("uSamplerStrokes",I.strokeImageInfo.imageData),d.setUniform("uSamplerRowStrokes",E.cellImageInfo.imageData),d.setUniform("uSamplerRows",E.dimImageInfo.imageData),d.setUniform("uSamplerColStrokes",T.cellImageInfo.imageData),d.setUniform("uSamplerCols",T.dimImageInfo.imageData),d.setUniform("uGridOffset",I.uGridOffset),d.setUniform("uGlyphRect",I.uGlyphRect),d.setUniform("uGlyphOffset",b),d.bindTextures(),c.drawElements(c.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),b+=C.advanceWidth,y=C}}catch(e){w=!0,k=e}finally{try{x||null==S.return||S.return()}finally{if(w)throw k}}}finally{d.unbindShader(),this._doStroke=o,this.drawMode=i,c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return e}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":262,"../core/main":273,"./p5.RendererGL.Retained":327,"./p5.Shader":329,"core-js/modules/es.array.iterator":160,"core-js/modules/es.object.get-own-property-descriptor":176,"core-js/modules/es.object.to-string":180,"core-js/modules/es.regexp.exec":185,"core-js/modules/es.string.iterator":190,"core-js/modules/es.string.split":196,"core-js/modules/es.string.sub":198,"core-js/modules/es.symbol":202,"core-js/modules/es.symbol.description":200,"core-js/modules/es.symbol.iterator":201,"core-js/modules/es.weak-map":234,"core-js/modules/web.dom-collections.iterator":236}]},{},[257])(257)}))}).call(this,r(3))},function(e,t,n){"use strict";n.r(t),n.d(t,"p5Events",(function(){return p})),n.d(t,"default",(function(){return h}));var r=n(0),o=n.n(r),i=n(1),a=n.n(i);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===s(o)?o:String(o)),r)}var o}function u(e,t){return(u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof window&&(window.p5=a.a);var p=["draw","windowResized","preload","mouseClicked","doubleClicked","mouseMoved","mousePressed","mouseWheel","mouseDragged","mouseReleased","keyPressed","keyReleased","keyTyped","touchStarted","touchMoved","touchEnded","deviceMoved","deviceTurned","deviceShaken"],h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(i,e);var t,n,r=c(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=r.call(this,e)).canvasParentRef=o.a.createRef(),t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;this.sketch=new a.a((function(t){t.setup=function(){e.props.setup(t,e.canvasParentRef.current)},p.forEach((function(n){e.props[n]&&(t[n]=function(){for(var r,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];(r=e.props)[n].apply(r,[t].concat(i))})}))}))}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){this.sketch.remove()}},{key:"render",value:function(){return o.a.createElement("div",{ref:this.canvasParentRef,className:this.props.className||"react-p5","data-testid":"react-p5",style:this.props.style||{}})}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a.Component)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]).default},t.exports=o(r(7294))},5251:(e,t,n)=>{"use strict";var r=n(7294),o=Symbol.for("react.element"),i=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,n){var r,l={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)i.call(t,r)&&!s.hasOwnProperty(r)&&(l[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===l[r]&&(l[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:l,_owner:a.current}}},2408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var x=v.prototype=new y;x.constructor=v,m(x,b.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var o,i={},a=null,s=null;if(null!=t)for(o in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:a,ref:s,props:i,_owner:_.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function j(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===i?"."+I(l,0):i,w(a)?(o="",null!=e&&(o=e.replace(C,"$&/")+"/"),j(a,t,o,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,o+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,i=""===i?".":i+":",w(e))for(var u=0;u<e.length;u++){var c=i+I(s=e[u],u);l+=j(s,t,o,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=j(s=s.value,t,o,c=i+I(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],o=0;return j(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=o,t.Profiler=a,t.PureComponent=v,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)k.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:a,props:o,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},7294:(e,t,n)=>{"use strict";e.exports=n(2408)},5893:(e,t,n)=>{"use strict";e.exports=n(5251)},4754:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.autoprefix=void 0;var r,o=(r=n(2525))&&r.__esModule?r:{default:r},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){return t[e]||{extend:e}}},s=t.autoprefix=function(e){var t={};return(0,o.default)(e,(function(e,n){var r={};(0,o.default)(e,(function(e,t){var n=a[t];n?r=i({},r,n(e)):r[t]=e})),t[n]=r})),t};t.default=s},6002:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.active=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r=n(7294))&&r.__esModule?r:{default:r};function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=t.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,s,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return s=l=a(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(c))),l.state={active:!1},l.handleMouseDown=function(){return l.setState({active:!0})},l.handleMouseUp=function(){return l.setState({active:!1})},l.render=function(){return i.default.createElement(t,{onMouseDown:l.handleMouseDown,onMouseUp:l.handleMouseUp},i.default.createElement(e,o({},l.props,l.state)))},a(l,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(i.default.Component)};t.default=s},1765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hover=void 0;var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=(r=n(7294))&&r.__esModule?r:{default:r};function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=t.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var n,s,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var u=arguments.length,c=Array(u),d=0;d<u;d++)c[d]=arguments[d];return s=l=a(this,(n=r.__proto__||Object.getPrototypeOf(r)).call.apply(n,[this].concat(c))),l.state={hover:!1},l.handleMouseOver=function(){return l.setState({hover:!0})},l.handleMouseOut=function(){return l.setState({hover:!1})},l.render=function(){return i.default.createElement(t,{onMouseOver:l.handleMouseOver,onMouseOut:l.handleMouseOut},i.default.createElement(e,o({},l.props,l.state)))},a(l,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),r}(i.default.Component)};t.default=s},4147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenNames=void 0;var r=s(n(7037)),o=s(n(2525)),i=s(n(8630)),a=s(n(5161));function s(e){return e&&e.__esModule?e:{default:e}}var l=t.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[];return(0,a.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return n.push(e)})):(0,i.default)(t)?(0,o.default)(t,(function(e,t){!0===e&&n.push(t),n.push(t+"-"+e)})):(0,r.default)(t)&&n.push(t)})),n};t.default=l},9941:(e,t,n)=>{"use strict";t.tz=void 0;var r=u(n(4147)),o=u(n(8556)),i=u(n(4754)),a=u(n(1765)),s=u(n(6002)),l=u(n(7742));function u(e){return e&&e.__esModule?e:{default:e}}a.default,t.tz=a.default,s.default,l.default;t.ZP=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var s=(0,r.default)(n),l=(0,o.default)(e,s);return(0,i.default)(l)}},7742:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n={},r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n[e]=t};return 0===e&&r("first-child"),e===t-1&&r("last-child"),(0===e||e%2==0)&&r("even"),1===Math.abs(e%2)&&r("odd"),r("nth-child",e),n}},8556:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeClasses=void 0;var r=a(n(2525)),o=a(n(361)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e){return e&&e.__esModule?e:{default:e}}var s=t.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.default&&(0,o.default)(e.default)||{};return t.map((function(t){var o=e[t];return o&&(0,r.default)(o,(function(e,t){n[t]||(n[t]={}),n[t]=i({},n[t],o[t])})),t})),n};t.default=s},53:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,b="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function w(e){if(g=!1,x(e),!m)if(null!==r(u))m=!0,R(k);else{var t=r(c);null!==t&&P(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(T),T=-1),f=!0;var i=h;try{for(x(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!j());){var a=p.callback;if("function"==typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(u)&&o(u),x(n)}else o(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&P(w,d.startTime-n),l=!1}return l}finally{p=null,h=i,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,E=null,T=-1,C=5,I=-1;function j(){return!(t.unstable_now()-I<C)}function A(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?_():(S=!1,E=null)}}else S=!1}if("function"==typeof v)_=function(){v(A)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,N=O.port2;O.port1.onmessage=A,_=function(){N.postMessage(null)}}else _=function(){b(A,0)};function R(e){E=e,S||(S=!0,_())}function P(e,n){T=b((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?a+i:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(y(T),T=-1):g=!0,P(w,i-a))):(e.sortIndex=s,n(u,e),m||f||(m=!0,R(k))),e},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},3840:(e,t,n)=>{"use strict";e.exports=n(53)},6377:(e,t,n)=>{var r=n(4832),o=n(8652),i=n(801),a=n(2030),s=n(3618),l=n(9049),u=n(1971);u.alea=r,u.xor128=o,u.xorwow=i,u.xorshift7=a,u.xor4096=s,u.tychei=l,e.exports=u},4832:function(e,t,n){var r;!function(e,o,i){function a(e){var t,n=this,r=(t=4022871197,function(e){e=String(e);for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new a(e),r=t&&t.state,o=n.next;return o.int32=function(){return 4294967296*n.next()|0},o.double=function(){return o()+11102230246251565e-32*(2097152*o()|0)},o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},9049:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},8652:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},3618:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,i=t.i;return t.w=r=r+1640531527|0,n=o[i+34&127],e=o[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,o,i,a,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,i=-32;i<l;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(a=a+1640531527|0,o=0==(n=s[127&i]^=r+a)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,i=512;i>0;--i)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=a,e.X=s,e.i=o}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.X&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},2030:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&(r.x&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},801:function(e,t,n){var r;!function(e,o,i){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new a(e),r=t&&t.state,o=function(){return(n.next()>>>0)/4294967296};return o.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},o.int32=n.next,o.quick=o,r&&("object"==typeof r&&s(r,n),o.state=function(){return s(n,{})}),o}o&&o.exports?o.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,o))||(o.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},1971:function(e,t,n){var r;!function(o,i,a){var s,l=256,u=a.pow(l,6),c=a.pow(2,52),d=2*c,p=l-1;function h(e,t,n){var r=[],p=b(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(l):(e=new Uint8Array(l),(o.crypto||o.msCrypto).getRandomValues(e)),y(e)}catch(e){var t=o.navigator,n=t&&t.plugins;return[+new Date,o,n,o.screen,y(i)]}}():e,3),r),h=new f(r),v=function(){for(var e=h.g(6),t=u,n=0;e<c;)e=(e+n)*l,t*=l,n=h.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|h.g(4)},v.quick=function(){return h.g(4)/4294967296},v.double=v,b(y(h.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,h),e.state=function(){return m(h,{})}),n?(a.random=e,t):e})(v,p,"global"in t?t.global:this==a,t.state)}function f(e){var t,n=e.length,r=this,o=0,i=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);o<l;)a[o]=o++;for(o=0;o<l;o++)a[o]=a[i=p&i+e[o%n]+(t=a[o])],a[i]=t;(r.g=function(e){for(var t,n=0,o=r.i,i=r.j,a=r.S;e--;)t=a[o=p&o+1],n=n*l+a[p&(a[o]=a[i=p&i+t])+(a[i]=t)];return r.i=o,r.j=i,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],o=typeof e;if(t&&"object"==o)for(n in e)try{r.push(g(e[n],t-1))}catch(e){}return r.length?r:"string"==o?e:e+"\0"}function b(e,t){for(var n,r=e+"",o=0;o<r.length;)t[p&o]=p&(n^=19*t[p&o])+r.charCodeAt(o++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(b(a.random(),i),e.exports){e.exports=h;try{s=n(5042)}catch(e){}}else void 0===(r=function(){return h}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof self?self:this,[],Math)},3988:e=>{"use strict";var t;t=function(){var e={},t={};return e.on=function(e,n){var r={name:e,handler:n};return t[e]=t[e]||[],t[e].unshift(r),r},e.off=function(e){var n=t[e.name].indexOf(e);-1!==n&&t[e.name].splice(n,1)},e.trigger=function(e,n){var r,o=t[e];if(o)for(r=o.length;r--;)o[r].handler(n)},e},e.exports=t},3379:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var l=e[s],u=r.base?l[0]+r.base:l[0],c=i[u]||0,d="".concat(u," ").concat(c);i[u]=c+1;var p=n(d),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=o(h,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:f,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var l=r(e,o),u=0;u<i.length;u++){var c=n(i[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},1739:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},6006:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(2275))&&r.__esModule?r:{default:r};t.default={pauseVideo:{acceptableStates:[o.default.ENDED,o.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[o.default.ENDED,o.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[o.default.ENDED,o.default.PLAYING,o.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},e.exports=t.default},9125:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(9215)),o=s(n(8255)),i=s(n(5279)),a=s(n(6006));function s(e){return e&&e.__esModule?e:{default:e}}var l=(0,r.default)("youtube-player"),u={proxyEvents:function(e){var t={},n=function(n){var r="on"+n.slice(0,1).toUpperCase()+n.slice(1);t[r]=function(t){l('event "%s"',r,t),e.trigger(n,t)}},r=!0,o=!1,a=void 0;try{for(var s,u=i.default[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)n(s.value)}catch(e){o=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw a}}return t},promisifyPlayer:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={},r=function(r){t&&a.default[r]?n[r]=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.then((function(e){var t=a.default[r],o=e.getPlayerState(),i=e[r].apply(e,n);return t.stateChangeRequired||Array.isArray(t.acceptableStates)&&-1===t.acceptableStates.indexOf(o)?new Promise((function(n){e.addEventListener("onStateChange",(function r(){var o=e.getPlayerState(),i=void 0;"number"==typeof t.timeout&&(i=setTimeout((function(){e.removeEventListener("onStateChange",r),n()}),t.timeout)),Array.isArray(t.acceptableStates)&&-1!==t.acceptableStates.indexOf(o)&&(e.removeEventListener("onStateChange",r),clearTimeout(i),n())}))})).then((function(){return i})):i}))}:n[r]=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.then((function(e){return e[r].apply(e,n)}))}},i=!0,s=!1,l=void 0;try{for(var u,c=o.default[Symbol.iterator]();!(i=(u=c.next()).done);i=!0)r(u.value)}catch(e){s=!0,l=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}return n}};t.default=u,e.exports=t.default},2275:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},e.exports=t.default},5279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],e.exports=t.default},8255:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],e.exports=t.default},1062:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=s(n(3988)),i=s(n(5900)),a=s(n(9125));function s(e){return e&&e.__esModule?e:{default:e}}var l=void 0;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,o.default)();if(l||(l=(0,i.default)(s)),t.events)throw new Error("Event handlers cannot be overwritten.");if("string"==typeof e&&!document.getElementById(e))throw new Error('Element "'+e+'" does not exist.');t.events=a.default.proxyEvents(s);var u=new Promise((function(n){"object"===(void 0===e?"undefined":r(e))&&e.playVideo instanceof Function?n(e):l.then((function(r){var o=new r.Player(e,t);return s.on("ready",(function(){n(o)})),null}))})),c=a.default.promisifyPlayer(u,n);return c.on=s.on,c.off=s.off,c},e.exports=t.default},5900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(9090))&&r.__esModule?r:{default:r};t.default=function(e){return new Promise((function(t){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function)t(window.YT);else{var n="http:"===window.location.protocol?"http:":"https:";(0,o.default)(n+"//www.youtube.com/iframe_api",(function(t){t&&e.trigger("error",t)}));var r=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){r&&r(),t(window.YT)}}}))},e.exports=t.default},9215:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(5046)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},5046:(e,t,n)=>{var r;function o(e){function n(){if(n.enabled){var e=n,o=+new Date,i=o-(r||o);e.diff=i,e.prev=r,e.curr=o,r=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var o=t.formatters[r];if("function"==typeof o){var i=a[l];n=o.call(e,i),a.splice(l,1),l--}return n})),t.formatArgs.call(e,a),(n.log||t.log||console.log.bind(console)).apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&("-"===(e=n[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(4680),t.names=[],t.skips=[],t.formatters={}},4680:e=>{var t=1e3,n=60*t,r=60*n,o=24*r;function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,a){a=a||{};var s,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&!1===isNaN(e))return a.long?i(s=e,o,"day")||i(s,r,"hour")||i(s,n,"minute")||i(s,t,"second")||s+" ms":function(e){return e>=o?Math.round(e/o)+"d":e>=r?Math.round(e/r)+"h":e>=n?Math.round(e/n)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2204:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%272%27 fill=%27%23fff%27/%3e%3c/svg%3e"},9609:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%2386b7fe%27/%3e%3c/svg%3e"},2469:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27%23fff%27/%3e%3c/svg%3e"},7486:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%280, 0, 0, 0.25%29%27/%3e%3c/svg%3e"},991:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%27-4 -4 8 8%27%3e%3ccircle r=%273%27 fill=%27rgba%28255, 255, 255, 0.25%29%27/%3e%3c/svg%3e"},4144:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 12 12%27 width=%2712%27 height=%2712%27 fill=%27none%27 stroke=%27%23dc3545%27%3e%3ccircle cx=%276%27 cy=%276%27 r=%274.5%27/%3e%3cpath stroke-linejoin=%27round%27 d=%27M5.8 3.6h.4L6 6.5z%27/%3e%3ccircle cx=%276%27 cy=%278.2%27 r=%27.6%27 fill=%27%23dc3545%27 stroke=%27none%27/%3e%3c/svg%3e"},6254:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23000%27%3e%3cpath d=%27M.293.293a1 1 0 0 1 1.414 0L8 6.586 14.293.293a1 1 0 1 1 1.414 1.414L9.414 8l6.293 6.293a1 1 0 0 1-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L6.586 8 .293 1.707a1 1 0 0 1 0-1.414z%27/%3e%3c/svg%3e"},5321:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23052c65%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},3460:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23212529%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},1281:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%236ea8fe%27%3e%3cpath fill-rule=%27evenodd%27 d=%27M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},5647:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z%27/%3e%3c/svg%3e"},1692:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27 fill=%27%23fff%27%3e%3cpath d=%27M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z%27/%3e%3c/svg%3e"},6770:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23343a40%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},6711:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 16 16%27%3e%3cpath fill=%27none%27 stroke=%27%23dee2e6%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%27m2 5 6 6 6-6%27/%3e%3c/svg%3e"},8931:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27M6 10h8%27/%3e%3c/svg%3e"},6199:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 20 20%27%3e%3cpath fill=%27none%27 stroke=%27%23fff%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%273%27 d=%27m6 10 3 3 6-6%27/%3e%3c/svg%3e"},2956:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%28255, 255, 255, 0.55%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},2221:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 30 30%27%3e%3cpath stroke=%27rgba%2833, 37, 41, 0.75%29%27 stroke-linecap=%27round%27 stroke-miterlimit=%2710%27 stroke-width=%272%27 d=%27M4 7h22M4 15h22M4 23h22%27/%3e%3c/svg%3e"},5122:e=>{"use strict";e.exports="data:image/svg+xml,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 8 8%27%3e%3cpath fill=%27%23198754%27 d=%27M2.3 6.73.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z%27/%3e%3c/svg%3e"},1314:(e,t,n)=>{"use strict";e.exports=n.p+"assets/araki.jpg"},5410:()=>{},8628:()=>{},1601:()=>{},7792:()=>{},4977:()=>{},5042:()=>{}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return r[e].call(n.exports,n,n.exports,i),n.loaded=!0,n.exports}i.m=r,i.amdD=function(){throw new Error("define cannot be used indirect")},i.amdO={},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var o=Object.create(null);i.r(o);var a={};t=t||[null,n({}),n([]),n(n)];for(var s=2&r&&e;"object"==typeof s&&!~t.indexOf(s);s=n(s))Object.getOwnPropertyNames(s).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,i.d(o,a),o},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i.b=document.baseURI||self.location.href,i.nc=void 0,(()=>{"use strict";var e={};i.r(e),i.d(e,{hasBrowserEnv:()=>lr,hasStandardBrowserEnv:()=>ur,hasStandardBrowserWebWorkerEnv:()=>dr});var t={};i.r(t),i.d(t,{assertParamsValid:()=>CL,computeFlatOffset:()=>$L,computeOutShape:()=>jL,getNormalizedAxes:()=>RL,isSliceContinous:()=>BL,maskToAxes:()=>IL,parseSliceParams:()=>zL,sliceInfo:()=>UL,startForAxis:()=>LL,startIndicesWithElidedDims:()=>PL,stopForAxis:()=>FL,stopIndicesWithElidedDims:()=>ML,stridesForAxis:()=>DL,stridesWithElidedDims:()=>AL});var n={};i.r(n),i.d(n,{collectGatherOpShapeInfo:()=>nU,computeOutShape:()=>tU,segOpComputeOptimalWindowSize:()=>eU});var r={};i.r(r),i.d(r,{ERF_A1:()=>yz,ERF_A2:()=>vz,ERF_A3:()=>xz,ERF_A4:()=>wz,ERF_A5:()=>kz,ERF_P:()=>bz,PARALLELIZE_THRESHOLD:()=>rz,RowPartitionType:()=>J$,SELU_SCALE:()=>gz,SELU_SCALEALPHA:()=>mz,applyActivation:()=>o$,assertAndGetBroadcastShape:()=>dL,assertAxesAreInnerMostDims:()=>ZF,assertParamsConsistent:()=>K$,assignToTypedArray:()=>Iz,axesAreInnerMostDims:()=>qF,calculateShapes:()=>fz,checkEinsumDimSizes:()=>Lz,checkPadOnDimRoundingMode:()=>sF,combineLocations:()=>XF,combineRaggedTensorToTensorShapes:()=>Q$,complexWithEvenIndex:()=>Ez,complexWithOddIndex:()=>Tz,computeConv2DInfo:()=>KL,computeConv3DInfo:()=>ZL,computeDefaultPad:()=>JL,computeDilation2DInfo:()=>qL,computeOptimalWindowSize:()=>oz,computeOutAndReduceShapes:()=>YF,computeOutShape:()=>Z$,computePool2DInfo:()=>XL,computePool3DInfo:()=>YL,convertConv2DDataFormat:()=>aF,decodeEinsumEquation:()=>Mz,eitherStridesOrDilationsAreOne:()=>oF,expandShapeToKeepDim:()=>KF,exponent:()=>Az,exponents:()=>jz,fromStringArrayToUint8:()=>oU,fromUint8ToStringArray:()=>rU,getAxesPermutation:()=>JF,getBroadcastDims:()=>uL,getComplexWithIndex:()=>Cz,getEinsumComputePath:()=>Fz,getEinsumPermutation:()=>Dz,getFusedBiasGradient:()=>r$,getFusedDyActivation:()=>n$,getImageCenter:()=>iz,getInnerMostAxes:()=>eB,getPermuted:()=>sz,getRaggedRank:()=>tz,getReductionAxes:()=>cL,getReshaped:()=>az,getReshapedPermuted:()=>lz,getRowPartitionTypesHelper:()=>ez,getSliceBeginCoords:()=>uz,getSliceSize:()=>cz,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>Uz,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>Vz,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>Gz,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>qz,getSparseReshapeInputOutputMismatchErrorMessage:()=>Yz,getSparseReshapeInputOutputMultipleErrorMessage:()=>Xz,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>Wz,getSparseReshapeNegativeOutputDimErrorMessage:()=>Hz,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>Qz,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>Kz,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>Zz,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>Jz,getUndoAxesPermutation:()=>QF,isIdentityPermutation:()=>Bz,log:()=>SP,mergeRealAndImagArrays:()=>_z,prepareAndValidate:()=>dz,prepareSplitSize:()=>zz,segment_util:()=>n,shouldFuse:()=>i$,slice_util:()=>t,splitRealAndImagArrays:()=>Sz,stridesOrDilationsArePositive:()=>iF,tupleValuesAreOne:()=>rF,upcastType:()=>EM,validateDefaultValueShape:()=>nz,validateInput:()=>hz,validateUpdateShape:()=>pz,warn:()=>_P});var o={};i.r(o),i.d(o,{addImpl:()=>$Z,bincountImpl:()=>NJ,bincountReduceImpl:()=>RJ,bitwiseAndImpl:()=>MJ,castImpl:()=>MZ,ceilImpl:()=>FJ,concatImpl:()=>GJ,equalImpl:()=>IQ,expImpl:()=>BQ,expm1Impl:()=>GQ,floorImpl:()=>s0,gatherNdImpl:()=>m0,gatherV2Impl:()=>b0,greaterEqualImpl:()=>k0,greaterImpl:()=>v0,lessEqualImpl:()=>M0,lessImpl:()=>N0,linSpaceImpl:()=>F0,logImpl:()=>$0,maxImpl:()=>t1,maximumImpl:()=>o1,minimumImpl:()=>f1,multiplyImpl:()=>xQ,negImpl:()=>S1,notEqualImpl:()=>N1,prodImpl:()=>W1,raggedGatherImpl:()=>X1,raggedRangeImpl:()=>Z1,raggedTensorToTensorImpl:()=>r2,rangeImpl:()=>i2,rsqrtImpl:()=>b2,scatterImpl:()=>x2,sigmoidImpl:()=>TZ,simpleAbsImpl:()=>YZ,sliceImpl:()=>IJ,sparseFillEmptyRowsImpl:()=>$2,sparseReshapeImpl:()=>U2,sparseSegmentReductionImpl:()=>G2,sqrtImpl:()=>Y2,staticRegexReplaceImpl:()=>n3,stridedSliceImpl:()=>a3,stringNGramsImpl:()=>u3,stringSplitImpl:()=>p3,stringToHashBucketFastImpl:()=>f3,subImpl:()=>KQ,tileImpl:()=>x3,topKImpl:()=>S3,transposeImpl:()=>nJ,uniqueImpl:()=>O3});var a={};i.r(a),i.d(a,{FILE:()=>Tie,HTML:()=>jie,TEXT:()=>Iie,URL:()=>Cie});var s,l=i(7294),u=i.t(l,2),c=i(3935),d=i.t(c,2),p=i(3379),h=i.n(p),f=i(7795),m=i.n(f),g=i(569),b=i.n(g),y=i(3565),v=i.n(y),x=i(9216),w=i.n(x),k=i(4589),_=i.n(k),S=i(1424),E={};function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}E.styleTagTransform=_(),E.setAttributes=v(),E.insert=b().bind(null,"head"),E.domAPI=m(),E.insertStyleElement=w(),h()(S.Z,E),S.Z&&S.Z.locals&&S.Z.locals,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const C="popstate";function I(e,t){if(!1===e||null==e)throw new Error(t)}function j(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw new Error(t)}catch(e){}}}function A(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n,r){return void 0===n&&(n=null),T({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?R(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function N(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function R(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var P;function M(e,t,n){void 0===n&&(n="/");let r=Y(("string"==typeof t?R(t):t).pathname||"/",n);if(null==r)return null;let o=D(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let i=null;for(let e=0;null==i&&e<o.length;++e)i=H(o[e],X(r));return i}function D(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let o=(e,o,i)=>{let a={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};a.relativePath.startsWith("/")&&(I(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let s=Q([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(I(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),D(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:W(s,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of L(e.path))o(e,t,n);else o(e,t)})),t}function L(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let a=L(r.join("/")),s=[];return s.push(...a.map((e=>""===e?i:[i,e].join("/")))),o&&s.push(...a),s.map((t=>e.startsWith("/")&&""===t?"/":t))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(P||(P={})),new Set(["lazy","caseSensitive","path","id","index","children"]);const F=/^:[\w-]+$/,B=3,$=2,z=1,U=10,V=-2,G=e=>"*"===e;function W(e,t){let n=e.split("/"),r=n.length;return n.some(G)&&(r+=V),t&&(r+=$),n.filter((e=>!G(e))).reduce(((e,t)=>e+(F.test(t)?B:""===t?z:U)),r)}function H(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,l="/"===o?t:t.slice(o.length)||"/",u=q({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!u)return null;Object.assign(r,u.params);let c=a.route;i.push({params:r,pathname:Q([o,u.pathname]),pathnameBase:ee(Q([o,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(o=Q([o,u.pathnameBase]))}return i}function q(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],a=i.replace(/(.)\/+$/,"$1"),s=o.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return j(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{});return{params:l,pathname:i,pathnameBase:a,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return j(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function K(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Z(e,t){let n=function(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function J(e,t,n,r){let o;void 0===r&&(r=!1),"string"==typeof e?o=R(e):(o=T({},e),I(!o.pathname||!o.pathname.includes("?"),K("?","pathname","search",o)),I(!o.pathname||!o.pathname.includes("#"),K("#","pathname","hash",o)),I(!o.search||!o.search.includes("#"),K("#","search","hash",o)));let i,a=""===e||""===o.pathname,s=a?"/":o.pathname;if(null==s)i=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:o=""}="string"==typeof e?R(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:te(r),hash:ne(o)}}(o,i),u=s&&"/"!==s&&s.endsWith("/"),c=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}const Q=e=>e.join("/").replace(/\/\/+/g,"/"),ee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),te=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ne=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;const re=["post","put","patch","delete"],oe=(new Set(re),["get",...re]);function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}new Set(oe),new Set([301,302,303,307,308]),new Set([307,308]),Symbol("deferred");const ae=l.createContext(null),se=l.createContext(null),le=l.createContext(null),ue=l.createContext(null),ce=l.createContext({outlet:null,matches:[],isDataRoute:!1}),de=l.createContext(null);function pe(){return null!=l.useContext(ue)}function he(){return pe()||I(!1),l.useContext(ue).location}function fe(e){l.useContext(le).static||l.useLayoutEffect(e)}function me(){let{isDataRoute:e}=l.useContext(ce);return e?function(){let{router:e}=function(e){let t=l.useContext(ae);return t||I(!1),t}(_e.UseNavigateStable),t=Ee(Se.UseNavigateStable),n=l.useRef(!1);fe((()=>{n.current=!0}));let r=l.useCallback((function(r,o){void 0===o&&(o={}),n.current&&("number"==typeof r?e.navigate(r):e.navigate(r,ie({fromRouteId:t},o)))}),[e,t]);return r}():function(){pe()||I(!1);let e=l.useContext(ae),{basename:t,future:n,navigator:r}=l.useContext(le),{matches:o}=l.useContext(ce),{pathname:i}=he(),a=JSON.stringify(Z(o,n.v7_relativeSplatPath)),s=l.useRef(!1);fe((()=>{s.current=!0}));let u=l.useCallback((function(n,o){if(void 0===o&&(o={}),!s.current)return;if("number"==typeof n)return void r.go(n);let l=J(n,JSON.parse(a),i,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Q([t,l.pathname])),(o.replace?r.replace:r.push)(l,o.state,o)}),[t,r,a,i,e]);return u}()}function ge(){let{matches:e}=l.useContext(ce),t=e[e.length-1];return t?t.params:{}}function be(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=l.useContext(le),{matches:o}=l.useContext(ce),{pathname:i}=he(),a=JSON.stringify(Z(o,r.v7_relativeSplatPath));return l.useMemo((()=>J(e,JSON.parse(a),i,"path"===n)),[e,a,i,n])}function ye(e,t,n,r){pe()||I(!1);let{navigator:o}=l.useContext(le),{matches:i}=l.useContext(ce),a=i[i.length-1],u=a?a.params:{},c=(a&&a.pathname,a?a.pathnameBase:"/");a&&a.route;let d,p=he();if(t){var h;let e="string"==typeof t?R(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||I(!1),d=e}else d=p;let f=d.pathname||"/",m=M(e,{pathname:"/"===c?f:f.slice(c.length)||"/"}),g=function(e,t,n,r){var o;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var i;if(null==(i=n)||!i.errors)return null;e=n.matches}let a=e,s=null==(o=n)?void 0:o.errors;if(null!=s){let e=a.findIndex((e=>e.route.id&&(null==s?void 0:s[e.route.id])));e>=0||I(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,o=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||o){u=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}return a.reduceRight(((e,r,o)=>{let i,d=!1,p=null,h=null;var f;n&&(i=s&&r.route.id?s[r.route.id]:void 0,p=r.route.errorElement||xe,u&&(c<0&&0===o?(Te[f="route-fallback"]||(Te[f]=!0),d=!0,h=null):c===o&&(d=!0,h=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,o+1)),g=()=>{let t;return t=i?p:d?h:r.route.Component?l.createElement(r.route.Component,null):r.route.element?r.route.element:e,l.createElement(ke,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===o)?l.createElement(we,{location:n.location,revalidation:n.revalidation,component:p,error:i,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:Q([c,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:Q([c,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,n,r);return t&&g?l.createElement(ue.Provider,{value:{location:ie({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:s.Pop}},g):g}function ve(){let e=function(){var e;let t=l.useContext(de),n=function(e){let t=l.useContext(se);return t||I(!1),t}(Se.UseRouteError),r=Ee(Se.UseRouteError);return void 0!==t?t:null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),n?l.createElement("pre",{style:r},n):null,null)}const xe=l.createElement(ve,null);class we extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?l.createElement(ce.Provider,{value:this.props.routeContext},l.createElement(de.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ke(e){let{routeContext:t,match:n,children:r}=e,o=l.useContext(ae);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(ce.Provider,{value:t},r)}var _e=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_e||{}),Se=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Se||{});function Ee(e){let t=function(e){let t=l.useContext(ce);return t||I(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||I(!1),n.route.id}const Te={};function Ce(e){let{to:t,replace:n,state:r,relative:o}=e;pe()||I(!1);let{future:i,static:a}=l.useContext(le),{matches:s}=l.useContext(ce),{pathname:u}=he(),c=me(),d=J(t,Z(s,i.v7_relativeSplatPath),u,"path"===o),p=JSON.stringify(d);return l.useEffect((()=>c(JSON.parse(p),{replace:n,state:r,relative:o})),[c,p,o,n,r]),null}function Ie(e){I(!1)}function je(e){let{basename:t="/",children:n=null,location:r,navigationType:o=s.Pop,navigator:i,static:a=!1,future:u}=e;pe()&&I(!1);let c=t.replace(/^\/*/,"/"),d=l.useMemo((()=>({basename:c,navigator:i,static:a,future:ie({v7_relativeSplatPath:!1},u)})),[c,u,i,a]);"string"==typeof r&&(r=R(r));let{pathname:p="/",search:h="",hash:f="",state:m=null,key:g="default"}=r,b=l.useMemo((()=>{let e=Y(p,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:m,key:g},navigationType:o}}),[c,p,h,f,m,g,o]);return null==b?null:l.createElement(le.Provider,{value:d},l.createElement(ue.Provider,{children:n,value:b}))}function Ae(e){let{children:t,location:n}=e;return ye(Oe(t),n)}function Oe(e,t){void 0===t&&(t=[]);let n=[];return l.Children.forEach(e,((e,r)=>{if(!l.isValidElement(e))return;let o=[...t,r];if(e.type===l.Fragment)return void n.push.apply(n,Oe(e.props.children,o));e.type!==Ie&&I(!1),e.props.index&&e.props.children&&I(!1);let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Oe(e.props.children,o)),n.push(i)})),n}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ne.apply(this,arguments)}u.startTransition,new Promise((()=>{})),l.Component,new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Re=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const Pe=u.startTransition;function Me(e){let{basename:t,children:n,future:r,window:o}=e,i=l.useRef();null==i.current&&(i.current=function(e){return void 0===e&&(e={}),function(e,t,n,r){void 0===r&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,l=s.Pop,u=null,c=d();function d(){return(a.state||{idx:null}).idx}function p(){l=s.Pop;let e=d(),t=null==e?null:e-c;c=e,u&&u({action:l,location:f.location,delta:t})}function h(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"==typeof e?e:N(e);return I(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,a.replaceState(T({},a.state,{idx:c}),""));let f={get action(){return l},get location(){return e(o,a)},listen(e){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(C,p),u=e,()=>{o.removeEventListener(C,p),u=null}},createHref:e=>t(o,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=s.Push;let r=O(f.location,e,t);n&&n(r,e),c=d()+1;let p=A(r,c),h=f.createHref(r);try{a.pushState(p,"",h)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;o.location.assign(h)}i&&u&&u({action:l,location:f.location,delta:1})},replace:function(e,t){l=s.Replace;let r=O(f.location,e,t);n&&n(r,e),c=d();let o=A(r,c),p=f.createHref(r);a.replaceState(o,"",p),i&&u&&u({action:l,location:f.location,delta:0})},go:e=>a.go(e)};return f}((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return O("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:N(t)}),null,e)}({window:o,v5Compat:!0}));let a=i.current,[u,c]=l.useState({action:a.action,location:a.location}),{v7_startTransition:d}=r||{},p=l.useCallback((e=>{d&&Pe?Pe((()=>c(e))):c(e)}),[c,d]);return l.useLayoutEffect((()=>a.listen(p)),[a,p]),l.createElement(je,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:a,future:r})}d.flushSync,u.useId;const De="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,Le=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fe=l.forwardRef((function(e,t){let n,{onClick:r,relative:o,reloadDocument:i,replace:a,state:s,target:u,to:c,preventScrollReset:d,unstable_viewTransition:p}=e,h=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,Re),{basename:f}=l.useContext(le),m=!1;if("string"==typeof c&&Le.test(c)&&(n=c,De))try{let e=new URL(window.location.href),t=c.startsWith("//")?new URL(e.protocol+c):new URL(c),n=Y(t.pathname,f);t.origin===e.origin&&null!=n?c=n+t.search+t.hash:m=!0}catch(e){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;pe()||I(!1);let{basename:r,navigator:o}=l.useContext(le),{hash:i,pathname:a,search:s}=be(e,{relative:n}),u=a;return"/"!==r&&(u="/"===a?r:Q([r,a])),o.createHref({pathname:u,search:s,hash:i})}(c,{relative:o}),b=function(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:s}=void 0===t?{}:t,u=me(),c=he(),d=be(e,{relative:a});return l.useCallback((t=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(t,n)){t.preventDefault();let n=void 0!==r?r:N(c)===N(d);u(e,{replace:n,state:o,preventScrollReset:i,relative:a,unstable_viewTransition:s})}}),[c,u,d,r,o,n,e,i,a,s])}(c,{replace:a,state:s,target:u,preventScrollReset:d,relative:o,unstable_viewTransition:p});return l.createElement("a",Ne({},h,{href:n||g,onClick:m||i?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Be,$e;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Be||(Be={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}($e||($e={})),i(1739),Object.create(null);const ze={};function Ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&ze[t[0]]||("string"==typeof t[0]&&(ze[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}(...t))}const Ve=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}};function Ge(e,t,n){e.loadNamespaces(t,Ve(e,n))}function We(e,t,n,r){"string"==typeof n&&(n=[n]),n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,Ve(e,r))}const He=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,qe={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Xe=e=>qe[e];let Ye,Ke={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(He,Xe)};const Ze={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Ke={...Ke,...e}}(e.options.react),function(e){Ye=e}(e)}},Je=(0,l.createContext)();class Qe{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function et(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:n}=t,{i18n:r,defaultNS:o}=(0,l.useContext)(Je)||{},i=n||r||Ye;if(i&&!i.reportNamespaces&&(i.reportNamespaces=new Qe),!i){Ue("You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}i.options.react&&void 0!==i.options.react.wait&&Ue("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...Ke,...i.options.react,...t},{useSuspense:s,keyPrefix:u}=a;let c=e||o||i.options&&i.options.defaultNS;c="string"==typeof c?[c]:c||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(c);const d=(i.isInitialized||i.initializedStoreOnce)&&c.every((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,r)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!r(t.isLanguageChangingTo,e))return!1}}):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.languages[0],o=!!t.options&&t.options.fallbackLng,i=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;const a=(e,n)=>{const r=t.services.backendConnector.state[`${e}|${n}`];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(r,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(r,e)||o&&!a(i,e)))}(e,t,n):(Ue("i18n.languages were undefined or empty",t.languages),!0)}(e,i,a)));function p(){return i.getFixedT(t.lng||null,"fallback"===a.nsMode?c:c[0],u)}const[h,f]=(0,l.useState)(p);let m=c.join();t.lng&&(m=`${t.lng}${m}`);const g=((e,t)=>{const n=(0,l.useRef)();return(0,l.useEffect)((()=>{n.current=t?n.current:e}),[e,t]),n.current})(m),b=(0,l.useRef)(!0);(0,l.useEffect)((()=>{const{bindI18n:e,bindI18nStore:n}=a;function r(){b.current&&f(p)}return b.current=!0,d||s||(t.lng?We(i,t.lng,c,(()=>{b.current&&f(p)})):Ge(i,c,(()=>{b.current&&f(p)}))),d&&g&&g!==m&&b.current&&f(p),e&&i&&i.on(e,r),n&&i&&i.store.on(n,r),()=>{b.current=!1,e&&i&&e.split(" ").forEach((e=>i.off(e,r))),n&&i&&n.split(" ").forEach((e=>i.store.off(e,r)))}}),[i,m]);const y=(0,l.useRef)(!0);(0,l.useEffect)((()=>{b.current&&!y.current&&f(p),y.current=!1}),[i,u]);const v=[h,i,d];if(v.t=h,v.i18n=i,v.ready=d,d)return v;if(!d&&!s)return v;throw new Promise((e=>{t.lng?We(i,t.lng,c,(()=>e())):Ge(i,c,(()=>e()))}))}function tt(e){let{i18n:t,defaultNS:n,children:r}=e;const o=(0,l.useMemo)((()=>({i18n:t,defaultNS:n})),[t,n]);return(0,l.createElement)(Je.Provider,{value:o},r)}var nt=i(4666),rt={};rt.styleTagTransform=_(),rt.setAttributes=v(),rt.insert=b().bind(null,"head"),rt.domAPI=m(),rt.insertStyleElement=w(),h()(nt.Z,rt),nt.Z&&nt.Z.locals&&nt.Z.locals,i(8702);var ot=i(995),it={};it.styleTagTransform=_(),it.setAttributes=v(),it.insert=b().bind(null,"head"),it.domAPI=m(),it.insertStyleElement=w(),h()(ot.Z,it),ot.Z&&ot.Z.locals&&ot.Z.locals;var at=i(2992),st={};st.styleTagTransform=_(),st.setAttributes=v(),st.insert=b().bind(null,"head"),st.domAPI=m(),st.insertStyleElement=w(),h()(at.Z,st),at.Z&&at.Z.locals&&at.Z.locals;const lt=i.p+"assets/logoNegroHolo.PNG",ut=i.p+"assets/logoko.PNG",ct=function({isLoggedIn:e,handleLogout:t,userData:n}){const{t:r,i18n:o}=et(),[i,a]=(0,l.useState)(!1),[s,u]=(0,l.useState)("en"),[c,d]=(0,l.useState)("/"),p=e=>{o.changeLanguage(e),u(e)},h=()=>{a(!1)};return(0,l.useEffect)((()=>{const e=e=>{const t=document.querySelector(".navbar");t&&!t.contains(e.target)&&h()};return i&&document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[i]),l.createElement("div",{className:"sidebar "+(i?"navbar-closed":"")},l.createElement("div",{className:"logo-class "+(i?"logo-class-closed":"")},l.createElement(Fe,{className:"navbar-brand"},i?l.createElement("img",{className:"logo1",src:ut,alt:""}):l.createElement("img",{className:"logo2",src:lt,alt:""}))),l.createElement("div",{className:"navbar-nav"},l.createElement("ul",{className:"navbar-nav"},l.createElement("li",{className:"nav-item"},l.createElement("div",{className:"art-options "+(i?"art-options-closed":""),id:"artOptions"},l.createElement(Fe,{to:"/",className:"nav-link "+("/"===c?"selected":""),onClick:()=>{h(),d("/")}},r("home")),!e&&l.createElement(l.Fragment,null,l.createElement(Fe,{to:"/login",className:"nav-link "+("/login"===c?"selected":""),onClick:()=>{h(),d("/login")}},r("signIn")),l.createElement(Fe,{to:"/register",className:"nav-link "+("/register"===c?"selected":""),onClick:()=>{h(),d("/register")}},r("signUp"))),l.createElement(Fe,{to:"/artists",className:"nav-link "+("/artists"===c?"selected":""),onClick:()=>{h(),d("/artists")}},r("artists")),l.createElement(Fe,{to:"/collection",className:"nav-link "+("/collection"===c?"selected":""),onClick:()=>{h(),d("/collection")}},r("gallery")),l.createElement(Fe,{to:"/magazine",className:"nav-link "+("/magazine"===c?"selected":""),onClick:()=>{h(),d("/magazine")}},r("magazine")),l.createElement(Fe,{to:"/SketchList",className:"nav-link "+("/SketchList"===c?"selected":""),onClick:()=>{h(),d("/SketchList")}},r("SketchList")),e&&l.createElement(Fe,{to:"/profile",className:"nav-link"},r("profile")),e&&l.createElement(Fe,{to:"/",className:"nav-link",onClick:t},r("logout")))))),l.createElement("div",{className:"class-lang "+(i?"class-lang-closed":"")},l.createElement("div",{className:"nav-lang"},l.createElement("button",{className:"language-button "+("en"===s?"selected":""),onClick:()=>p("en")},"ENGLISH"),l.createElement("span",{className:"language-separator"}),l.createElement("button",{className:"language-button "+("es"===s?"selected":""),onClick:()=>p("es")},"SPANISH")),!i&&l.createElement("button",{className:"open-button",onClick:e=>{e.preventDefault(),e.stopPropagation(),a(!i)}},"x"),i&&l.createElement("button",{className:"close-button",onClick:h},"=")))},dt={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class pt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||dt,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new pt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new pt(this.logger,e)}}var ht=new pt;class ft{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)})),this}off(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((e=>e!==t)):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((e=>{e(...n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((t=>{t.apply(t,[e,...n])}))}}function mt(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}function gt(e){return null==e?"":""+e}function bt(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}const i="string"!=typeof t?[].concat(t):t.split(".");for(;i.length>1;){if(o())return{};const t=r(i.shift());!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{}}return o()?{}:{obj:e,k:r(i.shift())}}function yt(e,t,n){const{obj:r,k:o}=bt(e,t,Object);r[o]=n}function vt(e,t){const{obj:n,k:r}=bt(e,t);if(n)return n[r]}function xt(e,t,n){for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):xt(e[r],t[r],n):e[r]=t[r]);return e}function wt(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function _t(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(e=>kt[e])):e}const St=[" ",",","?","!",";"];function Et(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let o=e;for(let e=0;e<r.length;++e){if(!o)return;if("string"==typeof o[r[e]]&&e+1<r.length)return;if(void 0===o[r[e]]){let i=2,a=r.slice(e,e+i).join(n),s=o[a];for(;void 0===s&&r.length>e+i;)i++,a=r.slice(e,e+i).join(n),s=o[a];if(void 0===s)return;if(null===s)return null;if(t.endsWith(a)){if("string"==typeof s)return s;if(a&&"string"==typeof s[a])return s[a]}const l=r.slice(e+i).join(n);return l?Et(s,l,n):void 0}o=o[r[e]]}return o}function Tt(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class Ct extends ft{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,i=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."));const s=vt(this.data,a);return s||!i||"string"!=typeof n?s:Et(this.data&&this.data[e]&&this.data[e][t],n,o)}addResource(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."),r=t,t=a[1]),this.addNamespaces(t),yt(this.data,a,r),o.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=t,t=a[1]),this.addNamespaces(t);let s=vt(this.data,a)||{};r?xt(s,n,o):s={...s,...n},yt(this.data,a,s),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var It={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,o))})),t}};const jt={};class At extends ft{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;super(),n=e,r=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{n[e]&&(r[e]=n[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=ht.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";const r=St.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const o=new RegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let i=!o.test(e);if(!i){const t=e.indexOf(n);t>0&&!o.test(e.substring(0,t))&&(i=!0)}return i}(e,n,r));if(i&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o};const i=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(i[0])>-1)&&(o=i.shift()),e=i.join(r)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:i,namespaces:a}=this.extractFromKey(e[e.length-1],t),s=a[a.length-1],l=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${s}${e}${i}`,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${i}`}return r?{res:i,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:i}const c=this.resolve(e,t);let d=c&&c.res;const p=c&&c.usedKey||i,h=c&&c.exactUsedKey||i,f=Object.prototype.toString.apply(d),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject;if(g&&d&&"string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0&&("string"!=typeof m||"[object Array]"!==f)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...t,ns:a}):`key '${i} (${this.language})' returned an object instead of string.`;return r?(c.res=e,c.usedParams=this.getUsedParamsDetails(t),c):e}if(o){const e="[object Array]"===f,n=e?[]:{},r=e?h:p;for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e)){const i=`${r}${o}${e}`;n[e]=this.translate(i,{...t,joinArrays:!1,ns:a}),n[e]===i&&(n[e]=d[e])}d=n}}else if(g&&"string"==typeof m&&"[object Array]"===f)d=d.join(m),d&&(d=this.extendTranslation(d,e,t,n));else{let r=!1,a=!1;const u=void 0!==t.count&&"string"!=typeof t.count,p=At.hasDefaultValue(t),h=u?this.pluralResolver.getSuffix(l,t.count,t):"",f=t.ordinal&&u?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",m=t[`defaultValue${h}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(d)&&p&&(r=!0,d=m),this.isValidLookup(d)||(a=!0,d=i);const g=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&a?void 0:d,b=p&&m!==d&&this.options.updateMissing;if(a||r||b){if(this.logger.log(b?"updateKey":"missingKey",l,s,i,b?m:d),o){const e=this.resolve(i,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const o=p&&r!==d?r:g;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,o,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,o,b,t),this.emit("missingKey",e,s,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?e.forEach((e=>{this.pluralResolver.getSuffixes(e,t).forEach((n=>{r([e],i+n,t[`defaultValue${n}`]||m)}))})):r(e,i,m))}d=this.extendTranslation(d,e,t,c,n),a&&d===i&&this.options.appendNamespaceToMissingKey&&(d=`${s}:${i}`),(a||r)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${i}`:i,r?d:void 0):this.options.parseMissingKeyHandler(d))}return r?(c.res=d,c.usedParams=this.getUsedParamsDetails(t),c):d}extendTranslation(e,t,n,r,o){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const a="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(a){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),a){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return o&&o[0]===r[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):i.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,s="string"==typeof a?[a]:a;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=It.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,o,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,a),l=s.key;n=l;let u=s.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==a.count&&"string"!=typeof a.count,d=c&&!a.ordinal&&0===a.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,h=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(i=e,!jt[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(jt[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;o=n;const i=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(i,l,n,e,a);else{let e;c&&(e=this.pluralResolver.getSuffix(n,a.count,a));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(i.push(l+e),a.ordinal&&0===e.indexOf(r)&&i.push(l+e.replace(r,this.options.pluralSeparator)),d&&i.push(l+t)),p){const n=`${l}${this.options.contextSeparator}${a.context}`;i.push(n),c&&(i.push(n+e),a.ordinal&&0===e.indexOf(r)&&i.push(n+e.replace(r,this.options.pluralSeparator)),d&&i.push(n+t))}}let s;for(;s=i.pop();)this.isValidLookup(t)||(r=s,t=this.getResource(n,e,s,a))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:i}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&"string"!=typeof e.replace;let r=n?e.replace:e;if(n&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}function Ot(e){return e.charAt(0).toUpperCase()+e.slice(1)}class Nt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ht.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Tt(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Tt(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ot(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ot(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ot(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:0===e.indexOf(n)?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&o(this.formatLanguageCode(e))})),r}}let Rt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Pt={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const Mt=["v1","v2","v3"],Dt=["v4"],Lt={zero:0,one:1,two:2,few:3,many:4,other:5};class Ft{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ht.create("pluralResolver"),this.options.compatibilityJSON&&!Dt.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return Rt.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:Pt[t.fc]}}))})),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(Tt(e),{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>Lt[e]-Lt[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const o=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"==typeof r?`_plural_${r.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Mt.includes(this.options.compatibilityJSON)}}function Bt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=function(e,t,n){const r=vt(e,n);return void 0!==r?r:vt(t,n)}(e,t,n);return!i&&o&&"string"==typeof n&&(i=Et(e,n,r),void 0===i&&(i=Et(t,n,r))),i}class $t{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ht.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=void 0!==t.escape?t.escape:_t,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?wt(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?wt(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?wt(t.nestingPrefix):t.nestingPrefixEscaped||wt("$t("),this.nestingSuffix=t.nestingSuffix?wt(t.nestingSuffix):t.nestingSuffixEscaped||wt(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(n,"g")}interpolate(e,t,n,r){let o,i,a;const s=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function l(e){return e.replace(/\$/g,"$$$$")}const u=e=>{if(e.indexOf(this.formatSeparator)<0){const o=Bt(t,s,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,{...r,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),i=o.shift().trim(),a=o.join(this.formatSeparator).trim();return this.format(Bt(t,s,i,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...r,...t,interpolationkey:i})};this.resetRegExp();const c=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,d=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>l(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?l(this.escape(e)):l(e)}].forEach((t=>{for(a=0;o=t.regex.exec(e);){const n=o[1].trim();if(i=u(n),void 0===i)if("function"==typeof c){const t=c(e,o,r);i="string"==typeof t?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))i="";else{if(d){i=o[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),i=""}else"string"==typeof i||this.useRawValueToEscape||(i=gt(i));const s=t.safeValue(i);if(e=e.replace(o[0],s),d?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function a(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let i=`{${r[1]}`;e=r[0],i=this.interpolate(i,o);const a=i.match(/'/g),s=i.match(/"/g);(a&&a.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{o=JSON.parse(i),t&&(o={...t,...o})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${i}`}return delete o.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let s=[];o={...i},o=o.replace&&"string"!=typeof o.replace?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),s=e,l=!0}if(r=t(a.call(this,n[1].trim(),o),o),r&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=gt(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l&&(r=s.reduce(((e,t)=>this.format(e,t,i.lng,{...i,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}function zt(e){const t={};return function(n,r,o){const i=r+JSON.stringify(o);let a=t[i];return a||(a=e(Tt(r),o),t[i]=a),a(n)}}class Ut{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=ht.create("formatter"),this.options=e,this.formats={number:zt(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:zt(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:zt(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:zt(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:zt(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=zt(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=t.split(this.formatSeparator).reduce(((e,t)=>{const{formatName:o,formatOptions:i}=function(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((e=>{if(!e)return;const[t,...r]=e.split(":"),o=r.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=o),"false"===o&&(n[t.trim()]=!1),"true"===o&&(n[t.trim()]=!0),isNaN(o)||(n[t.trim()]=parseInt(o,10))}))}return{formatName:t,formatOptions:n}}(t);if(this.formats[o]){let t=e;try{const a=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},s=a.locale||a.lng||r.locale||r.lng||n;t=this.formats[o](e,s,{...i,...r,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${o}`),e}),e);return o}}class Vt extends ft{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=ht.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const o={},i={},a={},s={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===i[a]&&(i[a]=!0):(this.state[a]=1,r=!1,void 0===i[a]&&(i[a]=!0),void 0===o[a]&&(o[a]=!0),void 0===s[t]&&(s[t]=!0)))})),r||(a[e]=!0)})),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const r=e.split("|"),o=r[0],i=r[1];t&&this.emit("failedLoading",o,i,t),n&&this.store.addResourceBundle(o,i,n),this.state[e]=t?-1:2;const a={};this.queue.forEach((n=>{!function(e,t,n,r){const{obj:o,k:i}=bt(e,t,Object);o[i]=o[i]||[],o[i].push(n)}(n.loaded,[o],i),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:o,callback:i});this.readingCalls++;const a=(a,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&s&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*o,i)}),o):i(a,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,a);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>a(null,e))).catch(a):a(null,n)}catch(e){a(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const o=this.queueLoad(e,t,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,((n,i)=>{n&&this.logger.warn(`${t}loading namespace ${o} for language ${r} failed`,n),!n&&i&&this.logger.log(`${t}loaded namespace ${o} for language ${r}`,i),this.loaded(e,n,i)}))}saveMissing(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...i,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;o=5===l.length?l(e,t,n,r,s):l(e,t,n,r),o&&"function"==typeof o.then?o.then((e=>a(null,e))).catch(a):a(null,o)}catch(e){a(e)}else l(e,t,n,r,a,s)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}function Gt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Wt(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Ht(){}class qt extends ft{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=Wt(e),this.services={},this.logger=ht,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=Gt();function o(e){return e?"function"==typeof e?new e:e:null}if(this.options={...r,...this.options,...Wt(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?ht.init(o(this.modules.logger),this.options):ht.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=Ut);const n=new Nt(this.options);this.store=new Ct(this.options.resources,this.options);const i=this.services;i.logger=ht,i.resourceStore=this.store,i.languageUtils=n,i.pluralResolver=new Ft(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(i.formatter=o(t),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new $t(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new Vt(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit(t,...r)})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new At(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=Ht),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const i=mt(),a=()=>{const e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht;const n="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};n?r(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e))),this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=mt();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Ht),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&It.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=mt();this.emit("languageChanging",e);const o=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(e,i)=>{i?(o(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||o(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{i(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const o=function(e,t){let i;if("object"!=typeof t){for(var a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];i=r.options.overloadTranslationOptionHandler([e,t].concat(s))}else i={...t};i.lng=i.lng||o.lng,i.lngs=i.lngs||o.lngs,i.ns=i.ns||o.ns,i.keyPrefix=i.keyPrefix||n||o.keyPrefix;const u=r.options.keySeparator||".";let c;return c=i.keyPrefix&&Array.isArray(e)?e.map((e=>`${i.keyPrefix}${u}${e}`)):i.keyPrefix?`${i.keyPrefix}${u}${e}`:e,r.t(c,i)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!(!this.hasResourceBundle(n,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!i(n,e)||r&&!i(o,e)))}loadNamespaces(e,t){const n=mt();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=mt();"string"==typeof e&&(e=[e]);const r=this.options.preload||[],o=e.filter((e=>r.indexOf(e)<0));return o.length?(this.options.preload=r.concat(o),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new Nt(Gt());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new qt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ht;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new qt(r);return void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e)),["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new Ct(this.store.data,r),o.services.resourceStore=o.store),o.translator=new At(o.services,r),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit(e,...n)})),o.init(r,t),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Xt=qt.createInstance();Xt.createInstance=qt.createInstance,Xt.createInstance,Xt.dir,Xt.init,Xt.loadResources,Xt.reloadResources,Xt.use,Xt.changeLanguage,Xt.getFixedT,Xt.t,Xt.exists,Xt.setDefaultNamespace,Xt.hasLoadedNamespace,Xt.loadNamespaces,Xt.loadLanguages,Xt.use(Ze).init({resources:{en:{translation:{home:"HOME",signUp:"SIGN UP",magazine:"MAGAZINE",gallery:"GALLERY",artists:"ARTISTS",apply:"APPLY",price:"PRICE",description:"DESCRIPTION",title:"TITLE",materials:"MATERIALS",selectArtist:"SELECT AN ARTIST",dimensions:"DIMENSIONS",upload:"UPLOAD AN IMAGE",createArt:"CREATE ARTWORK",SketchList:"SKETCH LIST",draw:"DRAW",movies:"MOVIES",sketchText:"STEP 1: PRESS U TO UPLOUD AN IMAGE     STEP 2: CLICK OVER THE SKETCH TO START DRAWING YOUR IMAGE",profile:"PROFILE",logout:"LOGOUT",signIn:"SIGN IN",password:"PASSWORD",username:"USERNAME"}},es:{translation:{home:"INICIO",signUp:"CREAR CUENTA",gallery:"GALERIA",artists:"ARTISTAS",apply:"APLICAR",price:"PRECIO",description:"DESCRIPCION",title:"TITULO",materials:"MATERIALES",selectArtist:"SELECCIONA UN ARTISTA",dimensions:"DIMENSIONES",upload:"CARGA UNA IMAGEN",createArt:"CREAR OBRA",creationDate:"FECHA DE CREACION",magazine:"REVISTA",SketchList:"BOCETOS",draw:"DIBUJAR",movies:"PELICULAS",sketchText:"PASO 1: APRIETA U PARA CARGAR UNA IMAGEN     PASO 2: PRESIONA EL CLICK ENCIMA DEL SKETCH Y DIBUJA TU IMAGEN",profile:"PERFIL",logout:"CERRAR SESION",signIn:"INICIAR SESION",password:"CONTRASEA",username:"NOMBRE DE USUARIO"}}},lng:"en",interpolation:{escapeValue:!1}});const Yt=Xt;var Kt=i(695),Zt={};Zt.styleTagTransform=_(),Zt.setAttributes=v(),Zt.insert=b().bind(null,"head"),Zt.domAPI=m(),Zt.insertStyleElement=w(),h()(Kt.Z,Zt),Kt.Z&&Kt.Z.locals&&Kt.Z.locals;const Jt=async e=>{try{const t=await fetch(`http://localhost:3002/artists/artistDetail/${e}`);return t.ok?await t.json():(console.error("Error fetching artist details"),null)}catch(e){return console.error("Error fetching artist details",e),null}},Qt=()=>{const{t:e}=et(),[t,n]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async()=>{const e=await(async()=>{try{const e=await fetch("http://localhost:3002/artists/artists");return await e.json()}catch(e){return console.error("Error at getting artists"),[]}})();n(e)})()}),[]),l.createElement("main",null,l.createElement("div",{className:"buscador mt-5 mx-auto text-center"},l.createElement("h1",{className:"title"},e("artists")),l.createElement("br",null)),l.createElement("div",{className:"artists-container"},t.map((e=>l.createElement("article",{className:"artist",key:e.ID},l.createElement("div",{className:"image"},l.createElement(Fe,{to:`/artist/${e.ID}`,key:e.ID},l.createElement("img",{src:e.Image,alt:e.Name})),l.createElement("div",{className:"line"}),l.createElement("div",{className:"detail"},l.createElement("p",{className:"name"},e.Name))))))))},en=async()=>{try{const e=await fetch("http://localhost:3002/artworks/artworks");return await e.json()}catch(e){return console.error("Error getting collection",e),[]}},tn=async()=>{try{const e=await fetch("http://localhost:3002/artworks/createArtwork");return await e.json()}catch(e){return console.error("Error al obtener artistas:",e),[]}};var nn=i(6386),rn={};rn.styleTagTransform=_(),rn.setAttributes=v(),rn.insert=b().bind(null,"head"),rn.domAPI=m(),rn.insertStyleElement=w(),h()(nn.Z,rn),nn.Z&&nn.Z.locals&&nn.Z.locals;var on=i(7603),an={};an.styleTagTransform=_(),an.setAttributes=v(),an.insert=b().bind(null,"head"),an.domAPI=m(),an.insertStyleElement=w(),h()(on.Z,an),on.Z&&on.Z.locals&&on.Z.locals;const sn=({artistArtworks:e})=>{const[t,n]=(0,l.useState)([]),[r,o]=(0,l.useState)(!0);return(0,l.useEffect)((()=>{(async()=>{try{const t=e||await en();n(t),o(!1)}catch(e){console.error("Error fetching artworks",e),o(!1)}})()}),[e]),l.createElement(l.Fragment,null,l.createElement("div",{className:"collection-container"},r?l.createElement("div",{className:"loading-container"},l.createElement("p",{className:"loading"},"Loading...")):l.createElement(l.Fragment,null,l.createElement("br",null),l.createElement("h1",{className:"title"},"COLLECTION"),l.createElement("br",null),l.createElement("div",{className:"artworks"},l.createElement("div",{className:"columns-container"},t&&Array.from({length:Math.ceil(t.length/3)}).map(((e,n)=>l.createElement("div",{className:"column",key:n},t.filter(((e,t)=>t%3===n)).map((e=>l.createElement(Fe,{to:`/artwork/${e.ID}`,key:e.ID},l.createElement("div",{className:"artwork-container",key:e.id},l.createElement("div",{className:"artwork"},l.createElement("img",{className:"artwork-image",src:e.Image,alt:e.Title}))))))))))))))},ln=()=>{const[e,t]=(0,l.useState)(null),{id:n}=ge(),[r,o]=(0,l.useState)([]);return(0,l.useEffect)((()=>{console.log("Fetching artist details and artworks..."),n&&(async e=>{try{const n=await Jt(e);t(n);const r=await(async e=>{try{const t=await fetch(`http://localhost:3002/artworks/byArtist/${e}`);return await t.json()}catch(t){return console.error(`Error fetching artworks for artist with ID ${e}:`,t),[]}})(e);o(r)}catch(e){console.error("Error fetching artist details",e)}})(n)}),[n]),(0,l.useEffect)((()=>{console.log("Artist artworks:",r)}),[r]),e?l.createElement(l.Fragment,null,l.createElement("div",{className:"artistDetailContainer"},l.createElement("div",{className:"detailsContainer"},l.createElement("div",{className:"descriptionContainer"},l.createElement("h1",{className:"artistName"},e.Name),l.createElement("p",{className:"artistDescription"},e.ArtistDescription),e.User&&l.createElement("div",{className:"userData"},l.createElement("p",null,"Username: ",e.User.Username),l.createElement("p",null,"Email: ",e.User.Email))),l.createElement("div",{className:"containerImage"},l.createElement("img",{src:e.Image,className:"product1",alt:e.Name})))),l.createElement("div",{className:"artistDetailContainer"},l.createElement(sn,{artistArtworks:r}))):l.createElement("div",{className:"loading"},"LOADING...")},un=[{path:"/artists",element:l.createElement(Qt,null)},{path:"/artist/:id",element:l.createElement(ln,null)}];function cn(e,t){return function(){return e.apply(t,arguments)}}const{toString:dn}=Object.prototype,{getPrototypeOf:pn}=Object,hn=(e=>t=>{const n=dn.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),fn=e=>(e=e.toLowerCase(),t=>hn(t)===e),mn=e=>t=>typeof t===e,{isArray:gn}=Array,bn=mn("undefined"),yn=fn("ArrayBuffer"),vn=mn("string"),xn=mn("function"),wn=mn("number"),kn=e=>null!==e&&"object"==typeof e,_n=e=>{if("object"!==hn(e))return!1;const t=pn(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Sn=fn("Date"),En=fn("File"),Tn=fn("Blob"),Cn=fn("FileList"),In=fn("URLSearchParams");function jn(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let r,o;if("object"!=typeof e&&(e=[e]),gn(e))for(r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let a;for(r=0;r<i;r++)a=o[r],t.call(null,e[a],a,e)}}function An(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const On="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Nn=e=>!bn(e)&&e!==On,Rn=(Pn="undefined"!=typeof Uint8Array&&pn(Uint8Array),e=>Pn&&e instanceof Pn);var Pn;const Mn=fn("HTMLFormElement"),Dn=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Ln=fn("RegExp"),Fn=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};jn(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},Bn="abcdefghijklmnopqrstuvwxyz",$n="0123456789",zn={DIGIT:$n,ALPHA:Bn,ALPHA_DIGIT:Bn+Bn.toUpperCase()+$n},Un=fn("AsyncFunction"),Vn={isArray:gn,isArrayBuffer:yn,isBuffer:function(e){return null!==e&&!bn(e)&&null!==e.constructor&&!bn(e.constructor)&&xn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||xn(e.append)&&("formdata"===(t=hn(e))||"object"===t&&xn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&yn(e.buffer),t},isString:vn,isNumber:wn,isBoolean:e=>!0===e||!1===e,isObject:kn,isPlainObject:_n,isUndefined:bn,isDate:Sn,isFile:En,isBlob:Tn,isRegExp:Ln,isFunction:xn,isStream:e=>kn(e)&&xn(e.pipe),isURLSearchParams:In,isTypedArray:Rn,isFileList:Cn,forEach:jn,merge:function e(){const{caseless:t}=Nn(this)&&this||{},n={},r=(r,o)=>{const i=t&&An(n,o)||o;_n(n[i])&&_n(r)?n[i]=e(n[i],r):_n(r)?n[i]=e({},r):gn(r)?n[i]=r.slice():n[i]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&jn(arguments[e],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(jn(t,((t,r)=>{n&&xn(t)?e[r]=cn(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,a;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)a=o[i],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&pn(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:hn,kindOfTest:fn,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(gn(e))return e;let t=e.length;if(!wn(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Mn,hasOwnProperty:Dn,hasOwnProp:Dn,reduceDescriptors:Fn,freezeMethods:e=>{Fn(e,((t,n)=>{if(xn(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];xn(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return gn(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:An,global:On,isContextDefined:Nn,ALPHABET:zn,generateString:(e=16,t=zn.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&xn(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(kn(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=gn(e)?[]:{};return jn(e,((e,t)=>{const i=n(e,r+1);!bn(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Un,isThenable:e=>e&&(kn(e)||xn(e))&&xn(e.then)&&xn(e.catch)};function Gn(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}Vn.inherits(Gn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Vn.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Wn=Gn.prototype,Hn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Hn[e]={value:e}})),Object.defineProperties(Gn,Hn),Object.defineProperty(Wn,"isAxiosError",{value:!0}),Gn.from=(e,t,n,r,o,i)=>{const a=Object.create(Wn);return Vn.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Gn.call(a,e.message,t,n,r,o),a.cause=e,a.name=e.name,i&&Object.assign(a,i),a};const qn=Gn;function Xn(e){return Vn.isPlainObject(e)||Vn.isArray(e)}function Yn(e){return Vn.endsWith(e,"[]")?e.slice(0,-2):e}function Kn(e,t,n){return e?e.concat(t).map((function(e,t){return e=Yn(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Zn=Vn.toFlatObject(Vn,{},null,(function(e){return/^is[A-Z]/.test(e)})),Jn=function(e,t,n){if(!Vn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=Vn.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Vn.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,i=n.dots,a=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Vn.isSpecCompliantForm(t);if(!Vn.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Vn.isDate(e))return e.toISOString();if(!s&&Vn.isBlob(e))throw new qn("Blob is not supported. Use a Buffer instead.");return Vn.isArrayBuffer(e)||Vn.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let s=e;if(e&&!o&&"object"==typeof e)if(Vn.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(Vn.isArray(e)&&function(e){return Vn.isArray(e)&&!e.some(Xn)}(e)||(Vn.isFileList(e)||Vn.endsWith(n,"[]"))&&(s=Vn.toArray(e)))return n=Yn(n),s.forEach((function(e,r){!Vn.isUndefined(e)&&null!==e&&t.append(!0===a?Kn([n],r,i):null===a?n:n+"[]",l(e))})),!1;return!!Xn(e)||(t.append(Kn(o,n,i),l(e)),!1)}const c=[],d=Object.assign(Zn,{defaultVisitor:u,convertValue:l,isVisitable:Xn});if(!Vn.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!Vn.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Vn.forEach(n,(function(n,i){!0===(!(Vn.isUndefined(n)||null===n)&&o.call(t,n,Vn.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),c.pop()}}(e),t};function Qn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function er(e,t){this._pairs=[],e&&Jn(e,this,t)}const tr=er.prototype;tr.append=function(e,t){this._pairs.push([e,t])},tr.toString=function(e){const t=e?function(t){return e.call(this,t,Qn)}:Qn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const nr=er;function rr(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function or(e,t,n){if(!t)return e;const r=n&&n.encode||rr,o=n&&n.serialize;let i;if(i=o?o(t,n):Vn.isURLSearchParams(t)?t.toString():new nr(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const ir=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Vn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ar={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sr={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:nr,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},lr="undefined"!=typeof window&&"undefined"!=typeof document,ur=(cr="undefined"!=typeof navigator&&navigator.product,lr&&["ReactNative","NativeScript","NS"].indexOf(cr)<0);var cr;const dr="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,pr={...e,...sr},hr=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const a=Number.isFinite(+i),s=o>=e.length;return i=!i&&Vn.isArray(r)?r.length:i,s?(Vn.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!a):(r[i]&&Vn.isObject(r[i])||(r[i]=[]),t(e,n,r[i],o)&&Vn.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!a)}if(Vn.isFormData(e)&&Vn.isFunction(e.entries)){const n={};return Vn.forEachEntry(e,((e,r)=>{t(function(e){return Vn.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null},fr={transitional:ar,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=Vn.isObject(e);if(o&&Vn.isHTMLForm(e)&&(e=new FormData(e)),Vn.isFormData(e))return r&&r?JSON.stringify(hr(e)):e;if(Vn.isArrayBuffer(e)||Vn.isBuffer(e)||Vn.isStream(e)||Vn.isFile(e)||Vn.isBlob(e))return e;if(Vn.isArrayBufferView(e))return e.buffer;if(Vn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Jn(e,new pr.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return pr.isNode&&Vn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Vn.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Jn(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(Vn.isString(e))try{return(0,JSON.parse)(e),Vn.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||fr.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&Vn.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw qn.from(e,qn.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pr.classes.FormData,Blob:pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Vn.forEach(["delete","get","head","post","put","patch"],(e=>{fr.headers[e]={}}));const mr=fr,gr=Vn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),br=Symbol("internals");function yr(e){return e&&String(e).trim().toLowerCase()}function vr(e){return!1===e||null==e?e:Vn.isArray(e)?e.map(vr):String(e)}function xr(e,t,n,r,o){return Vn.isFunction(r)?r.call(this,t,n):(o&&(t=n),Vn.isString(t)?Vn.isString(r)?-1!==t.indexOf(r):Vn.isRegExp(r)?r.test(t):void 0:void 0)}class wr{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=yr(t);if(!o)throw new Error("header name must be a non-empty string");const i=Vn.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=vr(e))}const i=(e,t)=>Vn.forEach(e,((e,n)=>o(e,n,t)));return Vn.isPlainObject(e)||e instanceof this.constructor?i(e,t):Vn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&gr[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&o(t,e,n),this}get(e,t){if(e=yr(e)){const n=Vn.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(Vn.isFunction(t))return t.call(this,e,n);if(Vn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yr(e)){const n=Vn.findKey(this,e);return!(!n||void 0===this[n]||t&&!xr(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=yr(e)){const o=Vn.findKey(n,e);!o||t&&!xr(0,n[o],o,t)||(delete n[o],r=!0)}}return Vn.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!xr(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return Vn.forEach(this,((r,o)=>{const i=Vn.findKey(n,o);if(i)return t[i]=vr(r),void delete t[o];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();a!==o&&delete t[o],t[a]=vr(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Vn.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&Vn.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[br]=this[br]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=yr(e);t[r]||(function(e,t){const n=Vn.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return Vn.isArray(e)?e.forEach(r):r(e),this}}wr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Vn.reduceDescriptors(wr.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),Vn.freezeMethods(wr);const kr=wr;function _r(e,t){const n=this||mr,r=t||n,o=kr.from(r.headers);let i=r.data;return Vn.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function Sr(e){return!(!e||!e.__CANCEL__)}function Er(e,t,n){qn.call(this,null==e?"canceled":e,qn.ERR_CANCELED,t,n),this.name="CanceledError"}Vn.inherits(Er,qn,{__CANCEL__:!0});const Tr=Er,Cr=pr.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const a=[e+"="+encodeURIComponent(t)];Vn.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Vn.isString(r)&&a.push("path="+r),Vn.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ir(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const jr=pr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=Vn.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};function Ar(e,t){let n=0;const r=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),u=r[a];o||(o=l),n[i]=s,r[i]=l;let c=a,d=0;for(;c!==i;)d+=n[c++],c%=e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),l-o<t)return;const p=u&&l-u;return p?Math.round(1e3*d/p):void 0}}(50,250);return o=>{const i=o.loaded,a=o.lengthComputable?o.total:void 0,s=i-n,l=r(s);n=i;const u={loaded:i,total:a,progress:a?i/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&i<=a?(a-i)/l:void 0,event:o};u[t?"download":"upload"]=!0,e(u)}}const Or={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const o=kr.from(e.headers).normalize();let i,a,{responseType:s,withXSRFToken:l}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}if(Vn.isFormData(r))if(pr.hasStandardBrowserEnv||pr.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if(!1!==(a=o.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}let c=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(t+":"+n))}const d=Ir(e.baseURL,e.url);function p(){if(!c)return;const r=kr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new qn("Request failed with status code "+n.status,[qn.ERR_BAD_REQUEST,qn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:s&&"text"!==s&&"json"!==s?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:r,config:e,request:c}),c=null}if(c.open(e.method.toUpperCase(),or(d,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,"onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(p)},c.onabort=function(){c&&(n(new qn("Request aborted",qn.ECONNABORTED,e,c)),c=null)},c.onerror=function(){n(new qn("Network Error",qn.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||ar;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new qn(t,r.clarifyTimeoutError?qn.ETIMEDOUT:qn.ECONNABORTED,e,c)),c=null},pr.hasStandardBrowserEnv&&(l&&Vn.isFunction(l)&&(l=l(e)),l||!1!==l&&jr(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Cr.read(e.xsrfCookieName);t&&o.set(e.xsrfHeaderName,t)}void 0===r&&o.setContentType(null),"setRequestHeader"in c&&Vn.forEach(o.toJSON(),(function(e,t){c.setRequestHeader(t,e)})),Vn.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&"json"!==s&&(c.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&c.addEventListener("progress",Ar(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",Ar(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{c&&(n(!t||t.type?new Tr(null,e,c):t),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);h&&-1===pr.protocols.indexOf(h)?n(new qn("Unsupported protocol "+h+":",qn.ERR_BAD_REQUEST,e)):c.send(r||null)}))}};Vn.forEach(Or,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Nr=e=>`- ${e}`,Rr=e=>Vn.isFunction(e)||null===e||!1===e,Pr=e=>{e=Vn.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!Rr(n)&&(r=Or[(t=String(n)).toLowerCase()],void 0===r))throw new qn(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(Nr).join("\n"):" "+Nr(e[0]):"as no adapter specified";throw new qn("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Mr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Tr(null,e)}function Dr(e){return Mr(e),e.headers=kr.from(e.headers),e.data=_r.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Pr(e.adapter||mr.adapter)(e).then((function(t){return Mr(e),t.data=_r.call(e,e.transformResponse,t),t.headers=kr.from(t.headers),t}),(function(t){return Sr(t)||(Mr(e),t&&t.response&&(t.response.data=_r.call(e,e.transformResponse,t.response),t.response.headers=kr.from(t.response.headers))),Promise.reject(t)}))}const Lr=e=>e instanceof kr?e.toJSON():e;function Fr(e,t){t=t||{};const n={};function r(e,t,n){return Vn.isPlainObject(e)&&Vn.isPlainObject(t)?Vn.merge.call({caseless:n},e,t):Vn.isPlainObject(t)?Vn.merge({},t):Vn.isArray(t)?t.slice():t}function o(e,t,n){return Vn.isUndefined(t)?Vn.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!Vn.isUndefined(t))return r(void 0,t)}function a(e,t){return Vn.isUndefined(t)?Vn.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>o(Lr(e),Lr(t),!0)};return Vn.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,a=i(e[r],t[r],r);Vn.isUndefined(a)&&i!==s||(n[r]=a)})),n}const Br={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Br[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const $r={};Br.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new qn(r(o," has been removed"+(t?" in "+t:"")),qn.ERR_DEPRECATED);return t&&!$r[o]&&($r[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};const zr={assertOptions:function(e,t,n){if("object"!=typeof e)throw new qn("options must be an object",qn.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],a=t[i];if(a){const t=e[i],n=void 0===t||a(t,i,e);if(!0!==n)throw new qn("option "+i+" must be "+n,qn.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new qn("Unknown option "+i,qn.ERR_BAD_OPTION)}},validators:Br},Ur=zr.validators;class Vr{constructor(e){this.defaults=e,this.interceptors={request:new ir,response:new ir}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Fr(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&zr.assertOptions(n,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),null!=r&&(Vn.isFunction(r)?t.paramsSerializer={serialize:r}:zr.assertOptions(r,{encode:Ur.function,serialize:Ur.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&Vn.merge(o.common,o[t.method]);o&&Vn.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=kr.concat(i,o);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,d=0;if(!s){const e=[Dr.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=a.length;let p=t;for(d=0;d<c;){const e=a[d++],t=a[d++];try{p=e(p)}catch(e){t.call(this,e);break}}try{u=Dr.call(this,p)}catch(e){return Promise.reject(e)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return or(Ir((e=Fr(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Vn.forEach(["delete","get","head","options"],(function(e){Vr.prototype[e]=function(t,n){return this.request(Fr(n||{},{method:e,url:t,data:(n||{}).data}))}})),Vn.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(Fr(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Vr.prototype[e]=t(),Vr.prototype[e+"Form"]=t(!0)}));const Gr=Vr;class Wr{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new Tr(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Wr((function(t){e=t})),cancel:e}}}const Hr=Wr,qr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qr).forEach((([e,t])=>{qr[t]=e}));const Xr=qr,Yr=function e(t){const n=new Gr(t),r=cn(Gr.prototype.request,n);return Vn.extend(r,Gr.prototype,n,{allOwnKeys:!0}),Vn.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Fr(t,n))},r}(mr);Yr.Axios=Gr,Yr.CanceledError=Tr,Yr.CancelToken=Hr,Yr.isCancel=Sr,Yr.VERSION="1.6.5",Yr.toFormData=Jn,Yr.AxiosError=qn,Yr.Cancel=Yr.CanceledError,Yr.all=function(e){return Promise.all(e)},Yr.spread=function(e){return function(t){return e.apply(null,t)}},Yr.isAxiosError=function(e){return Vn.isObject(e)&&!0===e.isAxiosError},Yr.mergeConfig=Fr,Yr.AxiosHeaders=kr,Yr.formToJSON=e=>hr(Vn.isHTMLForm(e)?new FormData(e):e),Yr.getAdapter=Pr,Yr.HttpStatusCode=Xr,Yr.default=Yr;const Kr=Yr;var Zr=function(e,t){return Zr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Zr(e,t)};function Jr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Zr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Qr,eo,to=function(){return to=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},to.apply(this,arguments)};function no(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function ro(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function oo(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e[e.Entering=0]="Entering",e[e.Present=1]="Present",e[e.Exiting=2]="Exiting"}(Qr||(Qr={})),function(e){e[e.Hide=0]="Hide",e[e.Show=1]="Show"}(eo||(eo={}));var io=function(){},ao=function(){};function so(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function lo(e){return!!e.touches}var uo={pageX:0,pageY:0};function co(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||uo;return{x:n[t+"X"],y:n[t+"Y"]}}function po(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function ho(e,t){return void 0===t&&(t="page"),{point:lo(e)?co(e,t):po(e,t)}}var fo=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,ho(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},mo=1/60*1e3,go="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},bo="undefined"!=typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(go())}),mo)},yo=!0,vo=!1,xo=!1,wo={delta:0,timestamp:0},ko=["read","update","preRender","render","postRender"],_o=ko.reduce((function(e,t){return e[t]=function(e){var t=[],n=[],r=0,o=!1,i=new WeakSet,a={schedule:function(e,a,s){void 0===a&&(a=!1),void 0===s&&(s=!1);var l=s&&o,u=l?t:n;return a&&i.add(e),-1===u.indexOf(e)&&(u.push(e),l&&o&&(r=t.length)),e},cancel:function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1),i.delete(e)},process:function(s){var l;if(o=!0,t=(l=[n,t])[0],(n=l[1]).length=0,r=t.length)for(var u=0;u<r;u++){var c=t[u];c(s),i.has(c)&&(a.schedule(c),e())}o=!1}};return a}((function(){return vo=!0})),e}),{}),So=ko.reduce((function(e,t){var n=_o[t];return e[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),vo||jo(),n.schedule(e,t,r)},e}),{}),Eo=ko.reduce((function(e,t){return e[t]=_o[t].cancel,e}),{}),To=ko.reduce((function(e,t){return e[t]=function(){return _o[t].process(wo)},e}),{}),Co=function(e){return _o[e].process(wo)},Io=function(e){vo=!1,wo.delta=yo?mo:Math.max(Math.min(e-wo.timestamp,40),1),wo.timestamp=e,xo=!0,ko.forEach(Co),xo=!1,vo&&(yo=!1,bo(Io))},jo=function(){vo=!0,yo=!0,xo||bo(Io)},Ao=function(){return wo};const Oo=So;var No=function(e){return 1e3*e};function Ro(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}function Po(e,t,n,r){(0,l.useEffect)((function(){var o=e.current;if(n&&o)return Ro(o,t,n,r)}),[e,t,n,r])}var Mo="undefined"!=typeof window,Do=function(){return Mo&&null===window.onpointerdown},Lo=function(){return Mo&&null===window.ontouchstart},Fo=function(){return Mo&&null===window.onmousedown},Bo={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},$o={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function zo(e){return Do()?e:Lo()?$o[e]:Fo()?Bo[e]:e}function Uo(e,t,n,r){return Ro(e,zo(t),fo(n,"pointerdown"===t),r)}function Vo(e,t,n,r){return Po(e,zo(t),n&&fo(n,"pointerdown"===t),r)}var Go=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},Wo=function(e){return Go(e)&&e.hasOwnProperty("z")},Ho=function(e){return"number"==typeof e},qo=function(e,t){return Math.abs(e-t)};function Xo(e,t){if(Ho(e)&&Ho(t))return qo(e,t);if(Go(e)&&Go(t)){var n=qo(e.x,t.x),r=qo(e.y,t.y),o=Wo(e)&&Wo(t)?qo(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(o,2))}}var Yo=function(e,t){return function(n){return t(e(n))}},Ko=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Yo)},Zo=function(){function e(e,t,n){var r=this,o=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=ei(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=Xo(e.offset,{x:0,y:0})>=3;if(t||n){var o=e.point,i=Ao().timestamp;r.history.push(to(to({},o),{timestamp:i}));var a=r.handlers,s=a.onStart,l=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),l&&l(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=Jo(t,r.transformPagePoint),so(e)&&0===e.buttons?r.handlePointerUp(e,t):Oo.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,o=n.onEnd,i=n.onSessionEnd,a=ei(Jo(t,r.transformPagePoint),r.history);r.startEvent&&o&&o(e,a),i&&i(e,a)},!(lo(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=o;var i=Jo(ho(e),this.transformPagePoint),a=i.point,s=Ao().timestamp;this.history=[to(to({},a),{timestamp:s})];var l=t.onSessionStart;l&&l(e,ei(i,this.history)),this.removeListeners=Ko(Uo(window,"pointermove",this.handlePointerMove),Uo(window,"pointerup",this.handlePointerUp),Uo(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),Eo.update(this.updatePoint)},e}();function Jo(e,t){return t?{point:t(e.point)}:e}function Qo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ei(e,t){var n=e.point;return{point:n,delta:Qo(n,ni(t)),offset:Qo(n,ti(t)),velocity:ri(t,.1)}}function ti(e){return e[0]}function ni(e){return e[e.length-1]}function ri(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,o=ni(e);n>=0&&(r=e[n],!(o.timestamp-r.timestamp>No(t)));)n--;if(!r)return{x:0,y:0};var i=(o.timestamp-r.timestamp)/1e3;if(0===i)return{x:0,y:0};var a={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function oi(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var ii=oi("dragHorizontal"),ai=oi("dragVertical");function si(e){var t=!1;if("y"===e)t=ai();else if("x"===e)t=ii();else{var n=ii(),r=ai();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function li(){var e=si(!0);return!e||(e(),!1)}function ui(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ci(e){return e}function di(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}var pi={translate:0,scale:1,origin:0,originPoint:0};function hi(){return{x:to({},pi),y:to({},pi)}}function fi(e){return[e("x"),e("y")]}var mi=function(e,t,n){return-n*e+n*t+e};function gi(e,t,n){var r=t.min,o=t.max;return void 0!==r&&e<r?e=n?mi(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?mi(o,e,n.max):Math.min(e,o)),e}function bi(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function yi(e,t){var n,r=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=ro([o,r],2))[0],o=n[1]),{min:e.min+r,max:e.min+o}}function vi(e,t,n){return{min:xi(e,t),max:xi(e,n)}}function xi(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function wi(e,t){return di(function(e,t){var n=e.top,r=e.left,o=e.bottom,i=e.right;void 0===t&&(t=ci);var a=t({x:r,y:n}),s=t({x:i,y:o});return{top:a.y,left:a.x,bottom:s.y,right:s.x}}(e.getBoundingClientRect(),t))}var ki=function(e,t,n){return Math.min(Math.max(n,e),t)},_i=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r};function Si(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),Xo(e,t)<n}function Ei(e){return e.max-e.min}function Ti(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=mi(t.min,t.max,e.origin),e.scale=Ei(n)/Ei(t),Si(e.scale,1,1e-4)&&(e.scale=1),e.translate=mi(n.min,n.max,e.origin)-e.originPoint,Si(e.translate)&&(e.translate=0)}function Ci(e,t,n,r){Ti(e.x,t.x,n.x,Ii(r.originX)),Ti(e.y,t.y,n.y,Ii(r.originY))}function Ii(e){return"number"==typeof e?e:.5}function ji(e,t,n){e.min=n.min+t.min,e.max=e.min+Ei(t)}var Ai=.001,Oi=.01,Ni=10,Ri=.05,Pi=1;var Mi=12;function Di(e,t){return e*Math.sqrt(1-t*t)}var Li=["duration","bounce"],Fi=["stiffness","damping","mass"];function Bi(e,t){return t.some((function(t){return void 0!==e[t]}))}function $i(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,i=e.restSpeed,a=void 0===i?2:i,s=e.restDelta,l=no(e,["from","to","restSpeed","restDelta"]),u={done:!1,value:n},c=function(e){var t=to({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Bi(e,Fi)&&Bi(e,Li)){var n=function(e){var t,n,r=e.duration,o=void 0===r?800:r,i=e.bounce,a=void 0===i?.25:i,s=e.velocity,l=void 0===s?0:s,u=e.mass,c=void 0===u?1:u;io(o<=1e3*Ni,"Spring duration must be 10 seconds or less");var d=1-a;d=ki(Ri,Pi,d),o=ki(Oi,Ni,o/1e3),d<1?(t=function(e){var t=e*d,n=t*o,r=t-l,i=Di(e,d),a=Math.exp(-n);return Ai-r/i*a},n=function(e){var n=e*d*o,r=n*l+l,i=Math.pow(d,2)*Math.pow(e,2)*o,a=Math.exp(-n),s=Di(Math.pow(e,2),d);return(-t(e)+Ai>0?-1:1)*((r-i)*a)/s}):(t=function(e){return Math.exp(-e*o)*((e-l)*o+1)-Ai},n=function(e){return Math.exp(-e*o)*(o*o*(l-e))});var p=function(e,t,n){for(var r=n,o=1;o<Mi;o++)r-=e(r)/t(r);return r}(t,n,5/o);if(o*=1e3,isNaN(p))return{stiffness:100,damping:10,duration:o};var h=Math.pow(p,2)*c;return{stiffness:h,damping:2*d*Math.sqrt(c*h),duration:o}}(e);(t=to(to(to({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(l),d=c.stiffness,p=c.damping,h=c.mass,f=c.velocity,m=c.duration,g=c.isResolvedFromDuration,b=zi,y=zi;function v(){var e=f?-f/1e3:0,t=o-n,r=p/(2*Math.sqrt(d*h)),i=Math.sqrt(d/h)/1e3;if(null!=s||(s=Math.abs(o-n)<=1?.01:.4),r<1){var a=Di(i,r);b=function(n){var s=Math.exp(-r*i*n);return o-s*((e+r*i*t)/a*Math.sin(a*n)+t*Math.cos(a*n))},y=function(n){var o=Math.exp(-r*i*n);return r*i*o*(Math.sin(a*n)*(e+r*i*t)/a+t*Math.cos(a*n))-o*(Math.cos(a*n)*(e+r*i*t)-a*t*Math.sin(a*n))}}else if(1===r)b=function(n){return o-Math.exp(-i*n)*(t+(e+i*t)*n)};else{var l=i*Math.sqrt(r*r-1);b=function(n){var a=Math.exp(-r*i*n),s=Math.min(l*n,300);return o-a*((e+r*i*t)*Math.sinh(s)+l*t*Math.cosh(s))/l}}}return v(),{next:function(e){var t=b(e);if(g)u.done=e>=m;else{var n=1e3*y(e),r=Math.abs(n)<=a,i=Math.abs(o-t)<=s;u.done=r&&i}return u.value=u.done?o:t,u},flipTarget:function(){var e;f=-f,n=(e=[o,n])[0],o=e[1],v()}}}$i.needsInterpolation=function(e,t){return"string"==typeof e||"string"==typeof t};var zi=function(e){return 0},Ui=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Vi=function(e){return e%1?Number(e.toFixed(5)):e},Gi=/(-)?([\d]*\.?[\d])+/g,Wi=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Hi=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function qi(e){return"string"==typeof e}var Xi={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},Yi=to(to({},Xi),{transform:Ui(0,1)}),Ki=to(to({},Xi),{default:1}),Zi=function(e,t){return function(n){return Boolean(qi(n)&&Hi.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},Ji=function(e,t,n){return function(r){var o;if(!qi(r))return r;var i=r.match(Gi),a=i[0],s=i[1],l=i[2],u=i[3];return(o={})[e]=parseFloat(a),o[t]=parseFloat(s),o[n]=parseFloat(l),o.alpha=void 0!==u?parseFloat(u):1,o}},Qi=Ui(0,255),ea=to(to({},Xi),{transform:function(e){return Math.round(Qi(e))}}),ta={test:Zi("rgb","red"),parse:Ji("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,o=e.alpha,i=void 0===o?1:o;return"rgba("+ea.transform(t)+", "+ea.transform(n)+", "+ea.transform(r)+", "+Vi(Yi.transform(i))+")"}},na={test:Zi("#"),parse:function(e){var t="",n="",r="",o="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),o=e.substr(4,1),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:ta.transform},ra=function(e){return{test:function(t){return qi(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},oa=ra("deg"),ia=ra("%"),aa=ra("px"),sa=ra("vh"),la=ra("vw"),ua=to(to({},ia),{parse:function(e){return ia.parse(e)/100},transform:function(e){return ia.transform(100*e)}}),ca={test:Zi("hsl","hue"),parse:Ji("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,o=e.alpha,i=void 0===o?1:o;return"hsla("+Math.round(t)+", "+ia.transform(Vi(n))+", "+ia.transform(Vi(r))+", "+Vi(Yi.transform(i))+")"}},da=function(e,t,n){var r=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-r)+r))},pa=[na,ta,ca],ha=function(e){return pa.find((function(t){return t.test(e)}))},fa=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},ma=function(e,t){var n=ha(e),r=ha(t);ao(!!n,fa(e)),ao(!!r,fa(t)),ao(n.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var o=n.parse(e),i=r.parse(t),a=to({},o),s=n===ca?mi:da;return function(e){for(var t in a)"alpha"!==t&&(a[t]=s(o[t],i[t],e));return a.alpha=mi(o.alpha,i.alpha,e),n.transform(a)}},ga={test:function(e){return ta.test(e)||na.test(e)||ca.test(e)},parse:function(e){return ta.test(e)?ta.parse(e):ca.test(e)?ca.parse(e):na.parse(e)},transform:function(e){return qi(e)?e:e.hasOwnProperty("red")?ta.transform(e):ca.transform(e)}},ba="${c}",ya="${n}";function va(e){var t=[],n=0,r=e.match(Wi);r&&(n=r.length,e=e.replace(Wi,ba),t.push.apply(t,r.map(ga.parse)));var o=e.match(Gi);return o&&(e=e.replace(Gi,ya),t.push.apply(t,o.map(Xi.parse))),{values:t,numColors:n,tokenised:e}}function xa(e){return va(e).values}function wa(e){var t=va(e),n=t.values,r=t.numColors,o=t.tokenised,i=n.length;return function(e){for(var t=o,n=0;n<i;n++)t=t.replace(n<r?ba:ya,n<r?ga.transform(e[n]):Vi(e[n]));return t}}var ka=function(e){return"number"==typeof e?0:e},_a={test:function(e){var t,n,r,o;return isNaN(e)&&qi(e)&&(null!==(n=null===(t=e.match(Gi))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(o=null===(r=e.match(Wi))||void 0===r?void 0:r.length)&&void 0!==o?o:0)>0},parse:xa,createTransformer:wa,getAnimatableNone:function(e){var t=xa(e);return wa(e)(t.map(ka))}};function Sa(e,t){return Ho(e)?function(n){return mi(e,t,n)}:ga.test(e)?ma(e,t):Ia(e,t)}var Ea=function(e,t){var n=oo([],e),r=n.length,o=e.map((function(e,n){return Sa(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=o[t](e);return n}},Ta=function(e,t){var n=to(to({},e),t),r={};for(var o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Sa(e[o],t[o]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function Ca(e){for(var t=_a.parse(e),n=t.length,r=0,o=0,i=0,a=0;a<n;a++)r||"number"==typeof t[a]?r++:void 0!==t[a].hue?i++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:i}}var Ia=function(e,t){var n=_a.createTransformer(t),r=Ca(e),o=Ca(t);return ao(r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&r.numNumbers>=o.numNumbers,"Complex values '"+e+"' and '"+t+"' too different to mix. Ensure all colors are of the same type."),Ko(Ea(r.parsed,o.parsed),n)},ja=function(e,t){return function(n){return mi(e,t,n)}};function Aa(e,t,n){var r=void 0===n?{}:n,o=r.clamp,i=void 0===o||o,a=r.ease,s=r.mixer,l=e.length;ao(l===t.length,"Both input and output ranges must be the same length"),ao(!a||!Array.isArray(a)||a.length===l-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[l-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var u=function(e,t,n){for(var r=[],o=n||function(e){return"number"==typeof e?ja:"string"==typeof e?ga.test(e)?ma:Ia:Array.isArray(e)?Ea:"object"==typeof e?Ta:void 0}(e[0]),i=e.length-1,a=0;a<i;a++){var s=o(e[a],e[a+1]);if(t){var l=Array.isArray(t)?t[a]:t;s=Ko(l,s)}r.push(s)}return r}(t,a,s),c=2===l?function(e,t){var n=e[0],r=e[1],o=t[0];return function(e){return o(_i(n,r,e))}}(e,u):function(e,t){var n=e.length,r=n-1;return function(o){var i=0,a=!1;if(o<=e[0]?a=!0:o>=e[r]&&(i=r-1,a=!0),!a){for(var s=1;s<n&&!(e[s]>o||s===r);s++);i=s-1}var l=_i(e[i],e[i+1],o);return t[i](l)}}(e,u);return i?function(t){return c(ki(e[0],e[l-1],t))}:c}var Oa,Na=function(e){return function(t){return 1-e(1-t)}},Ra=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},Pa=function(e){return function(t){return t*t*((e+1)*t-e)}},Ma=function(e){return e},Da=(2,function(e){return Math.pow(e,2)}),La=Na(Da),Fa=Ra(Da),Ba=function(e){return 1-Math.sin(Math.acos(e))},$a=Na(Ba),za=Ra($a),Ua=Pa(1.525),Va=Na(Ua),Ga=Ra(Ua),Wa=(Oa=Pa(1.525),function(e){return(e*=2)<1?.5*Oa(e):.5*(2-Math.pow(2,-10*(e-1)))}),Ha=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},qa=Na(Ha);function Xa(e,t){return e.map((function(){return t||Fa})).splice(0,e.length-1)}function Ya(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,i=e.ease,a=e.offset,s=e.duration,l=void 0===s?300:s,u={done:!1,value:n},c=Array.isArray(o)?o:[n,o],d=function(e,t){return e.map((function(e){return e*t}))}(a&&a.length===c.length?a:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(c),l);function p(){return Aa(d,c,{ease:Array.isArray(i)?i:Xa(c,i)})}var h=p();return{next:function(e){return u.value=h(e),u.done=e>=l,u},flipTarget:function(){c.reverse(),h=p()}}}var Ka={keyframes:Ya,spring:$i,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,o=void 0===r?0:r,i=e.power,a=void 0===i?.8:i,s=e.timeConstant,l=void 0===s?350:s,u=e.restDelta,c=void 0===u?.5:u,d=e.modifyTarget,p={done:!1,value:o},h=a*n,f=o+h,m=void 0===d?f:d(f);return m!==f&&(h=m-o),{next:function(e){var t=-h*Math.exp(-e/l);return p.done=!(t>c||t<-c),p.value=p.done?m:m+t,p},flipTarget:function(){}}}};function Za(e,t,n){return void 0===n&&(n=0),e-t-n}var Ja=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return Oo.update(t,!0)},stop:function(){return Eo.update(t)}}};function Qa(e){var t,n,r,o,i,a=e.from,s=e.autoplay,l=void 0===s||s,u=e.driver,c=void 0===u?Ja:u,d=e.elapsed,p=void 0===d?0:d,h=e.repeat,f=void 0===h?0:h,m=e.repeatType,g=void 0===m?"loop":m,b=e.repeatDelay,y=void 0===b?0:b,v=e.onPlay,x=e.onStop,w=e.onComplete,k=e.onRepeat,_=e.onUpdate,S=no(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),E=S.to,T=0,C=S.duration,I=!1,j=!0,A=function(e){if(Array.isArray(e.to))return Ya;if(Ka[e.type])return Ka[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Ya:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?$i:Ya}(S);(null===(n=(t=A).needsInterpolation)||void 0===n?void 0:n.call(t,a,E))&&(i=Aa([0,100],[a,E],{clamp:!1}),a=0,E=100);var O=A(to(to({},S),{from:a,to:E}));return l&&(null==v||v(),(r=c((function(e){if(j||(e=-e),p+=e,!I){var t=O.next(Math.max(0,p));o=t.value,i&&(o=i(o)),I=j?t.done:p<=0}null==_||_(o),I&&(0===T&&(null!=C||(C=p)),T<f?function(e,t,n,r){return r?e>=t+n:e<=-n}(p,C,y,j)&&(T++,"reverse"===g?p=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),r?Za(t+-e,t,n):t-(e-t)+n}(p,C,y,j=T%2==0):(p=Za(p,C,y),"mirror"===g&&O.flipTarget()),I=!1,k&&k()):(r.stop(),w&&w()))}))).start()),{stop:function(){null==x||x(),r.stop()}}}function es(e,t){return t?e*(1e3/t):0}var ts=function(e,t){return 1-3*t+3*e},ns=function(e,t){return 3*t-6*e},rs=function(e){return 3*e},os=function(e,t,n){return((ts(t,n)*e+ns(t,n))*e+rs(t))*e},is=function(e,t,n){return 3*ts(t,n)*e*e+2*ns(t,n)*e+rs(t)},as=.1;function ss(e,t,n,r){if(e===t&&n===r)return Ma;for(var o=new Float32Array(11),i=0;i<11;++i)o[i]=os(i*as,e,n);return function(i){return 0===i||1===i?i:os(function(t){for(var r=0,i=1;10!==i&&o[i]<=t;++i)r+=as;--i;var a=r+(t-o[i])/(o[i+1]-o[i])*as,s=is(a,e,n);return s>=.001?function(e,t,n,r){for(var o=0;o<8;++o){var i=is(t,n,r);if(0===i)return t;t-=(os(t,n,r)-e)/i}return t}(t,a,e,n):0===s?a:function(e,t,n,r,o){var i,a,s=0;do{(i=os(a=t+(n-t)/2,r,o)-e)>0?n=a:t=a}while(Math.abs(i)>1e-7&&++s<10);return a}(t,r,r+as,e,n)}(i),t,r)}}var ls={linear:Ma,easeIn:Da,easeInOut:Fa,easeOut:La,circIn:Ba,circInOut:za,circOut:$a,backIn:Ua,backInOut:Ga,backOut:Va,anticipate:Wa,bounceIn:qa,bounceInOut:function(e){return e<.5?.5*(1-Ha(1-2*e)):.5*Ha(2*e-1)+.5},bounceOut:Ha},us=function(e){if(Array.isArray(e)){ao(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=ro(e,4);return ss(t[0],t[1],t[2],t[3])}return"string"==typeof e?(ao(void 0!==ls[e],"Invalid easing type '"+e+"'"),ls[e]):e},cs=function(e){return Array.isArray(e)&&"number"!=typeof e[0]},ds=function(e,t){return!("zIndex"===e||"number"!=typeof t&&!Array.isArray(t)&&("string"!=typeof t||!_a.test(t)||t.startsWith("url(")))},ps=function(e){return Array.isArray(e)},hs=function(){return{type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}},fs=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}},ms=function(){return{type:"keyframes",ease:"linear",duration:.3}},gs=function(e){return{type:"keyframes",duration:.8,values:e}},bs={x:hs,y:hs,z:hs,rotate:hs,rotateX:hs,rotateY:hs,rotateZ:hs,scaleX:fs,scaleY:fs,scale:fs,opacity:ms,backgroundColor:ms,color:ms,default:fs},ys=function(e,t){var n;return n=ps(t)?gs:bs[e]||bs.default,to({to:t},n(t))},vs=new Set(["brightness","contrast","saturate","opacity"]);function xs(e){var t=e.slice(0,-1).split("("),n=t[0],r=t[1];if("drop-shadow"===n)return e;var o=(r.match(Gi)||[])[0];if(!o)return e;var i=r.replace(o,""),a=vs.has(n)?1:0;return o!==r&&(a*=100),n+"("+a+i+")"}var ws=/([a-z-]*)\(.*?\)/g,ks=to(to({},_a),{getAnimatableNone:function(e){var t=e.match(ws);return t?t.map(xs).join(" "):e}}),_s=to(to({},Xi),{transform:Math.round}),Ss={borderWidth:aa,borderTopWidth:aa,borderRightWidth:aa,borderBottomWidth:aa,borderLeftWidth:aa,borderRadius:aa,radius:aa,borderTopLeftRadius:aa,borderTopRightRadius:aa,borderBottomRightRadius:aa,borderBottomLeftRadius:aa,width:aa,maxWidth:aa,height:aa,maxHeight:aa,size:aa,top:aa,right:aa,bottom:aa,left:aa,padding:aa,paddingTop:aa,paddingRight:aa,paddingBottom:aa,paddingLeft:aa,margin:aa,marginTop:aa,marginRight:aa,marginBottom:aa,marginLeft:aa,rotate:oa,rotateX:oa,rotateY:oa,rotateZ:oa,scale:Ki,scaleX:Ki,scaleY:Ki,scaleZ:Ki,skew:oa,skewX:oa,skewY:oa,distance:aa,translateX:aa,translateY:aa,translateZ:aa,x:aa,y:aa,z:aa,perspective:aa,transformPerspective:aa,opacity:Yi,originX:ua,originY:ua,originZ:aa,zIndex:_s,fillOpacity:Yi,strokeOpacity:Yi,numOctaves:_s},Es=to(to({},Ss),{color:ga,backgroundColor:ga,outlineColor:ga,fill:ga,stroke:ga,borderColor:ga,borderTopColor:ga,borderRightColor:ga,borderBottomColor:ga,borderLeftColor:ga,filter:ks,WebkitFilter:ks}),Ts=function(e){return Es[e]};function Cs(e,t){var n,r=Ts(e);return r!==ks&&(r=_a),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var Is,js=!1;function As(e,t,n,r,o){var i,a=Rs(r,e),s=null!==(i=a.from)&&void 0!==i?i:t.get(),l=ds(e,n);"none"===s&&l&&"string"==typeof n?s=Cs(e,n):Os(s)&&"string"==typeof n?s=Ns(n):!Array.isArray(n)&&Os(n)&&"string"==typeof s&&(n=Ns(s));var u=ds(e,s);return io(u===l,"You are trying to animate "+e+' from "'+s+'" to "'+n+'". '+s+" is not an animatable value - to enable this animation set "+s+" to a value animatable to "+n+" via the `style` property."),u&&l&&!1!==a.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:o,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function(e){var t,n=e.from,r=void 0===n?0:n,o=e.velocity,i=void 0===o?0:o,a=e.min,s=e.max,l=e.power,u=void 0===l?.8:l,c=e.timeConstant,d=void 0===c?750:c,p=e.bounceStiffness,h=void 0===p?500:p,f=e.bounceDamping,m=void 0===f?10:f,g=e.restDelta,b=void 0===g?1:g,y=e.modifyTarget,v=e.driver,x=e.onUpdate,w=e.onComplete;function k(e){return void 0!==a&&e<a||void 0!==s&&e>s}function _(e){return void 0===a?s:void 0===s||Math.abs(a-e)<Math.abs(s-e)?a:s}function S(e){null==t||t.stop(),t=Qa(to(to({},e),{driver:v,onUpdate:function(t){var n;null==x||x(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w}))}function E(e){S(to({type:"spring",stiffness:h,damping:m,restDelta:b},e))}if(k(r))E({from:r,velocity:i,to:_(r)});else{var T=u*i+r;void 0!==y&&(T=y(T));var C,I,j=_(T),A=j===a?-1:1;S({type:"decay",from:r,velocity:i,timeConstant:d,power:u,restDelta:b,modifyTarget:y,onUpdate:k(T)?function(e){C=I,I=e,i=es(e-C,Ao().delta),(1===A&&e>j||-1===A&&e<j)&&E({from:e,to:j,velocity:i})}:void 0})}return{stop:function(){return null==t?void 0:t.stop()}}}(to(to({},r),a)):Qa(to(to({},function(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=oo([],ro(e.to)),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=no(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=to(to({},e),ys(n,t.to))),to(to({},t),function(e){var t=e.ease,n=e.times,r=e.yoyo,o=e.flip,i=e.loop,a=no(e,["ease","times","yoyo","flip","loop"]),s=to({},a);return n&&(s.offset=n),a.duration&&(s.duration=No(a.duration)),a.repeatDelay&&(s.repeatDelay=No(a.repeatDelay)),t&&(s.ease=cs(t)?t.map(us):us(t)),"tween"===a.type&&(s.type="keyframes"),(r||i||o)&&(io(!js,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),js=!0,r?s.repeatType="reverse":i?s.repeatType="loop":o&&(s.repeatType="mirror"),s.repeat=i||r||o||a.repeat),"spring"!==a.type&&(s.type="keyframes"),s}(e))}(a,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=a.onUpdate)||void 0===t||t.call(a,e)},onComplete:function(){var e;r.onComplete(),null===(e=a.onComplete)||void 0===e||e.call(a)}}))}:function(){var e;return t.set(n),o(),null===(e=null==a?void 0:a.onComplete)||void 0===e||e.call(a),{stop:function(){}}}}function Os(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function Ns(e){return"number"==typeof e?0:Cs("",e)}function Rs(e,t){return e[t]||e.default||e}function Ps(e,t,n,r){return void 0===r&&(r={}),t.start((function(o){var i,a,s=As(e,t,n,r,o),l=function(e,t){var n;return null!==(n=(Rs(e,t)||{}).delay)&&void 0!==n?n:0}(r,e),u=function(){return a=s()};return l?i=setTimeout(u,No(l)):u(),function(){clearTimeout(i),null==a||a.stop()}}))}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.Exit="exit"}(Is||(Is={}));var Ms=function(e,t){return e.depth-t.depth};function Ds(e){return e.projection.isEnabled||e.shouldResetTransform()}function Ls(e,t){void 0===t&&(t=[]);var n=e.parent;return n&&Ls(n,t),Ds(e)&&t.push(e),t}function Fs(e){if(!e.shouldResetTransform()){var t,n=e.getLayoutState();e.notifyBeforeLayoutMeasure(n.layout),n.isHydrated=!0,n.layout=e.measureViewportBox(),n.layoutCorrected=(t=n.layout,{x:to({},t.x),y:to({},t.y)}),e.notifyLayoutMeasure(n.layout,e.prevViewportBox||n.layout),Oo.update((function(){return e.rebaseProjectionTarget()}))}}function Bs(e){e.shouldResetTransform()||(e.prevViewportBox=e.measureViewportBox(!1),e.rebaseProjectionTarget(!1,e.prevViewportBox))}function $s(e,t){return{min:t.min-e.min,max:t.max-e.min}}function zs(e,t){return{x:$s(e.x,t.x),y:$s(e.y,t.y)}}function Us(e){var t=e.getProps(),n=t.drag,r=t._dragX;return n&&!r}function Vs(e,t){e.min=t.min,e.max=t.max}function Gs(e,t,n){return n+t*(e-n)}function Ws(e,t,n,r,o){return void 0!==o&&(e=Gs(e,o,r)),Gs(e,n,r)+t}function Hs(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),e.min=Ws(e.min,t,n,r,o),e.max=Ws(e.max,t,n,r,o)}function qs(e,t){var n=t.x,r=t.y;Hs(e.x,n.translate,n.scale,n.originPoint),Hs(e.y,r.translate,r.scale,r.originPoint)}function Xs(e,t,n,r){var o=ro(r,3),i=o[0],a=o[1],s=o[2];e.min=t.min,e.max=t.max;var l=void 0!==n[s]?n[s]:.5,u=mi(t.min,t.max,l);Hs(e,n[i],n[a],u,n.scale)}var Ys=["x","scaleX","originX"],Ks=["y","scaleY","originY"];function Zs(e,t,n){Xs(e.x,t.x,n,Ys),Xs(e.y,t.y,n,Ks)}function Js(e,t,n,r,o){return e=Gs(e-=t,1/n,r),void 0!==o&&(e=Gs(e,1/o,r)),e}function Qs(e,t,n){var r=ro(n,3),o=r[0],i=r[1],a=r[2];!function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5);var i=mi(e.min,e.max,r)-t;e.min=Js(e.min,t,n,i,o),e.max=Js(e.max,t,n,i,o)}(e,t[o],t[i],t[a],t.scale)}function el(e,t){Qs(e.x,t,Ys),Qs(e.y,t,Ks)}var tl=new Set;function nl(e,t,n){e[n]||(e[n]=[]),e[n].push(t)}function rl(e){return tl.add(e),function(){return tl.delete(e)}}function ol(){if(tl.size){var e=0,t=[[]],n=[],r=function(n){return nl(t,n,e)},o=function(t){nl(n,t,e),e++};tl.forEach((function(t){t(r,o),e=0})),tl.clear();for(var i=n.length,a=0;a<=i;a++)t[a]&&t[a].forEach(al),n[a]&&n[a].forEach(al)}}var il,al=function(e){return e()},sl=new WeakMap,ll=function(){function e(e){var t=e.visualElement;this.isDragging=!1,this.currentDirection=null,this.constraints=!1,this.elastic={x:{min:0,max:1},y:{min:0,max:1}},this.props={},this.hasMutatedConstraints=!1,this.cursorProgress={x:.5,y:.5},this.originPoint={},this.openGlobalLock=null,this.panSession=null,this.visualElement=t,this.visualElement.enableLayoutProjection(),sl.set(t,this)}return e.prototype.start=function(e,t){var n=this,r=void 0===t?{}:t,o=r.snapToCursor,i=void 0!==o&&o,a=r.cursorProgress,s=this.props.transformPagePoint;this.panSession=new Zo(e,{onSessionStart:function(e){var t;n.stopMotion();var r=function(e){return ho(e,"client")}(e).point;null===(t=n.cancelLayout)||void 0===t||t.call(n),n.cancelLayout=rl((function(e,t){var o=Ls(n.visualElement),s=function(e){var t=[],n=function(e){Ds(e)&&t.push(e),e.children.forEach(n)};return e.children.forEach(n),t.sort(Ms)}(n.visualElement),l=oo(oo([],ro(o)),ro(s)),u=!1;n.isLayoutDrag()&&n.visualElement.lockProjectionTarget(),t((function(){l.forEach((function(e){return e.resetTransform()}))})),e((function(){Fs(n.visualElement),s.forEach(Fs)})),t((function(){l.forEach((function(e){return e.restoreTransform()})),i&&(u=n.snapToCursor(r))})),e((function(){Boolean(n.getAxisMotionValue("x")&&!n.isExternalDrag())||n.visualElement.rebaseProjectionTarget(!0,n.visualElement.measureViewportBox(!1)),n.visualElement.scheduleUpdateLayoutProjection();var e=n.visualElement.projection;fi((function(t){if(!u){var o=e.target[t],i=o.min,s=o.max;n.cursorProgress[t]=a?a[t]:_i(i,s,r[t])}var l=n.getAxisMotionValue(t);l&&(n.originPoint[t]=l.get())}))})),t((function(){To.update(),To.preRender(),To.render(),To.postRender()})),e((function(){return n.resolveDragConstraints()}))}))},onStart:function(e,t){var r,o,i,a=n.props,s=a.drag,l=a.dragPropagation;(!s||l||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=si(s),n.openGlobalLock))&&(ol(),n.isDragging=!0,n.currentDirection=null,null===(o=(r=n.props).onDragStart)||void 0===o||o.call(r,e,t),null===(i=n.visualElement.animationState)||void 0===i||i.setActive(Is.Drag,!0))},onMove:function(e,t){var r,o,i,a,s=n.props,l=s.dragPropagation,u=s.dragDirectionLock;if(l||n.openGlobalLock){var c=t.offset;if(u&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(c),void(null!==n.currentDirection&&(null===(o=(r=n.props).onDirectionLock)||void 0===o||o.call(r,n.currentDirection)));n.updateAxis("x",t.point,c),n.updateAxis("y",t.point,c),null===(a=(i=n.props).onDrag)||void 0===a||a.call(i,e,t),il=e}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:s})},e.prototype.resolveDragConstraints=function(){var e=this,t=this.props,n=t.dragConstraints,r=t.dragElastic,o=this.visualElement.getLayoutState().layoutCorrected;this.constraints=!!n&&(ui(n)?this.resolveRefConstraints(o,n):function(e,t){var n=t.top,r=t.left,o=t.bottom,i=t.right;return{x:bi(e.x,r,i),y:bi(e.y,n,o)}}(o,n)),this.elastic=function(e){return!1===e?e=0:!0===e&&(e=.35),{x:vi(e,"left","right"),y:vi(e,"top","bottom")}}(r),this.constraints&&!this.hasMutatedConstraints&&fi((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(o[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(e,t){var n=this.props,r=n.onMeasureDragConstraints,o=n.transformPagePoint,i=t.current;ao(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop."),this.constraintsBox=wi(i,o);var a=function(e,t){return{x:yi(e.x,t.x),y:yi(e.y,t.y)}}(e,this.constraintsBox);if(r){var s=r(function(e){var t=e.x,n=e.y;return{top:n.min,bottom:n.max,left:t.min,right:t.max}}(a));this.hasMutatedConstraints=!!s,s&&(a=di(s))}return a},e.prototype.cancelDrag=function(){var e,t;this.visualElement.unlockProjectionTarget(),null===(e=this.cancelLayout)||void 0===e||e.call(this),this.isDragging=!1,this.panSession&&this.panSession.end(),this.panSession=null,!this.props.dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(Is.Drag,!1)},e.prototype.stop=function(e,t){var n,r,o;null===(n=this.panSession)||void 0===n||n.end(),this.panSession=null;var i=this.isDragging;if(this.cancelDrag(),i){var a=t.velocity;this.animateDragEnd(a),null===(o=(r=this.props).onDragEnd)||void 0===o||o.call(r,e,t)}},e.prototype.snapToCursor=function(e){var t=this;return fi((function(n){if(ul(n,t.props.drag,t.currentDirection)){var r=t.getAxisMotionValue(n);if(!r)return t.cursorProgress[n]=.5,!0;var o=t.visualElement.getLayoutState().layout,i=o[n].max-o[n].min,a=o[n].min+i/2,s=e[n]-a;t.originPoint[n]=e[n],r.set(s)}})).includes(!0)},e.prototype.updateAxis=function(e,t,n){if(ul(e,this.props.drag,this.currentDirection))return this.getAxisMotionValue(e)?this.updateAxisMotionValue(e,n):this.updateVisualElementAxis(e,t)},e.prototype.updateAxisMotionValue=function(e,t){var n=this.getAxisMotionValue(e);if(t&&n){var r=this.originPoint[e]+t[e],o=this.constraints?gi(r,this.constraints[e],this.elastic[e]):r;n.set(o)}},e.prototype.updateVisualElementAxis=function(e,t){var n,r=this.visualElement.getLayoutState().layout[e],o=r.max-r.min,i=this.cursorProgress[e],a=function(e,t,n,r,o){var i=e-t*n;return r?gi(i,r,o):i}(t[e],o,i,null===(n=this.constraints)||void 0===n?void 0:n[e],this.elastic[e]);this.visualElement.setProjectionTargetAxis(e,a,a+o)},e.prototype.setProps=function(e){var t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,o=void 0!==r&&r,i=e.dragPropagation,a=void 0!==i&&i,s=e.dragConstraints,l=void 0!==s&&s,u=e.dragElastic,c=void 0===u?.35:u,d=e.dragMomentum,p=void 0===d||d,h=no(e,["drag","dragDirectionLock","dragPropagation","dragConstraints","dragElastic","dragMomentum"]);this.props=to({drag:n,dragDirectionLock:o,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:p},h)},e.prototype.getAxisMotionValue=function(e){var t=this.props,n=t.layout,r=t.layoutId,o="_drag"+e.toUpperCase();return this.props[o]?this.props[o]:n||void 0!==r?void 0:this.visualElement.getValue(e,0)},e.prototype.isLayoutDrag=function(){return!this.getAxisMotionValue("x")},e.prototype.isExternalDrag=function(){var e=this.props,t=e._dragX,n=e._dragY;return t||n},e.prototype.animateDragEnd=function(e){var t=this,n=this.props,r=n.drag,o=n.dragMomentum,i=n.dragElastic,a=n.dragTransition,s=function(e,t){void 0===t&&(t=!0);var n,r=e.getProjectionParent();return!!r&&(t?el(n=zs(r.projection.target,e.projection.target),r.getLatestValues()):n=zs(r.getLayoutState().layout,e.getLayoutState().layout),fi((function(t){return e.setProjectionTargetAxis(t,n[t].min,n[t].max,!0)})),!0)}(this.visualElement,this.isLayoutDrag()&&!this.isExternalDrag()),l=this.constraints||{};if(s&&Object.keys(l).length&&this.isLayoutDrag()){var u=this.visualElement.getProjectionParent();if(u){var c=zs(u.projection.targetFinal,l);fi((function(e){var t=c[e],n=t.min,r=t.max;l[e]={min:isNaN(n)?void 0:n,max:isNaN(r)?void 0:r}}))}}var d=fi((function(n){var u;if(ul(n,r,t.currentDirection)){var c=null!==(u=null==l?void 0:l[n])&&void 0!==u?u:{},d=i?200:1e6,p=i?40:1e7,h=to(to({type:"inertia",velocity:o?e[n]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10},a),c);return t.getAxisMotionValue(n)?t.startAxisValueAnimation(n,h):t.visualElement.startLayoutAnimation(n,h,s)}}));return Promise.all(d).then((function(){var e,n;null===(n=(e=t.props).onDragTransitionEnd)||void 0===n||n.call(e)}))},e.prototype.stopMotion=function(){var e=this;fi((function(t){var n=e.getAxisMotionValue(t);n?n.stop():e.visualElement.stopLayoutAnimation()}))},e.prototype.startAxisValueAnimation=function(e,t){var n=this.getAxisMotionValue(e);if(n){var r=n.get();return n.set(r),n.set(r),Ps(e,n,0,t)}},e.prototype.scalePoint=function(){var e=this,t=this.props,n=t.drag;if(ui(t.dragConstraints)&&this.constraintsBox){this.stopMotion();var r={x:0,y:0};fi((function(t){var n,o,i,a,s;r[t]=(n=e.visualElement.projection.target[t],o=e.constraintsBox[t],i=.5,a=Ei(n),(s=Ei(o))>a?i=_i(o.min,o.max-a,n.min):a>s&&(i=_i(n.min,n.max-s,o.min)),function(e){return ki(0,1,e)}(i))})),this.updateConstraints((function(){fi((function(t){if(ul(t,n,null)){var o=function(e,t,n){var r=e.max-e.min,o=mi(t.min,t.max-r,n);return{min:o,max:o+r}}(e.visualElement.projection.target[t],e.constraintsBox[t],r[t]),i=o.min,a=o.max;e.visualElement.setProjectionTargetAxis(t,i,a)}}))})),setTimeout(ol,1)}},e.prototype.updateConstraints=function(e){var t=this;this.cancelLayout=rl((function(n,r){var o=Ls(t.visualElement);r((function(){return o.forEach((function(e){return e.resetTransform()}))})),n((function(){return Fs(t.visualElement)})),r((function(){return o.forEach((function(e){return e.restoreTransform()}))})),n((function(){t.resolveDragConstraints()})),e&&r(e)}))},e.prototype.mount=function(e){var t=this,n=Uo(e.getInstance(),"pointerdown",(function(e){var n=t.props,r=n.drag,o=n.dragListener;r&&(void 0===o||o)&&t.start(e)})),r=Ro(window,"resize",(function(){t.scalePoint()})),o=e.onLayoutUpdate((function(){t.isDragging&&t.resolveDragConstraints()})),i=e.prevDragCursor;return i&&this.start(il,{cursorProgress:i}),function(){null==n||n(),null==r||r(),null==o||o(),t.cancelDrag()}},e}();function ul(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}function cl(e,t){-1===e.indexOf(t)&&e.push(t)}function dl(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var pl=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return cl(this.subscriptions,e),function(){return dl(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var o=0;o<r;o++){var i=this.subscriptions[o];i&&i(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),hl=function(){function e(e){var t,n=this;this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new pl,this.velocityUpdateSubscribers=new pl,this.renderSubscribers=new pl,this.canTrackVelocity=!1,this.updateAndNotify=function(e,t){void 0===t&&(t=!0),n.prev=n.current,n.current=e;var r=Ao(),o=r.delta,i=r.timestamp;n.lastUpdated!==i&&(n.timeDelta=o,n.lastUpdated=i,Oo.postRender(n.scheduleVelocityCheck)),n.prev!==n.current&&n.updateSubscribers.notify(n.current),n.velocityUpdateSubscribers.getSize()&&n.velocityUpdateSubscribers.notify(n.getVelocity()),t&&n.renderSubscribers.notify(n.current)},this.scheduleVelocityCheck=function(){return Oo.postRender(n.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current,n.velocityUpdateSubscribers.notify(n.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t)))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?es(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function fl(e){return new hl(e)}var ml=function(e){return null!==e&&"object"==typeof e&&e.getVelocity};function gl(){var e=fl(1),t={lead:void 0,follow:void 0,crossfadeOpacity:!1,preserveFollowOpacity:!1},n=to({},t),r={},o={},i=!1,a=null,s=0;function l(n,r){var o=t.lead,s=t.follow;i=!0,a=null;var l=!1,u=function(){l=!0,o&&o.scheduleRender(),s&&s.scheduleRender()},c=function(){i=!1,a=Ao().timestamp};return r=r&&Rs(r,"crossfade"),function(e,t,n){void 0===n&&(n={});var r=ml(e)?e:fl(e);return Ps("",r,t,n),{stop:function(){return r.stop()}}}(e,n,to(to({},r),{onUpdate:u,onComplete:function(){l?c():(e.set(n),Oo.read(c)),u()}}))}return{isActive:function(){return r&&(i||Ao().timestamp===a)},fromLead:function(e){return l(0,e)},toLead:function(r){var o=0;return t.prevValues||t.follow?n.lead===t.follow&&n.follow===t.lead&&(o=1-e.get()):o=1,e.set(o),l(1,r)},reset:function(){return e.set(1)},stop:function(){return e.stop()},getCrossfadeState:function(n){return function(){var n,i,a=Ao().timestamp,l=t.lead,u=t.follow;if(a!==s&&l){s=a;var c=l.getLatestValues();Object.assign(r,c);var d=u?u.getLatestValues():t.prevValues;Object.assign(o,d);var p=e.get(),h=null!==(n=c.opacity)&&void 0!==n?n:1,f=null!==(i=null==d?void 0:d.opacity)&&void 0!==i?i:1;t.crossfadeOpacity&&u?(r.opacity=mi(!1!==u.isVisible?0:f,h,bl(p)),o.opacity=t.preserveFollowOpacity?f:mi(f,0,yl(p))):u||(r.opacity=mi(f,h,p)),function(e,t,n,r,o,i){for(var a=0;a<wl;a++){var s="border"+xl[a]+"Radius",l=kl(r,s),u=kl(n,s);if((void 0!==l||void 0!==u)&&(l||(l=0),u||(u=0),"number"==typeof l&&"number"==typeof u)){var c=Math.max(mi(l,u,i),0);e[s]=t[s]=c}}if(r.rotate||n.rotate){var d=mi(r.rotate||0,n.rotate||0,i);e.rotate=t.rotate=d}!o&&n.backgroundColor&&r.backgroundColor&&(e.backgroundColor=t.backgroundColor=ma(r.backgroundColor,n.backgroundColor)(i))}(r,o,c,d||{},Boolean(u),p)}}(),n===t.lead?r:n===t.follow?o:void 0},setOptions:function(e){n=t,t=e,r={},o={}},getLatestValues:function(){return r}}}var bl=vl(0,.5,$a),yl=vl(.5,.95,Ma);function vl(e,t,n){return function(r){return r<e?0:r>t?1:n(_i(e,t,r))}}var xl=["TopLeft","TopRight","BottomLeft","BottomRight"],wl=xl.length;function kl(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var _l={layoutReady:function(e){return e.notifyLayoutReady()}};function Sl(){var e=new Set;return{add:function(t){return e.add(t)},flush:function(t){var n=void 0===t?_l:t,r=n.layoutReady,o=n.parent;rl((function(t,n){var i=Array.from(e).sort(Ms),a=o?Ls(o):[];n((function(){oo(oo([],ro(a)),ro(i)).forEach((function(e){return e.resetTransform()}))})),t((function(){i.forEach(Fs)})),n((function(){a.forEach((function(e){return e.restoreTransform()})),i.forEach(r)})),t((function(){i.forEach((function(e){e.isPresent&&(e.presence=Qr.Present)}))})),n((function(){To.preRender(),To.render()})),t((function(){Oo.postRender((function(){return i.forEach(El)})),e.clear()}))})),ol()}}}function El(e){e.prevViewportBox=e.projection.target}var Tl=(0,l.createContext)(Sl()),Cl=(0,l.createContext)(Sl());function Il(e){return!!e.forceUpdate}var jl=(0,l.createContext)({}),Al=["","X","Y","Z"],Ol=["transformPerspective","x","y","z"];function Nl(e,t){return Ol.indexOf(e)-Ol.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return Al.forEach((function(t){return Ol.push(e+t)}))}));var Rl=new Set(Ol);function Pl(e){return Rl.has(e)}var Ml=new Set(["originX","originY","originZ"]);function Dl(e){return Ml.has(e)}var Ll=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.children=new Set,t.stacks=new Map,t.hasMounted=!1,t.updateScheduled=!1,t.renderScheduled=!1,t.syncContext=to(to({},Sl()),{syncUpdate:function(e){return t.scheduleUpdate(e)},forceUpdate:function(){t.syncContext=to({},t.syncContext),t.scheduleUpdate(!0)},register:function(e){return t.addChild(e)},remove:function(e){return t.removeChild(e)}}),t}return Jr(t,e),t.prototype.componentDidMount=function(){this.hasMounted=!0},t.prototype.componentDidUpdate=function(){this.startLayoutAnimation()},t.prototype.shouldComponentUpdate=function(){return this.renderScheduled=!0,!0},t.prototype.startLayoutAnimation=function(){var e=this;this.renderScheduled=this.updateScheduled=!1;var t=this.props.type;this.children.forEach((function(e){e.isPresent?e.presence!==Qr.Entering&&(e.presence=e.presence===Qr.Exiting?Qr.Entering:Qr.Present):e.presence=Qr.Exiting})),this.updateStacks();var n={layoutReady:function(n){void 0!==n.getLayoutId()?e.getStack(n).animate(n,"crossfade"===t):n.notifyLayoutReady()},parent:this.context.visualElement};this.children.forEach((function(t){return e.syncContext.add(t)})),this.syncContext.flush(n),this.stacks.forEach((function(e){return e.clearSnapshot()}))},t.prototype.updateStacks=function(){this.stacks.forEach((function(e){return e.updateLeadAndFollow()}))},t.prototype.scheduleUpdate=function(e){void 0===e&&(e=!1),!e&&this.updateScheduled||(this.updateScheduled=!0,this.children.forEach((function(e){!function(e){for(var t=!1,n={},r=0;r<Al.length;r++){var o="rotate"+Al[r];e.hasValue(o)&&0!==e.getStaticValue(o)&&(t=!0,n[o]=e.getStaticValue(o),e.setStaticValue(o,0))}if(t){for(var o in e.syncRender(),n)e.setStaticValue(o,n[o]);e.scheduleRender()}}(e),e.shouldResetTransform()&&e.resetTransform()})),this.children.forEach(Bs),this.stacks.forEach((function(e){return e.updateSnapshot()})),!e&&this.renderScheduled||(this.renderScheduled=!0,this.forceUpdate()))},t.prototype.addChild=function(e){this.children.add(e),this.addToStack(e),e.presence=this.hasMounted?Qr.Entering:Qr.Present},t.prototype.removeChild=function(e){this.scheduleUpdate(),this.children.delete(e),this.removeFromStack(e)},t.prototype.addToStack=function(e){var t=this.getStack(e);null==t||t.add(e)},t.prototype.removeFromStack=function(e){var t=this.getStack(e);null==t||t.remove(e)},t.prototype.getStack=function(e){var t,n,r,o,i,a,s,l,u=e.getLayoutId();if(void 0!==u)return!this.stacks.has(u)&&this.stacks.set(u,(o=new Set,a=to({},i={leadIsExiting:!1}),s=gl(),l=!1,{add:function(e){e.setCrossfader(s),o.add(e),r&&(e.prevDragCursor=r),i.lead||(i.lead=e)},remove:function(e){o.delete(e)},getLead:function(){return i.lead},updateSnapshot:function(){if(i.lead){t=s.isActive()?s.getLatestValues():i.lead.getLatestValues(),n=i.lead.prevViewportBox;var e=sl.get(i.lead);e&&e.isDragging&&(r=e.cursorProgress)}},clearSnapshot:function(){r=n=void 0},updateLeadAndFollow:function(){var e,n,r;a=to({},i);for(var u=Array.from(o),c=u.length;c--;c>=0){var d=u[c];if(n&&(null!=r||(r=d)),null!=n||(n=d),n&&r)break}i.lead=n,i.follow=r,i.leadIsExiting=(null===(e=i.lead)||void 0===e?void 0:e.presence)===Qr.Exiting,s.setOptions({lead:n,follow:r,prevValues:t,crossfadeOpacity:(null==r?void 0:r.isPresenceRoot)||(null==n?void 0:n.isPresenceRoot)}),i.lead===a.follow||a.lead===i.lead&&a.leadIsExiting===i.leadIsExiting||(l=!0)},animate:function(e,t){var r;if(void 0===t&&(t=!1),e===i.lead){t?e.pointTo(i.lead):e.setVisibility(!0);var o={},a=null===(r=i.follow)||void 0===r?void 0:r.getProjectionParent();if(a&&(o.prevParent=a),e.presence===Qr.Entering?o.originBox=i.follow?i.follow.prevViewportBox:n:e.presence===Qr.Exiting&&(o.targetBox=function(){var e;return null===(e=i.follow)||void 0===e?void 0:e.getLayoutState().layout}()),l){l=!1;var u=e.getDefaultTransition();e.presence===Qr.Entering?s.toLead(u):s.fromLead(u)}e.notifyLayoutReady(o)}else t?i.lead&&e.pointTo(i.lead):e.setVisibility(!1)}})),this.stacks.get(u)},t.prototype.render=function(){return l.createElement(Tl.Provider,{value:this.syncContext},this.props.children)},t.contextType=jl,t}(l.Component);function Fl(e){return(0,l.useEffect)((function(){return function(){return e()}}),[])}var Bl=(0,l.createContext)(null);function $l(e){var t=(0,l.useRef)(null);return null===t.current&&(t.current=e()),t.current}var zl=0;function Ul(){var e=zl;return zl++,e}var Vl=function(e){var t=e.children,n=e.initial,r=e.isPresent,o=e.onExitComplete,i=e.custom,a=e.presenceAffectsLayout,s=$l(Gl),u=$l(Ul),c=(0,l.useMemo)((function(){return{id:u,initial:n,isPresent:r,custom:i,onExitComplete:function(e){s.set(e,!0);var t=!0;s.forEach((function(e){e||(t=!1)})),t&&(null==o||o())},register:function(e){return s.set(e,!1),function(){return s.delete(e)}}}}),a?void 0:[r]);return(0,l.useMemo)((function(){s.forEach((function(e,t){return s.set(t,!1)}))}),[r]),l.useEffect((function(){!r&&!s.size&&(null==o||o())}),[r]),l.createElement(Bl.Provider,{value:c},t)};function Gl(){return new Map}function Wl(e){return e.key||""}var Hl=function(e){var t=e.children,n=e.custom,r=e.initial,o=void 0===r||r,i=e.onExitComplete,a=e.exitBeforeEnter,s=e.presenceAffectsLayout,u=void 0===s||s,c=function(){var e=(0,l.useRef)(!1),t=ro((0,l.useState)(0),2),n=t[0],r=t[1];return Fl((function(){return e.current=!0})),(0,l.useCallback)((function(){!e.current&&r(n+1)}),[n])}(),d=(0,l.useContext)(Tl);Il(d)&&(c=d.forceUpdate);var p=(0,l.useRef)(!0),h=function(e){var t=[];return l.Children.forEach(e,(function(e){(0,l.isValidElement)(e)&&t.push(e)})),t}(t),f=(0,l.useRef)(h),m=(0,l.useRef)(new Map).current,g=(0,l.useRef)(new Set).current;if(function(e,t){e.forEach((function(e){var n=Wl(e);t.set(n,e)}))}(h,m),p.current)return p.current=!1,l.createElement(l.Fragment,null,h.map((function(e){return l.createElement(Vl,{key:Wl(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:u},e)})));for(var b=oo([],ro(h)),y=f.current.map(Wl),v=h.map(Wl),x=y.length,w=0;w<x;w++){var k=y[w];-1===v.indexOf(k)?g.add(k):g.delete(k)}return a&&g.size&&(b=[]),g.forEach((function(e){if(-1===v.indexOf(e)){var t=m.get(e);if(t){var r=y.indexOf(e);b.splice(r,0,l.createElement(Vl,{key:Wl(t),isPresent:!1,onExitComplete:function(){m.delete(e),g.delete(e);var t=f.current.findIndex((function(t){return t.key===e}));f.current.splice(t,1),g.size||(f.current=h,c(),i&&i())},custom:n,presenceAffectsLayout:u},t))}}})),b=b.map((function(e){var t=e.key;return g.has(t)?e:l.createElement(Vl,{key:Wl(e),isPresent:!0,presenceAffectsLayout:u},e)})),f.current=b,l.createElement(l.Fragment,null,g.size?b:b.map((function(e){return(0,l.cloneElement)(e)})))},ql=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},Xl={measureLayout:ql(["layout","layoutId","drag","_layoutResetTransform"]),animation:ql(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag"]),exit:ql(["exit"]),drag:ql(["drag","dragControls"]),focus:ql(["whileFocus"]),hover:ql(["whileHover","onHoverStart","onHoverEnd"]),tap:ql(["whileTap","onTap","onTapStart","onTapCancel"]),pan:ql(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),layoutAnimation:ql(["layout","layoutId"])},Yl=(0,l.createContext)({strict:!1}),Kl=Object.keys(Xl),Zl=Kl.length,Jl=(0,l.createContext)({transformPagePoint:function(e){return e},isStatic:!1});function Ql(){var e=(0,l.useContext)(Bl);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,o=nu();return(0,l.useEffect)((function(){return r(o)}),[]),!t&&n?[!1,function(){return null==n?void 0:n(o)}]:[!0]}var eu=0,tu=function(){return eu++},nu=function(){return $l(tu)},ru=(0,l.createContext)(null),ou=Mo?l.useLayoutEffect:l.useEffect;function iu(e){return Array.isArray(e)}function au(e){return"string"==typeof e||iu(e)}function su(e,t,n,r,o){var i;return void 0===r&&(r={}),void 0===o&&(o={}),"string"==typeof t&&(t=null===(i=e.variants)||void 0===i?void 0:i[t]),"function"==typeof t?t(null!=n?n:e.custom,r,o):t}function lu(e,t,n){var r=e.getProps();return su(r,t,null!=n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function uu(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||au(e.initial)||au(e.animate)||au(e.whileHover)||au(e.whileDrag)||au(e.whileTap)||au(e.whileFocus)||au(e.exit)}function cu(e){return Boolean(uu(e)||e.variants)}function du(e){return Array.isArray(e)?e.join(" "):e}function pu(e){var t=e.preloadedFeatures,n=e.createVisualElement,r=e.useRender,o=e.useVisualState,i=e.Component;return t&&function(e){for(var t in e){var n=e[t];null!==n&&(Xl[t].Component=n)}}(t),(0,l.forwardRef)((function(e,t){var a=(0,l.useContext)(Jl).isStatic,s=null,u=function(e,t){var n=function(e,t){if(uu(e)){var n=e.initial,r=e.animate;return{initial:!1===n||au(n)?n:void 0,animate:au(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,l.useContext)(jl)),r=n.initial,o=n.animate;return(0,l.useMemo)((function(){return{initial:r,animate:o}}),t?[du(r),du(o)]:[])}(e,a),c=o(e,a);return!a&&Mo&&(u.visualElement=function(e,t,n,r){var o=(0,l.useContext)(Jl),i=(0,l.useContext)(Yl),a=(0,l.useContext)(jl).visualElement,s=(0,l.useContext)(Bl),u=function(e){var t=e.layoutId,n=(0,l.useContext)(ru);return n&&void 0!==t?n+"-"+t:t}(n),c=(0,l.useRef)(void 0);r||(r=i.renderer),!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:to(to({},n),{layoutId:u}),presenceId:null==s?void 0:s.id,blockInitialAnimation:!1===(null==s?void 0:s.initial)}));var d=c.current;return ou((function(){var e;d&&(d.setProps(to(to(to({},o),n),{layoutId:u})),d.isPresent=null===(e=s)||e.isPresent,d.isPresenceRoot=!a||a.presenceId!==(null==s?void 0:s.id),d.syncRender())})),(0,l.useEffect)((function(){var e;d&&(null===(e=d.animationState)||void 0===e||e.animateChanges())})),ou((function(){return function(){return null==d?void 0:d.notifyUnmount()}}),[]),d}(i,c,e,n),s=function(e,t,n){var r=[];if((0,l.useContext)(Yl),!t)return null;for(var o=0;o<Zl;o++){var i=Kl[o],a=Xl[i],s=a.isEnabled,u=a.Component;s(e)&&u&&r.push(l.createElement(u,to({key:i},e,{visualElement:t})))}return r}(e,u.visualElement)),l.createElement(l.Fragment,null,l.createElement(jl.Provider,{value:u},r(i,e,function(e,t,n){return(0,l.useCallback)((function(r){var o;r&&(null===(o=e.mount)||void 0===o||o.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"==typeof n?n(r):ui(n)&&(n.current=r))}),[t])}(c,u.visualElement,t),c,a)),s)}))}function hu(e){function t(t,n){return void 0===n&&(n={}),pu(e(t,n))}var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var fu=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function mu(e){return"string"==typeof e&&!e.includes("-")&&!!(fu.indexOf(e)>-1||/[A-Z]/.test(e))}var gu={};function bu(e,t){var n=t.layout,r=t.layoutId;return Pl(e)||Dl(e)||(n||void 0!==r)&&(!!gu[e]||"opacity"===e)}var yu={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function vu(e){return e.startsWith("--")}var xu=function(e,t){return t&&"number"==typeof e?t.transform(e):e};function wu(e,t,n,r,o,i,a,s){var l,u=e.style,c=e.vars,d=e.transform,p=e.transformKeys,h=e.transformOrigin;p.length=0;var f=!1,m=!1,g=!0;for(var b in t){var y=t[b];if(vu(b))c[b]=y;else{var v=Ss[b],x=xu(y,v);if(Pl(b)){if(f=!0,d[b]=x,p.push(b),!g)continue;y!==(null!==(l=v.default)&&void 0!==l?l:0)&&(g=!1)}else if(Dl(b))h[b]=x,m=!0;else if((null==n?void 0:n.isHydrated)&&(null==r?void 0:r.isHydrated)&&gu[b]){var w=gu[b].process(y,r,n),k=gu[b].applyTo;if(k)for(var _=k.length,S=0;S<_;S++)u[k[S]]=w;else u[b]=w}else u[b]=x}}r&&n&&a&&s?(u.transform=a(r.deltaFinal,r.treeScale,f?d:void 0),i&&(u.transform=i(d,u.transform)),u.transformOrigin=s(r)):(f&&(u.transform=function(e,t,n,r){var o=e.transform,i=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,l=t.allowTransformNone,u=void 0===l||l,c="";i.sort(Nl);for(var d=!1,p=i.length,h=0;h<p;h++){var f=i[h];c+=(yu[f]||f)+"("+o[f]+") ","z"===f&&(d=!0)}return!d&&s?c+="translateZ(0)":c=c.trim(),r?c=r(o,n?"":c):u&&n&&(c="none"),c}(e,o,g,i)),m&&(u.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,o=void 0===r?"50%":r,i=e.originZ;return n+" "+o+" "+(void 0===i?0:i)}(h)))}var ku=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function _u(e,t,n){for(var r in t)ml(t[r])||bu(r,n)||(e[r]=t[r])}function Su(e,t,n){var r={},o=function(e,t,n){var r={};return _u(r,e.style||{},e),Object.assign(r,function(e,t,n){var r=e.transformTemplate;return(0,l.useMemo)((function(){var e=ku();wu(e,t,void 0,void 0,{enableHardwareAcceleration:!n},r);var o=e.vars,i=e.style;return to(to({},o),i)}),[t])}(e,t,n)),e.transformValues&&(r=e.transformValues(r)),r}(e,t,n);return Boolean(e.drag)&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),r.style=o,r}var Eu=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","_layoutResetTransform","onLayoutAnimationComplete","onViewportBoxUpdate","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover"]);function Tu(e){return Eu.has(e)}var Cu=function(e){return!Tu(e)};try{var Iu=i(8594).Z;Cu=function(e){return e.startsWith("on")?!Tu(e):Iu(e)}}catch(e){}function ju(e,t,n){return"string"==typeof e?e:aa.transform(t+n*e)}var Au=function(e,t){return aa.transform(e*t)},Ou={offset:"stroke-dashoffset",array:"stroke-dasharray"},Nu={offset:"strokeDashoffset",array:"strokeDasharray"};function Ru(e,t,n,r,o,i,a,s){var l=t.attrX,u=t.attrY,c=t.originX,d=t.originY,p=t.pathLength,h=t.pathSpacing,f=void 0===h?1:h,m=t.pathOffset,g=void 0===m?0:m;wu(e,no(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r,o,i,a,s),e.attrs=e.style,e.style={};var b=e.attrs,y=e.style,v=e.dimensions,x=e.totalPathLength;b.transform&&(v&&(y.transform=b.transform),delete b.transform),v&&(void 0!==c||void 0!==d||y.transform)&&(y.transformOrigin=function(e,t,n){return ju(t,e.x,e.width)+" "+ju(n,e.y,e.height)}(v,void 0!==c?c:.5,void 0!==d?d:.5)),void 0!==l&&(b.x=l),void 0!==u&&(b.y=u),void 0!==x&&void 0!==p&&function(e,t,n,r,o,i){void 0===r&&(r=1),void 0===o&&(o=0),void 0===i&&(i=!0);var a=i?Ou:Nu;e[a.offset]=Au(-o,t);var s=Au(n,t),l=Au(r,t);e[a.array]=s+" "+l}(b,x,p,f,g,!1)}var Pu=function(){return to(to({},ku()),{attrs:{}})};function Mu(e,t){var n=(0,l.useMemo)((function(){var n=Pu();return Ru(n,t,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),to(to({},n.attrs),{style:to({},n.style)})}),[t]);if(e.style){var r={};_u(r,e.style,e),n.style=to(to({},r),n.style)}return n}function Du(e){return void 0===e&&(e=!1),function(t,n,r,o,i){var a=o.latestValues,s=(mu(t)?Mu:Su)(n,a,i),u=function(e,t,n){var r={};for(var o in e)(Cu(o)||!0===n&&Tu(o)||!t&&!Tu(o))&&(r[o]=e[o]);return r}(n,"string"==typeof t,e),c=to(to(to({},u),s),{ref:r});return(0,l.createElement)(t,c)}}var Lu=/([a-z])([A-Z])/g,Fu=function(e){return e.replace(Lu,"$1-$2").toLowerCase()};function Bu(e,t){var n=t.style,r=t.vars;for(var o in Object.assign(e.style,n),r)e.style.setProperty(o,r[o])}var $u=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform"]);function zu(e,t){for(var n in Bu(e,t),t.attrs)e.setAttribute($u.has(n)?n:Fu(n),t.attrs[n])}function Uu(e){var t=e.style,n={};for(var r in t)(ml(t[r])||bu(r,e))&&(n[r]=t[r]);return n}function Vu(e){var t=Uu(e);for(var n in e)ml(e[n])&&(t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]);return t}function Gu(e){return"object"==typeof e&&"function"==typeof e.start}var Wu=function(e){return Boolean(e&&"object"==typeof e&&e.mix&&e.toValue)},Hu=function(e){return ps(e)?e[e.length-1]||0:e};function qu(e,t,n,r){var o=e.scrapeMotionValuesFromProps,i=e.createRenderState,a=e.onMount,s={latestValues:Yu(t,n,r,o),renderState:i()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var Xu=function(e){return function(t,n){var r=(0,l.useContext)(jl),o=(0,l.useContext)(Bl);return n?qu(e,t,r,o):$l((function(){return qu(e,t,r,o)}))}};function Yu(e,t,n,r){var o,i,a={},s=!1===(null==n?void 0:n.initial),l=r(e);for(var u in l)a[u]=(o=l[u],i=void 0,i=ml(o)?o.get():o,Wu(i)?i.toValue():i);var c=e.initial,d=e.animate,p=uu(e),h=cu(e);t&&h&&!p&&!1!==e.inherit&&(null!=c||(c=t.initial),null!=d||(d=t.animate));var f=s||!1===c?d:c;return f&&"boolean"!=typeof f&&!Gu(f)&&(Array.isArray(f)?f:[f]).forEach((function(t){var n=su(e,t);if(n){var r=n.transitionEnd;n.transition;var o=no(n,["transitionEnd","transition"]);for(var i in o)a[i]=o[i];for(var i in r)a[i]=r[i]}})),a}var Ku={useVisualState:Xu({scrapeMotionValuesFromProps:Vu,createRenderState:Pu,onMount:function(e,t,n){var r=n.renderState,o=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}"path"===t.tagName&&(r.totalPathLength=t.getTotalLength()),Ru(r,o,void 0,void 0,{enableHardwareAcceleration:!1},e.transformTemplate),zu(t,r)}})},Zu={useVisualState:Xu({scrapeMotionValuesFromProps:Uu,createRenderState:ku})};function Ju(e,t,n){return function(r,o){var i;so(r)&&!li()&&(null==n||n(r,o),null===(i=e.animationState)||void 0===i||i.setActive(Is.Hover,t))}}var Qu=function(e,t){return!!t&&(e===t||Qu(e,t.parentElement))},ec=function(e){return function(t){return e(t),null}},tc={tap:ec((function(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,o=e.whileTap,i=e.visualElement,a=t||n||r||o,s=(0,l.useRef)(!1),u=(0,l.useRef)(null);function c(){var e;null===(e=u.current)||void 0===e||e.call(u),u.current=null}function d(){var e;return c(),s.current=!1,null===(e=i.animationState)||void 0===e||e.setActive(Is.Tap,!1),!li()}function p(e,n){d()&&(Qu(i.getInstance(),e.target)?null==t||t(e,n):null==r||r(e,n))}function h(e,t){d()&&(null==r||r(e,t))}Vo(i,"pointerdown",a?function(e,t){var r;c(),s.current||(s.current=!0,u.current=Ko(Uo(window,"pointerup",p),Uo(window,"pointercancel",h)),null==n||n(e,t),null===(r=i.animationState)||void 0===r||r.setActive(Is.Tap,!0))}:void 0),Fl(c)})),focus:ec((function(e){var t=e.whileFocus,n=e.visualElement;Po(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Is.Focus,!0)}:void 0),Po(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Is.Focus,!1)}:void 0)})),hover:ec((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,o=e.visualElement;Vo(o,"pointerenter",t||r?Ju(o,!0,t):void 0),Vo(o,"pointerleave",n||r?Ju(o,!1,n):void 0)}))};function nc(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}var rc=function(e){return/^\-?\d*\.?\d+$/.test(e)},oc=function(e){return function(t){return t.test(e)}},ic=[Xi,aa,ia,oa,la,sa,{test:function(e){return"auto"===e},parse:function(e){return e}}],ac=function(e){return ic.find(oc(e))},sc=oo(oo([],ro(ic)),[ga,_a]),lc=function(e){return sc.find(oc(e))};function uc(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fl(n))}function cc(e,t){if(t)return(t[e]||t.default||t).from}function dc(e,t,n){var r;void 0===n&&(n={});var o=lu(e,t,n.custom),i=(o||{}).transition,a=void 0===i?e.getDefaultTransition()||{}:i;n.transitionOverride&&(a=n.transitionOverride);var s=o?function(){return pc(e,o,n)}:function(){return Promise.resolve()},l=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var o=a.delayChildren,i=void 0===o?0:o,s=a.staggerChildren,l=a.staggerDirection;return function(e,t,n,r,o,i){void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=1);var a=[],s=(e.variantChildren.size-1)*r,l=1===o?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(hc).forEach((function(e,r){a.push(dc(e,t,to(to({},i),{delay:n+l(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(a)}(e,t,i+r,s,l,n)}:function(){return Promise.resolve()},u=a.when;if(u){var c=ro("beforeChildren"===u?[s,l]:[l,s],2),d=c[0],p=c[1];return d().then(p)}return Promise.all([s(),l(n.delay)])}function pc(e,t,n){var r,o=void 0===n?{}:n,i=o.delay,a=void 0===i?0:i,s=o.transitionOverride,l=o.type,u=e.makeTargetAnimatable(t),c=u.transition,d=void 0===c?e.getDefaultTransition():c,p=u.transitionEnd,h=no(u,["transition","transitionEnd"]);s&&(d=s);var f=[],m=l&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[l]);for(var g in h){var b=e.getValue(g),y=h[g];if(!(!b||void 0===y||m&&fc(m,g))){var v=Ps(g,b,y,to({delay:a},d));f.push(v)}}return Promise.all(f).then((function(){p&&function(e,t){var n=lu(e,t),r=n?e.makeTargetAnimatable(n,!1):{},o=r.transitionEnd,i=void 0===o?{}:o;r.transition;var a=no(r,["transitionEnd","transition"]);for(var s in a=to(to({},a),i))uc(e,s,Hu(a[s]))}(e,p)}))}function hc(e,t){return e.sortNodePosition(t)}function fc(e,t){var n=e.protectedKeys,r=e.needsAnimating,o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}var mc=[Is.Animate,Is.Hover,Is.Tap,Is.Drag,Is.Focus,Is.Exit],gc=oo([],ro(mc)).reverse(),bc=mc.length;function yc(e){var t,n=function(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(),Array.isArray(t)){var o=t.map((function(t){return dc(e,t,n)}));r=Promise.all(o)}else if("string"==typeof t)r=dc(e,t,n);else{var i="function"==typeof t?lu(e,t,n.custom):t;r=pc(e,i,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}(e),r=((t={})[Is.Animate]=vc(!0),t[Is.Hover]=vc(),t[Is.Tap]=vc(),t[Is.Drag]=vc(),t[Is.Focus]=vc(),t[Is.Exit]=vc(),t),o={},i=!0,a=function(t,n){var r=lu(e,n);if(r){r.transition;var o=r.transitionEnd,i=no(r,["transition","transitionEnd"]);t=to(to(to({},t),i),o)}return t};function s(t,s){for(var l,u=e.getProps(),c=e.getVariantContext(!0)||{},d=[],p=new Set,h={},f=1/0,m=function(n){var o=gc[n],m=r[o],g=null!==(l=u[o])&&void 0!==l?l:c[o],b=au(g),y=o===s?m.isActive:null;!1===y&&(f=n);var v=g===c[o]&&g!==u[o]&&b;if(v&&i&&e.manuallyAnimateOnMount&&(v=!1),m.protectedKeys=to({},h),!m.isActive&&null===y||!g&&!m.prevProp||Gu(g)||"boolean"==typeof g)return"continue";var x=function(e,t){return"string"==typeof t?t!==e:!!iu(t)&&!nc(t,e)}(m.prevProp,g)||o===s&&m.isActive&&!v&&b||n>f&&b,w=Array.isArray(g)?g:[g],k=w.reduce(a,{});!1===y&&(k={});var _=m.prevResolvedValues,S=void 0===_?{}:_,E=to(to({},S),k),T=function(e){x=!0,p.delete(e),m.needsAnimating[e]=!0};for(var C in E){var I=k[C],j=S[C];h.hasOwnProperty(C)||(I!==j?ps(I)&&ps(j)?nc(I,j)?m.protectedKeys[C]=!0:T(C):void 0!==I?T(C):p.add(C):void 0!==I&&p.has(C)?T(C):m.protectedKeys[C]=!0)}m.prevProp=g,m.prevResolvedValues=k,m.isActive&&(h=to(to({},h),k)),i&&e.blockInitialAnimation&&(x=!1),x&&!v&&d.push.apply(d,oo([],ro(w.map((function(e){return{animation:e,options:to({type:o},t)}})))))},g=0;g<bc;g++)m(g);if(o=to({},h),p.size){var b={};p.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(b[t]=n)})),d.push({animation:b})}var y=Boolean(d.length);return i&&!1===u.initial&&!e.manuallyAnimateOnMount&&(y=!1),i=!1,y?n(d):Promise.resolve()}return{isAnimated:function(e){return void 0!==o[e]},animateChanges:s,setActive:function(t,n,o){var i;return r[t].isActive===n?Promise.resolve():(null===(i=e.variantChildren)||void 0===i||i.forEach((function(e){var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)})),r[t].isActive=n,s(o,t))},setAnimateFunction:function(t){n=t(e)},getState:function(){return r}}}function vc(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var xc={animation:ec((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=yc(t)),Gu(n)&&(0,l.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:ec((function(e){var t=e.custom,n=e.visualElement,r=ro(Ql(),2),o=r[0],i=r[1],a=(0,l.useContext)(Bl);(0,l.useEffect)((function(){var e,r,s=null===(e=n.animationState)||void 0===e?void 0:e.setActive(Is.Exit,!o,{custom:null!==(r=null==a?void 0:a.custom)&&void 0!==r?r:t});!o&&(null==s||s.then(i))}),[o])}))},wc={pan:ec((function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,o=e.onPanSessionStart,i=e.visualElement,a=t||n||r||o,s=(0,l.useRef)(null),u=(0,l.useContext)(Jl).transformPagePoint,c={onSessionStart:o,onStart:n,onMove:t,onEnd:function(e,t){s.current=null,r&&r(e,t)}};(0,l.useEffect)((function(){null!==s.current&&s.current.updateHandlers(c)})),Vo(i,"pointerdown",a&&function(e){s.current=new Zo(e,c,{transformPagePoint:u})}),Fl((function(){return s.current&&s.current.end()}))})),drag:ec((function(e){var t=e.dragControls,n=e.visualElement,r=(0,l.useContext)(Jl).transformPagePoint,o=$l((function(){return new ll({visualElement:n})}));o.setProps(to(to({},e),{transformPagePoint:r})),(0,l.useEffect)((function(){return t&&t.subscribe(o)}),[o]),(0,l.useEffect)((function(){return o.mount(n)}),[])}))};function kc(e){return"string"==typeof e&&e.startsWith("var(--")}var _c=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Sc(e,t,n){void 0===n&&(n=1),ao(n<=4,'Max CSS variable fallback depth detected in property "'+e+'". This may indicate a circular fallback dependency.');var r=ro(function(e){var t=_c.exec(e);if(!t)return[,];var n=ro(t,3);return[n[1],n[2]]}(e),2),o=r[0],i=r[1];if(o){var a=window.getComputedStyle(t).getPropertyValue(o);return a?a.trim():kc(i)?Sc(i,t,n+1):i}}function Ec(e,t){return e/(t.max-t.min)*100}var Tc="_$css",Cc={process:function(e,t,n){var r=n.target;if("string"==typeof e){if(!aa.test(e))return e;e=parseFloat(e)}return Ec(e,r.x)+"% "+Ec(e,r.y)+"%"}},Ic={borderRadius:to(to({},Cc),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Cc,borderTopRightRadius:Cc,borderBottomLeftRadius:Cc,borderBottomRightRadius:Cc,boxShadow:{process:function(e,t){var n=t.delta,r=t.treeScale,o=e,i=e.includes("var("),a=[];i&&(e=e.replace(_c,(function(e){return a.push(e),Tc})));var s=_a.parse(e);if(s.length>5)return o;var l=_a.createTransformer(e),u="number"!=typeof s[0]?1:0,c=n.x.scale*r.x,d=n.y.scale*r.y;s[0+u]/=c,s[1+u]/=d;var p=mi(c,d,.5);"number"==typeof s[2+u]&&(s[2+u]/=p),"number"==typeof s[3+u]&&(s[3+u]/=p);var h=l(s);if(i){var f=0;h=h.replace(Tc,(function(){var e=a[f];return f++,e}))}return h}}},jc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frameTarget={x:{min:0,max:1},y:{min:0,max:1}},t.currentAnimationTarget={x:{min:0,max:1},y:{min:0,max:1}},t.isAnimating={x:!1,y:!1},t.stopAxisAnimation={x:void 0,y:void 0},t.isAnimatingTree=!1,t.animate=function(e,n,r){void 0===r&&(r={});var o=r.originBox,i=r.targetBox,a=r.visibilityAction,s=r.shouldStackAnimate,l=r.onComplete,u=r.prevParent,c=no(r,["originBox","targetBox","visibilityAction","shouldStackAnimate","onComplete","prevParent"]),d=t.props,p=d.visualElement,h=d.layout;if(!1===s)return t.isAnimatingTree=!1,t.safeToRemove();if(!t.isAnimatingTree||!0===s){s&&(t.isAnimatingTree=!0),n=o||n,e=i||e;var f=!1,m=p.getProjectionParent();if(m){var g=m.prevViewportBox,b=m.getLayoutState().layout;u&&(i&&(b=u.getLayoutState().layout),o&&!function(e,t){var n=e.getLayoutId(),r=t.getLayoutId();return n!==r||void 0===r&&e!==t}(u,m)&&u.prevViewportBox&&(g=u.prevViewportBox)),g&&function(e,t,n){return e||!e&&!(t||n)}(u,o,i)&&(f=!0,n=zs(g,n),e=zs(b,e))}var y=function(e,t){return!(Oc(e)||Oc(t)||Nc(e.x,t.x)&&Nc(e.y,t.y))}(n,e),v=fi((function(r){var o,i;if("position"===h){var s=e[r].max-e[r].min;n[r].max=n[r].min+s}if(!p.projection.isTargetLocked)return void 0===a?y?t.animateAxis(r,e[r],n[r],to(to({},c),{isRelative:f})):(null===(i=(o=t.stopAxisAnimation)[r])||void 0===i||i.call(o),p.setProjectionTargetAxis(r,e[r].min,e[r].max,f)):void p.setVisibility(a===eo.Show)}));return p.syncRender(),Promise.all(v).then((function(){t.isAnimatingTree=!1,l&&l(),p.notifyLayoutAnimationComplete()}))}},t}return Jr(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.visualElement;t.animateMotionValue=Ps,t.enableLayoutProjection(),this.unsubLayoutReady=t.onLayoutUpdate(this.animate),t.layoutSafeToRemove=function(){return e.safeToRemove()},function(e){for(var t in e)gu[t]=e[t]}(Ic)},t.prototype.componentWillUnmount=function(){var e=this;this.unsubLayoutReady(),fi((function(t){var n,r;return null===(r=(n=e.stopAxisAnimation)[t])||void 0===r?void 0:r.call(n)}))},t.prototype.animateAxis=function(e,t,n,r){var o,i,a=this,s=void 0===r?{}:r,l=s.transition,u=s.isRelative;if(!this.isAnimating[e]||!Nc(t,this.currentAnimationTarget[e])){null===(i=(o=this.stopAxisAnimation)[e])||void 0===i||i.call(o),this.isAnimating[e]=!0;var c=this.props.visualElement,d=this.frameTarget[e],p=c.getProjectionAnimationProgress()[e];p.clearListeners(),p.set(0),p.set(0);var h=function(){var r=p.get()/1e3;!function(e,t,n,r){e.min=mi(t.min,n.min,r),e.max=mi(t.max,n.max,r)}(d,n,t,r),c.setProjectionTargetAxis(e,d.min,d.max,u)};h();var f=p.onChange(h);this.stopAxisAnimation[e]=function(){a.isAnimating[e]=!1,p.stop(),f()},this.currentAnimationTarget[e]=t;var m=l||c.getDefaultTransition()||Rc;return Ps("x"===e?"layoutX":"layoutY",p,1e3,m&&Rs(m,"layout")).then(this.stopAxisAnimation[e])}},t.prototype.safeToRemove=function(){var e,t;null===(t=(e=this.props).safeToRemove)||void 0===t||t.call(e)},t.prototype.render=function(){return null},t}(l.Component),Ac={min:0,max:0};function Oc(e){return Nc(e.x,Ac)&&Nc(e.y,Ac)}function Nc(e,t){return e.min===t.min&&e.max===t.max}var Rc={duration:.45,ease:[.4,0,.1,1]},Pc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Jr(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.syncLayout,n=e.framerSyncLayout,r=e.visualElement;Il(t)&&t.register(r),Il(n)&&n.register(r),r.onUnmount((function(){Il(t)&&t.remove(r),Il(n)&&n.remove(r)}))},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.syncLayout,n=e.visualElement;return Il(t)?t.syncUpdate():(Bs(n),t.add(n)),null},t.prototype.componentDidUpdate=function(){var e=this.props.syncLayout;Il(e)||e.flush()},t.prototype.render=function(){return null},t}(l.Component),Mc={measureLayout:function(e){var t=(0,l.useContext)(Tl),n=(0,l.useContext)(Cl);return l.createElement(Pc,to({},e,{syncLayout:t,framerSyncLayout:n}))},layoutAnimation:function(e){var t=ro(Ql(),2)[1];return l.createElement(jc,to({},e,{safeToRemove:t}))}};function Dc(){return{isHydrated:!1,layout:{x:{min:0,max:1},y:{min:0,max:1}},layoutCorrected:{x:{min:0,max:1},y:{min:0,max:1}},treeScale:{x:1,y:1},delta:hi(),deltaFinal:hi(),deltaTransform:""}}var Lc=Dc();function Fc(e,t,n){var r=e.x,o=e.y,i="translate3d("+r.translate/t.x+"px, "+o.translate/t.y+"px, 0) ";if(n){var a=n.rotate,s=n.rotateX,l=n.rotateY;a&&(i+="rotate("+a+") "),s&&(i+="rotateX("+s+") "),l&&(i+="rotateY("+l+") ")}return i+="scale("+r.scale+", "+o.scale+")",n||i!==$c?i:""}function Bc(e){var t=e.deltaFinal;return 100*t.x.origin+"% "+100*t.y.origin+"% 0"}var $c=Fc(Lc.delta,Lc.treeScale,{x:1,y:1}),zc=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","SetAxisTarget","Unmount"];var Uc=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){cl(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){dl(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(Ms),this.isDirty=!1,this.children.forEach(e)},e}(),Vc=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,o=e.getBaseTarget,i=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,l=e.readValueFromInstance,u=e.resetTransform,c=e.restoreTransform,d=e.removeValueFromRenderState,p=e.sortNodePosition,h=e.scrapeMotionValuesFromProps;return function(e,t){var f=e.parent,m=e.props,g=e.presenceId,b=e.blockInitialAnimation,y=e.visualState;void 0===t&&(t={});var v,x,w,k,_,S,E=y.latestValues,T=y.renderState,C=function(){var e=zc.map((function(){return new pl})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){return zc.forEach((function(r){var o;null===(o=t[r])||void 0===o||o.call(t);var i="on"+r,a=e[i];a&&(t[r]=n[i](a))}))}};return e.forEach((function(e,t){n["on"+zc[t]]=function(t){return e.add(t)},n["notify"+zc[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,oo([],ro(t)))}})),n}(),I={isEnabled:!1,isHydrated:!1,isTargetLocked:!1,target:{x:{min:0,max:1},y:{min:0,max:1}},targetFinal:{x:{min:0,max:1},y:{min:0,max:1}}},j=I,A=E,O=Dc(),N=!1,R=new Map,P=new Map,M={},D=to({},E);function L(){v&&(H.isProjectionReady()&&(Zs(j.targetFinal,j.target,A),Ci(O.deltaFinal,O.layoutCorrected,j.targetFinal,E)),F(),s(v,T))}function F(){var e=E;if(k&&k.isActive()){var n=k.getCrossfadeState(H);n&&(e=n)}r(H,T,e,j,O,t,m)}function B(){C.notifyUpdate(E)}function $(){H.layoutTree.forEach(Wc)}var z=h(m);for(var U in z){var V=z[U];void 0!==E[U]&&ml(V)&&V.set(E[U],!1)}var G=uu(m),W=cu(m),H=to(to({treeType:n,current:null,depth:f?f.depth+1:0,parent:f,children:new Set,path:f?oo(oo([],ro(f.path)),[f]):[],layoutTree:f?f.layoutTree:new Uc,presenceId:g,projection:I,variantChildren:W?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null==f?void 0:f.isMounted()),blockInitialAnimation:b,isMounted:function(){return Boolean(v)},mount:function(e){v=H.current=e,H.pointTo(H),W&&f&&!G&&(S=null==f?void 0:f.addVariantChild(H)),null==f||f.children.add(H)},unmount:function(){Eo.update(B),Eo.render(L),Eo.preRender(H.updateLayoutProjection),P.forEach((function(e){return e()})),H.stopLayoutAnimation(),H.layoutTree.remove(H),null==S||S(),null==f||f.children.delete(H),null==w||w(),C.clearAllListeners()},addVariantChild:function(e){var t,n=H.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return p&&n===e.treeType?p(H.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return W?H:null==f?void 0:f.getClosestVariantNode()},scheduleUpdateLayoutProjection:f?f.scheduleUpdateLayoutProjection:function(){return Oo.preRender(H.updateTreeLayoutProjection,!1,!0)},getLayoutId:function(){return m.layoutId},getInstance:function(){return v},getStaticValue:function(e){return E[e]},setStaticValue:function(e,t){return E[e]=t},getLatestValues:function(){return E},setVisibility:function(e){H.isVisible!==e&&(H.isVisible=e,H.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),i(H,e,m,t)},addValue:function(e,t){H.hasValue(e)&&H.removeValue(e),R.set(e,t),E[e]=t.get(),function(e,t){var n=t.onChange((function(t){E[e]=t,m.onUpdate&&Oo.update(B,!1,!0)})),r=t.onRenderRequest(H.scheduleRender);P.set(e,(function(){n(),r()}))}(e,t)},removeValue:function(e){var t;R.delete(e),null===(t=P.get(e))||void 0===t||t(),P.delete(e),delete E[e],d(e,T)},hasValue:function(e){return R.has(e)},getValue:function(e,t){var n=R.get(e);return void 0===n&&void 0!==t&&(n=fl(t),H.addValue(e,n)),n},forEachValue:function(e){return R.forEach(e)},readValue:function(e){var n;return null!==(n=E[e])&&void 0!==n?n:l(v,e,t)},setBaseTarget:function(e,t){D[e]=t},getBaseTarget:function(e){if(o){var t=o(m,e);if(void 0!==t&&!ml(t))return t}return D[e]}},C),{build:function(){return F(),T},scheduleRender:function(){Oo.render(L,!1,!0)},syncRender:L,setProps:function(e){m=e,C.updatePropListeners(e),M=function(e,t,n){var r;for(var o in t){var i=t[o],a=n[o];if(ml(i))e.addValue(o,i);else if(ml(a))e.addValue(o,fl(i));else if(a!==i)if(e.hasValue(o)){var s=e.getValue(o);!s.hasAnimated&&s.set(i)}else e.addValue(o,fl(null!==(r=e.getStaticValue(o))&&void 0!==r?r:i))}for(var o in n)void 0===t[o]&&e.removeValue(o);return t}(H,h(m),M)},getProps:function(){return m},getVariant:function(e){var t;return null===(t=m.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return m.transition},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==f?void 0:f.getVariantContext();if(!G){var t=(null==f?void 0:f.getVariantContext())||{};return void 0!==m.initial&&(t.initial=m.initial),t}for(var n={},r=0;r<Xc;r++){var o=qc[r],i=m[o];(au(i)||!1===i)&&(n[o]=i)}return n},enableLayoutProjection:function(){I.isEnabled=!0,H.layoutTree.add(H)},lockProjectionTarget:function(){I.isTargetLocked=!0},unlockProjectionTarget:function(){H.stopLayoutAnimation(),I.isTargetLocked=!1},getLayoutState:function(){return O},setCrossfader:function(e){k=e},isProjectionReady:function(){return I.isEnabled&&I.isHydrated&&O.isHydrated},startLayoutAnimation:function(e,t,n){void 0===n&&(n=!1);var r=H.getProjectionAnimationProgress()[e],o=n?I.relativeTarget[e]:I.target[e],i=o.min,a=o.max-i;return r.clearListeners(),r.set(i),r.set(i),r.onChange((function(t){H.setProjectionTargetAxis(e,t,t+a,n)})),H.animateMotionValue(e,r,0,t)},stopLayoutAnimation:function(){fi((function(e){return H.getProjectionAnimationProgress()[e].stop()}))},measureViewportBox:function(e){void 0===e&&(e=!0);var n=a(v,t);return e||el(n,E),n},getProjectionAnimationProgress:function(){return _||(_={x:fl(0),y:fl(0)}),_},setProjectionTargetAxis:function(e,t,n,r){var o;void 0===r&&(r=!1),r?(I.relativeTarget||(I.relativeTarget={x:{min:0,max:1},y:{min:0,max:1}}),o=I.relativeTarget[e]):(I.relativeTarget=void 0,o=I.target[e]),I.isHydrated=!0,o.min=t,o.max=n,N=!0,C.notifySetAxisTarget()},rebaseProjectionTarget:function(e,t){void 0===t&&(t=O.layout);var n=H.getProjectionAnimationProgress(),r=n.x,o=n.y,i=!(I.relativeTarget||I.isTargetLocked||r.isAnimating()||o.isAnimating());(e||i)&&fi((function(e){var n=t[e],r=n.min,o=n.max;H.setProjectionTargetAxis(e,r,o)}))},notifyLayoutReady:function(e){!function(e){var t=e.getProjectionParent();if(t){var n=zs(t.getLayoutState().layout,e.getLayoutState().layout);fi((function(t){e.setProjectionTargetAxis(t,n[t].min,n[t].max,!0)}))}else e.rebaseProjectionTarget()}(H),H.notifyLayoutUpdate(O.layout,H.prevViewportBox||O.layout,e)},resetTransform:function(){return u(H,v,m)},restoreTransform:function(){return c(v,T)},updateLayoutProjection:function(){if(H.isProjectionReady()){var e=O.delta,t=O.treeScale,n=t.x,r=t.y,o=O.deltaTransform;(function(e,t,n,r){var o,i,a=e.delta,s=e.layout,l=e.layoutCorrected,u=e.treeScale,c=t.target;i=s,Vs((o=l).x,i.x),Vs(o.y,i.y),function(e,t,n){var r=n.length;if(r){var o,i;t.x=t.y=1;for(var a=0;a<r;a++)i=(o=n[a]).getLayoutState().delta,t.x*=i.x.scale,t.y*=i.y.scale,qs(e,i),Us(o)&&Zs(e,e,o.getLatestValues())}}(l,u,n),Ci(a,l,c,r)})(O,j,H.path,E),N&&H.notifyViewportBoxUpdate(j.target,e),N=!1;var i=Fc(e,t);i===o&&n===t.x&&r===t.y||H.scheduleRender(),O.deltaTransform=i}},updateTreeLayoutProjection:function(){H.layoutTree.forEach(Gc),Oo.preRender($,!1,!0)},getProjectionParent:function(){if(void 0===x){for(var e=!1,t=H.path.length-1;t>=0;t--){var n=H.path[t];if(n.projection.isEnabled){e=n;break}}x=e}return x},resolveRelativeTargetBox:function(){var e=H.getProjectionParent();if(I.relativeTarget&&e&&(function(e,t){ji(e.target.x,e.relativeTarget.x,t.target.x),ji(e.target.y,e.relativeTarget.y,t.target.y)}(I,e.projection),Us(e))){var t=I.target;Zs(t,t,e.getLatestValues())}},shouldResetTransform:function(){return Boolean(m._layoutResetTransform)},pointTo:function(e){j=e.projection,A=e.getLatestValues(),null==w||w(),w=Ko(e.onSetAxisTarget(H.scheduleUpdateLayoutProjection),e.onLayoutAnimationComplete((function(){var e;H.isPresent?H.presence=Qr.Present:null===(e=H.layoutSafeToRemove)||void 0===e||e.call(H)})))},isPresent:!0,presence:Qr.Entering});return H}};function Gc(e){e.resolveRelativeTargetBox()}function Wc(e){e.updateLayoutProjection()}var Hc,qc=oo(["initial"],ro(mc)),Xc=qc.length,Yc=new Set(["width","height","top","left","right","bottom","x","y"]),Kc=function(e){return Yc.has(e)},Zc=function(e,t){e.set(t,!1),e.set(t)},Jc=function(e){return e===Xi||e===aa};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Hc||(Hc={}));var Qc=function(e,t){return parseFloat(e.split(", ")[t])},ed=function(e,t){return function(n,r){var o=r.transform;if("none"===o||!o)return 0;var i=o.match(/^matrix3d\((.+)\)$/);if(i)return Qc(i[1],t);var a=o.match(/^matrix\((.+)\)$/);return a?Qc(a[1],e):0}},td=new Set(["x","y","z"]),nd=Ol.filter((function(e){return!td.has(e)})),rd={width:function(e){var t=e.x;return t.max-t.min},height:function(e){var t=e.y;return t.max-t.min},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:ed(4,13),y:ed(5,14)};function od(e,t,n,r){return function(e){return Object.keys(e).some(Kc)}(t)?function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=to({},t),r=to({},r);var o=Object.keys(t).filter(Kc),i=[],a=!1,s=[];if(o.forEach((function(o){var l=e.getValue(o);if(e.hasValue(o)){var u,c=n[o],d=t[o],p=ac(c);if(ps(d))for(var h=d.length,f=null===d[0]?1:0;f<h;f++)u?ao(ac(d[f])===u,"All keyframes must be of the same type"):(u=ac(d[f]),ao(u===p||Jc(p)&&Jc(u),"Keyframes must be of the same dimension as the current value"));else u=ac(d);if(p!==u)if(Jc(p)&&Jc(u)){var m=l.get();"string"==typeof m&&l.set(parseFloat(m)),"string"==typeof d?t[o]=parseFloat(d):Array.isArray(d)&&u===aa&&(t[o]=d.map(parseFloat))}else(null==p?void 0:p.transform)&&(null==u?void 0:u.transform)&&(0===c||0===d)?0===c?l.set(u.transform(c)):t[o]=p.transform(d):(a||(i=function(e){var t=[];return nd.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),a=!0),s.push(o),r[o]=void 0!==r[o]?r[o]:t[o],Zc(l,d))}})),s.length){var l=function(e,t,n){var r=t.measureViewportBox(),o=t.getInstance(),i=getComputedStyle(o),a=i.display,s={top:i.top,left:i.left,bottom:i.bottom,right:i.right,transform:i.transform};"none"===a&&t.setStaticValue("display",e.display||"block"),t.syncRender();var l=t.measureViewportBox();return n.forEach((function(n){var o=t.getValue(n);Zc(o,rd[n](r,s)),e[n]=rd[n](l,i)})),e}(t,e,s);return i.length&&i.forEach((function(t){var n=ro(t,2),r=n[0],o=n[1];e.getValue(r).set(o)})),e.syncRender(),{target:l,transitionEnd:r}}return{target:t,transitionEnd:r}}(e,t,n,r):{target:t,transitionEnd:r}}var id={treeType:"dom",readValueFromInstance:function(e,t){if(Pl(t)){var n=Ts(t);return n&&n.default||0}var r,o=(r=e,window.getComputedStyle(r));return(vu(t)?o.getPropertyValue(t):o[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return wi(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var o=n.transformValues;void 0===r&&(r=!0);var i=t.transition,a=t.transitionEnd,s=no(t,["transition","transitionEnd"]),l=function(e,t,n){var r,o,i={};for(var a in e)i[a]=null!==(r=cc(a,t))&&void 0!==r?r:null===(o=n.getValue(a))||void 0===o?void 0:o.get();return i}(s,i||{},e);if(o&&(a&&(a=o(a)),s&&(s=o(s)),l&&(l=o(l))),r){!function(e,t,n){var r,o,i,a,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),l=s.length;if(l)for(var u=0;u<l;u++){var c=s[u],d=t[c],p=null;Array.isArray(d)&&(p=d[0]),null===p&&(p=null!==(o=null!==(r=n[c])&&void 0!==r?r:e.readValue(c))&&void 0!==o?o:t[c]),null!=p&&("string"==typeof p&&rc(p)?p=parseFloat(p):!lc(p)&&_a.test(d)&&(p=Cs(c,d)),e.addValue(c,fl(p)),null!==(i=(a=n)[c])&&void 0!==i||(a[c]=p),e.setBaseTarget(c,p))}}(e,s,l);var u=function(e,t,n,r){var o=function(e,t,n){var r,o=no(t,[]),i=e.getInstance();if(!(i instanceof HTMLElement))return{target:o,transitionEnd:n};for(var a in n&&(n=to({},n)),e.forEachValue((function(e){var t=e.get();if(kc(t)){var n=Sc(t,i);n&&e.set(n)}})),o){var s=o[a];if(kc(s)){var l=Sc(s,i);l&&(o[a]=l,n&&(null!==(r=n[a])&&void 0!==r||(n[a]=s)))}}return{target:o,transitionEnd:n}}(e,t,r);return od(e,t=o.target,n,r=o.transitionEnd)}(e,s,l,a);a=u.transitionEnd,s=u.target}return to({transition:i,transitionEnd:a},s)},scrapeMotionValuesFromProps:Uu,build:function(e,t,n,r,o,i,a){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden");var s=r.isEnabled&&o.isHydrated;wu(t,n,r,o,i,a.transformTemplate,s?Fc:void 0,s?Bc:void 0)},render:Bu},ad=Vc(id),sd=Vc(to(to({},id),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return Pl(t)?(null===(n=Ts(t))||void 0===n?void 0:n.default)||0:(t=$u.has(t)?t:Fu(t),e.getAttribute(t))},scrapeMotionValuesFromProps:Vu,build:function(e,t,n,r,o,i,a){var s=r.isEnabled&&o.isHydrated;Ru(t,n,r,o,i,a.transformTemplate,s?Fc:void 0,s?Bc:void 0)},render:zu})),ld=function(e,t){return mu(e)?sd(t,{enableHardwareAcceleration:!1}):ad(t,{enableHardwareAcceleration:!0})},ud=to(to(to(to({},xc),tc),wc),Mc),cd=hu((function(e,t){return function(e,t,n,r){var o=t.forwardMotionProps,i=void 0!==o&&o,a=mu(e)?Ku:Zu;return to(to({},a),{preloadedFeatures:n,useRender:Du(i),createVisualElement:r,Component:e})}(e,t,ud,ld)})),dd=i(5697),pd=i.n(dd),hd=["color","size","title"];function fd(){return fd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fd.apply(this,arguments)}var md=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,hd);return l.createElement("svg",fd({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),l.createElement("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}),l.createElement("path",{fillRule:"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"}))}));md.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},md.defaultProps={color:"currentColor",size:"1em",title:null};const gd=md;var bd=["color","size","title"];function yd(){return yd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yd.apply(this,arguments)}var vd=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,bd);return l.createElement("svg",yd({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{fillRule:"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"}),l.createElement("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"}),l.createElement("path",{fillRule:"evenodd",d:"M3 6.5a.5.5 0 0 1 .5-.5h6a.5.5 0 0 1 0 1h-6a.5.5 0 0 1-.5-.5z"}))}));vd.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},vd.defaultProps={color:"currentColor",size:"1em",title:null};const xd=vd;var wd=["color","size","title"];function kd(){return kd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kd.apply(this,arguments)}var _d=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,wd);return l.createElement("svg",kd({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5z"}),l.createElement("path",{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"}))}));_d.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},_d.defaultProps={color:"currentColor",size:"1em",title:null};const Sd=_d;var Ed=["color","size","title"];function Td(){return Td=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Td.apply(this,arguments)}var Cd=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ed);return l.createElement("svg",Td({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"}))}));Cd.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},Cd.defaultProps={color:"currentColor",size:"1em",title:null};const Id=Cd;var jd=["color","size","title"];function Ad(){return Ad=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ad.apply(this,arguments)}var Od=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,jd);return l.createElement("svg",Ad({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"}))}));Od.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},Od.defaultProps={color:"currentColor",size:"1em",title:null};const Nd=Od;var Rd=["color","size","title"];function Pd(){return Pd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pd.apply(this,arguments)}var Md=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Rd);return l.createElement("svg",Pd({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),l.createElement("path",{d:"m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"}))}));Md.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},Md.defaultProps={color:"currentColor",size:"1em",title:null};const Dd=Md;var Ld=["color","size","title"];function Fd(){return Fd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fd.apply(this,arguments)}var Bd=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ld);return l.createElement("svg",Fd({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"}))}));Bd.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},Bd.defaultProps={color:"currentColor",size:"1em",title:null};const $d=Bd;var zd=["color","size","title"];function Ud(){return Ud=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ud.apply(this,arguments)}var Vd=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,zd);return l.createElement("svg",Ud({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"}))}));Vd.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},Vd.defaultProps={color:"currentColor",size:"1em",title:null};const Gd=Vd;var Wd=["color","size","title"];function Hd(){return Hd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hd.apply(this,arguments)}var qd=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Wd);return l.createElement("svg",Hd({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"}))}));qd.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},qd.defaultProps={color:"currentColor",size:"1em",title:null};const Xd=qd;var Yd=["color","size","title"];function Kd(){return Kd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(this,arguments)}var Zd=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Yd);return l.createElement("svg",Kd({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"}))}));Zd.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},Zd.defaultProps={color:"currentColor",size:"1em",title:null};const Jd=Zd;var Qd=["color","size","title"];function ep(){return ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ep.apply(this,arguments)}var tp=(0,l.forwardRef)((function(e,t){var n=e.color,r=e.size,o=e.title,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Qd);return l.createElement("svg",ep({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o?l.createElement("title",null,o):null,l.createElement("path",{d:"M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"}))}));tp.propTypes={color:pd().string,size:pd().oneOfType([pd().string,pd().number]),title:pd().string},tp.defaultProps={color:"currentColor",size:"1em",title:null};const np=tp;var rp=i(1296),op=i.n(rp),ip=i(3096),ap=i.n(ip),sp=function(e,t){return sp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},sp(e,t)},lp=function(){return lp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},lp.apply(this,arguments)};!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".magnifier {\n  position: relative;\n  display: inline-block;\n  line-height: 0; }\n\n.magnifier-image {\n  cursor: none; }\n\n.magnifying-glass {\n  position: absolute;\n  z-index: 1;\n  background: #e5e5e5 no-repeat;\n  border: solid #ebebeb;\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);\n  opacity: 0;\n  transition: opacity 0.3s;\n  pointer-events: none; }\n  .magnifying-glass.circle {\n    border-radius: 50%; }\n  .magnifying-glass.visible {\n    opacity: 1; }\n");var up=function(e){function t(t){var n=e.call(this,t)||this;return n.state={showZoom:!1,mgOffsetX:0,mgOffsetY:0,relX:0,relY:0},n.componentDidMount=function(){n.img.addEventListener("mouseenter",n.onMouseEnter,{passive:!1}),n.img.addEventListener("mousemove",n.onMouseMove,{passive:!1}),n.img.addEventListener("mouseout",n.onMouseOut,{passive:!1}),n.img.addEventListener("touchstart",n.onTouchStart,{passive:!1}),n.img.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.img.addEventListener("touchend",n.onTouchEnd,{passive:!1}),window.addEventListener("resize",n.calcImgBoundsDebounced),window.addEventListener("scroll",n.calcImgBoundsDebounced,!0)},n.componentWillUnmount=function(){n.img.removeEventListener("mouseenter",n.onMouseEnter),n.img.removeEventListener("mousemove",n.onMouseMove),n.img.removeEventListener("mouseout",n.onMouseOut),n.img.removeEventListener("touchstart",n.onTouchStart),n.img.removeEventListener("touchmove",n.onTouchMove),n.img.removeEventListener("touchend",n.onTouchEnd),window.removeEventListener("resize",n.calcImgBoundsDebounced),window.removeEventListener("scroll",n.calcImgBoundsDebounced,!0)},n.onMouseEnter=function(){n.calcImgBounds()},n.onMouseMove=function(e){var t=n.props,r=t.mgMouseOffsetX,o=t.mgMouseOffsetY;if(n.imgBounds){var i=e.target,a=(e.clientX-n.imgBounds.left)/i.clientWidth,s=(e.clientY-n.imgBounds.top)/i.clientHeight;n.setState({mgOffsetX:r,mgOffsetY:o,relX:a,relY:s,showZoom:!0})}},n.onMouseOut=function(){n.setState({showZoom:!1})},n.onTouchStart=function(e){e.preventDefault(),n.calcImgBounds()},n.onTouchMove=function(e){if(e.preventDefault(),n.imgBounds){var t=e.target,r=n.props,o=r.mgTouchOffsetX,i=r.mgTouchOffsetY,a=(e.targetTouches[0].clientX-n.imgBounds.left)/t.clientWidth,s=(e.targetTouches[0].clientY-n.imgBounds.top)/t.clientHeight;a>=0&&s>=0&&a<=1&&s<=1?n.setState({mgOffsetX:o,mgOffsetY:i,relX:a,relY:s,showZoom:!0}):n.setState({showZoom:!1})}},n.onTouchEnd=function(){n.setState({showZoom:!1})},n.calcImgBounds=function(){n.img&&(n.imgBounds=n.img.getBoundingClientRect())},n.render=function(){var e=n.props,t=e.src,r=e.width,o=e.height,i=e.className,a=e.zoomImgSrc,s=e.zoomFactor,u=e.mgHeight,c=e.mgWidth,d=e.mgBorderWidth,p=(e.mgMouseOffsetX,e.mgMouseOffsetY,e.mgTouchOffsetX,e.mgTouchOffsetY,e.mgShape),h=e.mgShowOverflow,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["src","width","height","className","zoomImgSrc","zoomFactor","mgHeight","mgWidth","mgBorderWidth","mgMouseOffsetX","mgMouseOffsetY","mgTouchOffsetX","mgTouchOffsetY","mgShape","mgShowOverflow"]),m=n.state,g=m.mgOffsetX,b=m.mgOffsetY,y=m.relX,v=m.relY,x="magnifying-glass";return m.showZoom&&(x+=" visible"),"circle"===p&&(x+=" circle"),l.createElement("div",{className:"magnifier "+i,style:{width:r,height:o,overflow:h?"visible":"hidden"}},l.createElement("img",lp({className:"magnifier-image",src:t,width:"100%",height:"100%"},f,{onLoad:function(){n.calcImgBounds()},ref:function(e){n.img=e}})),n.imgBounds&&l.createElement("div",{className:x,style:{width:c,height:u,left:"calc("+100*y+"% - "+c/2+"px + "+g+"px - "+d+"px)",top:"calc("+100*v+"% - "+u/2+"px + "+b+"px - "+d+"px)",backgroundImage:'url("'+(a||t)+'")',backgroundPosition:"calc("+100*y+"% + "+c/2+"px - "+y*c+"px) calc("+100*v+"% + "+u/2+"px - "+v*c+"px)",backgroundSize:s*n.imgBounds.width+"% "+s*n.imgBounds.height+"%",borderWidth:d}}))},n.onMouseMove=ap()(n.onMouseMove.bind(n),20,{trailing:!1}),n.onTouchMove=ap()(n.onTouchMove.bind(n),20,{trailing:!1}),n.calcImgBoundsDebounced=op()(n.calcImgBounds,200),n}return function(e,t){function n(){this.constructor=e}sp(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.defaultProps={width:"100%",height:"auto",className:"",zoomImgSrc:"",zoomFactor:1.5,mgWidth:150,mgHeight:150,mgBorderWidth:2,mgShape:"circle",mgShowOverflow:!0,mgMouseOffsetX:0,mgMouseOffsetY:0,mgTouchOffsetX:-50,mgTouchOffsetY:-50},t}(l.PureComponent);const cp=up;var dp=!("undefined"==typeof window||!window.document||!window.document.createElement),pp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),hp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),pp(t,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){return dp?(this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),c.createPortal(this.props.children,this.props.node||this.defaultNode)):null}}]),t}(l.Component);hp.propTypes={children:pd().node.isRequired,node:pd().any};const fp=hp;var mp=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),gp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),mp(t,[{key:"componentDidMount",value:function(){this.renderPortal()}},{key:"componentDidUpdate",value:function(e){this.renderPortal()}},{key:"componentWillUnmount",value:function(){c.unmountComponentAtNode(this.defaultNode||this.props.node),this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null,this.portal=null}},{key:"renderPortal",value:function(e){this.props.node||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode));var t=this.props.children;"function"==typeof this.props.children.type&&(t=l.cloneElement(this.props.children)),this.portal=c.unstable_renderSubtreeIntoContainer(this,t,this.props.node||this.defaultNode)}},{key:"render",value:function(){return null}}]),t}(l.Component);const bp=gp;gp.propTypes={children:pd().node.isRequired,node:pd().any};const yp=c.createPortal?fp:bp;var vp=function(e,t){return Number(e.toFixed(t))},xp=function(e,t,n){n&&"function"==typeof n&&n(e,t)},wp={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},kp=function(e){"number"==typeof e&&cancelAnimationFrame(e)},_p=function(e){e.mounted&&(kp(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function Sp(e,t,n,r){if(e.mounted){var o=(new Date).getTime();_p(e),e.animation=function(){if(!e.mounted)return kp(e.animation);var i=(new Date).getTime()-o,a=i/n,s=(0,wp[t])(a);i>=n?(r(1),e.animation=null):e.animation&&(r(s),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function Ep(e,t,n,r){var o=function(e){var t=e.scale,n=e.positionX,r=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(r))}(t);if(e.mounted&&o){var i=e.setTransformState,a=e.transformState,s=a.scale,l=a.positionX,u=a.positionY,c=t.scale-s,d=t.positionX-l,p=t.positionY-u;0===n?i(t.scale,t.positionX,t.positionY):Sp(e,r,n,(function(e){i(s+c*e,l+d*e,u+p*e)}))}}var Tp=function(e,t){var n=e.wrapperComponent,r=e.contentComponent,o=e.setup.centerZoomedOut;if(!n||!r)throw new Error("Components are not mounted");var i=function(e,t,n){var r=e.offsetWidth,o=e.offsetHeight,i=t.offsetWidth*n,a=t.offsetHeight*n;return{wrapperWidth:r,wrapperHeight:o,newContentWidth:i,newDiffWidth:r-i,newContentHeight:a,newDiffHeight:o-a}}(n,r,t),a=i.wrapperWidth,s=i.wrapperHeight,l=function(e,t,n,r,o,i,a){var s=e>t?n*(a?1:.5):0,l=r>o?i*(a?1:.5):0;return{minPositionX:e-t-s,maxPositionX:s,minPositionY:r-o-l,maxPositionY:l}}(a,i.newContentWidth,i.newDiffWidth,s,i.newContentHeight,i.newDiffHeight,Boolean(o));return l},Cp=function(e,t,n,r){return vp(r?e<t?t:e>n?n:e:e,2)},Ip=function(e,t){var n=Tp(e,t);return e.bounds=n,n};function jp(e,t,n,r,o,i,a){var s=n.minPositionX,l=n.minPositionY,u=n.maxPositionX,c=n.maxPositionY,d=0,p=0;return a&&(d=o,p=i),{x:Cp(e,s-d,u+d,r),y:Cp(t,l-p,c+p,r)}}function Ap(e,t,n,r,o,i){var a=e.transformState,s=a.scale,l=a.positionX,u=a.positionY,c=r-s;return"number"!=typeof t||"number"!=typeof n?(console.error("Mouse X and Y position were not provided!"),{x:l,y:u}):jp(l-t*c,u-n*c,o,i,0,0,null)}function Op(e,t,n,r,o){var i=t-(o?r:0);return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=i?i:e}var Np=function(e,t){var n=e.setup.panning.excluded,r=e.isInitialized,o=e.wrapperComponent,i=t.target,a=null==o?void 0:o.contains(i);return!!(r&&i&&a)&&!oh(i,n)},Rp=function(e){var t=e.isInitialized,n=e.isPanning,r=e.setup.panning.disabled;return!(!t||!n||r)},Pp=function(e,t){var n=e.setup,r=e.transformState.scale,o=n.minScale,i=n.disablePadding;return t>0&&r>=o&&!i?t:0},Mp=function(e){var t=e.mounted,n=e.setup,r=n.disabled,o=n.velocityAnimation,i=e.transformState.scale;return!(o.disabled&&!(i>1)&&r&&!t)};function Dp(e,t,n,r,o,i,a,s,l,u){if(o){var c;if(t>a&&n>a)return(c=a+(e-a)*u)>l?l:c<a?a:c;if(t<i&&n<i)return(c=i+(e-i)*u)<s?s:c>i?i:c}return r?t:Cp(e,i,a,o)}function Lp(e,t){var n=e.transformState.scale;_p(e),Ip(e,n),void 0!==window.TouchEvent&&t instanceof TouchEvent?function(e,t){var n=t.touches,r=e.transformState,o=r.positionX,i=r.positionY;if(e.isPanning=!0,1===n.length){var a=n[0].clientX,s=n[0].clientY;e.startCoords={x:a-o,y:s-i}}}(e,t):function(e,t){var n=e.transformState,r=n.positionX,o=n.positionY;e.isPanning=!0;var i=t.clientX,a=t.clientY;e.startCoords={x:i-r,y:a-o}}(e,t)}function Fp(e){var t=e.transformState.scale,n=e.setup,r=n.minScale,o=n.alignmentAnimation,i=o.disabled,a=o.sizeX,s=o.sizeY,l=o.animationTime,u=o.animationType;if(!(i||t<r||!a&&!s)){var c=function(e){var t=e.transformState,n=t.positionX,r=t.positionY,o=t.scale,i=e.setup,a=i.disabled,s=i.limitToBounds,l=i.centerZoomedOut,u=e.wrapperComponent;if(!a&&u&&e.bounds){var c=e.bounds,d=c.maxPositionX,p=c.minPositionX,h=c.maxPositionY,f=c.minPositionY,m=n>d||n<p,g=r>h||r<f,b=Ap(e,n>d?u.offsetWidth:e.setup.minPositionX||0,r>h?u.offsetHeight:e.setup.minPositionY||0,o,e.bounds,s||l),y=b.x,v=b.y;return{scale:o,positionX:m?y:n,positionY:g?v:r}}}(e);c&&Ep(e,c,l,u)}}function Bp(e,t,n){var r=e.startCoords,o=e.setup.alignmentAnimation,i=o.sizeX,a=o.sizeY;if(r){var s=function(e,t,n){var r=e.startCoords,o=e.transformState,i=e.setup.panning,a=i.lockAxisX,s=i.lockAxisY,l=o.positionX,u=o.positionY;if(!r)return{x:l,y:u};var c=t-r.x,d=n-r.y;return{x:a?l:c,y:s?u:d}}(e,t,n),l=s.x,u=s.y,c=Pp(e,i),d=Pp(e,a);(function(e,t){if(Mp(e)){var n=e.lastMousePosition,r=e.velocityTime,o=e.setup,i=e.wrapperComponent,a=o.velocityAnimation.equalToMove,s=Date.now();if(n&&r&&i){var l=function(e,t){return t?Math.min(1,e.offsetWidth/window.innerWidth):1}(i,a),u=t.x-n.x,c=t.y-n.y,d=u/l,p=c/l,h=s-r,f=u*u+c*c,m=Math.sqrt(f)/h;e.velocity={velocityX:d,velocityY:p,total:m}}e.lastMousePosition=t,e.velocityTime=s}})(e,{x:l,y:u}),function(e,t,n,r,o){var i=e.setup.limitToBounds,a=e.wrapperComponent,s=e.bounds,l=e.transformState,u=l.scale,c=l.positionX,d=l.positionY;if(null!==a&&null!==s&&(t!==c||n!==d)){var p=jp(t,n,s,i,r,o,a),h=p.x,f=p.y;e.setTransformState(u,h,f)}}(e,l,u,c,d)}}function $p(e,t,n,r){var o=e.setup,i=o.minScale,a=o.maxScale,s=o.limitToBounds,l=Op(vp(t,2),i,a,0,!1),u=Ap(e,n,r,l,Ip(e,l),s);return{scale:l,positionX:u.x,positionY:u.y}}function zp(e,t,n){var r=e.transformState.scale,o=e.wrapperComponent,i=e.setup,a=i.minScale,s=i.limitToBounds,l=i.zoomAnimation,u=l.disabled,c=l.animationTime,d=l.animationType,p=u||r>=a;if((r>=1||s)&&Fp(e),!p&&o&&e.mounted){var h=$p(e,a,t||o.offsetWidth/2,n||o.offsetHeight/2);h&&Ep(e,h,c,d)}}var Up=function(){return Up=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Up.apply(this,arguments)};function Vp(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var Gp={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,wheel:{step:.2,disabled:!1,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},Wp=function(e){var t,n,r,o;return{previousScale:null!==(t=e.initialScale)&&void 0!==t?t:1,scale:null!==(n=e.initialScale)&&void 0!==n?n:1,positionX:null!==(r=e.initialPositionX)&&void 0!==r?r:0,positionY:null!==(o=e.initialPositionY)&&void 0!==o?o:0}},Hp=function(e){var t=Up({},Gp);return Object.keys(e).forEach((function(n){var r=void 0!==e[n];if(void 0!==Gp[n]&&r){var o=Object.prototype.toString.call(Gp[n]),i="[object Object]"===o,a="[object Array]"===o;t[n]=i?Up(Up({},Gp[n]),e[n]):a?Vp(Vp([],Gp[n],!0),e[n],!0):e[n]}})),t},qp=function(e,t,n){var r=e.transformState.scale,o=e.wrapperComponent,i=e.setup,a=i.maxScale,s=i.minScale,l=i.zoomAnimation.size;if(!o)throw new Error("Wrapper is not mounted");var u=r*Math.exp(t*n);return Op(vp(u,3),s,a,l,!1)};function Xp(e,t,n,r,o){var i=e.wrapperComponent,a=e.transformState,s=a.scale,l=a.positionX,u=a.positionY;if(!i)return console.error("No WrapperComponent found");var c=(i.offsetWidth/2-l)/s,d=(i.offsetHeight/2-u)/s,p=$p(e,qp(e,t,n),c,d);if(!p)return console.error("Error during zoom event. New transformation state was not calculated.");Ep(e,p,r,o)}function Yp(e,t,n,r){var o=e.setup,i=e.wrapperComponent,a=o.limitToBounds,s=Wp(e.props),l=e.transformState,u=l.scale,c=l.positionX,d=l.positionY;if(i){var p=Tp(e,s.scale),h=jp(s.positionX,s.positionY,p,a,0,0,i),f={scale:s.scale,positionX:h.x,positionY:h.y};u===s.scale&&c===s.positionX&&d===s.positionY||(null==r||r(),Ep(e,f,t,n))}}var Kp=function(e){return function(t,n,r){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===r&&(r="easeOut"),Xp(e,1,t,n,r)}},Zp=function(e){return function(t,n,r){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===r&&(r="easeOut"),Xp(e,-1,t,n,r)}},Jp=function(e){return function(t,n,r,o,i){void 0===o&&(o=300),void 0===i&&(i="easeOut");var a=e.transformState,s=a.positionX,l=a.positionY,u=a.scale,c=e.wrapperComponent,d=e.contentComponent;if(!e.setup.disabled&&c&&d){var p={positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(n)?l:n,scale:Number.isNaN(r)?u:r};Ep(e,p,o,i)}}},Qp=function(e){return function(t,n){void 0===t&&(t=200),void 0===n&&(n="easeOut"),Yp(e,t,n)}},eh=function(e){return function(t,n,r){void 0===n&&(n=200),void 0===r&&(r="easeOut");var o=e.transformState,i=e.wrapperComponent,a=e.contentComponent;if(i&&a){var s=ah(t||o.scale,i,a);Ep(e,s,n,r)}}},th=function(e){return function(t,n,r,o){void 0===r&&(r=600),void 0===o&&(o="easeOut"),_p(e);var i=e.wrapperComponent,a="string"==typeof t?document.getElementById(t):t;if(i&&a&&i.contains(a)){var s=function(e,t,n){var r=e.wrapperComponent,o=e.contentComponent,i=e.transformState,a=e.setup,s=a.limitToBounds,l=a.minScale,u=a.maxScale;if(!r||!o)return i;var c,d,p,h,f,m,g,b,y=r.getBoundingClientRect(),v=t.getBoundingClientRect(),x=(c=r,d=o,p=i,h=t.getBoundingClientRect(),f=c.getBoundingClientRect(),m=d.getBoundingClientRect(),g=f.x*p.scale,b=f.y*p.scale,{x:(h.x-m.x+g)/p.scale,y:(h.y-m.y+b)/p.scale}),w=x.x,k=x.y,_=v.width/i.scale,S=v.height/i.scale,E=r.offsetWidth/_,T=r.offsetHeight/S,C=Op(n||Math.min(E,T),l,u,0,!1),I=(y.width-_*C)/2,j=(y.height-S*C)/2,A=jp((y.left-w)*C+I,(y.top-k)*C+j,Tp(e,C),s,0,0,r);return{positionX:A.x,positionY:A.y,scale:C}}(e,a,n);Ep(e,s,r,o)}}},nh=function(e){return{instance:e,state:e.transformState,zoomIn:Kp(e),zoomOut:Zp(e),setTransform:Jp(e),resetTransform:Qp(e),centerView:eh(e),zoomToElement:th(e)}};function rh(){try{return{get passive(){return!1}}}catch(e){return!1}}var oh=function(e,t){var n=e.tagName.toUpperCase();return!!t.find((function(e){return e.toUpperCase()===n}))||!!t.find((function(t){return e.classList.contains(t)}))},ih=function(e){e&&clearTimeout(e)},ah=function(e,t,n){var r=n.offsetWidth*e,o=n.offsetHeight*e;return{scale:e,positionX:(t.offsetWidth-r)/2,positionY:(t.offsetHeight-o)/2}};function sh(e,t,n){var r=t.getBoundingClientRect(),o=0,i=0;if("clientX"in e)o=(e.clientX-r.left)/n,i=(e.clientY-r.top)/n;else{var a=e.touches[0];o=(a.clientX-r.left)/n,i=(a.clientY-r.top)/n}return(Number.isNaN(o)||Number.isNaN(i))&&console.error("No mouse or touch offset found"),{x:o,y:i}}var lh=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},uh=function(e,t){var n=e.props.onZoomStop,r=e.setup.doubleClick.animationTime;ih(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout((function(){e.doubleClickStopEventTimer=null,xp(nh(e),t,n)}),r)};var ch=function(e){var t=this;this.mounted=!0,this.onChangeCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(e){Ip(t,t.transformState.scale),t.setup=Hp(e)},this.initializeWindowEvents=function(){var e,n=rh(),r=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,o=null==r?void 0:r.defaultView;null==o||o.addEventListener("mousedown",t.onPanningStart,n),null==o||o.addEventListener("mousemove",t.onPanning,n),null==o||o.addEventListener("mouseup",t.onPanningStop,n),null==r||r.addEventListener("mouseleave",t.clearPanning,n),null==o||o.addEventListener("keyup",t.setKeyUnPressed,n),null==o||o.addEventListener("keydown",t.setKeyPressed,n)},this.cleanupWindowEvents=function(){var e,n,r=rh(),o=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,i=null==o?void 0:o.defaultView;null==i||i.removeEventListener("mousedown",t.onPanningStart,r),null==i||i.removeEventListener("mousemove",t.onPanning,r),null==i||i.removeEventListener("mouseup",t.onPanningStop,r),null==o||o.removeEventListener("mouseleave",t.clearPanning,r),null==i||i.removeEventListener("keyup",t.setKeyUnPressed,r),null==i||i.removeEventListener("keydown",t.setKeyPressed,r),document.removeEventListener("mouseleave",t.clearPanning,r),_p(t),null===(n=t.observer)||void 0===n||n.disconnect()},this.handleInitializeWrapperEvents=function(e){var n=rh();e.addEventListener("wheel",t.onWheelZoom,n),e.addEventListener("dblclick",t.onDoubleClick,n),e.addEventListener("touchstart",t.onTouchPanningStart,n),e.addEventListener("touchmove",t.onTouchPanning,n),e.addEventListener("touchend",t.onTouchPanningStop,n)},this.handleInitialize=function(e){var n=t.setup.centerOnInit;t.applyTransformation(),n&&(t.setCenter(),t.observer=new ResizeObserver((function(){var e;t.setCenter(),null===(e=t.observer)||void 0===e||e.disconnect()})),t.observer.observe(e))},this.onWheelZoom=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.setup.wheel,r=n.disabled,o=n.wheelDisabled,i=n.touchPadDisabled,a=n.excluded,s=e.isInitialized,l=e.isPanning,u=t.target;return!(!s||l||r||!u||o&&!t.ctrlKey||i&&t.ctrlKey||oh(u,a))}(t,e);n&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(function(e,t){var n=e.props,r=n.onWheelStart,o=n.onZoomStart;e.wheelStopEventTimer||(_p(e),xp(nh(e),t,r),xp(nh(e),t,o))}(t,e),function(e,t){var n=e.props,r=n.onWheel,o=n.onZoom,i=e.contentComponent,a=e.setup,s=e.transformState.scale,l=a.limitToBounds,u=a.centerZoomedOut,c=a.zoomAnimation,d=a.wheel,p=a.disablePadding,h=c.size,f=c.disabled,m=d.step;if(!i)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var g=function(e,t){var n=function(e){return e?e.deltaY<0?1:-1:0}(e);return n}(t),b=function(e,t,n,r,o){var i=e.transformState.scale,a=e.wrapperComponent,s=e.setup,l=s.maxScale,u=s.minScale,c=s.zoomAnimation,d=s.disablePadding,p=c.size,h=c.disabled;if(!a)throw new Error("Wrapper is not mounted");var f=!r&&!h;return Op(vp(i+t*(i-i*n)*n,3),u,l,p,f&&!d)}(e,g,m,!t.ctrlKey);if(s!==b){var y=Ip(e,b),v=sh(t,i,s),x=l&&(f||0===h||u||p),w=Ap(e,v.x,v.y,b,y,x),k=w.x,_=w.y;e.previousWheelEvent=t,e.setTransformState(b,k,_),xp(nh(e),t,r),xp(nh(e),t,o)}}(t,e),function(e,t){var n=e.props,r=n.onWheelStop,o=n.onZoomStop;ih(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout((function(){e.mounted&&(zp(e,t.x,t.y),e.wheelAnimationTimer=null)}),100);var i=function(e,t){var n=e.previousWheelEvent,r=e.transformState.scale,o=e.setup,i=o.maxScale,a=o.minScale;return!!n&&(r<i||r>a||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY))}(e,t);i&&(ih(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout((function(){e.mounted&&(e.wheelStopEventTimer=null,xp(nh(e),t,r),xp(nh(e),t,o))}),160))}(t,e))}},this.onPanningStart=function(e){var n=t.setup.disabled,r=t.props.onPanningStart;n||Np(t,e)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),_p(t),Lp(t,e),xp(nh(t),e,r))},this.onPanning=function(e){var n=t.setup.disabled,r=t.props.onPanning;n||Rp(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),Bp(t,e.clientX,e.clientY),xp(nh(t),e,r))},this.onPanningStop=function(e){var n=t.props.onPanningStop;t.isPanning&&(function(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,r=e.wrapperComponent,o=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var i=null==r?void 0:r.getBoundingClientRect(),a=null==o?void 0:o.getBoundingClientRect(),s=(null==i?void 0:i.width)||0,l=(null==i?void 0:i.height)||0,u=(null==a?void 0:a.width)||0,c=(null==a?void 0:a.height)||0,d=s<u||l<c;!t&&n&&(null==n?void 0:n.total)>.1&&d?function(e){var t=e.velocity,n=e.bounds,r=e.setup,o=e.wrapperComponent;if(function(e){var t=e.mounted,n=e.velocity,r=e.bounds,o=e.setup,i=o.disabled,a=o.velocityAnimation,s=e.transformState.scale;return!(a.disabled&&!(s>1)&&i&&!t||!n||!r)}(e)&&t&&n&&o){var i=t.velocityX,a=t.velocityY,s=t.total,l=n.maxPositionX,u=n.minPositionX,c=n.maxPositionY,d=n.minPositionY,p=r.limitToBounds,h=r.alignmentAnimation,f=r.zoomAnimation,m=r.panning,g=m.lockAxisY,b=m.lockAxisX,y=f.animationType,v=h.sizeX,x=h.sizeY,w=h.velocityAlignmentTime,k=function(e,t){var n=e.setup.velocityAnimation,r=n.equalToMove,o=n.animationTime,i=n.sensitivity;return r?o*t*i:o}(e,s),_=Math.max(k,w),S=Pp(e,v),E=Pp(e,x),T=S*o.offsetWidth/100,C=E*o.offsetHeight/100,I=l+T,j=u-T,A=c+C,O=d-C,N=e.transformState,R=(new Date).getTime();Sp(e,y,_,(function(t){var n=e.transformState,r=n.scale,o=n.positionX,s=n.positionY,f=((new Date).getTime()-R)/w,m=1-(0,wp[h.animationType])(Math.min(1,f)),y=1-t,v=o+i*y,x=s+a*y,k=Dp(v,N.positionX,o,b,p,u,l,j,I,m),_=Dp(x,N.positionY,s,g,p,d,c,O,A,m);o===v&&s===x||e.setTransformState(r,k,_)}))}}(e):Fp(e)}}(t),xp(nh(t),e,n))},this.onPinchStart=function(e){var n=t.setup.disabled,r=t.props,o=r.onPinchingStart,i=r.onZoomStart;if(!n){var a=function(e,t){var n=e.setup.pinch,r=n.disabled,o=n.excluded,i=e.isInitialized,a=t.target;return!(!i||r||!a||oh(a,o))}(t,e);a&&(function(e,t){var n=lh(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1,_p(e)}(t,e),_p(t),xp(nh(t),e,o),xp(nh(t),e,i))}},this.onPinch=function(e){var n=t.setup.disabled,r=t.props,o=r.onPinching,i=r.onZoom;if(!n){var a=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,r=e.pinchStartDistance;return!(!n||t||!r)}(t);a&&(e.preventDefault(),e.stopPropagation(),function(e,t){var n=e.contentComponent,r=e.pinchStartDistance,o=e.transformState.scale,i=e.setup,a=i.limitToBounds,s=i.centerZoomedOut,l=i.zoomAnimation,u=l.disabled,c=l.size;if(null!==r&&n){var d=function(e,t,n){var r=n.getBoundingClientRect(),o=e.touches,i=vp(o[0].clientX-r.left,5),a=vp(o[0].clientY-r.top,5);return{x:(i+vp(o[1].clientX-r.left,5))/2/t,y:(a+vp(o[1].clientY-r.top,5))/2/t}}(t,o,n);if(Number.isFinite(d.x)&&Number.isFinite(d.y)){var p=lh(t),h=function(e,t){var n=e.pinchStartScale,r=e.pinchStartDistance,o=e.setup,i=o.maxScale,a=o.minScale,s=o.zoomAnimation,l=o.disablePadding,u=s.size,c=s.disabled;if(!n||null===r||!t)throw new Error("Pinch touches distance was not provided");return t<0?e.transformState.scale:Op(vp(t/r*n,2),a,i,u,!c&&!l)}(e,p);if(h!==o){var f=Ip(e,h),m=a&&(u||0===c||s),g=Ap(e,d.x,d.y,h,f,m),b=g.x,y=g.y;e.pinchMidpoint=d,e.lastDistance=p,e.setTransformState(h,b,y)}}}}(t,e),xp(nh(t),e,o),xp(nh(t),e,i))}},this.onPinchStop=function(e){var n,r,o=t.props,i=o.onPinchingStop,a=o.onZoomStop;t.pinchStartScale&&(r=(n=t).pinchMidpoint,n.velocity=null,n.lastDistance=null,n.pinchMidpoint=null,n.pinchStartScale=null,n.pinchStartDistance=null,zp(n,null==r?void 0:r.x,null==r?void 0:r.y),xp(nh(t),e,i),xp(nh(t),e,a))},this.onTouchPanningStart=function(e){var n=t.setup.disabled,r=t.props.onPanningStart;if(!n&&Np(t,e))if(t.lastTouch&&+new Date-t.lastTouch<200&&1===e.touches.length)t.onDoubleClick(e);else{t.lastTouch=+new Date,_p(t);var o=e.touches,i=1===o.length,a=2===o.length;i&&(_p(t),Lp(t,e),xp(nh(t),e,r)),a&&t.onPinchStart(e)}},this.onTouchPanning=function(e){var n=t.setup.disabled,r=t.props.onPanning;if(t.isPanning&&1===e.touches.length){if(n)return;if(!Rp(t))return;e.preventDefault(),e.stopPropagation();var o=e.touches[0];Bp(t,o.clientX,o.clientY),xp(nh(t),e,r)}else e.touches.length>1&&t.onPinch(e)},this.onTouchPanningStop=function(e){t.onPanningStop(e),t.onPinchStop(e)},this.onDoubleClick=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.isInitialized,r=e.setup,o=e.wrapperComponent,i=r.doubleClick,a=i.disabled,s=i.excluded,l=t.target,u=null==o?void 0:o.contains(l);return!(!(n&&l&&u)||a||oh(l,s))}(t,e);n&&function(e,t){var n=e.setup,r=e.doubleClickStopEventTimer,o=e.transformState,i=e.contentComponent,a=o.scale,s=e.props,l=s.onZoomStart,u=s.onZoom,c=n.doubleClick,d=c.disabled,p=c.mode,h=c.step,f=c.animationTime,m=c.animationType;if(!d&&!r){if("reset"===p)return function(e,t){var n=e.props,r=n.onZoomStart,o=n.onZoom,i=e.setup.doubleClick,a=i.animationTime,s=i.animationType;xp(nh(e),t,r),Yp(e,a,s,(function(){return xp(nh(e),t,o)})),uh(e,t)}(e,t);if(!i)return console.error("No ContentComponent found");var g=qp(e,"zoomOut"===p?-1:1,h);if(a!==g){xp(nh(e),t,l);var b=sh(t,i,a),y=$p(e,g,b.x,b.y);if(!y)return console.error("Error during zoom event. New transformation state was not calculated.");xp(nh(e),t,u),Ep(e,y,f,m),uh(e,t)}}}(t,e)}},this.clearPanning=function(e){t.isPanning&&t.onPanningStop(e)},this.setKeyPressed=function(e){t.pressedKeys[e.key]=!0},this.setKeyUnPressed=function(e){t.pressedKeys[e.key]=!1},this.isPressingKeys=function(e){return!e.length||Boolean(e.find((function(e){return t.pressedKeys[e]})))},this.setTransformState=function(e,n,r){var o=t.props.onTransformed;if(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(r))console.error("Detected NaN set state values");else{e!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=e),t.transformState.positionX=n,t.transformState.positionY=r;var i=nh(t);t.onChangeCallbacks.forEach((function(e){return e(i)})),xp(i,{scale:e,positionX:n,positionY:r},o),t.applyTransformation()}},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var e=ah(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(e.scale,e.positionX,e.positionY)}},this.handleTransformStyles=function(e,n,r){return t.props.customTransform?t.props.customTransform(e,n,r):function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")}(e,n,r)},this.applyTransformation=function(){if(t.mounted&&t.contentComponent){var e=t.transformState,n=e.scale,r=e.positionX,o=e.positionY,i=t.handleTransformStyles(r,o,n);t.contentComponent.style.transform=i}},this.getContext=function(){return nh(t)},this.onChange=function(e){return t.onChangeCallbacks.has(e)||t.onChangeCallbacks.add(e),function(){t.onChangeCallbacks.delete(e)}},this.init=function(e,n){t.cleanupWindowEvents(),t.wrapperComponent=e,t.contentComponent=n,Ip(t,t.transformState.scale),t.handleInitializeWrapperEvents(e),t.handleInitialize(n),t.initializeWindowEvents(),t.isInitialized=!0,xp(nh(t),void 0,t.props.onInit)},this.props=e,this.setup=Hp(this.props),this.transformState=Wp(this.props)},dh=l.createContext(null),ph=l.forwardRef((function(e,t){var n=(0,l.useState)(0)[1],r=e.children,o=(0,l.useRef)(new ch(e)).current,i=function(e,t){return"function"==typeof e?e(t):e}(e.children,nh(o)),a=(0,l.useCallback)((function(){"function"==typeof r&&n((function(e){return e+1}))}),[r]);return(0,l.useImperativeHandle)(t,(function(){return nh(o)}),[o]),(0,l.useEffect)((function(){o.update(e)}),[o,e]),(0,l.useEffect)((function(){return o.onChange(a)}),[o,e,a]),l.createElement(dh.Provider,{value:o},i)}));!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(".transform-component-module_wrapper__7HFJe {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__uCDPE {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__uCDPE img {\n  pointer-events: none;\n}\n");var hh=function(e){var t=e.children,n=e.wrapperClass,r=void 0===n?"":n,o=e.contentClass,i=void 0===o?"":o,a=e.wrapperStyle,s=e.contentStyle,u=e.wrapperProps,c=void 0===u?{}:u,d=e.contentProps,p=void 0===d?{}:d,h=(0,l.useContext)(dh).init,f=(0,l.useRef)(null),m=(0,l.useRef)(null);return(0,l.useEffect)((function(){var e=f.current,t=m.current;null!==e&&null!==t&&h&&h(e,t)}),[]),l.createElement("div",Up({},c,{ref:f,className:"react-transform-wrapper ".concat("transform-component-module_wrapper__7HFJe"," ").concat(r),style:a}),l.createElement("div",Up({},p,{ref:m,className:"react-transform-component ".concat("transform-component-module_content__uCDPE"," ").concat(i),style:s}),t))},fh=(l.forwardRef((function(e,t){var n,r=(0,l.useRef)(null),o=(0,l.useContext)(dh);return(0,l.useEffect)((function(){return o.onChange((function(e){r.current&&(r.current.style.transform=o.handleTransformStyles(0,0,1/e.state.scale))}))}),[o]),l.createElement("div",Up({},e,{ref:(n=[r,t],function(e){n.forEach((function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)}))})}))})),i(3162)),mh=function(){return mh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},mh.apply(this,arguments)},gh=!1,bh=(0,l.forwardRef)((function(e,t){var n=e.style,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["style"]),o=function(){var e=(0,l.useState)(vh),t=e[0],n=e[1],r=function(){var e=(0,l.useState)(!1),t=e[0],n=e[1];return(0,l.useEffect)((function(){xh()&&n(!0)}),[]),t}();return(0,l.useEffect)((function(){if(r)return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)};function e(){var e=vh();n(e)}}),[r]),r?t:null}();!gh&&(null==n?void 0:n.height)&&(gh=!0,console.warn("<Div100vh /> overrides the height property of the style prop"));var i=mh(mh({},n),{height:o?o+"px":"100vh"});return l.createElement("div",mh({ref:t,style:i},r))}));bh.displayName="Div100vh";const yh=bh;function vh(){return xh()?window.innerHeight:null}function xh(){return"undefined"!=typeof window&&"undefined"!=typeof document}var wh=i(8875),kh="keydown",_h="keypress",Sh="keyup",Eh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Th={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function Ch(e,t){return Array.isArray(e)?e.includes(t):e===t}function Ih(e,t){var n=t.keyCode,r=t.keyValue,o=t.code;return!(jh(r)||!Ch(r,Ah(e)))||(!(jh(o)||!Ch(o,e.code))||!(jh(n)||!Ch(n,e.keyCode||e.which)))}function jh(e){return null==e}function Ah(e){var t=e.key,n=e.keyCode,r=e.type;if(t){var o=Eh[t]||t;if("Unidentified"!==o)return o}if(r===_h){var i=function(e){var t=e.charCode,n=e.keyCode;if("charCode"in e){if(0===t&&13===n)return 13}else t=n;return t>=32||13===t?t:0}(e);return 13===i?"Enter":String.fromCharCode(i)}return r===kh||r===Sh?Th[String(n)]||"Unidentified":""}var Oh=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Nh=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ph=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Mh=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},Dh=function(e){function t(e){Oh(this,t);var n=Mh(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKey=function(e){var t=n.props,r=t.keyValue,o=t.keyCode,i=t.code,a=t.onKeyHandle;if(a){var s=e.target;s instanceof window.HTMLElement&&function(e){if(!e)return!1;var t=e.tagName,n=function(e){return"function"==typeof e.getAttribute&&!!e.getAttribute("contenteditable")}(e);return"INPUT"===t||"TEXTAREA"===t||n}(s)||Ih(e,{keyValue:r,keyCode:o,code:i})&&a(e)}},e.keyCode&&console.warn("Warning: Deprecated propType: `keyCode` is deprecated in favour of `code` for `KeyHandler`."),e.keyValue||e.keyCode||e.code||console.error("Warning: Failed propType: Missing prop `code`, `keyValue` or `keyCode` for `KeyHandler`."),n}return Ph(t,e),Nh(t,[{key:"shouldComponentUpdate",value:function(){return!1}}]),Nh(t,[{key:"componentDidMount",value:function(){wh.canUseDOM&&window.document.addEventListener(this.props.keyEventName,this.handleKey)}},{key:"componentWillUnmount",value:function(){wh.canUseDOM&&window.document.removeEventListener(this.props.keyEventName,this.handleKey)}},{key:"render",value:function(){return null}}]),t}(l.Component);function Lh(e){return function(t){var n=t||{},r=n.keyValue,o=n.keyCode,i=n.code,a=n.keyEventName;return function(t){return function(n){function s(){var t,n,r;Oh(this,s);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=Mh(this,(t=s.__proto__||Object.getPrototypeOf(s)).call.apply(t,[this].concat(i))),r.state={keyCode:null,keyValue:null,code:null},r.handleKey=function(t){e&&e(t,r.state)?r.setState({keyValue:null,keyCode:null}):r.setState({keyValue:Ah(t),keyCode:t.keyCode})},Mh(r,n)}return Ph(s,n),Nh(s,[{key:"render",value:function(){return l.createElement(l.Fragment,null,l.createElement(Dh,{keyValue:r,keyCode:o,code:i,keyEventName:a,onKeyHandle:this.handleKey}),l.createElement(t,Rh({},this.props,this.state)))}}]),s}(l.Component)}}}Dh.propTypes={keyValue:pd().oneOfType([pd().string,pd().arrayOf(pd().string)]),keyCode:pd().oneOfType([pd().number,pd().arrayOf(pd().number)]),code:pd().oneOfType([pd().string,pd().arrayOf(pd().string)]),keyEventName:pd().oneOf([kh,_h,Sh]),onKeyHandle:pd().func},Dh.defaultProps={keyEventName:Sh},Lh(),Lh(Ih);const Fh=Dh,Bh="undefined"!=typeof window?l.useLayoutEffect:l.useEffect;function $h(e){return function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)||Array.isArray(e)}function zh(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&(JSON.stringify(Object.keys(e.breakpoints||{}))===JSON.stringify(Object.keys(t.breakpoints||{}))&&n.every((n=>{const r=e[n],o=t[n];return"function"==typeof r?`${r}`==`${o}`:$h(r)&&$h(o)?zh(r,o):r===o})))}function Uh(e){return e.concat().sort(((e,t)=>e.name>t.name?1:-1)).map((e=>e.options))}function Vh(e){return"number"==typeof e}function Gh(e){return"string"==typeof e}function Wh(e){return"boolean"==typeof e}function Hh(e){return"[object Object]"===Object.prototype.toString.call(e)}function qh(e){return Math.abs(e)}function Xh(e){return Math.sign(e)}function Yh(e,t){return qh(e-t)}function Kh(e){return tf(e).map(Number)}function Zh(e){return e[Jh(e)]}function Jh(e){return Math.max(0,e.length-1)}function Qh(e,t){return t===Jh(e)}function ef(e,t=0){return Array.from(Array(e),((e,n)=>t+n))}function tf(e){return Object.keys(e)}function nf(e,t){return[e,t].reduce(((e,t)=>(tf(t).forEach((n=>{const r=e[n],o=t[n],i=Hh(r)&&Hh(o);e[n]=i?nf(r,o):o})),e)),{})}function rf(e,t){return void 0!==t.MouseEvent&&e instanceof t.MouseEvent}function of(){let e=[];const t={add:function(n,r,o,i={passive:!0}){let a;if("addEventListener"in n)n.addEventListener(r,o,i),a=()=>n.removeEventListener(r,o,i);else{const e=n;e.addListener(o),a=()=>e.removeListener(o)}return e.push(a),t},clear:function(){e=e.filter((e=>e()))}};return t}function af(e=0,t=0){const n=qh(e-t);function r(t){return t<e}function o(e){return e>t}function i(e){return r(e)||o(e)}return{length:n,max:t,min:e,constrain:function(n){return i(n)?r(n)?e:t:n},reachedAny:i,reachedMax:o,reachedMin:r,removeOffset:function(e){return n?e-n*Math.ceil((e-t)/n):e}}}function sf(e,t,n){const{constrain:r}=af(0,e),o=e+1;let i=a(t);function a(e){return n?qh((o+e)%o):r(e)}function s(){return i}function l(){return sf(e,s(),n)}const u={get:s,set:function(e){return i=a(e),u},add:function(e){return l().set(s()+e)},clone:l};return u}function lf(e,t,n,r,o,i,a,s,l,u,c,d,p,h,f,m,g,b,y,v){const{cross:x}=e,w=["INPUT","SELECT","TEXTAREA"],k={passive:!1},_=of(),S=of(),E=af(50,225).constrain(f.measure(20)),T={mouse:300,touch:400},C={mouse:500,touch:600},I=m?43:25;let j=!1,A=0,O=0,N=!1,R=!1,P=!1,M=!1;function D(e){const n=a.readPoint(e),r=a.readPoint(e,x),o=Yh(n,A),s=Yh(r,O);if(!R&&!M){if(!e.cancelable)return L(e);if(R=o>s,!R)return L(e)}const u=a.pointerMove(e);o>g&&(P=!0),c.useFriction(.3).useDuration(1),l.start(),i.add(t.apply(u)),e.preventDefault()}function L(e){const n=d.byDistance(0,!1).index!==p.get(),r=a.pointerUp(e)*(m?C:T)[M?"mouse":"touch"],o=function(e,t){const n=p.add(-1*Xh(e)),r=d.byDistance(e,!m).distance;return m||qh(e)<E?r:b&&t?.5*r:d.byIndex(n.get(),0).distance}(t.apply(r),n),i=function(e,t){if(0===e||0===t)return 0;if(qh(e)<=qh(t))return 0;const n=Yh(qh(e),qh(t));return qh(n/e)}(r,o),s=I-10*i,l=y+i/50;R=!1,N=!1,S.clear(),c.useDuration(s).useFriction(l),u.distance(o,!m),M=!1,h.emit("pointerUp")}function F(e){P&&(e.stopPropagation(),e.preventDefault())}return{init:function(e){if(!v)return;function t(t){(Wh(v)||v(e,t))&&function(e){const t=rf(e,o);M=t,t&&0!==e.button||function(e){const t=e.nodeName||"";return w.includes(t)}(e.target)||(P=m&&t&&!e.buttons&&j,j=Yh(i.get(),s.get())>=2,N=!0,a.pointerDown(e),c.useFriction(0).useDuration(0),i.set(s),function(){const e=M?r:n;S.add(e,"touchmove",D,k).add(e,"touchend",L).add(e,"mousemove",D,k).add(e,"mouseup",L)}(),A=a.readPoint(e),O=a.readPoint(e,x),h.emit("pointerDown"))}(t)}const l=n;_.add(l,"dragstart",(e=>e.preventDefault()),k).add(l,"touchmove",(()=>{}),k).add(l,"touchend",(()=>{})).add(l,"touchstart",t).add(l,"mousedown",t).add(l,"touchcancel",L).add(l,"contextmenu",L).add(l,"click",F,!0)},pointerDown:function(){return N},destroy:function(){_.clear(),S.clear()}}}function uf(e,t){let n,r;function o(e){return e.timeStamp}function i(n,r){const o="client"+("x"===(r||e.scroll)?"X":"Y");return(rf(n,t)?n:n.touches[0])[o]}return{pointerDown:function(e){return n=e,r=e,i(e)},pointerMove:function(e){const t=i(e)-i(r),a=o(e)-o(n)>170;return r=e,a&&(n=e),t},pointerUp:function(e){if(!n||!r)return 0;const t=i(r)-i(n),a=o(e)-o(n),s=o(e)-o(r)>170,l=t/a;return a&&!s&&qh(l)>.1?l:0},readPoint:i}}function cf(e,t,n,r,o,i,a){let s,l,u=[],c=!1;function d(e){return o.measureSize(a.measure(e))}return{init:function(o){i&&(l=d(e),u=r.map(d),s=new ResizeObserver((a=>{c||(Wh(i)||i(o,a))&&function(i){for(const a of i){const i=a.target===e,s=r.indexOf(a.target),c=i?l:u[s];if(qh(d(i?e:r[s])-c)>=.5){n.requestAnimationFrame((()=>{o.reInit(),t.emit("resize")}));break}}}(a)})),[e].concat(r).forEach((e=>s.observe(e))))},destroy:function(){s&&s.disconnect(),c=!0}}}function df(e,t,n,r,o){const i=o.measure(10),a=o.measure(50),s=af(.1,.99);let l=!1;return{constrain:function(o){if(l||!e.reachedAny(n.get())||!e.reachedAny(t.get()))return;const u=e.reachedMin(t.get())?"min":"max",c=qh(e[u]-t.get()),d=n.get()-t.get(),p=s.constrain(c/a);n.subtract(d*p),!o&&qh(d)<i&&(n.set(e.constrain(n.get())),r.useDuration(25).useBaseFriction())},toggleActive:function(e){l=!e}}}function pf(e,t,n,r){const o=t.min+.1,i=t.max+.1,{reachedMin:a,reachedMax:s}=af(o,i),l={loop:function(t){if(!function(e){return 1===e?s(n.get()):-1===e&&a(n.get())}(t))return;const o=e*(-1*t);r.forEach((e=>e.add(o)))}};return l}function hf(e){let t=e;function n(e){return Vh(e)?e:e.get()}return{get:function(){return t},set:function(e){t=n(e)},add:function(e){t+=n(e)},subtract:function(e){t-=n(e)}}}function ff(e,t,n){const r="x"===e.scroll?function(e){return`translate3d(${e}px,0px,0px)`}:function(e){return`translate3d(0px,${e}px,0px)`},o=n.style;let i=!1;return{clear:function(){i||(o.transform="",n.getAttribute("style")||n.removeAttribute("style"))},to:function(e){i||(o.transform=r(t.apply(e)))},toggleActive:function(e){i=!e}}}function mf(e,t,n,r,o,i,a,s,l,u){const c=Kh(i),d=Kh(i).reverse(),p=function(){const e=s[0];return m(f(d,e),r,!1)}().concat(function(){const e=n-s[0]-1;return m(f(c,e),-r,!0)}());function h(e,t){return e.reduce(((e,t)=>e-i[t]),t)}function f(e,t){return e.reduce(((e,n)=>h(e,t)>0?e.concat([n]):e),[])}function m(i,s,c){const d=function(e){return a.map(((t,r)=>({start:t-o[r]+.5+e,end:t+n-.5+e})))}(s);return i.map((n=>{const o=c?0:-r,i=c?r:0,a=c?"end":"start",s=d[n][a];return{index:n,loopPoint:s,slideLocation:hf(-1),translate:ff(e,t,u[n]),target:()=>l.get()>s?o:i}}))}return{canLoop:function(){return p.every((({index:e})=>h(c.filter((t=>t!==e)),n)<=.1))},clear:function(){p.forEach((e=>e.translate.clear()))},loop:function(){p.forEach((e=>{const{target:t,translate:n,slideLocation:r}=e,o=t();o!==r.get()&&(n.to(o),r.set(o))}))},loopPoints:p}}function gf(e,t,n){let r,o=!1;return{init:function(i){n&&(r=new MutationObserver((e=>{o||(Wh(n)||n(i,e))&&function(e){for(const n of e)if("childList"===n.type){i.reInit(),t.emit("slidesChanged");break}}(e)})),r.observe(e,{childList:!0}))},destroy:function(){r&&r.disconnect(),o=!0}}}function bf(e,t,n,r,o,i,a){const{align:s,axis:l,direction:u,startIndex:c,loop:d,duration:p,dragFree:h,dragThreshold:f,inViewThreshold:m,slidesToScroll:g,skipSnaps:b,containScroll:y,watchResize:v,watchSlides:x,watchDrag:w}=i,k={measure:function(e){const{offsetTop:t,offsetLeft:n,offsetWidth:r,offsetHeight:o}=e;return{top:t,right:n+r,bottom:t+o,left:n,width:r,height:o}}},_=k.measure(t),S=n.map(k.measure),E=function(e){const t="rtl"===e?-1:1;return{apply:function(e){return e*t}}}(u),T=function(e,t){const n="y"===e?"y":"x";return{scroll:n,cross:"y"===e?"x":"y",startEdge:"y"===n?"top":"rtl"===t?"right":"left",endEdge:"y"===n?"bottom":"rtl"===t?"left":"right",measureSize:function(e){const{width:t,height:r}=e;return"x"===n?t:r}}}(l,u),C=T.measureSize(_),I=function(e){return{measure:function(t){return e*(t/100)}}}(C),j=function(e,t){const n={start:function(){return 0},center:function(e){return r(e)/2},end:r};function r(e){return t-e}const o={measure:function(r,o){return Gh(e)?n[e](r):e(t,r,o)}};return o}(s,C),A=!d&&!!y,O=d||!!y,{slideSizes:N,slideSizesWithGaps:R,startGap:P,endGap:M}=function(e,t,n,r,o,i){const{measureSize:a,startEdge:s,endEdge:l}=e,u=n[0]&&o,c=function(){if(!u)return 0;const e=n[0];return qh(t[s]-e[s])}(),d=function(){if(!u)return 0;const e=i.getComputedStyle(Zh(r));return parseFloat(e.getPropertyValue(`margin-${l}`))}(),p=n.map(a),h=n.map(((e,t,n)=>{const r=!t,o=Qh(n,t);return r?p[t]+c:o?p[t]+d:n[t+1][s]-e[s]})).map(qh);return{slideSizes:p,slideSizesWithGaps:h,startGap:c,endGap:d}}(T,_,S,n,O,o),D=function(e,t,n,r,o,i,a,s,l,u){const{startEdge:c,endEdge:d}=e,p=Vh(r);return{groupSlides:function(e){return p?function(e,t){return Kh(e).filter((e=>e%t==0)).map((n=>e.slice(n,n+t)))}(e,r):function(e){return e.length?Kh(e).reduce(((r,p)=>{const h=Zh(r)||0,f=0===h,m=p===Jh(e),g=i[c]-a[h][c],b=i[c]-a[p][d],y=!o&&f?t.apply(s):0;return qh(b-(!o&&m?t.apply(l):0)-(g+y))>n+u&&r.push(p),m&&r.push(e.length),r}),[]).map(((t,n,r)=>{const o=Math.max(r[n-1]||0);return e.slice(o,t)})):[]}(e)}}}(T,E,C,g,d,_,S,P,M,2),{snaps:L,snapsAligned:F}=function(e,t,n,r,o){const{startEdge:i,endEdge:a}=e,{groupSlides:s}=o,l=s(r).map((e=>Zh(e)[a]-e[0][i])).map(qh).map(t.measure),u=r.map((e=>n[i]-e[i])).map((e=>-qh(e))),c=s(u).map((e=>e[0])).map(((e,t)=>e+l[t]));return{snaps:u,snapsAligned:c}}(T,j,_,S,D),B=-Zh(L)+Zh(R),{snapsContained:$,scrollContainLimit:z}=function(e,t,n,r,o){const i=af(-t+e,0),a=n.map(((e,t)=>{const r=!t,o=Qh(n,t);return r?i.max:o?i.min:i.constrain(e)})).map((e=>parseFloat(e.toFixed(3)))),s=function(){const e=a[0],t=Zh(a);return af(a.lastIndexOf(e),a.indexOf(t)+1)}(),l=function(){if(t<=e+2)return[i.max];if("keepSnaps"===r)return a;const{min:n,max:o}=s;return a.slice(n,o)}();return{snapsContained:l,scrollContainLimit:s}}(C,B,F,y),U=A?$:F,{limit:V}=function(e,t,n){const r=t[0];return{limit:af(n?r-e:Zh(t),r)}}(B,U,d),G=sf(Jh(U),c,d),W=G.clone(),H=Kh(n),q=function(e,t,n,r){const o=of(),i=1e3/60;let a=null,s=0,l=0;function u(e){a||(a=e);const o=e-a;for(a=e,s+=o;s>=i;)n(),s-=i;const c=qh(s/i);r(c),l&&t.requestAnimationFrame(u)}function c(){t.cancelAnimationFrame(l),a=null,s=0,l=0}return{init:function(){o.add(e,"visibilitychange",(()=>{e.hidden&&(a=null,s=0)}))},destroy:function(){c(),o.clear()},start:function(){l||(l=t.requestAnimationFrame(u))},stop:c,update:n,render:r}}(r,o,(()=>(({dragHandler:e,scrollBody:t,scrollBounds:n,options:{loop:r}})=>{r||n.constrain(e.pointerDown()),t.seek()})(ae)),(e=>(({scrollBody:e,translate:t,location:n,offsetLocation:r,scrollLooper:o,slideLooper:i,dragHandler:a,animation:s,eventHandler:l,options:{loop:u}},c)=>{const d=e.velocity(),p=e.settled();p&&!a.pointerDown()&&(s.stop(),l.emit("settle")),p||l.emit("scroll"),r.set(n.get()-d+d*c),u&&(o.loop(e.direction()),i.loop()),t.to(r.get())})(ae,e))),X=U[G.get()],Y=hf(X),K=hf(X),Z=hf(X),J=function(e,t,n,r,o){let i=0,a=0,s=r,l=.68,u=e.get(),c=0;function d(e){return s=e,h}function p(e){return l=e,h}const h={direction:function(){return a},duration:function(){return s},velocity:function(){return i},seek:function(){const t=n.get()-e.get();let r=0;return s?(i+=t/s,i*=l,u+=i,e.add(i),r=u-c):(i=0,e.set(n),r=t),a=Xh(r),c=u,h},settled:function(){return qh(n.get()-t.get())<.001},useBaseFriction:function(){return p(.68)},useBaseDuration:function(){return d(r)},useFriction:p,useDuration:d};return h}(Y,K,Z,p),Q=function(e,t,n,r,o){const{reachedAny:i,removeOffset:a,constrain:s}=r;function l(e){return e.concat().sort(((e,t)=>qh(e)-qh(t)))[0]}function u(t,r){const o=[t,t+n,t-n];if(!e)return o[0];if(!r)return l(o);const i=o.filter((e=>Xh(e)===r));return i.length?l(i):Zh(o)-n}const c={byDistance:function(n,r){const l=o.get()+n,{index:c,distance:d}=function(n){const r=e?a(n):s(n),o=t.map((e=>e-r)).map((e=>u(e,0))).map(((e,t)=>({diff:e,index:t}))).sort(((e,t)=>qh(e.diff)-qh(t.diff))),{index:i}=o[0];return{index:i,distance:r}}(l),p=!e&&i(l);return!r||p?{index:c,distance:n}:{index:c,distance:n+u(t[c]-d,0)}},byIndex:function(e,n){return{index:e,distance:u(t[e]-o.get(),n)}},shortcut:u};return c}(d,U,B,V,Z),ee=function(e,t,n,r,o,i,a){function s(o){const s=o.distance,l=o.index!==t.get();i.add(s),s&&(r.duration()?e.start():(e.update(),e.render(1),e.update())),l&&(n.set(t.get()),t.set(o.index),a.emit("select"))}const l={distance:function(e,t){s(o.byDistance(e,t))},index:function(e,n){const r=t.clone().set(e);s(o.byIndex(r.get(),n))}};return l}(q,G,W,J,Q,Z,a),te=function(e){const{max:t,length:n}=e;return{get:function(e){return n?(e-t)/-n:0}}}(V),ne=of(),re=function(e,t,n,r){const o={};let i,a=null,s=null,l=!1;return{init:function(){i=new IntersectionObserver((e=>{l||(e.forEach((e=>{const n=t.indexOf(e.target);o[n]=e})),a=null,s=null,n.emit("slidesInView"))}),{root:e.parentElement,threshold:r}),t.forEach((e=>i.observe(e)))},destroy:function(){i&&i.disconnect(),l=!0},get:function(e=!0){if(e&&a)return a;if(!e&&s)return s;const t=function(e){return tf(o).reduce(((t,n)=>{const r=parseInt(n),{isIntersecting:i}=o[r];return(e&&i||!e&&!i)&&t.push(r),t}),[])}(e);return e&&(a=t),e||(s=t),t}}}(t,n,a,m),{slideRegistry:oe}=function(e,t,n,r,o,i){const{groupSlides:a}=o,{min:s,max:l}=r;return{slideRegistry:function(){const r=a(i),o=!e||"keepSnaps"===t;return 1===n.length?[i]:o?r:r.slice(s,l).map(((e,t,n)=>{const r=!t,o=Qh(n,t);return r?ef(Zh(n[0])+1):o?ef(Jh(i)-Zh(n)[0]+1,Zh(n)[0]):e}))}()}}(A,y,U,z,D,H),ie=function(e,t,n,r,o,i){let a=0;function s(e){"Tab"===e.code&&(a=(new Date).getTime())}function l(s){i.add(s,"focus",(()=>{if((new Date).getTime()-a>10)return;e.scrollLeft=0;const i=t.indexOf(s),l=n.findIndex((e=>e.includes(i)));Vh(l)&&(o.useDuration(0),r.index(l,0))}),{passive:!0,capture:!0})}return{init:function(){i.add(document,"keydown",s,!1),t.forEach(l)}}}(e,n,oe,ee,J,ne),ae={ownerDocument:r,ownerWindow:o,eventHandler:a,containerRect:_,slideRects:S,animation:q,axis:T,direction:E,dragHandler:lf(T,E,e,r,o,Z,uf(T,o),Y,q,ee,J,Q,G,a,I,h,f,b,.68,w),eventStore:ne,percentOfView:I,index:G,indexPrevious:W,limit:V,location:Y,offsetLocation:K,options:i,resizeHandler:cf(t,a,o,n,T,v,k),scrollBody:J,scrollBounds:df(V,Y,Z,J,I),scrollLooper:pf(B,V,K,[Y,K,Z]),scrollProgress:te,scrollSnapList:U.map(te.get),scrollSnaps:U,scrollTarget:Q,scrollTo:ee,slideLooper:mf(T,E,C,B,N,R,L,U,K,n),slideFocus:ie,slidesHandler:gf(t,a,x),slidesInView:re,slideIndexes:H,slideRegistry:oe,slidesToScroll:D,target:Z,translate:ff(T,E,t)};return ae}const yf={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0};function vf(e){function t(e,t){return nf(e,t||{})}const n={mergeOptions:t,optionsAtMedia:function(n){const r=n.breakpoints||{},o=tf(r).filter((t=>e.matchMedia(t).matches)).map((e=>r[e])).reduce(((e,n)=>t(e,n)),{});return t(n,o)},optionsMediaQueries:function(t){return t.map((e=>tf(e.breakpoints||{}))).reduce(((e,t)=>e.concat(t)),[]).map(e.matchMedia)}};return n}function xf(e,t,n){const r=e.ownerDocument,o=r.defaultView,i=vf(o),a=function(e){let t=[];const n={init:function(n,r){return t=r.filter((({options:t})=>!1!==e.optionsAtMedia(t).active)),t.forEach((t=>t.init(n,e))),r.reduce(((e,t)=>Object.assign(e,{[t.name]:t})),{})},destroy:function(){t=t.filter((e=>e.destroy()))}};return n}(i),s=of(),l=function(){const e={};let t;function n(t){return e[t]||[]}const r={init:function(e){t=e},emit:function(e){return n(e).forEach((n=>n(t,e))),r},off:function(t,o){return e[t]=n(t).filter((e=>e!==o)),r},on:function(t,o){return e[t]=n(t).concat([o]),r}};return r}(),{mergeOptions:u,optionsAtMedia:c,optionsMediaQueries:d}=i,{on:p,off:h,emit:f}=l,m=T;let g,b,y,v,x=!1,w=u(yf,xf.globalOptions),k=u(w),_=[];function S(t){const n=bf(e,y,v,r,o,t,l);return t.loop&&!n.slideLooper.canLoop()?S(Object.assign({},t,{loop:!1})):n}function E(t,n){x||(w=u(w,t),k=c(w),_=n||_,function(){const{container:t,slides:n}=k,r=Gh(t)?e.querySelector(t):t;y=r||e.children[0];const o=Gh(n)?y.querySelectorAll(n):n;v=[].slice.call(o||y.children)}(),g=S(k),d([w,..._.map((({options:e})=>e))]).forEach((e=>s.add(e,"change",T))),k.active&&(g.translate.to(g.location.get()),g.animation.init(),g.slidesInView.init(),g.slideFocus.init(),g.eventHandler.init(A),g.resizeHandler.init(A),g.slidesHandler.init(A),g.options.loop&&g.slideLooper.loop(),y.offsetParent&&v.length&&g.dragHandler.init(A),b=a.init(A,_)))}function T(e,t){const n=j();C(),E(u({startIndex:n},e),t),l.emit("reInit")}function C(){g.dragHandler.destroy(),g.eventStore.clear(),g.translate.clear(),g.slideLooper.clear(),g.resizeHandler.destroy(),g.slidesHandler.destroy(),g.slidesInView.destroy(),g.animation.destroy(),a.destroy(),s.clear()}function I(e,t,n){k.active&&!x&&(g.scrollBody.useBaseFriction().useDuration(!0===t?0:k.duration),g.scrollTo.index(e,n||0))}function j(){return g.index.get()}const A={canScrollNext:function(){return g.index.add(1).get()!==j()},canScrollPrev:function(){return g.index.add(-1).get()!==j()},containerNode:function(){return y},internalEngine:function(){return g},destroy:function(){x||(x=!0,s.clear(),C(),l.emit("destroy"))},off:h,on:p,emit:f,plugins:function(){return b},previousScrollSnap:function(){return g.indexPrevious.get()},reInit:m,rootNode:function(){return e},scrollNext:function(e){I(g.index.add(1).get(),e,-1)},scrollPrev:function(e){I(g.index.add(-1).get(),e,1)},scrollProgress:function(){return g.scrollProgress.get(g.location.get())},scrollSnapList:function(){return g.scrollSnapList},scrollTo:I,selectedScrollSnap:j,slideNodes:function(){return v},slidesInView:function(){return g.slidesInView.get()},slidesNotInView:function(){return g.slidesInView.get(!1)}};return E(t,n),setTimeout((()=>l.emit("init")),0),A}function wf(e={},t=[]){const n=(0,l.useRef)(e),r=(0,l.useRef)(t),[o,i]=(0,l.useState)(),[a,s]=(0,l.useState)(),u=(0,l.useCallback)((()=>{o&&o.reInit(n.current,r.current)}),[o]);return(0,l.useEffect)((()=>{if("undefined"!=typeof window&&window.document&&window.document.createElement&&a){xf.globalOptions=wf.globalOptions;const e=xf(a,n.current,r.current);return i(e),()=>e.destroy()}i(void 0)}),[a,i]),(0,l.useEffect)((()=>{zh(n.current,e)||(n.current=e,u())}),[e,u]),(0,l.useEffect)((()=>{(function(e,t){if(e.length!==t.length)return!1;const n=Uh(e),r=Uh(t);return n.every(((e,t)=>zh(e,r[t])))})(r.current,t)||(r.current=t,u())}),[t,u]),[s,o]}xf.globalOptions=void 0,wf.globalOptions=void 0;var kf=i(4063),_f=i.n(kf),Sf=i(1062),Ef=i.n(Sf),Tf=Object.defineProperty,Cf=Object.defineProperties,If=Object.getOwnPropertyDescriptors,jf=Object.getOwnPropertySymbols,Af=Object.prototype.hasOwnProperty,Of=Object.prototype.propertyIsEnumerable,Nf=(e,t,n)=>t in e?Tf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rf=(e,t)=>{for(var n in t||(t={}))Af.call(t,n)&&Nf(e,n,t[n]);if(jf)for(var n of jf(t))Of.call(t,n)&&Nf(e,n,t[n]);return e},Pf=(e,t)=>Cf(e,If(t));function Mf(e={}){return Pf(Rf({},e),{height:0,width:0,playerVars:Pf(Rf({},e.playerVars),{autoplay:0,start:0,end:0})})}var Df={videoId:pd().string,id:pd().string,className:pd().string,iframeClassName:pd().string,style:pd().object,title:pd().string,loading:pd().oneOf(["lazy","eager"]),opts:pd().objectOf(pd().any),onReady:pd().func,onError:pd().func,onPlay:pd().func,onPause:pd().func,onEnd:pd().func,onStateChange:pd().func,onPlaybackRateChange:pd().func,onPlaybackQualityChange:pd().func},Lf=class extends l.Component{constructor(e){super(e),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var t,n;return null==(n=(t=this.props).onReady)?void 0:n.call(t,e)},this.onPlayerError=e=>{var t,n;return null==(n=(t=this.props).onError)?void 0:n.call(t,e)},this.onPlayerStateChange=e=>{var t,n,r,o,i,a,s,l;switch(null==(n=(t=this.props).onStateChange)||n.call(t,e),e.data){case Lf.PlayerState.ENDED:null==(o=(r=this.props).onEnd)||o.call(r,e);break;case Lf.PlayerState.PLAYING:null==(a=(i=this.props).onPlay)||a.call(i,e);break;case Lf.PlayerState.PAUSED:null==(l=(s=this.props).onPause)||l.call(s,e)}},this.onPlayerPlaybackRateChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackRateChange)?void 0:n.call(t,e)},this.onPlayerPlaybackQualityChange=e=>{var t,n;return null==(n=(t=this.props).onPlaybackQualityChange)?void 0:n.call(t,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then((()=>this.destroyPlayerPromise=void 0)),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if("undefined"==typeof document)return;if(this.destroyPlayerPromise)return void this.destroyPlayerPromise.then(this.createPlayer);const e=Pf(Rf({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=Ef()(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then((e=>{this.props.title&&e.setAttribute("title",this.props.title),this.props.loading&&e.setAttribute("loading",this.props.loading)}))},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;null==(e=this.internalPlayer)||e.getIframe().then((e=>{this.props.id?e.setAttribute("id",this.props.id):e.removeAttribute("id"),this.props.iframeClassName?e.setAttribute("class",this.props.iframeClassName):e.removeAttribute("class"),this.props.opts&&this.props.opts.width?e.setAttribute("width",this.props.opts.width.toString()):e.removeAttribute("width"),this.props.opts&&this.props.opts.height?e.setAttribute("height",this.props.opts.height.toString()):e.removeAttribute("height"),this.props.title?e.setAttribute("title",this.props.title):e.setAttribute("title","YouTube video player"),this.props.loading?e.setAttribute("loading",this.props.loading):e.removeAttribute("loading")}))},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,t,n,r;if(void 0===this.props.videoId||null===this.props.videoId)return void(null==(e=this.internalPlayer)||e.stopVideo());let o=!1;const i={videoId:this.props.videoId};(null==(t=this.props.opts)?void 0:t.playerVars)&&(o=1===this.props.opts.playerVars.autoplay,"start"in this.props.opts.playerVars&&(i.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(i.endSeconds=this.props.opts.playerVars.end)),o?null==(n=this.internalPlayer)||n.loadVideoById(i):null==(r=this.internalPlayer)||r.cueVideoById(i)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(e){return t=this,n=function*(){(function(e,t){var n,r,o,i;return e.id!==t.id||e.className!==t.className||(null==(n=e.opts)?void 0:n.width)!==(null==(r=t.opts)?void 0:r.width)||(null==(o=e.opts)?void 0:o.height)!==(null==(i=t.opts)?void 0:i.height)||e.iframeClassName!==t.iframeClassName||e.title!==t.title})(e,this.props)&&this.updatePlayer(),function(e,t){return e.videoId!==t.videoId||!_f()(Mf(e.opts),Mf(t.opts))}(e,this.props)&&(yield this.resetPlayer()),function(e,t){var n,r;if(e.videoId!==t.videoId)return!0;const o=(null==(n=e.opts)?void 0:n.playerVars)||{},i=(null==(r=t.opts)?void 0:r.playerVars)||{};return o.start!==i.start||o.end!==i.end}(e,this.props)&&this.updateVideo()},new Promise(((e,r)=>{var o=e=>{try{a(n.next(e))}catch(e){r(e)}},i=e=>{try{a(n.throw(e))}catch(e){r(e)}},a=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,i);a((n=n.apply(t,null)).next())}));var t,n}componentWillUnmount(){this.destroyPlayer()}render(){return l.createElement("div",{className:this.props.className,style:this.props.style},l.createElement("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer}))}},Ff=Lf;Ff.propTypes=Df,Ff.defaultProps={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},Ff.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Bf,$f=Ff,zf=[],Uf="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Bf||(Bf={}));var Vf,Gf=function(e){return Object.freeze(e)},Wf=function(e,t){this.inlineSize=e,this.blockSize=t,Gf(this)},Hf=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Gf(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),qf=function(e){return e instanceof SVGElement&&"getBBox"in e},Xf=function(e){if(qf(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,a=o.offsetHeight;return!(i||a||e.getClientRects().length)},Yf=function(e){var t;if(e instanceof Element)return!0;var n=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Kf="undefined"!=typeof window?window:{},Zf=new WeakMap,Jf=/auto|scroll/,Qf=/^tb|vertical/,em=/msie|trident/i.test(Kf.navigator&&Kf.navigator.userAgent),tm=function(e){return parseFloat(e||"0")},nm=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),new Wf((n?t:e)||0,(n?e:t)||0)},rm=Gf({devicePixelContentBoxSize:nm(),borderBoxSize:nm(),contentBoxSize:nm(),contentRect:new Hf(0,0,0,0)}),om=function(e,t){if(void 0===t&&(t=!1),Zf.has(e)&&!t)return Zf.get(e);if(Xf(e))return Zf.set(e,rm),rm;var n=getComputedStyle(e),r=qf(e)&&e.ownerSVGElement&&e.getBBox(),o=!em&&"border-box"===n.boxSizing,i=Qf.test(n.writingMode||""),a=!r&&Jf.test(n.overflowY||""),s=!r&&Jf.test(n.overflowX||""),l=r?0:tm(n.paddingTop),u=r?0:tm(n.paddingRight),c=r?0:tm(n.paddingBottom),d=r?0:tm(n.paddingLeft),p=r?0:tm(n.borderTopWidth),h=r?0:tm(n.borderRightWidth),f=r?0:tm(n.borderBottomWidth),m=d+u,g=l+c,b=(r?0:tm(n.borderLeftWidth))+h,y=p+f,v=s?e.offsetHeight-y-e.clientHeight:0,x=a?e.offsetWidth-b-e.clientWidth:0,w=o?m+b:0,k=o?g+y:0,_=r?r.width:tm(n.width)-w-x,S=r?r.height:tm(n.height)-k-v,E=_+m+x+b,T=S+g+v+y,C=Gf({devicePixelContentBoxSize:nm(Math.round(_*devicePixelRatio),Math.round(S*devicePixelRatio),i),borderBoxSize:nm(E,T,i),contentBoxSize:nm(_,S,i),contentRect:new Hf(d,l,_,S)});return Zf.set(e,C),C},im=function(e,t,n){var r=om(e,n),o=r.borderBoxSize,i=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case Bf.DEVICE_PIXEL_CONTENT_BOX:return a;case Bf.BORDER_BOX:return o;default:return i}},am=function(e){var t=om(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=Gf([t.borderBoxSize]),this.contentBoxSize=Gf([t.contentBoxSize]),this.devicePixelContentBoxSize=Gf([t.devicePixelContentBoxSize])},sm=function(e){if(Xf(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},lm=function(){var e=1/0,t=[];zf.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new am(t.target),o=sm(t.target);r.push(n),t.lastReportedSize=im(t.target,t.observedBox),o<e&&(e=o)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++)(0,r[n])();return e},um=function(e){zf.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(sm(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},cm=[],dm=0,pm={attributes:!0,characterData:!0,childList:!0,subtree:!0},hm=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],fm=function(e){return void 0===e&&(e=0),Date.now()+e},mm=!1,gm=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t,n=this;if(void 0===e&&(e=250),!mm){mm=!0;var r=fm(e);t=function(){var t=!1;try{t=function(){var e,t=0;for(um(t);zf.some((function(e){return e.activeTargets.length>0}));)t=lm(),um(t);return zf.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:Uf}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=Uf),window.dispatchEvent(e)),t>0}()}finally{if(mm=!1,e=r-fm(),!dm)return;t?n.run(1e3):e>0?n.run(e):n.start()}},function(e){if(!Vf){var t=0,n=document.createTextNode("");new MutationObserver((function(){return cm.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),Vf=function(){n.textContent="".concat(t?t--:t++)}}cm.push(e),Vf()}((function(){requestAnimationFrame(t)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,pm)};document.body?t():Kf.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),hm.forEach((function(t){return Kf.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),hm.forEach((function(t){return Kf.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),bm=function(e){!dm&&e>0&&gm.start(),!(dm+=e)&&gm.stop()},ym=function(){function e(e,t){this.target=e,this.observedBox=t||Bf.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=im(this.target,this.observedBox,!0);return e=this.target,qf(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),vm=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},xm=new WeakMap,wm=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},km=function(){function e(){}return e.connect=function(e,t){var n=new vm(e,t);xm.set(e,n)},e.observe=function(e,t,n){var r=xm.get(e),o=0===r.observationTargets.length;wm(r.observationTargets,t)<0&&(o&&zf.push(r),r.observationTargets.push(new ym(t,n&&n.box)),bm(1),gm.schedule())},e.unobserve=function(e,t){var n=xm.get(e),r=wm(n.observationTargets,t),o=1===n.observationTargets.length;r>=0&&(o&&zf.splice(zf.indexOf(n),1),n.observationTargets.splice(r,1),bm(-1))},e.disconnect=function(e){var t=this,n=xm.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),_m=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");km.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Yf(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");km.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Yf(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");km.unobserve(this,e)},e.prototype.disconnect=function(){km.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const Sm=l["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"],Em="undefined"!=typeof window&&"ResizeObserver"in window?window.ResizeObserver:_m;function Tm(){}let Cm;const Im=function(e,t){const n=Cm||(Cm=function(){let e=!1,t=[];const n=new Map,r=new Em(((r,o)=>{t=t.concat(r),e||window.requestAnimationFrame((function(){const r=new Set;for(let e=0;e<t.length;e++){if(r.has(t[e].target))continue;r.add(t[e].target);const i=n.get(t[e].target);null==i||i.forEach((n=>n(t[e],o)))}t=[],e=!1})),e=!0}));return{observer:r,subscribe(e,t){var o;r.observe(e);const i=null!==(o=n.get(e))&&void 0!==o?o:[];i.push(t),n.set(e,i)},unsubscribe(e,t){var o;const i=null!==(o=n.get(e))&&void 0!==o?o:[];if(1===i.length)return r.unobserve(e),void n.delete(e);const a=i.indexOf(t);-1!==a&&i.splice(a,1),n.set(e,i)}}}()),r=(e=>{const t=l.useRef(e);return l.useEffect((()=>{t.current=e})),t})(t);return Sm((()=>{let t=!1;const o=e&&"current"in e?e.current:e;if(!o)return Tm;function i(e,n){t||r.current(e,n)}return n.subscribe(o,i),()=>{t=!0,n.unsubscribe(o,i)}}),[e,n,r]),n.observer};var jm="undefined"!=typeof self?self:global;const Am="undefined"!=typeof navigator,Om=Am&&"undefined"==typeof HTMLImageElement,Nm=!("undefined"==typeof global||"undefined"==typeof process||!process.versions||!process.versions.node),Rm=jm.Buffer,Pm=jm.BigInt,Mm=!!Rm,Dm=e=>e;function Lm(e,t=Dm){if(Nm)try{return"function"==typeof require?Promise.resolve(t(require(e))):import(e).then(t)}catch(t){console.warn(`Couldn't load ${e}`)}}let Fm=jm.fetch;if(!jm.fetch){const e=Lm("http",(e=>e)),t=Lm("https",(e=>e)),n=(r,{headers:o}={})=>new Promise((async(i,a)=>{let{port:s,hostname:l,pathname:u,protocol:c,search:d}=new URL(r);const p={method:"GET",hostname:l,path:encodeURI(u)+d,headers:o};""!==s&&(p.port=Number(s));const h=("https:"===c?await t:await e).request(p,(e=>{if(301===e.statusCode||302===e.statusCode){let t=new URL(e.headers.location,r).toString();return n(t,{headers:o}).then(i).catch(a)}i({status:e.statusCode,arrayBuffer:()=>new Promise((t=>{let n=[];e.on("data",(e=>n.push(e))),e.on("end",(()=>t(Buffer.concat(n))))}))})}));h.on("error",a),h.end()}));(e=>{Fm=e})(n)}function Bm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $m=e=>Um(e)?void 0:e,zm=e=>void 0!==e;function Um(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(zm).length)}function Vm(e){let t=new Error(e);throw delete t.stack,t}function Gm(e){return""===(e=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(e).trim())?void 0:e}function Wm(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const Hm=e=>String.fromCharCode.apply(null,e),qm="undefined"!=typeof TextDecoder?new TextDecoder("utf-8"):void 0;function Xm(e){return qm?qm.decode(e):Mm?Buffer.from(e).toString("utf8"):decodeURIComponent(escape(Hm(e)))}class Ym{static from(e,t){return e instanceof this&&e.le===t?e:new Ym(e,void 0,void 0,t)}constructor(e,t=0,n,r){if("boolean"==typeof r&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===n&&(n=e.byteLength-t);let r=new DataView(e,t,n);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Ym){void 0===n&&(n=e.byteLength-t),(t+=e.byteOffset)+n>e.byteOffset+e.byteLength&&Vm("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,t,n);this._swapDataView(r)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else Vm("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,n=Ym){return e instanceof DataView||e instanceof Ym?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Vm("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new n(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Ym(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return Xm(this.getUint8Array(e,t))}getLatin1String(e=0,t=this.byteLength){let n=this.getUint8Array(e,t);return Hm(n)}getUnicodeString(e=0,t=this.byteLength){const n=[];for(let r=0;r<t&&e+r<this.byteLength;r+=2)n.push(this.getUint16(e+r));return Hm(n)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,n){switch(t){case 1:return this.getUint8(e,n);case 2:return this.getUint16(e,n);case 4:return this.getUint32(e,n);case 8:return this.getUint64&&this.getUint64(e,n)}}getUint(e,t,n){switch(t){case 8:return this.getUint8(e,n);case 16:return this.getUint16(e,n);case 32:return this.getUint32(e,n);case 64:return this.getUint64&&this.getUint64(e,n)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}}function Km(e,t){Vm(`${e} '${t}' was not loaded, try using full build of exifr.`)}class Zm extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||Km(this.kind,e),t&&(e in t||function(e,t){Vm(`Unknown ${e} '${t}'.`)}(this.kind,e),t[e].enabled||Km(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}}var Jm=new Zm("file parser"),Qm=new Zm("segment parser"),eg=new Zm("file reader");function tg(e,t){return(n=e).startsWith("data:")||n.length>1e4?rg(e,t,"base64"):Nm&&e.includes("://")?ng(e,t,"url",og):Nm?rg(e,t,"fs"):Am?ng(e,t,"url",og):void Vm("Invalid input argument");var n}async function ng(e,t,n,r){return eg.has(n)?rg(e,t,n):r?async function(e,t){let n=await t(e);return new Ym(n)}(e,r):void Vm(`Parser ${n} is not loaded`)}async function rg(e,t,n){let r=new(eg.get(n))(e,t);return await r.read(),r}const og=e=>Fm(e).then((e=>e.arrayBuffer())),ig=e=>new Promise(((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}));class ag extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function sg(e,t,n){let r=new ag;for(let[e,t]of n)r.set(e,t);if(Array.isArray(t))for(let n of t)e.set(n,r);else e.set(t,r);return r}function lg(e,t,n){let r,o=e.get(t);for(r of n)o.set(r[0],r[1])}const ug=new Map,cg=new Map,dg=new Map,pg=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],hg=["jfif","xmp","icc","iptc","ihdr"],fg=["tiff",...hg],mg=["ifd0","ifd1","exif","gps","interop"],gg=[...fg,...mg],bg=["makerNote","userComment"],yg=["translateKeys","translateValues","reviveValues","multiSegment"],vg=[...yg,"sanitize","mergeOutput","silentErrors"];class xg{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class wg extends xg{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,n,r){if(super(),Bm(this,"enabled",!1),Bm(this,"skip",new Set),Bm(this,"pick",new Set),Bm(this,"deps",new Set),Bm(this,"translateKeys",!1),Bm(this,"translateValues",!1),Bm(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=mg.includes(e),this.canBeFiltered&&(this.dict=ug.get(e)),void 0!==n)if(Array.isArray(n))this.parse=this.enabled=!0,this.canBeFiltered&&n.length>0&&this.translateTagSet(n,this.pick);else if("object"==typeof n){if(this.enabled=!0,this.parse=!1!==n.parse,this.canBeFiltered){let{pick:e,skip:t}=n;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(n)}else!0===n||!1===n?this.parse=this.enabled=n:Vm(`Invalid options argument: ${n}`)}applyInheritables(e){let t,n;for(t of yg)n=e[t],void 0!==n&&(this[t]=n)}translateTagSet(e,t){if(this.dict){let n,r,{tagKeys:o,tagValues:i}=this.dict;for(n of e)"string"==typeof n?(r=i.indexOf(n),-1===r&&(r=o.indexOf(Number(n))),-1!==r&&t.add(Number(o[r]))):t.add(n)}else for(let n of e)t.add(n)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Cg(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Cg(this.pick,this.deps)}}var kg={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},_g=new Map;class Sg extends xg{static useCached(e){let t=_g.get(e);return void 0!==t||(t=new this(e),_g.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):Vm(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=Am?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of pg)this[e]=kg[e];for(e of vg)this[e]=kg[e];for(e of bg)this[e]=kg[e];for(e of gg)this[e]=new wg(e,kg[e],void 0,this)}setupFromTrue(){let e;for(e of pg)this[e]=kg[e];for(e of vg)this[e]=kg[e];for(e of bg)this[e]=!0;for(e of gg)this[e]=new wg(e,!0,void 0,this)}setupFromArray(e){let t;for(t of pg)this[t]=kg[t];for(t of vg)this[t]=kg[t];for(t of bg)this[t]=kg[t];for(t of gg)this[t]=new wg(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,mg)}setupFromObject(e){let t;for(t of(mg.ifd0=mg.ifd0||mg.image,mg.ifd1=mg.ifd1||mg.thumbnail,Object.assign(this,e),pg))this[t]=Tg(e[t],kg[t]);for(t of vg)this[t]=Tg(e[t],kg[t]);for(t of bg)this[t]=Tg(e[t],kg[t]);for(t of fg)this[t]=new wg(t,kg[t],e[t],this);for(t of mg)this[t]=new wg(t,kg[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,mg,gg),!0===e.tiff?this.batchEnableWithBool(mg,!0):!1===e.tiff?this.batchEnableWithUserValue(mg,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,mg):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,mg)}batchEnableWithBool(e,t){for(let n of e)this[n].enabled=t}batchEnableWithUserValue(e,t){for(let n of e){let e=t[n];this[n].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,n,r=n){if(e&&e.length){for(let e of r)this[e].enabled=!1;let t=Eg(e,n);for(let[e,n]of t)Cg(this[e].pick,n),this[e].enabled=!0}else if(t&&t.length){let e=Eg(t,n);for(let[t,n]of e)Cg(this[t].skip,n)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:n,iptc:r,icc:o}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),n.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),o.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:n,interop:r}=this;r.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),n.needed&&e.deps.add(34853),this.tiff.enabled=mg.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of mg)this[e].finalizeFilters()}get onlyTiff(){return!hg.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of fg)this[e].enabled&&!Qm.has(e)&&Km("segment parser",e)}}function Eg(e,t){let n,r,o,i,a=[];for(o of t){for(i of(n=ug.get(o),r=[],n))(e.includes(i[0])||e.includes(i[1]))&&r.push(i[0]);r.length&&a.push([o,r])}return a}function Tg(e,t){return void 0!==e?e:void 0!==t?t:void 0}function Cg(e,t){for(let n of t)e.add(n)}Bm(Sg,"default",kg);class Ig{constructor(e){Bm(this,"parsers",{}),Bm(this,"output",{}),Bm(this,"errors",[]),Bm(this,"pushToErrors",(e=>this.errors.push(e))),this.options=Sg.useCached(e)}async read(e){this.file=await function(e,t){return"string"==typeof e?tg(e,t):Am&&!Om&&e instanceof HTMLImageElement?tg(e.src,t):e instanceof Uint8Array||e instanceof ArrayBuffer||e instanceof DataView?new Ym(e):Am&&e instanceof Blob?ng(e,t,"blob",ig):void Vm("Invalid input argument")}(e,this.options)}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[n,r]of Jm)if(r.canHandle(e,t))return this.fileParser=new r(this.options,this.file,this.parsers),e[n]=!0;this.file.close&&this.file.close(),Vm("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),$m(e)}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let n=await t.parse();t.assignToOutput(e,n)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,n=Qm.get("tiff",e);var r;if(t.tiff?r={start:0,type:"tiff"}:t.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),void 0===r)return;let o=await this.fileParser.ensureSegmentChunk(r),i=this.parsers.tiff=new n(o,e,t),a=await i.extractThumbnail();return t.close&&t.close(),a}}async function jg(e,t){let n=new Ig(t);return await n.read(e),n.parse()}var Ag=Object.freeze({__proto__:null,parse:jg,Exifr:Ig,fileParsers:Jm,segmentParsers:Qm,fileReaders:eg,tagKeys:ug,tagValues:cg,tagRevivers:dg,createDictionary:sg,extendDictionary:lg,fetchUrlAsArrayBuffer:og,readBlobAsArrayBuffer:ig,chunkedProps:pg,otherSegments:hg,segments:fg,tiffBlocks:mg,segmentsAndBlocks:gg,tiffExtractables:bg,inheritables:yg,allFormatters:vg,Options:Sg});class Og{constructor(e,t,n){Bm(this,"errors",[]),Bm(this,"ensureSegmentChunk",(async e=>{let t=e.start,n=e.size||65536;if(this.file.chunked)if(this.file.available(t,n))e.chunk=this.file.subarray(t,n);else try{e.chunk=await this.file.readChunk(t,n)}catch(t){Vm(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+n?e.chunk=this.file.subarray(t,n):void 0===e.size?e.chunk=this.file.subarray(t):Vm("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=n}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let n=new(Qm.get(e))(t,this.options,this.file);return this.parsers[e]=n}createParsers(e){for(let t of e){let{type:e,chunk:n}=t,r=this.options[e];if(r&&r.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,n)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}class Ng{static findPosition(e,t){let n=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,n):this.headerLength,o=t+r,i=n-r;return{offset:t,length:n,headerLength:r,start:o,size:i,end:o+i}}static parse(e,t={}){return new this(e,new Sg({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Ym?e:new Ym(e)}constructor(e,t={},n){Bm(this,"errors",[]),Bm(this,"raw",new Map),Bm(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=n,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let n=dg.get(t),r=cg.get(t),o=ug.get(t),i=this.options[t],a=i.reviveValues&&!!n,s=i.translateValues&&!!r,l=i.translateKeys&&!!o,u={};for(let[t,i]of e)a&&n.has(t)?i=n.get(t)(i):s&&r.has(t)&&(i=this.translateValue(i,r.get(t))),l&&o.has(t)&&(t=o.get(t)||t),u[t]=i;return u}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,n){if(this.globalOptions.mergeOutput)return Object.assign(e,n);e[t]?Object.assign(e[t],n):e[t]=n}}function Rg(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function Pg(e){return e>=224&&e<=239}function Mg(e,t,n){for(let[r,o]of Qm)if(o.canHandle(e,t,n))return r}Bm(Ng,"headerLength",4),Bm(Ng,"type",void 0),Bm(Ng,"multiSegment",!1),Bm(Ng,"canHandle",(()=>!1));class Dg extends Og{constructor(...e){super(...e),Bm(this,"appSegments",[]),Bm(this,"jpegSegments",[]),Bm(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(Qm.keyList())):(e=void 0===e?Qm.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&Qm.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:n,findAll:r,wanted:o,remaining:i}=this;if(!r&&this.file.chunked&&(r=Array.from(o).some((e=>{let t=Qm.get(e),n=this.options[e];return t.multiSegment&&n.multiSegment})),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,n.byteLength),!this.options.onlyTiff&&n.chunked){let t=!1;for(;i.size>0&&!t&&(n.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:r}=n,o=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>r&&!o?!await n.readNextChunk(e):!await n.readNextChunk(r),void 0===(e=this.findAppSegmentsInRange(e,n.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let n,r,o,i,a,s,{file:l,findAll:u,wanted:c,remaining:d,options:p}=this;for(;e<t;e++)if(255===l.getUint8(e))if(n=l.getUint8(e+1),Pg(n)){if(r=l.getUint16(e+2),o=Mg(l,e,r),o&&c.has(o)&&(i=Qm.get(o),a=i.findPosition(l,e),s=p[o],a.type=o,this.appSegments.push(a),!u&&(i.multiSegment&&s.multiSegment?(this.unfinishedMultiSegment=a.chunkNumber<a.chunkCount,this.unfinishedMultiSegment||d.delete(o)):d.delete(o),0===d.size)))break;p.recordUnknownSegments&&(a=Ng.findPosition(l,e),a.marker=n,this.unknownSegments.push(a)),e+=r+1}else if(Rg(n)){if(r=l.getUint16(e+2),218===n&&!1!==p.stopAfterSos)return;p.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:n}),e+=r+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let n,r,o,i=new Map;for(let t=0;t<e.length;t++)n=e[t],r=n.type,i.has(r)?o=i.get(r):i.set(r,o=[]),o.push(n);return Array.from(i)}(this.appSegments);this.mergedAppSegments=e.map((([e,t])=>{let n=Qm.get(e,this.options);return n.handleMultiSegments?{type:e,chunk:n.handleMultiSegments(t)}:t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}}Bm(Dg,"type","jpeg"),Jm.set("jpeg",Dg);const Lg=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class Fg extends Ng{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,n=new Map){let{pick:r,skip:o}=this.options[t];r=new Set(r);let i=r.size>0,a=0===o.size,s=this.chunk.getUint16(e);e+=2;for(let l=0;l<s;l++){let s=this.chunk.getUint16(e);if(i){if(r.has(s)&&(n.set(s,this.parseTag(e,s,t)),r.delete(s),0===r.size))break}else!a&&o.has(s)||n.set(s,this.parseTag(e,s,t));e+=12}return n}parseTag(e,t,n){let{chunk:r}=this,o=r.getUint16(e+2),i=r.getUint32(e+4),a=Lg[o];if(a*i<=4?e+=8:e=r.getUint32(e+8),(o<1||o>13)&&Vm(`Invalid TIFF value type. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${o}, offset ${e}`),e>r.byteLength&&Vm(`Invalid TIFF value offset. block: ${n.toUpperCase()}, tag: ${t.toString(16)}, type: ${o}, offset ${e} is outside of chunk size ${r.byteLength}`),1===o)return r.getUint8Array(e,i);if(2===o)return Gm(r.getString(e,i));if(7===o)return r.getUint8Array(e,i);if(1===i)return this.parseTagValue(o,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(o))(i),n=a;for(let r=0;r<i;r++)t[r]=this.parseTagValue(o,e),e+=n;return t}}parseTagValue(e,t){let{chunk:n}=this;switch(e){case 1:return n.getUint8(t);case 3:return n.getUint16(t);case 4:case 13:return n.getUint32(t);case 5:return n.getUint32(t)/n.getUint32(t+4);case 6:return n.getInt8(t);case 8:return n.getInt16(t);case 9:return n.getInt32(t);case 10:return n.getInt32(t)/n.getInt32(t+4);case 11:return n.getFloat(t);case 12:return n.getDouble(t);default:Vm(`Invalid tiff type ${e}`)}}}class Bg extends Fg{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let n=new Map;return this[t]=n,this.parseTags(e,t,n),n}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Vm("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Vm(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Wm(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset)return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Wm(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let n=e.get(t);n&&1===n.length&&e.set(t,n[0])}async parseGpsBlock(){if(this.gps)return;if(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset)return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",$g(...e.get(2),e.get(1))),e.set("longitude",$g(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,n,r={};for(t of mg)if(e=this[t],!Um(e))if(n=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(r,n)}else r[t]=n;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[n,r]of Object.entries(t))this.assignObjectToOutput(e,n,r)}}function $g(e,t,n,r){var o=e+t/60+n/3600;return"S"!==r&&"W"!==r||(o*=-1),o}Bm(Bg,"type","tiff"),Bm(Bg,"headerLength",10),Qm.set("tiff",Bg);var zg=Object.freeze({__proto__:null,default:Ag,Exifr:Ig,fileParsers:Jm,segmentParsers:Qm,fileReaders:eg,tagKeys:ug,tagValues:cg,tagRevivers:dg,createDictionary:sg,extendDictionary:lg,fetchUrlAsArrayBuffer:og,readBlobAsArrayBuffer:ig,chunkedProps:pg,otherSegments:hg,segments:fg,tiffBlocks:mg,segmentsAndBlocks:gg,tiffExtractables:bg,inheritables:yg,allFormatters:vg,Options:Sg,parse:jg});const Ug={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Vg=Object.assign({},Ug,{firstChunkSize:4e4,gps:[1,2,3,4]});async function Gg(e){let t=new Ig(Vg);await t.read(e);let n=await t.parse();if(n&&n.gps){let{latitude:e,longitude:t}=n.gps;return{latitude:e,longitude:t}}}const Wg=Object.assign({},Ug,{tiff:!1,ifd1:!0,mergeOutput:!1});async function Hg(e){let t=new Ig(Wg);await t.read(e);let n=await t.extractThumbnail();return n&&Mm?Rm.from(n):n}async function qg(e){let t=await this.thumbnail(e);if(void 0!==t){let e=new Blob([t]);return URL.createObjectURL(e)}}const Xg=Object.assign({},Ug,{firstChunkSize:4e4,ifd0:[274]});async function Yg(e){let t=new Ig(Xg);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}const Kg=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let Zg=!0,Jg=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,n]=t,r=Number(e)+.1*Number(n);Zg=r<13.4,Jg=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);Zg=Jg=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);Zg=Jg=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);Zg=Jg=Number(t)<77}}async function Qg(e){let t=await Yg(e);return Object.assign({canvas:Zg,css:Jg},Kg[t])}class eb extends Ym{constructor(...e){super(...e),Bm(this,"ranges",new tb),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,n){if(0===e&&0===this.byteLength&&n){let e=new DataView(n.buffer||n,n.byteOffset,n.byteLength);this._swapDataView(e)}else{let n=e+t;if(n>this.byteLength){let{dataView:e}=this._extend(n);this._swapDataView(e)}}}_extend(e){let t;t=Mm?Rm.allocUnsafe(e):new Uint8Array(e);let n=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:n}}subarray(e,t,n=!1){return t=t||this._lengthToEnd(e),n&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,n=!1){n&&this._tryExtend(t,e.byteLength,e);let r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}}class tb{constructor(){Bm(this,"list",[])}get length(){return this.list.length}add(e,t,n=0){let r=e+t,o=this.list.filter((t=>nb(e,t.offset,r)||nb(e,t.end,r)));if(o.length>0){e=Math.min(e,...o.map((e=>e.offset))),r=Math.max(r,...o.map((e=>e.end))),t=r-e;let n=o.shift();n.offset=e,n.length=t,n.end=r,this.list=this.list.filter((e=>!o.includes(e)))}else this.list.push({offset:e,length:t,end:r})}available(e,t){let n=e+t;return this.list.some((t=>t.offset<=e&&n<=t.end))}}function nb(e,t,n){return e<=t&&t<=n}class rb extends eb{constructor(e,t){super(0),Bm(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,n=await this.readChunk(e,t);return!!n&&n.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}eg.set("blob",class extends rb{async readWhole(){this.chunked=!1;let e=await ig(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),o=await ig(r);return this.set(o,e,!0)}});var ob=Object.freeze({__proto__:null,default:zg,Exifr:Ig,fileParsers:Jm,segmentParsers:Qm,fileReaders:eg,tagKeys:ug,tagValues:cg,tagRevivers:dg,createDictionary:sg,extendDictionary:lg,fetchUrlAsArrayBuffer:og,readBlobAsArrayBuffer:ig,chunkedProps:pg,otherSegments:hg,segments:fg,tiffBlocks:mg,segmentsAndBlocks:gg,tiffExtractables:bg,inheritables:yg,allFormatters:vg,Options:Sg,parse:jg,gpsOnlyOptions:Vg,gps:Gg,thumbnailOnlyOptions:Wg,thumbnail:Hg,thumbnailUrl:qg,orientationOnlyOptions:Xg,orientation:Yg,rotations:Kg,get rotateCanvas(){return Zg},get rotateCss(){return Jg},rotation:Qg});eg.set("url",class extends rb{async readWhole(){this.chunked=!1;let e=await og(this.input);e instanceof ArrayBuffer?this._swapArrayBuffer(e):e instanceof Uint8Array&&this._swapBuffer(e)}async _readChunk(e,t){let n=t?e+t-1:void 0,r=this.options.httpHeaders||{};(e||n)&&(r.range=`bytes=${[e,n].join("-")}`);let o=await Fm(this.input,{headers:r}),i=await o.arrayBuffer(),a=i.byteLength;if(416!==o.status)return a!==t&&(this.size=e+a),this.set(i,e,!0)}}),Ym.prototype.getUint64=function(e){let t=this.getUint32(e),n=this.getUint32(e+4);return t<1048575?t<<32|n:void 0!==typeof Pm?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),Pm(t)<<Pm(32)|Pm(n)):void Vm("Trying to read 64b value but JS can only handle 53b numbers.")};class ib extends Og{parseBoxes(e=0){let t=[];for(;e<this.file.byteLength-4;){let n=this.parseBoxHead(e);if(t.push(n),0===n.length)break;e+=n.length}return t}parseSubBoxes(e){e.boxes=this.parseBoxes(e.start)}findBox(e,t){return void 0===e.boxes&&this.parseSubBoxes(e),e.boxes.find((e=>e.kind===t))}parseBoxHead(e){let t=this.file.getUint32(e),n=this.file.getString(e+4,4),r=e+8;return 1===t&&(t=this.file.getUint64(e+8),r+=8),{offset:e,length:t,kind:n,start:r}}parseBoxFullHead(e){if(void 0!==e.version)return;let t=this.file.getUint32(e.start);e.version=t>>24,e.start+=4}}class ab extends ib{static canHandle(e,t){if(0!==t)return!1;let n=e.getUint16(2);if(n>50)return!1;let r=16,o=[];for(;r<n;)o.push(e.getString(r,4)),r+=4;return o.includes(this.type)}async parse(){let e=this.file.getUint32(0),t=this.parseBoxHead(e);for(;"meta"!==t.kind;)e+=t.length,await this.file.ensureChunk(e,16),t=this.parseBoxHead(e);await this.file.ensureChunk(t.offset,t.length),this.parseBoxFullHead(t),this.parseSubBoxes(t),this.options.icc.enabled&&await this.findIcc(t),this.options.tiff.enabled&&await this.findExif(t)}async registerSegment(e,t,n){await this.file.ensureChunk(t,n);let r=this.file.subarray(t,n);this.createParser(e,r)}async findIcc(e){let t=this.findBox(e,"iprp");if(void 0===t)return;let n=this.findBox(t,"ipco");if(void 0===n)return;let r=this.findBox(n,"colr");void 0!==r&&await this.registerSegment("icc",r.offset+12,r.length)}async findExif(e){let t=this.findBox(e,"iinf");if(void 0===t)return;let n=this.findBox(e,"iloc");if(void 0===n)return;let r=this.findExifLocIdInIinf(t),o=this.findExtentInIloc(n,r);if(void 0===o)return;let[i,a]=o;await this.file.ensureChunk(i,a);let s=4+this.file.getUint32(i);i+=s,a-=s,await this.registerSegment("tiff",i,a)}findExifLocIdInIinf(e){this.parseBoxFullHead(e);let t,n,r,o,i=e.start,a=this.file.getUint16(i);for(i+=2;a--;){if(t=this.parseBoxHead(i),this.parseBoxFullHead(t),n=t.start,t.version>=2&&(r=3===t.version?4:2,o=this.file.getString(n+r+2,4),"Exif"===o))return this.file.getUintBytes(n,r);i+=t.length}}get8bits(e){let t=this.file.getUint8(e);return[t>>4,15&t]}findExtentInIloc(e,t){this.parseBoxFullHead(e);let n=e.start,[r,o]=this.get8bits(n++),[i,a]=this.get8bits(n++),s=2===e.version?4:2,l=1===e.version||2===e.version?2:0,u=a+r+o,c=2===e.version?4:2,d=this.file.getUintBytes(n,c);for(n+=c;d--;){let e=this.file.getUintBytes(n,s);n+=s+l+2+i;let c=this.file.getUint16(n);if(n+=2,e===t)return c>1&&console.warn("ILOC box has more than one extent but we're only processing one\nPlease create an issue at https://github.com/MikeKovarik/exifr with this file"),[this.file.getUintBytes(n+a,r),this.file.getUintBytes(n+a+r,o)];n+=c*u}}}class sb extends ab{}Bm(sb,"type","heic");class lb extends ab{}Bm(lb,"type","avif"),Jm.set("heic",sb),Jm.set("avif",lb),sg(ug,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),sg(ug,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),sg(ug,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),sg(cg,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let ub=sg(cg,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const cb={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};ub.set(37392,cb),ub.set(41488,cb);const db={0:"Normal",1:"Low",2:"High"};function pb(e){return"object"==typeof e&&void 0!==e.length?e[0]:e}function hb(e){let t=Array.from(e).slice(1);return t[1]>15&&(t=t.map((e=>String.fromCharCode(e)))),"0"!==t[2]&&0!==t[2]||t.pop(),t.join(".")}function fb(e){if("string"==typeof e){var[t,n,r,o,i,a]=e.trim().split(/[-: ]/g).map(Number),s=new Date(t,n-1,r);return Number.isNaN(o)||Number.isNaN(i)||Number.isNaN(a)||(s.setHours(o),s.setMinutes(i),s.setSeconds(a)),Number.isNaN(+s)?e:s}}function mb(e){if("string"==typeof e)return e;let t=[];if(0===e[1]&&0===e[e.length-1])for(let n=0;n<e.length;n+=2)t.push(gb(e[n+1],e[n]));else for(let n=0;n<e.length;n+=2)t.push(gb(e[n],e[n+1]));return Gm(String.fromCodePoint(...t))}function gb(e,t){return e<<8|t}ub.set(41992,db),ub.set(41993,db),ub.set(41994,db),sg(dg,["ifd0","ifd1"],[[50827,function(e){return"string"!=typeof e?Xm(e):e}],[306,fb],[40091,mb],[40092,mb],[40093,mb],[40094,mb],[40095,mb]]),sg(dg,"exif",[[40960,hb],[36864,hb],[36867,fb],[36868,fb],[40962,pb],[40963,pb]]),sg(dg,"gps",[[0,e=>Array.from(e).join(".")],[7,e=>Array.from(e).join(":")]]);class bb extends Ng{static canHandle(e,t){return 225===e.getUint8(t+1)&&1752462448===e.getUint32(t+4)&&"http://ns.adobe.com/"===e.getString(t+4,20)}static headerLength(e,t){return"http://ns.adobe.com/xmp/extension/"===e.getString(t+4,34)?79:33}static findPosition(e,t){let n=super.findPosition(e,t);return n.multiSegment=n.extended=79===n.headerLength,n.multiSegment?(n.chunkCount=e.getUint8(t+72),n.chunkNumber=e.getUint8(t+76),0!==e.getUint8(t+77)&&n.chunkNumber++):(n.chunkCount=1/0,n.chunkNumber=-1),n}static handleMultiSegments(e){return e.map((e=>e.chunk.getString())).join("")}normalizeInput(e){return"string"==typeof e?e:Ym.from(e).getString()}parse(e=this.chunk){if(!this.localOptions.parse)return e;e=function(e){let t={},n={};for(let e of Tb)t[e]=[],n[e]=0;return e.replace(Cb,((e,r,o)=>{if("<"===r){let r=++n[o];return t[o].push(r),`${e}#${r}`}return`${e}#${t[o].pop()}`}))}(e);let t=vb.findAll(e,"rdf","Description");0===t.length&&t.push(new vb("rdf","Description",void 0,e));let n,r={};for(let e of t)for(let t of e.properties)n=_b(t.ns,r),xb(t,n);return function(e){let t;for(let n in e)t=e[n]=$m(e[n]),void 0===t&&delete e[n];return $m(e)}(r)}assignToOutput(e,t){if(this.localOptions.parse)for(let[n,r]of Object.entries(t))switch(n){case"tiff":this.assignObjectToOutput(e,"ifd0",r);break;case"exif":this.assignObjectToOutput(e,"exif",r);break;case"xmlns":break;default:this.assignObjectToOutput(e,n,r)}else e.xmp=t}}Bm(bb,"type","xmp"),Bm(bb,"multiSegment",!0),Qm.set("xmp",bb);class yb{static findAll(e){return Sb(e,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(yb.unpackMatch)}static unpackMatch(e){let t=e[1],n=e[2],r=e[3].slice(1,-1);return r=Eb(r),new yb(t,n,r)}constructor(e,t,n){this.ns=e,this.name=t,this.value=n}serialize(){return this.value}}class vb{static findAll(e,t,n){if(void 0!==t||void 0!==n){t=t||"[\\w\\d-]+",n=n||"[\\w\\d-]+";var r=new RegExp(`<(${t}):(${n})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else r=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return Sb(e,r).map(vb.unpackMatch)}static unpackMatch(e){let t=e[1],n=e[2],r=e[4],o=e[8];return new vb(t,n,r,o)}constructor(e,t,n,r){this.ns=e,this.name=t,this.attrString=n,this.innerXml=r,this.attrs=yb.findAll(n),this.children=vb.findAll(r),this.value=0===this.children.length?Eb(r):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return void 0!==this.value&&0===this.attrs.length&&0===this.children.length}get isListContainer(){return 1===this.children.length&&this.children[0].isList}get isList(){let{ns:e,name:t}=this;return"rdf"===e&&("Seq"===t||"Bag"===t||"Alt"===t)}get isListItem(){return"rdf"===this.ns&&"li"===this.name}serialize(){if(0===this.properties.length&&void 0===this.value)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return kb(this.children.map(wb));if(this.isListItem&&1===this.children.length&&0===this.attrs.length)return this.children[0].serialize();let e={};for(let t of this.properties)xb(t,e);return void 0!==this.value&&(e.value=this.value),$m(e)}}function xb(e,t){let n=e.serialize();void 0!==n&&(t[e.name]=n)}var wb=e=>e.serialize(),kb=e=>1===e.length?e[0]:e,_b=(e,t)=>t[e]?t[e]:t[e]={};function Sb(e,t){let n,r=[];if(!e)return r;for(;null!==(n=t.exec(e));)r.push(n);return r}function Eb(e){if(function(e){return null==e||"null"===e||"undefined"===e||""===e||""===e.trim()}(e))return;let t=Number(e);if(!Number.isNaN(t))return t;let n=e.toLowerCase();return"true"===n||"false"!==n&&e.trim()}const Tb=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],Cb=new RegExp(`(<|\\/)(${Tb.join("|")})`,"g");var Ib=Object.freeze({__proto__:null,default:ob,Exifr:Ig,fileParsers:Jm,segmentParsers:Qm,fileReaders:eg,tagKeys:ug,tagValues:cg,tagRevivers:dg,createDictionary:sg,extendDictionary:lg,fetchUrlAsArrayBuffer:og,readBlobAsArrayBuffer:ig,chunkedProps:pg,otherSegments:hg,segments:fg,tiffBlocks:mg,segmentsAndBlocks:gg,tiffExtractables:bg,inheritables:yg,allFormatters:vg,Options:Sg,parse:jg,gpsOnlyOptions:Vg,gps:Gg,thumbnailOnlyOptions:Wg,thumbnail:Hg,thumbnailUrl:qg,orientationOnlyOptions:Xg,orientation:Yg,rotations:Kg,get rotateCanvas(){return Zg},get rotateCss(){return Jg},rotation:Qg});let jb=Lm("fs",(e=>e.promises));eg.set("fs",class extends rb{async readWhole(){this.chunked=!1,this.fs=await jb;let e=await this.fs.readFile(this.input);this._swapBuffer(e)}async readChunked(){this.chunked=!0,this.fs=await jb,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){void 0===this.fh&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(e,t){void 0===this.fh&&await this.open(),e+t>this.size&&(t=this.size-e);var n=this.subarray(e,t,!0);return await this.fh.read(n.dataView,0,t,e),n}async close(){if(this.fh){let e=this.fh;this.fh=void 0,await e.close()}}}),eg.set("base64",class extends rb{constructor(...e){super(...e),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(e,t){let n,r,o=this.input;void 0===e?(e=0,n=0,r=0):(n=4*Math.floor(e/3),r=e-n/4*3),void 0===t&&(t=this.size);let i=e+t,a=n+4*Math.ceil(i/3);o=o.slice(n,a);let s=Math.min(t,this.size-e);if(Mm){let t=Rm.from(o,"base64").slice(r,r+s);return this.set(t,e,!0)}{let t=this.subarray(e,s,!0),n=atob(o),i=t.toUint8();for(let e=0;e<s;e++)i[e]=n.charCodeAt(r+e);return t}}});class Ab extends Og{static canHandle(e,t){return 18761===t||19789===t}extendOptions(e){let{ifd0:t,xmp:n,iptc:r,icc:o}=e;n.enabled&&t.deps.add(700),r.enabled&&t.deps.add(33723),o.enabled&&t.deps.add(34675),t.finalizeFilters()}async parse(){let{tiff:e,xmp:t,iptc:n,icc:r}=this.options;if(e.enabled||t.enabled||n.enabled||r.enabled){let e=Math.max(Wm(this.options),this.options.chunkSize);await this.file.ensureChunk(0,e),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(e){if(this.parsers.tiff[e]){let t=this.parsers.tiff[e];this.injectSegment(e,t)}}}Bm(Ab,"type","tiff"),Jm.set("tiff",Ab);let Ob=Lm("zlib");const Nb=["ihdr","iccp","text","itxt","exif"];class Rb extends Og{constructor(...e){super(...e),Bm(this,"catchError",(e=>this.errors.push(e))),Bm(this,"metaChunks",[]),Bm(this,"unknownChunks",[])}static canHandle(e,t){return 35152===t&&2303741511===e.getUint32(0)&&218765834===e.getUint32(4)}async parse(){let{file:e}=this;await this.findPngChunksInRange(8,e.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(e,t){let{file:n}=this;for(;e<t;){let t=n.getUint32(e),r=n.getUint32(e+4),o=n.getString(e+4,4).toLowerCase(),i=t+4+4+4,a={type:o,offset:e,length:i,start:e+4+4,size:t,marker:r};Nb.includes(o)?this.metaChunks.push(a):this.unknownChunks.push(a),e+=i}}parseTextChunks(){let e=this.metaChunks.filter((e=>"text"===e.type));for(let t of e){let[e,n]=this.file.getString(t.start,t.size).split("\0");this.injectKeyValToIhdr(e,n)}}injectKeyValToIhdr(e,t){let n=this.parsers.ihdr;n&&n.raw.set(e,t)}findIhdr(){let e=this.metaChunks.find((e=>"ihdr"===e.type));e&&!1!==this.options.ihdr.enabled&&this.createParser("ihdr",e.chunk)}async findExif(){let e=this.metaChunks.find((e=>"exif"===e.type));e&&this.injectSegment("tiff",e.chunk)}async findXmp(){let e=this.metaChunks.filter((e=>"itxt"===e.type));for(let t of e)"XML:com.adobe.xmp"===t.chunk.getString(0,17)&&this.injectSegment("xmp",t.chunk)}async findIcc(){let e=this.metaChunks.find((e=>"iccp"===e.type));if(!e)return;let{chunk:t}=e,n=t.getUint8Array(0,81),r=0;for(;r<80&&0!==n[r];)r++;let o=r+2,i=t.getString(0,r);if(this.injectKeyValToIhdr("ProfileName",i),Nm){let e=await Ob,n=t.getUint8Array(o);n=e.inflateSync(n),this.injectSegment("icc",n)}}}Bm(Rb,"type","png"),Jm.set("png",Rb),sg(ug,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),lg(ug,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let Pb=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];lg(ug,"ifd0",Pb),lg(ug,"exif",Pb),sg(cg,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class Mb extends Ng{static canHandle(e,t){return 224===e.getUint8(t+1)&&1246120262===e.getUint32(t+4)&&0===e.getUint8(t+8)}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}Bm(Mb,"type","jfif"),Bm(Mb,"headerLength",9),Qm.set("jfif",Mb),sg(ug,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class Db extends Ng{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}Bm(Db,"type","ihdr"),Qm.set("ihdr",Db),sg(ug,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),sg(cg,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class Lb extends Ng{static canHandle(e,t){return 226===e.getUint8(t+1)&&1229144927===e.getUint32(t+4)}static findPosition(e,t){let n=super.findPosition(e,t);return n.chunkNumber=e.getUint8(t+16),n.chunkCount=e.getUint8(t+17),n.multiSegment=n.chunkCount>1,n}static handleMultiSegments(e){return function(e){let t=function(e){let t=e[0].constructor,n=0;for(let t of e)n+=t.length;let r=new t(n),o=0;for(let t of e)r.set(t,o),o+=t.length;return r}(e.map((e=>e.chunk.toUint8())));return new Ym(t)}(e)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:e}=this;this.chunk.byteLength<84&&Vm("ICC header is too short");for(let[t,n]of Object.entries(Fb)){t=parseInt(t,10);let r=n(this.chunk,t);"\0\0\0\0"!==r&&e.set(t,r)}}parseTags(){let e,t,n,r,o,{raw:i}=this,a=this.chunk.getUint32(128),s=132,l=this.chunk.byteLength;for(;a--;){if(e=this.chunk.getString(s,4),t=this.chunk.getUint32(s+4),n=this.chunk.getUint32(s+8),r=this.chunk.getString(t,4),t+n>l)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");o=this.parseTag(r,t,n),void 0!==o&&"\0\0\0\0"!==o&&i.set(e,o),s+=12}}parseTag(e,t,n){switch(e){case"desc":return this.parseDesc(t);case"mluc":return this.parseMluc(t);case"text":return this.parseText(t,n);case"sig ":return this.parseSig(t)}if(!(t+n>this.chunk.byteLength))return this.chunk.getUint8Array(t,n)}parseDesc(e){let t=this.chunk.getUint32(e+8)-1;return Gm(this.chunk.getString(e+12,t))}parseText(e,t){return Gm(this.chunk.getString(e+8,t-8))}parseSig(e){return Gm(this.chunk.getString(e+8,4))}parseMluc(e){let{chunk:t}=this,n=t.getUint32(e+8),r=t.getUint32(e+12),o=e+16,i=[];for(let a=0;a<n;a++){let n=t.getString(o+0,2),a=t.getString(o+2,2),s=t.getUint32(o+4),l=t.getUint32(o+8)+e,u=Gm(t.getUnicodeString(l,s));i.push({lang:n,country:a,text:u}),o+=r}return 1===n?i[0].text:i}translateValue(e,t){return"string"==typeof e?t[e]||t[e.toLowerCase()]||e:t[e]||e}}Bm(Lb,"type","icc"),Bm(Lb,"multiSegment",!0),Bm(Lb,"headerLength",18);const Fb={4:Bb,8:function(e,t){return[e.getUint8(t),e.getUint8(t+1)>>4,e.getUint8(t+1)%16].map((e=>e.toString(10))).join(".")},12:Bb,16:Bb,20:Bb,24:function(e,t){const n=e.getUint16(t),r=e.getUint16(t+2)-1,o=e.getUint16(t+4),i=e.getUint16(t+6),a=e.getUint16(t+8),s=e.getUint16(t+10);return new Date(Date.UTC(n,r,o,i,a,s))},36:Bb,40:Bb,48:Bb,52:Bb,64:(e,t)=>e.getUint32(t),80:Bb};function Bb(e,t){return Gm(e.getString(t,4))}Qm.set("icc",Lb),sg(ug,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const $b={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},zb={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};sg(cg,"icc",[[4,$b],[12,zb],[40,Object.assign({},$b,zb)],[48,$b],[80,$b],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class Ub extends Ng{static canHandle(e,t,n){return 237===e.getUint8(t+1)&&"Photoshop"===e.getString(t+4,9)&&void 0!==this.containsIptc8bim(e,t,n)}static headerLength(e,t,n){let r,o=this.containsIptc8bim(e,t,n);if(void 0!==o)return r=e.getUint8(t+o+7),r%2!=0&&(r+=1),0===r&&(r=4),o+8+r}static containsIptc8bim(e,t,n){for(let r=0;r<n;r++)if(this.isIptcSegmentHead(e,t+r))return r}static isIptcSegmentHead(e,t){return 56===e.getUint8(t)&&943868237===e.getUint32(t)&&1028===e.getUint16(t+4)}parse(){let{raw:e}=this,t=this.chunk.byteLength-1,n=!1;for(let r=0;r<t;r++)if(28===this.chunk.getUint8(r)&&2===this.chunk.getUint8(r+1)){n=!0;let t=this.chunk.getUint16(r+3),o=this.chunk.getUint8(r+2),i=this.chunk.getLatin1String(r+5,t);e.set(o,this.pluralizeValue(e.get(o),i)),r+=4+t}else if(n)break;return this.translate(),this.output}pluralizeValue(e,t){return void 0!==e?e instanceof Array?(e.push(t),e):[e,t]:t}}Bm(Ub,"type","iptc"),Bm(Ub,"translateValues",!1),Bm(Ub,"reviveValues",!1),Qm.set("iptc",Ub),sg(ug,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),sg(cg,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);const Vb=Ib;function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gb.apply(this,arguments)}var Wb={lightboxjs:"_30i9K",slideshowContainer:"_3kSzL",slideshowBtn:"_tCjNO",closeIcon:"_2IJEr",iconsHeader:"_2Yv4j",prev1:"_1lgEi",next1:"_DDceb",icon:"_2Vept",prevIcon:"_2gxOL",nextIcon:"_3gp2w",show:"_2crlL",displayHidden:"_34QvR",thumbnail:"_1R214",hoverShadow:"_3EuZy",thumbnails:"_3pfLz",thumbnailsWithCaption:"_Fp_rP",navigationDots:"_1jASN",imageSlide:"_22ETc",thumbnailsOuterContainer:"_-wN_b",videoThumbnailsOuterContainer:"_KbOLW",imgTitleContainer:"_1j-pZ",thumbnailsOuterContainer_metadata:"_1Odla",thumbnailsAndCaption:"_1nxK_",htmlVideoOuterContainer:"_z-jNd",caption:"_2jJU2",galleryImg:"_lY1R_",slideshowAnimContainer:"_wTR3b",fullScreenContainer:"_11N04",imageInnerContainer:"_20Hp6",magnifyWrapper:"_3PObS",slideshowInnerContainer:"_1JRT_",slideshowInnerContainer_imgMetadata:"_29Kdn",slideshowInnerVideoContainer:"_1ni2w",slideshowInnerContainerThumbnails:"_GV0NM",lightboxContainer:"_3BNPD",slideshowAnimImg:"_j1nqC",controls:"_ABXHD",ytVideo:"_2eq8V",videoOuterContainer:"_1P3Wc",customVideoContainer:"_Aq8HC",customEmbedContainer:"_w68I8",videoIconsHeader:"_qtY0U",lightbox:"_3cxVN",imgTitle:"_2pA2G",lightbox_img:"_3A0RO",slideshow_img_fullscreen:"_2yYOi",slideshowInnerContainerFullScreen:"_hWNoE",fullScreenLightboxImg:"_1ek8k","opacity-fade":"_2P48G",imageSliderThumbnails:"_1xBL9",slideshow_img_metadata:"_15MH_",prev1_metadata:"_3JYCS",slideshow_img:"_1yWyS",light_icon:"_1kIQ4",dark_icon:"_1qbJe",light_header_icon:"_3DIHj",dark_header_icon:"_11aT5","magnifier-image":"_mdJQi",active:"_3sodH",inactiveThumbnailBorder:"_3bkUp",embla_thumbs:"_32vVi",htmlVideo:"_sqvn-","react-transform-component":"_3Id1-",loader:"_3qqrl",rotation:"_1hUzk",day_loader:"_1itZw",night_loader:"_2TI_i",closeButton:"_2kumA",slideImageAndCaption:"_238y5",roundedBorder:"_2FvXV",maxWidthFull:"_oa5b0",maxWidthWithoutMagnifier:"_z-bHV",lightboxVideo:"_hGbhv","navigation-wrapper":"_1dVqh",dots:"_3MuXE",dot:"_3U2py",arrow:"_35l6Q",leftArrow:"_1I4Zg",rightArrow:"_1lqBv","arrow--disabled":"_37Xda",navDotsMargin:"_1LtID",inactiveThumbnailBorderImgSlider:"_2y9OU",ytVideoImgSlider:"_2oAIc",outerYTVideoImgSlider:"_2-c5L",imgSliderArrow:"_1Bey-",cursorPointer:"_3xuz3",lightboxjs_icon:"_1fpgA",embla:"_1cifY",embla__viewport:"_1mBUR",embla__container:"_Bqct9",embla__container_imgMetadata:"_39UN-",embla__slide:"_1eJNe",embla_thumbs__viewport:"_1tmVU",embla_thumbs__container:"_3-Y1e",embla_thumbs__slide:"_jp0uN",embla_thumbs__slide__img:"_3S-ie",mlAuto:"_1afvv",metadata:"_1HGLk",embla__slide_grid:"_1TshF",metadataPanel:"_U_FmQ",metadataInnerContainer:"_1Y4P9",imgMetadataCloseBtn:"_1vmhr",react_transform_wrapper:"_3djxx",react_transform_component:"_2UUxD",navigationDot:"_gMqOZ",navigationDotContainer:"_1KxdK"},Hb=function(e,t,n){if(e==t)return e;var r=t-e;return((n-e)%r+r)%r+e},qb=function(e){return("yt"!=e.type||1==e.autoPlay||"true"==e.autoPlay)&&0!=e.autoPlay&&"false"!=e.autoPlay},Xb=function(e){return e.videoHeight?e.videoHeight:"200"},Yb=function(e){return e.videoWidth?e.videoWidth:"900"},Kb={visible:{opacity:1,y:0},hidden:{opacity:0,y:100}},Zb={day:{background:"white",iconColor:"black",thumbnailBorder:"solid transparent 2px",textColor:"black",metadataTextColor:"black"},night:{background:"#151515",iconColor:"#626b77",thumbnailBorder:"solid rgb(107, 133, 206)  2px",textColor:"#626b77",metadataTextColor:"white"},lightbox:{background:"rgba(12, 12, 12, 0.93)",iconColor:"#626b77",thumbnailBorder:"solid rgb(107, 133, 206) 2px",textColor:"silver",metadataTextColor:"white"}},Jb="night",Qb=function(e){var t=(0,l.useRef)();return(0,l.useEffect)((function(){t.current=e})),t.current},ey=(0,l.forwardRef)((function(e,t){(0,l.useImperativeHandle)(t,(function(){return{reset:function(){$n(!0,!0)}}}));var n,r=(0,l.useState)([0,0]),o=r[0],i=o[0],a=o[1],s=r[1],u=(0,l.useState)(!1),c=u[0],d=u[1],p=(0,l.useState)(e.slideDuration?e.slideDuration:25)[0],h=(0,l.useState)(!1),f=h[0],m=h[1],g=(0,l.useState)(!1),b=g[0],y=g[1],v=(0,l.useState)([]),x=v[0],w=v[1],k=(0,l.useState)([]),_=k[0],S=k[1],E=Hb(0,x.length,i),T=(0,l.useState)({loop:!0,startIndex:0,active:!0,duration:p,dragThreshold:2}),C=T[0],I=T[1],j=(0,l.useState)(0),A=j[0],O=j[1],N=A<=768,R=(0,l.useState)({startIndex:0,containScroll:"keepSnaps",dragFree:!0}),P=R[0],M=R[1],D=(0,l.useState)(!1),L=D[0],F=D[1],B=(0,l.useState)(!1),$=B[0],z=B[1],U=(0,l.useState)(!1)[1],V=(0,l.useState)(!1),G=V[0],W=V[1],H=(0,l.useState)(null),q=H[0],X=H[1],Y=(0,l.useState)(!1),K=Y[0],Z=Y[1],J=(0,l.useState)(!!e.magnifyingGlass&&e.magnifyingGlass)[0],Q=(0,l.useState)(!!e.disableImageZoom&&e.disableImageZoom),ee=Q[0],te=Q[1],ne=(0,l.useState)(e.slideshowInterval?e.slideshowInterval:1700)[0],re=(0,l.useState)(e.rightArrowStyle?e.rightArrowStyle:{})[0],oe=(0,l.useState)(e.leftArrowStyle?e.leftArrowStyle:{})[0],ie=(0,l.useState)(e.maxZoomScale?(n=e.maxZoomScale)<1?1:n>24?24:n:8)[0],ae=(0,l.useState)(!!e.roundedImages&&e.roundedImages),se=ae[0],le=ae[1],ue=(0,l.useState)(!e.showControls||e.showControls),ce=ue[0],de=ue[1],pe=(0,l.useState)(!e.showFullScreenIcon||e.showFullScreenIcon),he=pe[0],fe=pe[1],me=(0,l.useState)(!e.showThumbnailIcon||e.showThumbnailIcon),ge=me[0],be=me[1],ye=(0,l.useState)(!e.showSlideshowIcon||e.showSlideshowIcon)[1],ve=(0,l.useState)(!e.showMagnificationIcons||e.showMagnificationIcons),xe=ve[0],we=ve[1],ke=(0,l.useState)(e.nextArrow?e.nextArrow:null)[0],_e=(0,l.useState)(e.imageComponent?e.imageComponent:null)[0],Se=(0,l.useState)(e.prevArrow?e.prevArrow:null)[0],Ee=(0,l.useState)(e.modalClose?e.modalClose:"default")[0],Te=(0,l.useState)(!!e.downloadImages&&e.downloadImages)[0],Ce=(0,l.useState)(!!e.showNavigationDots&&e.showNavigationDots)[0],Ie=(0,l.useState)(e.metadataTimeLocale?e.metadataTimeLocale:"en-US")[0],je=(0,l.useState)(!!e.rtl&&e.rtl)[0],Ae=(0,l.useState)(e.framework?e.framework:"")[0],Oe=(0,l.useState)(!!e.lightboxIdentifier&&e.lightboxIdentifier)[0],Ne=(0,l.useState)(!!e.fullScreen&&e.fullScreen)[0],Re=((0,l.useState)(e.licenseKey?e.licenseKey:""),(0,l.useState)(!!e.showLoader&&e.showLoader)),Pe=Re[0],Me=Re[1],De=(0,l.useState)(!!e.controlComponent&&e.controlComponent)[0],Le=(0,l.useState)(e.startingSlideIndex?e.startingSlideIndex:0)[1],Fe=(0,l.useState)(e.backgroundColor?e.backgroundColor:Zb[Jb].background),Be=Fe[0],$e=Fe[1],ze=(0,l.useState)(e.iconColor?e.iconColor:null),Ue=ze[0],Ve=ze[1],Ge=(0,l.useState)(e.textColor?e.textColor:Zb[Jb].textColor),We=Ge[0],He=Ge[1],qe=(0,l.useState)(!!e.useCoverMode&&e.useCoverMode)[0],Xe=(0,l.useState)(!!e.displayMetadata&&e.displayMetadata)[0],Ye=(0,l.useState)(!1),Ke=Ye[0],Ze=Ye[1],Je=(0,l.useState)({}),Qe=Je[0],et=Je[1],tt=(0,l.useState)(!!e.showThumbnails&&e.showThumbnails),nt=tt[0],rt=tt[1],ot=(0,l.useState)(!e.animateThumbnails||e.animateThumbnails)[0],it=(0,l.useState)(e.imgAnimation?e.imgAnimation:"imgDrag")[1],at=(0,l.useState)(e.arrowStyle?e.arrowStyle:"dark")[0],st=(0,l.useState)(!1)[1],lt=(0,l.useState)(!1),ut=lt[0],ct=lt[1],dt=(0,l.useState)(!1),pt=dt[0],ht=dt[1],ft=(0,l.useState)(!1),mt=ft[0],gt=ft[1],bt=(0,l.useRef)(null),yt=(0,l.useState)(0),vt=yt[0],xt=yt[1],wt=(0,l.useState)(500),kt=wt[0],_t=wt[1],St=(0,l.useState)(426),Et=St[0],Tt=St[1],Ct=(0,l.useState)(!1),It=Ct[0],jt=Ct[1],At=e.open,Ot=(Qb({open:At}),(0,l.useRef)([])),Nt=(0,l.useRef)({}),Rt=((0,l.useRef)(null),(0,l.useState)({})),Pt=Rt[0],Mt=Rt[1],Dt=(0,l.useState)(!0),Lt=Dt[0],Ft=Dt[1],Bt=(0,l.useState)(e.thumbnailBorder?function(){if(e.thumbnailBorder)return"solid "+e.thumbnailBorder+" 2px"}():Zb[Jb].thumbnailBorder)[0],$t=wf(C),zt=$t[0],Ut=$t[1],Vt=wf(P),Gt=Vt[0],Wt=Vt[1],Ht=(0,l.useCallback)((function(){Ut&&Ut.scrollPrev()}),[Ut]),qt=(0,l.useCallback)((function(){Ut&&Ut.scrollNext()}),[Ut]),Xt=function(){var t;return!!(e.images&&e.images.length>0&&null!==(t=e.images[E])&&void 0!==t&&t.caption)};function Yt(){O(window.innerWidth)}var Kt=function(){var e={};return se&&(e.borderRadius="20px"),"clickOutside"==Ee&&(e.pointerEvents="auto"),_e&&0==nt&&!N&&(e.height="85vh"),e},Zt=function(e){rn(e),sn(e)},Jt=function(e,t){return 0==t?e-1:t==e-1?0:e-t-1},Qt=function(){var e=document.getElementById("slideshowAnim");Ln(e),ct(!0),Mn()},en=function(){document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?ct(!0):(ut&&Fn(document),Dn(),ct(!1))},tn=function(){Fn(document),Dn(),ct(!1)},nn=function(e){je?Ht():qt(),s([i+e,e]),xt(je?vt-1<0?x.length-1:vt-1:vt+1>=x.length?0:vt+1)},rn=function(t){e.showLoader&&e.images&&(Cn(t)||1==x[t].loaded?e.showLoader&&e.images&&x[t].loaded&&Me(!1):Me(!0))},on=function(){return"dark"==at?Wb.dark_icon:"light"==at?Wb.light_icon:void 0},an=function(){return"dark"==at?Wb.dark_header_icon:"light"==at?Wb.light_header_icon:void 0},sn=function(e){var t;t=e>i?1:-1,xt(e),s([e,t]),Ut&&Ut.scrollTo(e)},ln=function(t){e.onNext&&e.onNext(t,x[t])},un=function(t){e.onPrev&&e.onPrev(t,x[t])},cn=function(){xt(0),ut&&tn(),f&&m(!1),d(!1),W(!1),F(!1),y(!1),q&&(null==q||q.focus())},dn=function(e){Ut&&(Ut.reInit(),Wt&&(null==Wt||Wt.scrollTo(Ut.selectedScrollSnap()))),s([e,1]),d(!0),W(!0)},pn=function(t){e.images&&w((function(e){return e.map((function(e,n){return t===n?Gb({},e,{loaded:!0}):e}))}))},hn=function(e){w((function(t){return t.map((function(t,n){return e===n?Gb({},t,{loaded:!0}):t}))}))},fn=function(e){s([e,1]);var t=Hb(0,x.length,e);xt(t),rn(t),Xe&&(N&&Ke&&Ze(!1),Qe[t]||Ft(!0))},mn=function(){qt(),fn(i+1)},gn=function(){Ht(),fn(i-1)},bn=function(e){var t=C;t.startIndex=e,I(t),function(e){var t=P;t.startIndex=e,M(t)}(e),xt(e),dn(e)},yn=function(){ht(!1),nn(je?-1:1),m(!0)},vn=function(){m(!1)},xn=function(e){return(0,l.createElement)("button",{style:E===e?{backgroundColor:"cornflowerblue"}:{},className:Wb.navigationDot+" imageModal",onClick:function(){Zt(e)}})},wn=function(t,n,r){return(0,l.createElement)("div",{key:"thumbnail_slide_"+n,className:""+Wb.embla_thumbs__slide},(0,l.createElement)("img",{className:(e.thumbnailImgClass?e.thumbnailImgClass:"")+" "+Wb.thumbnail+" imageModal ",src:1==r?_n(t,n):kn(t,n),alt:t.alt,onLoad:function(){return gt(!0)},style:E===n?{border:Bt}:{border:"solid transparent 2px"},key:"thumbnail_"+n,onClick:function(){Zt(n)}}))},kn=function(t,n){return e.images&&e.images.length>0&&e.images[n].thumbnailSrc?e.images[n].thumbnailSrc:Cn(n)&&t.thumbnail?t.thumbnail:t.src},_n=function(e,t){if(e.thumbnailSrc)return e.thumbnailSrc;if(Cn(t))return e.thumbnail;var n=e.src;return"object"!=typeof n||Array.isArray(n)||null===n?n:n.src},Sn=function(){e.theme&&Zb[e.theme]&&($e(Zb[e.theme].background),He(Zb[e.theme].textColor)),e.fullScreen&&1==e.fullScreen&&(it("fade"),le(!1))},En=function(e){if(e){var t=e.getDate(),n=e.getMonth()+1;return e.getFullYear()+"-"+(n<=9?"0"+n:n)+"-"+(t<=9?"0"+t:t)+" "+e.toLocaleTimeString(Ie)}return""},Tn=function(t){if(e.images){var n=e.images[t];if(n&&"customEmbed"==n.type)return!0}return!1},Cn=function(t){if(e.images){var n=e.images[t];if(n&&("yt"==n.type||"htmlVideo"==n.type||"customVideoEmbed"==n.type))return!0}return!1},In=function(t){if(e.images){var n=e.images[t];if(n&&n.picture)return!0}return!1};(0,l.useEffect)((function(){}),[L,Ut]);var jn=function(t){var n,r=e.images[t];return"yt"==r.type?n=(0,l.createElement)("div",{className:Wb.videoOuterContainer+" imageModal"},(0,l.createElement)($f,{videoId:r.videoID,ref:function(e){return Nt.current[t]=e},iframeClassName:""+Wb.ytVideo,title:"YouTube video player",opts:{height:Xb(r),width:Yb(r),playerVars:{autoplay:qb(r)?1:0}},onReady:function(e){var n=Pt;n[t]=e,Mt(n),t==E&&Me(!1),pn(t)},onPlay:function(e){st(!0)},onPause:function(e){st(!1)},onEnd:function(e){st(!1)},onError:function(e){},onStateChange:function(e){},onPlaybackRateChange:function(e){},onPlaybackQualityChange:function(e){}})):"htmlVideo"==r.type?n=(0,l.createElement)("div",{className:Wb.htmlVideo+" "+Wb.htmlVideoOuterContainer+" imageModal"},(0,l.createElement)("video",{className:Wb.cursorPointer+" "+Wb.lightboxVideo,width:Yb(r),ref:function(e){return Nt.current[t]=e},onPlay:function(){},height:Xb(r),autoPlay:t==i&&qb(r),controls:!0},(0,l.createElement)("source",{src:r.videoSrc,type:"video/mp4",onLoad:function(){pn(t)}}))):"customVideoEmbed"==r.type&&(n=(0,l.createElement)("div",{className:Wb.customVideoContainer+" imageModal"},r.embed)),n},An=function(t){var n,r=e.images[t];return"customEmbed"==r.type&&(n=(0,l.createElement)("div",{className:Wb.customEmbedContainer+" imageModal"},r.embed)),n},On=function(e){e.state.scale<=1.65?z(!1):z(!0)},Nn=Array.apply(null,Array(x.length)).map((function(t,n){return(0,l.createElement)("div",{key:n},1==pt?(0,l.createElement)(cp,{src:x[n].src,className:Wb.magnifyWrapper+" "+Wb.lightbox_img,height:kt,width:Et,mgShowOverflow:!1}):(0,l.createElement)("div",{className:""+(Xe?Wb.embla__slide_grid:Wb.embla__slide)},(0,l.createElement)(ph,{ref:function(e){return Ot.current[n]=e},onWheel:function(e,t){On(e)},disabled:ee,panning:{disabled:!(!N||0!=$)},key:n,onZoom:function(e,t){On(e)},onZoomStop:function(e,t){On(e)},onTransformed:function(e,t){On(e)},onPinchingStop:function(e,t){On(e)},centerZoomedOut:!0,initialScale:1,maxScale:ie,alignmentAnimation:{sizeX:0,sizeY:0}},(0,l.createElement)(hh,{wrapperClass:Wb.react_transform_wrapper,contentClass:Wb.react_transform_component,wrapperStyle:{maxWidth:"100vw",height:"100vh",margin:"auto"},contentStyle:e.fullScreen?{maxWidth:"100vw",height:"100vh",marginLeft:"auto",marginRight:"auto"}:{maxWidth:"100vw",height:"100vh",margin:"auto",display:"grid"},key:n},(0,l.createElement)("div",{className:(e.fullScreen?Wb.slideshow_img_fullscreen:Wb.slideshow_img)+" "+(e.lightboxImgClass?e.lightboxImgClass:"")+"\n                      "+(Xe?Wb.slideshow_img_metadata:"")+"\n                      "},function(t){if(Tn(t))return An(t);if(Cn(t))return jn(t);if(In(t)){var n=e.images[t].picture;return(0,l.createElement)("picture",{className:"imageModal \n      "+(e.fullScreen?Wb.fullScreenLightboxImg:Wb.lightbox_img)+" \n      "+(pt?Wb.maxWidthFull:Wb.maxWidthWithoutMagnifier)+" "},Object.keys(n).map((function(e){return(0,l.createElement)("source",{type:e,key:e,srcSet:n[e].srcSet})})),(0,l.createElement)("img",{src:n.fallback}))}return x&&e.render||"next"==Ae?function(t){var n;if(e.images)if(e.images&&e.render)n=e.render.imgSlide(e.images[t]);else{var r,o;e.images&&("object"!=typeof x[t].src||Array.isArray(x[t].src)||null===x[t].src?(e.coverImageInLightbox,r=x[t].src):r=null===(o=x[t].src)||void 0===o?void 0:o.src),n=(0,l.createElement)("img",{className:"imageModal "+Wb.embla__slide__img+"\n        "+(e.fullScreen?Wb.fullScreenLightboxImg:Wb.lightbox_img)+" \n        "+(pt?Wb.maxWidthFull:Wb.maxWidthWithoutMagnifier)+" ",ref:bt,loading:"lazy",style:Kt(),src:x[t].original?x[t].original:r,onLoad:function(n){t==E&&Me(!1),e.images?pn(t):hn(t)},id:"img"})}else n=(0,l.createElement)("img",{className:"imageModal "+Wb.embla__slide__img+"\n        "+(e.fullScreen?Wb.fullScreenLightboxImg:Wb.lightbox_img)+" \n        "+(pt?Wb.maxWidthFull:Wb.maxWidthWithoutMagnifier)+" ",style:Kt(),ref:bt,loading:"lazy",src:x[t].original?x[t].original:x[t].src,onLoad:function(n){t==E&&Me(!1),e.images?pn(t):hn(t)},id:"img"});return n}(t):(0,l.createElement)("img",{className:"imageModal "+Wb.embla__slide__img+"\n          "+(e.fullScreen?Wb.fullScreenLightboxImg:Wb.lightbox_img)+" \n          "+(pt?Wb.maxWidthFull:Wb.maxWidthWithoutMagnifier)+" ",ref:bt,key:t,loading:"lazy",style:Kt(),src:x&&x[t].original?x[t].original:x[t].src,onLoad:function(n){if(Xe&&n){var r=n.target,o={},i=(a=r.src.split("/"))[a.length-1];o.name=i,Vb.parse(r,!0).then((function(e){if(e){for(var n=["isoData","createDate","height","width","shutterSpeed","fNumber"],r=0;r<n.length;r++)switch(n[r]){case"isoData":e.ISO&&(o.isoData=e.ISO);break;case"createDate":e.CreateDate&&(o.createDate=En(e.CreateDate));break;case"height":e.ExifImageHeight&&(o.height=e.ExifImageHeight);break;case"width":e.ExifImageWidth&&(o.width=e.ExifImageWidth);break;case"fNumber":e.fNumber&&(o.fNumber=e.fNumber);break;case"shutterSpeed":e.ShutterSpeedValue&&(o.shutterSpeed=e.ShutterSpeedValue)}var i=Qe;i[t]=o,et(i),t==E&&Ft(!1)}}))}var a;t==E&&Me(!1),e.images?pn(t):hn(t)},id:"img"})}(n))))))})),Rn=function(){pt?it("imgDrag"):Pn(),ht(!pt)},Pn=function(){var e,t=(e=0==i||i%x.length==0?document.getElementById("img"):bt.current).naturalWidth/e.naturalHeight,n=e.height*t,r=e.height;n>e.width&&(n=e.width,r=e.width/t),_t(r),Tt(n)},Mn=function(){document.addEventListener("fullscreenchange",en),document.addEventListener("webkitfullscreenchange",en),document.addEventListener("MSFullscreenChange",en),document.addEventListener("mozfullscreenchange",en)},Dn=function(){document.removeEventListener("fullscreenchange",en),document.removeEventListener("webkitfullscreenchange",en),document.removeEventListener("MSFullscreenChange",en),document.removeEventListener("mozfullscreenchange",en)};!function(e,t){const n=(0,l.useRef)(e);Bh((()=>{n.current=e}),[e]),(0,l.useEffect)((()=>{if(!t&&0!==t)return;const e=setInterval((()=>n.current()),t);return()=>clearInterval(e)}),[t])}((function(){nn(je?-1:1)}),f?ne:null);var Ln=function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},Fn=function(e){e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen()},Bn=function(){return"undefined"!=typeof window},$n=function(t,n){if(qe&&e.images)if(0==e.coverImageInLightbox){var r=e.images.filter((function(e){return 1!=e.cover}));w(r)}else w(e.images);if(n||!It){if(Oe&&e.children){var o=document.querySelectorAll("[data-lightboxjs="+Oe+"]"),i=!1,a=[];if(o.length>0){for(var s=function(n){var r=o[n];if(r.getAttribute("data-lightboxjs")==Oe){r.addEventListener("click",(function(){var e;e=je?Jt(o.length,n):n;var r=C;r.startIndex=e,t&&I(r),xt(e),dn(e)}),!1),r.classList.add("cursor-pointer");var s=r.getAttribute("data-lightboxjs-original");if(s)a.push({src:s,alt:r.alt,loaded:!1}),i=!0;else if(r.src)a.push({src:r.src,alt:r.alt,loaded:!1});else if("DIV"==r.tagName){var l=e.images[n],u=l.src,c=l.alt;a.push({src:u,alt:c,loaded:!1})}}},l=0;l<=o.length-1;l++)s(l);t&&!qe&&(i||1!=e.showAllImages&&"next"!=e.framework?w(a):(e.framework,w(e.images)))}else e.images&&w(e.images)}else if(Oe&&e.images&&!e.children)w(e.images);else if(Oe||!e.images||e.children)if(e.render)t&&w(e.images);else{var u=[];Array.isArray(e.children)?u=e.children:u.push(e.children);for(var c=[],d=0;d<u.length;d++){var p=u[d],h={src:p.props.src,alt:p.props.alt,loaded:!1};c.push(h)}je&&c.reverse(),t&&w(c),S(u)}else w(e.images);t&&jt(!0)}},zn=(0,l.useCallback)((function(){if(Ut){var t,n,r=Ut.selectedScrollSnap(),o=Ut.previousScrollSnap();r!=o&&(fn(r),function(t){if(e.images){var n=e.images[t];if(n)if("htmlVideo"==n.type)Nt.current[t].pause();else if("yt"==n.type)Pt[t]&&Pt[t].target.pauseVideo();else if("customVideoEmbed"==n.type){var r=document.getElementById("lightboxContainer"),o=null==r?void 0:r.querySelectorAll("iframe");if(o){var i=function(t,n){if(e.images){for(var r=0,o=0;o<e.images.length;o++){var i=e.images[o];if("customVideoEmbed"==i.type||"yt"==i.type){if(o==t){r++;break}r++}}return r-1}}(t);if(null!=i&&i>=0){var a=o[i],s=a.src;a.src=s}}}}}(o),pt?Rn():null!=Ot.current[vt]&&Ot.current[vt].resetTransform(),n=o,0==(t=r)&&n==x.length-1?ln(t):t==x.length-1&&0==n?un(t):t>n?ln(t):t<n&&un(t)),Wt&&Wt.scrollTo(Ut.selectedScrollSnap())}}),[Ut,Wt]),Un=(0,l.useCallback)((function(){Ut&&y(!0)}),[Ut,b]),Vn=(null==Ut?void 0:Ut.rootNode())||null;Im(Vn,(function(e){null==Ut||Ut.reInit()}));var Gn=(0,l.useCallback)((function(){Ut&&Ut.off("select",zn)}),[Ut,zn]);(0,l.useEffect)((function(){Ut&&($?Ut.reInit({watchDrag:!1}):Ut.reInit({watchDrag:!0}))}),[$]),(0,l.useEffect)((function(){Xe&&Ze(0==A||!N)}),[A]),(0,l.useEffect)((function(){Ut&&c&&Ut.reInit()}),[c,Ut]),(0,l.useEffect)((function(){Ut&&Ut.on("select",zn)}),[Ut,zn]),(0,l.useEffect)((function(){Ut&&Ut.on("reInit",Un)}),[Ut,Un]),(0,l.useEffect)((function(){Sn(),e.iconColor&&Ve(e.iconColor),e.backgroundColor&&$e(e.backgroundColor)}),[e.theme,e.iconColor,e.backgroundColor]),(0,l.useEffect)((function(){$n(!0,!0)}),[e.images,e.displayedImages]);var Wn,Hn,qn,Xn=Qb(At),Yn=Qb(x),Kn=function e(t,n){return"object"==typeof t&&null!=t&&"object"==typeof n&&null!=n&&Object.keys(t).length>0?Object.keys(t).length===Object.keys(n).length&&Object.keys(t).every((function(r){return e(t[r],n[r])})):t===n};return(0,l.useEffect)((function(){var t=0;e.startingSlideIndex&&(t=Hb(0,x.length,e.startingSlideIndex),Le(t)),1==e.open&&0==function(e){if(e&&Yn){if((e&&(null==e?void 0:e.length))!=(Yn&&(null==Yn?void 0:Yn.length)))return!1;var t;t=e.length>Yn?e:Yn;for(var n=0;n<t.length;n++){var r=e.slice(0),o=Yn.slice(0),i=r[n],a=o[n];if(i.loaded&&delete i.loaded,a.loaded&&delete a.loaded,!Kn(i,a))return!1}}return!0}(x)&&e.startingSlideIndex?(e.images&&w(e.images),bn(t)):e.open&&1!=Xn?(e.images&&w(e.images),U(!0),bn(t)):0==e.open&&(U(!1),cn())}),[e.open,e.startingSlideIndex,x]),(0,l.useEffect)((function(){1==G?e.onOpen&&e.onOpen(E,x[E]):e.onClose&&e.onClose(E)}),[G]),(0,l.useEffect)((function(){e.render&&(e.images||console.error("Array of images must be passed to `SlideshowLightbox` (with the `images` prop) if using custom render method. "));var t=!0;if(t&&(null!=e.showControls&&(de(e.showControls),0==e.showControls&&we(!1)),null!=e.showFullScreenIcon&&fe(e.showFullScreenIcon),null!=e.showThumbnailIcon&&be(e.showThumbnailIcon),null!=e.showSlideshowIcon&&ye(e.showSlideshowIcon),null!=e.showMagnificationIcons&&we(e.showMagnificationIcons),e.disableImageZoom&&te(e.disableImageZoom),Bn()&&O(window.innerWidth),window.innerWidth<=768&&it("fade")),qe&&e.images)if(0==e.coverImageInLightbox){var n=e.images.filter((function(e){return 1!=e.cover}));w(n)}else w(e.images);t&&Bn()&&window.addEventListener("resize",Yt);var r=function(){var e="";return Bn()&&((e=window.matchMedia("(prefers-reduced-motion: reduce)"))&&!e.matches||it("fade"),e.addEventListener("change",void(e.matches&&it("fade")))),e}();return Xe&&it("fade"),It||($n(t,!1),e.images&&1==je&&function(){var t=e.images;if(t.reverse(),w(t),x.length>0){var n=x;n.reverse(),w(n)}}()),t&&Sn(),function(){t=!1,Gn(),Bn()&&window.removeEventListener("resize",Yt),r.removeEventListener("change",r)}}),[]),(0,l.createElement)("div",null,(0,l.createElement)("div",{className:(qn="",x&&1==x.length?e.imgWrapperClassName&&(qn+=e.imgWrapperClassName+" "):e.className&&(qn+=e.className+" "),qn+=""+Wb.lightboxjs)},e.images&&e.children&&0==Oe?e.children:null,e.images&&0==Oe?e.images.map((function(t,n){return(0,l.createElement)("img",{className:(e.imgClassName?e.imgClassName:"")+" "+Wb.cursorPointer,src:Cn(n)?t.thumbnail:t.src,onClick:function(){var t;t=je?Jt(e.images.length,n):n,bn(t)},key:n})})):null,0!=Oe&&e.children&&0==qe?e.children:null,0==Oe&&e.images||1==qe?null:_.filter((function(e){return"img"==e.type})).map((function(e,t){return(0,l.createElement)("img",Object.assign({},e.props,{className:(e.props.className?e.props.className:"")+" "+Wb.cursorPointer,onClick:function(){var e;e=je?Jt(_.length,t):t,bn(e)},key:t}))})),!!qe&&e.children,(0,l.createElement)(Ll,{type:"crossfade"},(0,l.createElement)(Hl,{initial:!1,exitBeforeEnter:!0},!1!==c&&(0,l.createElement)(yp,null,(0,l.createElement)(yh,null,(0,l.createElement)(cd.div,{className:""+Wb.slideshowAnimContainer,key:"slideshowAnimContainer",id:"slideshowAnim",style:{backgroundColor:Be},initial:"inactive",variants:{active:{opacity:1},inactive:{opacity:0}},animate:c?"active":"inactive",exit:"inactive",transition:{duration:"0.3"},onAnimationComplete:function(){var e=!K;if(Z(e),1==e){var t,n=document.activeElement;X(n),null===(t=document.getElementById("lightboxContainer"))||void 0===t||t.focus()}else null==q||q.focus();Ut&&Ut.reInit()}},(0,l.createElement)("div",{className:""+Wb.lightboxContainer,id:"lightboxContainer",tabIndex:-1,role:"dialog",onClick:function(e){"clickOutside"==Ee&&function(e){for(var t=document.getElementsByClassName("imageModal"),n=Array.from(t),r=0;r<n.length;r++)if(n[r].contains(e.target))return;cn()}(e)}},(0,l.createElement)("section",{className:Wb.iconsHeader+" "+(Ue?"":an())+" imageModal",style:{color:Ue}},(0,l.createElement)(Fh,{keyValue:"ArrowLeft",code:"37",onKeyHandle:function(){gn()}}),(0,l.createElement)(Fh,{keyValue:"ArrowRight",code:"39",onKeyHandle:function(){mn()}}),(0,l.createElement)(Fh,{keyValue:"Escape",code:"27",onKeyHandle:function(e){e.preventDefault(),e.stopPropagation(),ut||cn()}}),(0,l.createElement)(Fh,{keyValue:"Left",code:"37",onKeyHandle:function(){gn()}}),(0,l.createElement)(Fh,{keyValue:"Right",code:"39",onKeyHandle:function(){mn()}}),(0,l.createElement)(Fh,{keyValue:"Esc",code:"27",onKeyHandle:function(e){e.preventDefault(),e.stopPropagation(),ut||cn()}}),1==ce&&(0,l.createElement)("div",{className:""+Wb.controls},ee||0==xe?null:(0,l.createElement)(cd.div,null,(0,l.createElement)("button",{onClick:function(){pt&&Rn(),null!=Ot.current[vt]&&Ot.current[vt].zoomIn(),z(!0)}},(0,l.createElement)(gd,{size:24,color:Ue||void 0,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{}}))),ee||0==xe?null:(0,l.createElement)(cd.div,null,(0,l.createElement)("button",{onClick:function(){Ot.current[vt].zoomOut();var e=Ot.current[vt].state.scale;1!=e&&1.65!=e||z(!1)}},(0,l.createElement)(xd,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{},color:Ue||void 0}))),!Cn(E)&&Te?(0,l.createElement)("button",{onClick:function(){e.images.length>0?e.images[E].original?(0,fh.saveAs)(e.images[E].original,"image.jpg"):(0,fh.saveAs)(e.images[E].src,"image.jpg"):x[E].src&&(0,fh.saveAs)(x[E].src,"image.jpeg")}},(0,l.createElement)(Sd,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{},color:Ue||void 0})):null,he?ut?(0,l.createElement)(cd.div,null,(0,l.createElement)("button",{onClick:function(){ut?tn():Qt()}},(0,l.createElement)(Id,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{},color:Ue||void 0}))):(0,l.createElement)(cd.div,null,(0,l.createElement)("button",{onClick:function(){ut?tn():Qt()}},(0,l.createElement)(Nd,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{},color:Ue||void 0}))):null,N&&Xe?(0,l.createElement)(cd.div,null,(0,l.createElement)("button",{onClick:function(){Ze(!Ke),Me(!1)}},(0,l.createElement)(Dd,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{},color:Ue||void 0}))):null,ge?(0,l.createElement)(cd.div,null,(0,l.createElement)("button",{onClick:function(){rt(!nt)}},(0,l.createElement)($d,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{},color:Ue||void 0}))):null,Cn(E)||1==N||1==Ne||1!=J?null:(0,l.createElement)(cd.div,null,(0,l.createElement)("button",{onClick:function(){return Rn()}},(0,l.createElement)(Gd,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{},color:Ue||void 0}))),function(){if(null!=e.showSlideshowIcon)return e.showSlideshowIcon;if(x){if(1==x.length)return!1}else if(e.images&&1==e.images.length)return!1;return!0}()?(0,l.createElement)(cd.div,{className:Wb.slideshowPlayBtn},f?(0,l.createElement)("button",{onClick:function(){f?vn():yn()}},(0,l.createElement)(Xd,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{},color:Ue||void 0})):(0,l.createElement)("button",{onClick:function(){f?vn():yn()}},(0,l.createElement)(Jd,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),style:Ue?{color:Ue}:{},color:Ue||void 0}))):null,De?(0,l.createElement)(cd.div,null,De):null),(0,l.createElement)(cd.div,{className:Wb.closeIcon+" "+(0==e.showControls?Wb.mlAuto:"")},(0,l.createElement)("button",{id:"closeBtn",className:Wb.closeButton,onClick:function(){cn()}},(0,l.createElement)(np,{id:"closeIcon",size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),color:Ue||void 0,style:Ue?{color:Ue}:{}})))),function(){if(0==e.showArrows)return!1;if(e.images){if(1==e.images.length)return!1}else if(1==x.length)return!1;return!0}()?(0,l.createElement)("div",null,(0,l.createElement)("div",{className:re?Wb.next1+" "+on()+" imageModal":"imageModal",style:re,onClick:function(){mn()}},ke||(0,l.createElement)("span",{className:""+(e.rightArrowClassname?e.rightArrowClassname:"")},"")),(0,l.createElement)("div",{className:oe?Wb.prev1+" "+on()+" imageModal "+(Xe?Wb.prev1_metadata:""):"imageModal",style:oe,onClick:function(){gn()}},Se||(0,l.createElement)("span",{className:""+(e.leftArrowClassname?e.leftArrowClassname:"")},""))):null,(0,l.createElement)(Hl,{initial:!1,custom:a},(0,l.createElement)("div",{className:Wb.slideshowInnerContainerThumbnails+" "+Wb.embla+" "+(Xt()?Wb.slideImageAndCaption:"")+" \n                          "+(e.fullScreen?Wb.slideshowInnerContainerFullScreen:Wb.slideshowInnerContainer)+" "+(Xe?Wb.slideshowInnerContainer_imgMetadata:"")+"  "},(N?Ke:Xe)?(0,l.createElement)("div",{className:Wb.metadata,style:(Hn={},N&&Ke&&(Hn={height:"100vh"}),Hn.color=e.theme?Zb[e.theme]?Zb[e.theme].metadataTextColor:void 0:Zb[Jb].metadataTextColor,Hn)},Lt?null:(0,l.createElement)("div",{className:Wb.metadataInnerContainer},function(){var e=Qe[E];if(e)return(0,l.createElement)("div",{className:Wb.metadataPanel},(0,l.createElement)("b",null,"Filename"),e.name?(0,l.createElement)("p",null,e.name):null,e.createDate?(0,l.createElement)("div",null,(0,l.createElement)("b",null,"Captured Time"),(0,l.createElement)("p",null,e.createDate.toString())):null,e.width&&e.height?(0,l.createElement)("div",null,(0,l.createElement)("b",null,"Resolution"),(0,l.createElement)("p",null,e.width,"*",e.height)):null,e.isoData||e.fNumber||e.shutterSpeed?(0,l.createElement)("div",null,(0,l.createElement)("b",null,"Image Details"),e.isoData?(0,l.createElement)("span",null,"ISO ",e.isoData):null,e.fNumber?(0,l.createElement)("span",null,"f",e.fNumber):null,e.shutterSpeed?(0,l.createElement)("span",null,"Shutter speed: ",e.shutterSpeed):null):null)}(),N&&Ke?(0,l.createElement)("button",{className:Wb.imgMetadataCloseBtn,onClick:function(){Ze(!1)}},(0,l.createElement)(np,{size:24,className:Wb.lightboxjs_icon+" "+(Ue?"":an()),color:Ue||void 0,style:Ue?{color:Ue}:{}})):null)):null,(0,l.createElement)("div",{className:Wb.embla__viewport+" \n                            "+(Xe?Wb.embla__container_imgMetadata:""),ref:c?zt:null},(0,l.createElement)("div",{className:Wb.embla__container+" \n                            "+(Xe?Wb.embla__container_imgMetadata:"")},Nn))),1!=Pe||(Wn=E,e.images&&e.images&&"htmlVideo"==e.images[Wn].type)?null:(0,l.createElement)("span",{key:"loader",className:Wb.loader+" "+function(){if(e.theme){if("night"==e.theme||"lightbox"==e.theme)return Wb.night_loader;if("day"==e.theme)return Wb.day_loader}return Wb.night_loader}()})),(0,l.createElement)("div",{className:Wb.thumbnailsOuterContainer+" "+(Xt()?Wb.thumbnailsAndCaption:"")+"\n                      "+(Xe?Wb.thumbnailsOuterContainer_metadata:"")+" ",style:Xt()?{backgroundColor:Be}:{}},Xt()?(0,l.createElement)("div",{className:Wb.imgTitleContainer+" imageModal"},(0,l.createElement)("p",{className:""+Wb.imgTitle,key:"imgCaption"+E,style:e.captionStyle?e.captionStyle:{color:We}},e.images&&e.images.length>0?e.images[E].caption:"")):null,(0,l.createElement)(Hl,{initial:ot},!1!==nt&&!0!==Ce&&(0,l.createElement)(cd.div,{initial:"hidden",exit:"hidden",animate:"visible",style:mt?{}:{display:"displayHidden"},transition:{type:"spring",duration:.75},variants:Kb,className:Wb.thumbnails+" "+(Xt()?Wb.thumbnailsWithCaption:"")},(0,l.createElement)("div",{className:Wb.embla_thumbs+" "+Wb.thumbnails},(0,l.createElement)("div",{className:Wb.embla_thumbs__viewport,ref:Gt},(0,l.createElement)("div",{className:Wb.embla_thumbs__container},"next"==Ae&&e.images?e.images.map((function(e,t){return wn(e,t,!0)})):x.map((function(e,t){return wn(e,t,!1)})))))),!0!==nt&&!1!==Ce&&(0,l.createElement)(cd.div,{initial:"hidden",exit:"hidden",animate:"visible",style:mt?{}:{display:"displayHidden"},transition:{type:"spring",duration:.75},variants:Kb,className:Wb.thumbnails+" "+(Xt()?Wb.thumbnailsWithCaption:"")},(0,l.createElement)("div",{className:Wb.embla_thumbs+" "+Wb.thumbnails},(0,l.createElement)("div",{className:Wb.embla_thumbs__viewport,ref:Gt},(0,l.createElement)("div",{className:Wb.navigationDots+" "+Wb.embla_thumbs__container+" imageModal\n                                "},"next"==Ae&&e.images?e.images.map((function(e,t){return xn(t)})):x.map((function(e,t){return xn(t)}))))))))))))))))})),ty=i(9008),ny={};ny.styleTagTransform=_(),ny.setAttributes=v(),ny.insert=b().bind(null,"head"),ny.domAPI=m(),ny.insertStyleElement=w(),h()(ty.Z,ny),ty.Z&&ty.Z.locals&&ty.Z.locals;var ry=i(4577),oy={};oy.styleTagTransform=_(),oy.setAttributes=v(),oy.insert=b().bind(null,"head"),oy.domAPI=m(),oy.insertStyleElement=w(),h()(ry.Z,oy),ry.Z&&ry.Z.locals&&ry.Z.locals;const iy=()=>{const{id:e}=ge(),{t}=et(),[n,r]=(0,l.useState)(null),[o,i]=(0,l.useState)("");return(0,l.useEffect)((()=>{var e;e={license_key:"Insert your License Key here",plan_type:"Insert plan type here"},Kr.post("https://lightboxjs-server.herokuapp.com/license",e).then((function(e){e.data.license_valid||console.warn("Lightbox.js: Invalid license key specified, a valid license key must be provided.")})).catch((function(e){console.log(e)}))}),[]),(0,l.useEffect)((()=>{(async()=>{try{const t=await(async e=>{try{const t=await fetch(`http://localhost:3002/artworks/artworks/${e}`);return await t.json()}catch(t){return console.error(`Error fetching artwork with ID ${e}:`,t),null}})(e);if(r(t),t&&t.ArtistID){const e=await Jt(t.ArtistID);i(e?e.Name:"")}}catch(e){console.error("Error fetching artwork details",e)}})()}),[e]),l.createElement("div",null,n?l.createElement("div",{className:"artworkContent"},l.createElement("div",{className:"image-content"},l.createElement(Fe,{to:`/artist/${n.ArtistID}`,className:"artist-name"},o),l.createElement("div",{className:"artworkImage"},l.createElement(ey,{className:"container grid grid-cols-3 gap-2 mx-auto"},l.createElement("img",{style:{width:"auto",height:"500px"},className:"w-full",src:n.Image,alt:n.Name}))),l.createElement("br",null)),l.createElement("div",{className:"info"},l.createElement("h1",{className:"title-art"},n.Title),l.createElement("p",{className:"price"}," ",t("price"),"  ",n.Price,"USD"),l.createElement("p",{className:"price"},"  ",n.Description),l.createElement("p",{className:"price"},"  ",n.Materials))):l.createElement("p",{className:"loading"},"LOADING..."))},ay=({formData:e,handleChange:t,handleSubmit:n})=>l.createElement("div",{className:"my-container-apply"},l.createElement("h3",{className:"form-title"},"APPLY"),l.createElement("div",{className:"my-container-form"},l.createElement("form",{onSubmit:n,encType:"multipart/form-data"},l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Name",className:"my-label-form"},"Name"),l.createElement("input",{type:"text","aria-label":"First name",className:"my-input-form",name:"Name",value:e.Nombre,onChange:t})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Email",className:"my-label-form"},"Email"),l.createElement("input",{type:"email","aria-label":"First name",className:"my-input-form",name:"Email",value:e.Email,onChange:t})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"ArtistDescription",className:"my-label-form"},"Description"),l.createElement("input",{type:"text","aria-label":"First name",className:"my-input-form",name:"ArtistDescription",value:e.ArtistDescription,onChange:t})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Image",className:"my-label-form"},"Images"),l.createElement("input",{type:"file",className:"my-input-form",id:"inputGroupFile01",name:"Image",onChange:t})),l.createElement("input",{type:"submit",value:"Enviar",className:"my-button-form"})))),sy=()=>{const[e,t]=(0,l.useState)({Name:"",Email:"",ArtistDetail:"",Image:null});return l.createElement(ay,{formData:e,handleChange:e=>{const{name:n,value:r}=e.target;t("Image"===n?t=>({...t,[n]:e.target.files[0]}):e=>({...e,[n]:r}))},handleSubmit:async n=>{n.preventDefault();const r=await(async e=>{try{const t="http://localhost:3002/artists/artistRequest",n=new FormData;for(const t in e)n.append(t,e[t]);const r=await fetch(t,{method:"POST",body:n});if(r.ok){const e=await r.json();return console.log("Solicitud creada:",e),{success:!0,data:e}}return console.error("Error al crear la solicitud"),{success:!1,error:"Error al crear la solicitud"}}catch(e){return console.error("Error en la solicitud:",e),{success:!1,error:"Error en la solicitud"}}})(e);r.success?(alert("Request sent correctly"),t({Name:"",Email:"",ArtistDetail:"",Image:null})):console.error(r.error)}})},ly=()=>{const[e,t]=(0,l.useState)([]),{t:n}=et(),[r,o]=(0,l.useState)({ArtistID:"",Title:"",Description:"",Materials:"",Dimensions:"",CreationDate:"",Price:""});(0,l.useEffect)((()=>{(async()=>{const e=await tn();t(e)})()}),[]);const i=e=>{o({...r,[e.target.name]:e.target.value})};return l.createElement("div",{className:"my-container-artwork"},l.createElement("h3",{className:"form-title"},"CREATE ARTWORK"),l.createElement("form",{onSubmit:async e=>{e.preventDefault();const t=new FormData(e.target);console.log([...t.entries()]);const n=await(async e=>{try{const t=await fetch("http://localhost:3002/artworks/createArtwork",{method:"POST",body:e});return t.ok?{success:!0,message:(await t.json()).message}:{success:!1,error:(await t.json()).error}}catch(e){return console.error("Error al enviar la solicitud:",e),{success:!1,error:"Error al enviar la solicitud"}}})(t);n.success?(console.log(n.message),alert("Art Work created")):console.error("Error al crear la obra:",n.error)},encType:"multipart/form-data",className:"my-form"},l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Artist",className:"my-label-form"},n("artists")),l.createElement("select",{className:"my-select-form",name:"ArtistID",value:r.ArtistID,onChange:i},l.createElement("option",{value:"",disabled:!0,defaultValue:!0},n("selectArtist")),e.map((e=>l.createElement("option",{key:e.ID,value:e.ID},e.Name))))),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Title",className:"my-label-form"},n("title")),l.createElement("input",{type:"text",className:"my-input-form",name:"Title",value:r.Title,onChange:i,required:!0})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Materials",className:"my-label-form"},n("materials")),l.createElement("input",{type:"text",className:"my-input-form",name:"Materials",value:r.Materials,onChange:i,required:!0})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Dimensions",className:"my-label-form"},n("dimensions")),l.createElement("input",{type:"text",className:"my-input-form",name:"Dimensions",value:r.Dimensions,onChange:i,required:!0})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Description",className:"my-label-form"},n("description")),l.createElement("textarea",{className:"my-textarea-form",rows:"3",name:"Description",value:r.Description,onChange:i,required:!0})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"CreationDate",className:"my-label-form"},n("creationDate")),l.createElement("input",{type:"date",className:"my-input-form",name:"CreationDate",value:r.CreationDate,onChange:i,required:!0})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Price",className:"my-label-form"},n("price")),l.createElement("input",{type:"number",className:"my-input-form",name:"Price",value:r.Price,onChange:i,required:!0})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{className:"my-label-form",htmlFor:"inputGroupFile01"},n("upload")),l.createElement("input",{type:"file",className:"my-input-form",name:"Image",multiple:!0})),l.createElement("button",{type:"submit",className:"my-button-form"},n("createArt"))))};var uy=i(1464),cy={};cy.styleTagTransform=_(),cy.setAttributes=v(),cy.insert=b().bind(null,"head"),cy.domAPI=m(),cy.insertStyleElement=w(),h()(uy.Z,cy),uy.Z&&uy.Z.locals&&uy.Z.locals;var dy=Object.defineProperty,py={};((e,t)=>{for(var n in t)dy(e,n,{get:t[n],enumerable:!0})})(py,{assign:()=>Wy,colors:()=>Uy,createStringInterpolator:()=>Fy,skipAnimation:()=>Vy,to:()=>By,willAdvance:()=>Gy});var hy=jy(),fy=e=>Ey(e,hy),my=jy();fy.write=e=>Ey(e,my);var gy=jy();fy.onStart=e=>Ey(e,gy);var by=jy();fy.onFrame=e=>Ey(e,by);var yy=jy();fy.onFinish=e=>Ey(e,yy);var vy=[];fy.setTimeout=(e,t)=>{const n=fy.now()+t,r=()=>{const e=vy.findIndex((e=>e.cancel==r));~e&&vy.splice(e,1),_y-=~e?1:0},o={time:n,handler:e,cancel:r};return vy.splice(xy(n),0,o),_y+=1,Ty(),o};var xy=e=>~(~vy.findIndex((t=>t.time>e))||~vy.length);fy.cancel=e=>{gy.delete(e),by.delete(e),yy.delete(e),hy.delete(e),my.delete(e)},fy.sync=e=>{Sy=!0,fy.batchedUpdates(e),Sy=!1},fy.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(...e){t=e,fy.onStart(n)}return r.handler=e,r.cancel=()=>{gy.delete(n),t=null},r};var wy="undefined"!=typeof window?window.requestAnimationFrame:()=>{};fy.use=e=>wy=e,fy.now="undefined"!=typeof performance?()=>performance.now():Date.now,fy.batchedUpdates=e=>e(),fy.catch=console.error,fy.frameLoop="always",fy.advance=()=>{"demand"!==fy.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Iy()};var ky=-1,_y=0,Sy=!1;function Ey(e,t){Sy?(t.delete(e),e(0)):(t.add(e),Ty())}function Ty(){ky<0&&(ky=0,"demand"!==fy.frameLoop&&wy(Cy))}function Cy(){~ky&&(wy(Cy),fy.batchedUpdates(Iy))}function Iy(){const e=ky;ky=fy.now();const t=xy(ky);t&&(Ay(vy.splice(0,t),(e=>e.handler())),_y-=t),_y?(gy.flush(),hy.flush(e?Math.min(64,ky-e):16.667),by.flush(),my.flush(),yy.flush()):ky=-1}function jy(){let e=new Set,t=e;return{add(n){_y+=t!=e||e.has(n)?0:1,e.add(n)},delete:n=>(_y-=t==e&&e.has(n)?1:0,e.delete(n)),flush(n){t.size&&(e=new Set,_y-=t.size,Ay(t,(t=>t(n)&&e.add(t))),_y+=e.size,t=e)}}}function Ay(e,t){e.forEach((e=>{try{t(e)}catch(e){fy.catch(e)}}))}function Oy(){}var Ny={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e};function Ry(e,t){if(Ny.arr(e)){if(!Ny.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Py=(e,t)=>e.forEach(t);function My(e,t,n){if(Ny.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}var Dy=e=>Ny.und(e)?[]:Ny.arr(e)?e:[e];function Ly(e,t){if(e.size){const n=Array.from(e);e.clear(),Py(n,t)}}var Fy,By,$y=(e,...t)=>Ly(e,(e=>e(...t))),zy=()=>"undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Uy=null,Vy=!1,Gy=Oy,Wy=e=>{e.to&&(By=e.to),e.now&&(fy.now=e.now),void 0!==e.colors&&(Uy=e.colors),null!=e.skipAnimation&&(Vy=e.skipAnimation),e.createStringInterpolator&&(Fy=e.createStringInterpolator),e.requestAnimationFrame&&fy.use(e.requestAnimationFrame),e.batchedUpdates&&(fy.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Gy=e.willAdvance),e.frameLoop&&(fy.frameLoop=e.frameLoop)},Hy=new Set,qy=[],Xy=[],Yy=0,Ky={get idle(){return!Hy.size&&!qy.length},start(e){Yy>e.priority?(Hy.add(e),fy.onStart(Zy)):(Jy(e),fy(ev))},advance:ev,sort(e){if(Yy)fy.onFrame((()=>Ky.sort(e)));else{const t=qy.indexOf(e);~t&&(qy.splice(t,1),Qy(e))}},clear(){qy=[],Hy.clear()}};function Zy(){Hy.forEach(Jy),Hy.clear(),fy(ev)}function Jy(e){qy.includes(e)||Qy(e)}function Qy(e){qy.splice(function(t,n){const r=t.findIndex((t=>t.priority>e.priority));return r<0?t.length:r}(qy),0,e)}function ev(e){const t=Xy;for(let n=0;n<qy.length;n++){const r=qy[n];Yy=r.priority,r.idle||(Gy(r),r.advance(e),r.idle||t.push(r))}return Yy=0,(Xy=qy).length=0,(qy=t).length>0}var tv="[-+]?\\d*\\.?\\d+",nv=tv+"%";function rv(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var ov=new RegExp("rgb"+rv(tv,tv,tv)),iv=new RegExp("rgba"+rv(tv,tv,tv,tv)),av=new RegExp("hsl"+rv(tv,nv,nv)),sv=new RegExp("hsla"+rv(tv,nv,nv,tv)),lv=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,uv=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,cv=/^#([0-9a-fA-F]{6})$/,dv=/^#([0-9a-fA-F]{8})$/;function pv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function hv(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,o=2*n-r,i=pv(o,r,e+1/3),a=pv(o,r,e),s=pv(o,r,e-1/3);return Math.round(255*i)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function fv(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function mv(e){return(parseFloat(e)%360+360)%360/360}function gv(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function bv(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function yv(e){let t=function(e){let t;return"number"==typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=cv.exec(e))?parseInt(t[1]+"ff",16)>>>0:Uy&&void 0!==Uy[e]?Uy[e]:(t=ov.exec(e))?(fv(t[1])<<24|fv(t[2])<<16|fv(t[3])<<8|255)>>>0:(t=iv.exec(e))?(fv(t[1])<<24|fv(t[2])<<16|fv(t[3])<<8|gv(t[4]))>>>0:(t=lv.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=dv.exec(e))?parseInt(t[1],16)>>>0:(t=uv.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=av.exec(e))?(255|hv(mv(t[1]),bv(t[2]),bv(t[3])))>>>0:(t=sv.exec(e))?(hv(mv(t[1]),bv(t[2]),bv(t[3]))|gv(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}var vv=(e,t,n)=>{if(Ny.fun(e))return e;if(Ny.arr(e))return vv({range:e,output:t,extrapolate:n});if(Ny.str(e.output[0]))return Fy(e);const r=e,o=r.output,i=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,i);return function(e,t,n,r,o,i,a,s,l){let u=l?l(e):e;if(u<t){if("identity"===a)return u;"clamp"===a&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}return r===o?r:t===n?e<=t?r:o:(t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t),u=i(u),r===-1/0?u=-u:o===1/0?u+=r:u=u*(o-r)+r,u)}(e,i[t],i[t+1],o[t],o[t+1],l,a,s,r.map)}},xv=1.70158,wv=1.525*xv,kv=xv+1,_v=2*Math.PI/3,Sv=2*Math.PI/4.5,Ev=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Tv={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>kv*e*e*e-xv*e*e,easeOutBack:e=>1+kv*Math.pow(e-1,3)+xv*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-wv)/2:(Math.pow(2*e-2,2)*((wv+1)*(2*e-2)+wv)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*_v),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*_v)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Sv)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Sv)/2+1,easeInBounce:e=>1-Ev(1-e),easeOutBounce:Ev,easeInOutBounce:e=>e<.5?(1-Ev(1-2*e))/2:(1+Ev(2*e-1))/2,steps:(e,t="end")=>n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e;return((e,t,n)=>Math.min(Math.max(n,0),1))(0,0,("end"===t?Math.floor(r):Math.ceil(r))/e)}},Cv=Symbol.for("FluidValue.get"),Iv=Symbol.for("FluidValue.observers"),jv=e=>Boolean(e&&e[Cv]),Av=e=>e&&e[Cv]?e[Cv]():e,Ov=e=>e[Iv]||null;function Nv(e,t){const n=e[Iv];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Rv=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Pv(this,e)}},Pv=(e,t)=>Fv(e,Cv,t);function Mv(e,t){if(e[Cv]){let n=e[Iv];n||Fv(e,Iv,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Dv(e,t){const n=e[Iv];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[Iv]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Lv,Fv=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Bv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,$v=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,zv=new RegExp(`(${Bv.source})(%|[a-z]+)`,"i"),Uv=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Vv=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Gv=e=>{const[t,n]=Wv(e);if(!t||zy())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){return window.getComputedStyle(document.documentElement).getPropertyValue(n)||e}return n&&Vv.test(n)?Gv(n):n||e},Wv=e=>{const t=Vv.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]},Hv=(e,t,n,r,o)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${o})`,qv=e=>{Lv||(Lv=Uy?new RegExp(`(${Object.keys(Uy).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>Av(e).replace(Vv,Gv).replace($v,yv).replace(Lv,yv))),n=t.map((e=>e.match(Bv).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))).map((t=>vv({...e,output:t})));return e=>{const n=!zv.test(t[0])&&t.find((e=>zv.test(e)))?.replace(Bv,"");let o=0;return t[0].replace(Bv,(()=>`${r[o++](e)}${n||""}`)).replace(Uv,Hv)}},Xv="react-spring: ",Yv=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${Xv}once requires a function parameter`);return(...e)=>{n||(t(...e),n=!0)}},Kv=Yv(console.warn),Zv=Yv(console.warn);function Jv(e){return Ny.str(e)&&("#"==e[0]||/\d/.test(e)||!zy()&&Vv.test(e)||e in(Uy||{}))}var Qv=zy()?l.useEffect:l.useLayoutEffect,ex=()=>{const e=(0,l.useRef)(!1);return Qv((()=>(e.current=!0,()=>{e.current=!1})),[]),e};function tx(){const e=(0,l.useState)()[1],t=ex();return()=>{t.current&&e(Math.random())}}var nx=e=>(0,l.useEffect)(e,rx),rx=[];function ox(e){const t=(0,l.useRef)();return(0,l.useEffect)((()=>{t.current=e})),t.current}var ix=Symbol.for("Animated:node"),ax=e=>e&&e[ix],sx=(e,t)=>{return n=e,r=ix,o=t,Object.defineProperty(n,r,{value:o,writable:!0,configurable:!0});var n,r,o},lx=e=>e&&e[ix]&&e[ix].getPayload(),ux=class{constructor(){sx(this,this)}getPayload(){return this.payload||[]}},cx=class extends ux{constructor(e){super(),this._value=e,this.done=!0,this.durationProgress=0,Ny.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new cx(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Ny.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Ny.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},dx=class extends cx{constructor(e){super(0),this._string=null,this._toString=vv({output:[e,e]})}static create(e){return new dx(e)}getValue(){const e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(Ny.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=vv({output:[this.getValue(),e]})),this._value=0,super.reset()}},px={dependencies:null},hx=class extends ux{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return My(this.source,((n,r)=>{var o;(o=n)&&o[ix]===o?t[r]=n.getValue(e):jv(n)?t[r]=Av(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Py(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return My(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){px.dependencies&&jv(e)&&px.dependencies.add(e);const t=lx(e);t&&Py(t,(e=>this.add(e)))}},fx=class extends hx{constructor(e){super(e)}static create(e){return new fx(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(mx)),!0)}};function mx(e){return(Jv(e)?dx:cx).create(e)}function gx(e){const t=ax(e);return t?t.constructor:Ny.arr(e)?fx:Jv(e)?dx:cx}var bx=(e,t)=>{const n=!Ny.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,l.forwardRef)(((r,o)=>{const i=(0,l.useRef)(null),a=n&&(0,l.useCallback)((e=>{i.current=function(e,t){return e&&(Ny.fun(e)?e(t):e.current=t),t}(o,e)}),[o]),[s,u]=function(e,t){const n=new Set;return px.dependencies=n,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new hx(e),px.dependencies=null,[e,n]}(r,t),c=tx(),d=()=>{const e=i.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,s.getValue(!0)))&&c()},p=new yx(d,u),h=(0,l.useRef)();Qv((()=>(h.current=p,Py(u,(e=>Mv(e,p))),()=>{h.current&&(Py(h.current.deps,(e=>Dv(e,h.current))),fy.cancel(h.current.update))}))),(0,l.useEffect)(d,[]),nx((()=>()=>{const e=h.current;Py(e.deps,(t=>Dv(t,e)))}));const f=t.getComponentProps(s.getValue());return l.createElement(e,{...f,ref:a})}))},yx=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&fy.write(this.update)}},vx=Symbol.for("AnimatedComponent"),xx=e=>Ny.str(e)?e:e&&Ny.str(e.displayName)?e.displayName:Ny.fun(e)&&e.name||null;function wx(e,...t){return Ny.fun(e)?e(...t):e}var kx=(e,t)=>!0===e||!!(t&&e&&(Ny.fun(e)?e(t):Dy(e).includes(t))),_x=(e,t)=>Ny.obj(e)?t&&e[t]:e,Sx=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,Ex=e=>e,Tx=(e,t=Ex)=>{let n=Cx;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const o of n){const n=t(e[o],o);Ny.und(n)||(r[o]=n)}return r},Cx=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Ix={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function jx(e){const t=function(e){const t={};let n=0;if(My(e,((e,r)=>{Ix[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return My(e,((e,r)=>r in t||(n[r]=e))),n}return{...e}}function Ax(e){return e=Av(e),Ny.arr(e)?e.map(Ax):Jv(e)?py.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Ox(e){return Ny.fun(e)||Ny.arr(e)&&Ny.obj(e[0])}var Nx={tension:170,friction:26,mass:1,damping:1,easing:Tv.linear,clamp:!1},Rx=class{constructor(){this.velocity=0,Object.assign(this,Nx)}};function Px(e,t){if(Ny.und(t.decay)){const n=!Ny.und(t.tension)||!Ny.und(t.friction);!n&&Ny.und(t.frequency)&&Ny.und(t.damping)&&Ny.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Mx=[],Dx=class{constructor(){this.changed=!1,this.values=Mx,this.toValues=null,this.fromValues=Mx,this.config=new Rx,this.immediate=!1}};function Lx(e,{key:t,props:n,defaultProps:r,state:o,actions:i}){return new Promise(((a,s)=>{let l,u,c=kx(n.cancel??r?.cancel,t);if(c)h();else{Ny.und(n.pause)||(o.paused=kx(n.pause,t));let e=r?.pause;!0!==e&&(e=o.paused||kx(e,t)),l=wx(n.delay||0,t),e?(o.resumeQueue.add(p),i.pause()):(i.resume(),p())}function d(){o.resumeQueue.add(p),o.timeouts.delete(u),u.cancel(),l=u.time-fy.now()}function p(){l>0&&!py.skipAnimation?(o.delayed=!0,u=fy.setTimeout(h,l),o.pauseQueue.add(d),o.timeouts.add(u)):h()}function h(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(d),o.timeouts.delete(u),e<=(o.cancelId||0)&&(c=!0);try{i.start({...n,callId:e,cancel:c},a)}catch(e){s(e)}}}))}var Fx=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?zx(e.get()):t.every((e=>e.noop))?Bx(e.get()):$x(e.get(),t.every((e=>e.finished))),Bx=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),$x=(e,t,n=!1)=>({value:e,finished:t,cancelled:n}),zx=e=>({value:e,cancelled:!0,finished:!1});function Ux(e,t,n,r){const{callId:o,parentId:i,onRest:a}=t,{asyncTo:s,promise:l}=n;return i||e!==s||t.reset?n.promise=(async()=>{n.asyncId=o,n.asyncTo=e;const u=Tx(t,((e,t)=>"onRest"===t?void 0:e));let c,d;const p=new Promise(((e,t)=>(c=e,d=t))),h=e=>{const t=o<=(n.cancelId||0)&&zx(r)||o!==n.asyncId&&$x(r,!1);if(t)throw e.result=t,d(e),e},f=(e,t)=>{const i=new Gx,a=new Wx;return(async()=>{if(py.skipAnimation)throw Vx(n),a.result=$x(r,!1),d(a),a;h(i);const s=Ny.obj(e)?{...e}:{...t,to:e};s.parentId=o,My(u,((e,t)=>{Ny.und(s[t])&&(s[t]=e)}));const l=await r.start(s);return h(i),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let m;if(py.skipAnimation)return Vx(n),$x(r,!1);try{let t;t=Ny.arr(e)?(async e=>{for(const t of e)await f(t)})(e):Promise.resolve(e(f,r.stop.bind(r))),await Promise.all([t.then(c),p]),m=$x(r.get(),!0,!1)}catch(e){if(e instanceof Gx)m=e.result;else{if(!(e instanceof Wx))throw e;m=e.result}}finally{o==n.asyncId&&(n.asyncId=i,n.asyncTo=i?s:void 0,n.promise=i?l:void 0)}return Ny.fun(a)&&fy.batchedUpdates((()=>{a(m,r,r.item)})),m})():l}function Vx(e,t){Ly(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Gx=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Wx=class extends Error{constructor(){super("SkipAnimationSignal")}},Hx=e=>e instanceof Xx,qx=1,Xx=class extends Rv{constructor(){super(...arguments),this.id=qx++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=ax(this);return e&&e.getValue()}to(...e){return py.to(this,e)}interpolate(...e){return Kv(`${Xv}The "interpolate" function is deprecated in v9 (use "to" instead)`),py.to(this,e)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Nv(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Ky.sort(this),Nv(this,{type:"priority",parent:this,priority:e})}},Yx=Symbol.for("SpringPhase"),Kx=e=>(1&e[Yx])>0,Zx=e=>(2&e[Yx])>0,Jx=e=>(4&e[Yx])>0,Qx=(e,t)=>t?e[Yx]|=3:e[Yx]&=-3,ew=(e,t)=>t?e[Yx]|=4:e[Yx]&=-5,tw=class extends Xx{constructor(e,t){if(super(),this.animation=new Dx,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Ny.und(e)||!Ny.und(t)){const n=Ny.obj(e)?{...e}:{...t,from:e};Ny.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Zx(this)||this._state.asyncTo)||Jx(this)}get goal(){return Av(this.animation.to)}get velocity(){const e=ax(this);return e instanceof cx?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return Kx(this)}get isAnimating(){return Zx(this)}get isPaused(){return Jx(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{toValues:o}=r;const{config:i}=r,a=lx(r.to);!a&&jv(r.to)&&(o=Dy(Av(r.to))),r.values.forEach(((s,l)=>{if(s.done)return;const u=s.constructor==dx?1:a?a[l].lastPosition:o[l];let c=r.immediate,d=u;if(!c){if(d=s.lastPosition,i.tension<=0)return void(s.done=!0);let t=s.elapsedTime+=e;const n=r.fromValues[l],o=null!=s.v0?s.v0:s.v0=Ny.arr(i.velocity)?i.velocity[l]:i.velocity;let a;const p=i.precision||(n==u?.005:Math.min(1,.001*Math.abs(u-n)));if(Ny.und(i.duration))if(i.decay){const e=!0===i.decay?.998:i.decay,r=Math.exp(-(1-e)*t);d=n+o/(1-e)*(1-r),c=Math.abs(s.lastPosition-d)<=p,a=o*r}else{a=null==s.lastVelocity?o:s.lastVelocity;const t=i.restVelocity||p/10,r=i.clamp?0:i.bounce,l=!Ny.und(r),h=n==u?s.v0>0:n<u;let f,m=!1;const g=1,b=Math.ceil(e/g);for(let e=0;e<b&&(f=Math.abs(a)>t,f||(c=Math.abs(u-d)<=p,!c));++e)l&&(m=d==u||d>u==h,m&&(a=-a*r,d=u)),a+=(1e-6*-i.tension*(d-u)+.001*-i.friction*a)/i.mass*g,d+=a*g}else{let r=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,s.durationProgress>0&&(s.elapsedTime=i.duration*s.durationProgress,t=s.elapsedTime+=e)),r=(i.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,s.durationProgress=r),d=n+i.easing(r)*(u-n),a=(d-s.lastPosition)/e,c=1==r}s.lastVelocity=a,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),c=!0)}a&&!a[l].done&&(c=!1),c?s.done=!0:t=!1,s.setValue(d,i.round)&&(n=!0)}));const s=ax(this),l=s.getValue();if(t){const e=Av(r.to);l===e&&!n||i.decay?n&&i.decay&&this._onChange(l):(s.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return fy.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Zx(this)){const{to:e,config:t}=this.animation;fy.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Ny.und(e)?(n=this.queue||[],this.queue=[]):n=[Ny.obj(e)?e:{...t,to:e}],Promise.all(n.map((e=>this._update(e)))).then((e=>Fx(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Vx(this._state,e&&this._lastCallId),fy.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Ny.obj(n)?n[t]:n,(null==n||Ox(n))&&(n=void 0),r=Ny.obj(r)?r[t]:r,null==r&&(r=void 0);const o={to:n,from:r};return Kx(this)||(e.reverse&&([n,r]=[r,n]),r=Av(r),Ny.und(r)?ax(this)||this._set(n):this._set(r)),o}_update({...e},t){const{key:n,defaultProps:r}=this;e.default&&Object.assign(r,Tx(e,((e,t)=>/^on/.test(t)?_x(e,n):e))),lw(this,e,"onProps"),uw(this,"onProps",e,this);const o=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const i=this._state;return Lx(++this._lastCallId,{key:n,props:e,defaultProps:r,state:i,actions:{pause:()=>{Jx(this)||(ew(this,!0),$y(i.pauseQueue),uw(this,"onPause",$x(this,nw(this,this.animation.to)),this))},resume:()=>{Jx(this)&&(ew(this,!1),Zx(this)&&this._resume(),$y(i.resumeQueue),uw(this,"onResume",$x(this,nw(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then((n=>{if(e.loop&&n.finished&&(!t||!n.noop)){const t=rw(e);if(t)return this._update(t,!0)}return n}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(zx(this));const r=!Ny.und(e.to),o=!Ny.und(e.from);if(r||o){if(!(t.callId>this._lastToId))return n(zx(this));this._lastToId=t.callId}const{key:i,defaultProps:a,animation:s}=this,{to:l,from:u}=s;let{to:c=l,from:d=u}=e;!o||r||t.default&&!Ny.und(c)||(c=d),t.reverse&&([c,d]=[d,c]);const p=!Ry(d,u);p&&(s.from=d),d=Av(d);const h=!Ry(c,l);h&&this._focus(c);const f=Ox(t.to),{config:m}=s,{decay:g,velocity:b}=m;(r||o)&&(m.velocity=0),t.config&&!f&&function(e,t,n){n&&(Px(n={...n},t),t={...n,...t}),Px(e,t),Object.assign(e,t);for(const t in Nx)null==e[t]&&(e[t]=Nx[t]);let{frequency:r,damping:o}=e;const{mass:i}=e;Ny.und(r)||(r<.01&&(r=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/r,2)*i,e.friction=4*Math.PI*o*i/r)}(m,wx(t.config,i),t.config!==a.config?wx(a.config,i):void 0);let y=ax(this);if(!y||Ny.und(c))return n($x(this,!0));const v=Ny.und(t.reset)?o&&!t.default:!Ny.und(d)&&kx(t.reset,i),x=v?d:this.get(),w=Ax(c),k=Ny.num(w)||Ny.arr(w)||Jv(w),_=!f&&(!k||kx(a.immediate||t.immediate,i));if(h){const e=gx(c);if(e!==y.constructor){if(!_)throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`);y=this._set(w)}}const S=y.constructor;let E=jv(c),T=!1;if(!E){const e=v||!Kx(this)&&p;(h||e)&&(T=Ry(Ax(x),w),E=!T),(Ry(s.immediate,_)||_)&&Ry(m.decay,g)&&Ry(m.velocity,b)||(E=!0)}if(T&&Zx(this)&&(s.changed&&!v?E=!0:E||this._stop(l)),!f&&((E||jv(l))&&(s.values=y.getPayload(),s.toValues=jv(c)?null:S==dx?[1]:Dy(w)),s.immediate!=_&&(s.immediate=_,_||v||this._set(l)),E)){const{onRest:e}=s;Py(sw,(e=>lw(this,t,e)));const r=$x(this,nw(this,l));$y(this._pendingCalls,r),this._pendingCalls.add(n),s.changed&&fy.batchedUpdates((()=>{s.changed=!v,e?.(r,this),v?wx(a.onRest,r):s.onStart?.(r,this)}))}v&&this._set(x),f?n(Ux(t.to,t,this._state,this)):E?this._start():Zx(this)&&!h?this._pendingCalls.add(n):n(Bx(x))}_focus(e){const t=this.animation;e!==t.to&&(Ov(this)&&this._detach(),t.to=e,Ov(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;jv(t)&&(Mv(t,this),Hx(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;jv(e)&&Dv(e,this)}_set(e,t=!0){const n=Av(e);if(!Ny.und(n)){const e=ax(this);if(!e||!Ry(n,e.getValue())){const r=gx(n);e&&e.constructor==r?e.setValue(n):sx(this,r.create(n)),e&&fy.batchedUpdates((()=>{this._onChange(n,t)}))}}return ax(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,uw(this,"onStart",$x(this,nw(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),wx(this.animation.onChange,e,this)),wx(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;ax(this).reset(Av(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),Zx(this)||(Qx(this,!0),Jx(this)||this._resume())}_resume(){py.skipAnimation?this.finish():Ky.start(this)}_stop(e,t){if(Zx(this)){Qx(this,!1);const n=this.animation;Py(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Nv(this,{type:"idle",parent:this});const r=t?zx(this.get()):$x(this.get(),nw(this,e??n.to));$y(this._pendingCalls,r),n.changed&&(n.changed=!1,uw(this,"onRest",r,this))}}};function nw(e,t){const n=Ax(t);return Ry(Ax(e.get()),n)}function rw(e,t=e.loop,n=e.to){const r=wx(t);if(r){const o=!0!==r&&jx(r),i=(o||e).reverse,a=!o||o.reset;return ow({...e,loop:t,default:!1,pause:void 0,to:!i||Ox(n)?n:void 0,from:a?e.from:void 0,reset:a,...o})}}function ow(e){const{to:t,from:n}=e=jx(e),r=new Set;return Ny.obj(t)&&aw(t,r),Ny.obj(n)&&aw(n,r),e.keys=r.size?Array.from(r):null,e}function iw(e){const t=ow(e);return Ny.und(t.default)&&(t.default=Tx(t)),t}function aw(e,t){My(e,((e,n)=>null!=e&&t.add(n)))}var sw=["onStart","onRest","onChange","onPause","onResume"];function lw(e,t,n){e.animation[n]=t[n]!==Sx(t,n)?_x(t[n],e.key):void 0}function uw(e,t,...n){e.animation[t]?.(...n),e.defaultProps[t]?.(...n)}var cw=["onStart","onChange","onRest"],dw=1,pw=class{constructor(e,t){this.id=dw++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start({default:!0,...e})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];Ny.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(ow(e)),this}start(e){let{queue:t}=this;return e?t=Dy(e).map(ow):this.queue=[],this._flush?this._flush(this,t):(vw(this,t),hw(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Py(Dy(t),(t=>n[t].stop(!!e)))}else Vx(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(Ny.und(e))this.start({pause:!0});else{const t=this.springs;Py(Dy(e),(e=>t[e].pause()))}return this}resume(e){if(Ny.und(e))this.start({pause:!1});else{const t=this.springs;Py(Dy(e),(e=>t[e].resume()))}return this}each(e){My(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,o=this._changed.size>0;(r&&!this._started||o&&!this._started)&&(this._started=!0,Ly(e,(([e,t])=>{t.value=this.get(),e(t,this,this._item)})));const i=!r&&this._started,a=o||i&&n.size?this.get():null;o&&t.size&&Ly(t,(([e,t])=>{t.value=a,e(t,this,this._item)})),i&&(this._started=!1,Ly(n,(([e,t])=>{t.value=a,e(t,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}fy.onFrame(this._onFrame)}};function hw(e,t){return Promise.all(t.map((t=>fw(e,t)))).then((t=>Fx(e,t)))}async function fw(e,t,n){const{keys:r,to:o,from:i,loop:a,onRest:s,onResolve:l}=t,u=Ny.obj(t.default)&&t.default;a&&(t.loop=!1),!1===o&&(t.to=null),!1===i&&(t.from=null);const c=Ny.arr(o)||Ny.fun(o)?o:void 0;c?(t.to=void 0,t.onRest=void 0,u&&(u.onRest=void 0)):Py(cw,(n=>{const r=t[n];if(Ny.fun(r)){const o=e._events[n];t[n]=({finished:e,cancelled:t})=>{const n=o.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):o.set(r,{value:null,finished:e||!1,cancelled:t||!1})},u&&(u[n]=t[n])}}));const d=e._state;t.pause===!d.paused?(d.paused=t.pause,$y(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const p=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),h=!0===t.cancel||!0===Sx(t,"cancel");(c||h&&d.asyncId)&&p.push(Lx(++e._lastAsyncId,{props:t,state:d,actions:{pause:Oy,resume:Oy,start(t,n){h?(Vx(d,e._lastAsyncId),n(zx(e))):(t.onRest=s,n(Ux(c,t,d,e)))}}})),d.paused&&await new Promise((e=>{d.resumeQueue.add(e)}));const f=Fx(e,await Promise.all(p));if(a&&f.finished&&(!n||!f.noop)){const n=rw(t,a,o);if(n)return vw(e,[n]),fw(e,n,!0)}return l&&fy.batchedUpdates((()=>l(f,e,e.item))),f}function mw(e,t){const n={...e.springs};return t&&Py(Dy(t),(e=>{Ny.und(e.keys)&&(e=ow(e)),Ny.obj(e.to)||(e={...e,to:void 0}),yw(n,e,(e=>bw(e)))})),gw(e,n),n}function gw(e,t){My(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,Mv(t,e))}))}function bw(e,t){const n=new tw;return n.key=e,t&&Mv(n,t),n}function yw(e,t,n){t.keys&&Py(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function vw(e,t){Py(t,(t=>{yw(e.springs,t,(t=>bw(t,e)))}))}var xw,ww=({children:e,...t})=>{const n=(0,l.useContext)(kw),r=t.pause||!!n.pause,o=t.immediate||!!n.immediate;t=function(e,t){const[n]=(0,l.useState)((()=>({inputs:t,result:e()}))),r=(0,l.useRef)(),o=r.current;let i=o;if(i){Boolean(t&&i.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.inputs))||(i={inputs:t,result:e()})}else i=n;return(0,l.useEffect)((()=>{r.current=i,o==n&&(n.inputs=n.result=void 0)}),[i]),i.result}((()=>({pause:r,immediate:o})),[r,o]);const{Provider:i}=kw;return l.createElement(i,{value:t},e)},kw=(xw=ww,Object.assign(xw,l.createContext({})),xw.Provider._context=xw,xw.Consumer._context=xw,xw);ww.Provider=kw.Provider,ww.Consumer=kw.Consumer;var _w=()=>{const e=[],t=function(t){Zv(`${Xv}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return Py(e,((e,o)=>{if(Ny.und(t))r.push(e.start());else{const i=n(t,e,o);i&&r.push(e.start(i))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return Py(e,(e=>e.pause(...arguments))),this},t.resume=function(){return Py(e,(e=>e.resume(...arguments))),this},t.set=function(t){Py(e,((e,n)=>{const r=Ny.fun(t)?t(n,e):t;r&&e.set(r)}))},t.start=function(t){const n=[];return Py(e,((e,r)=>{if(Ny.und(t))n.push(e.start());else{const o=this._getProps(t,e,r);o&&n.push(e.start(o))}})),n},t.stop=function(){return Py(e,(e=>e.stop(...arguments))),this},t.update=function(t){return Py(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return Ny.fun(e)?e(n,t):e};return t._getProps=n,t};function Sw(e,t){const n=Ny.fun(e),[[r],o]=function(e,t,n){const r=Ny.fun(t)&&t;r&&!n&&(n=[]);const o=(0,l.useMemo)((()=>r||3==arguments.length?_w():void 0),[]),i=(0,l.useRef)(0),a=tx(),s=(0,l.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=mw(e,t);return i.current>0&&!s.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?hw(e,t):new Promise((r=>{gw(e,n),s.queue.push((()=>{r(hw(e,t))})),a()}))}})),[]),u=(0,l.useRef)([...s.ctrls]),c=[],d=ox(e)||0;function p(e,n){for(let o=e;o<n;o++){const e=u.current[o]||(u.current[o]=new pw(null,s.flush)),n=r?r(o,e):t[o];n&&(c[o]=iw(n))}}(0,l.useMemo)((()=>{Py(u.current.slice(e,d),(e=>{(function(e,t){e.ref?.delete(e),t?.delete(e)})(e,o),e.stop(!0)})),u.current.length=e,p(d,e)}),[e]),(0,l.useMemo)((()=>{p(0,Math.min(d,e))}),n);const h=u.current.map(((e,t)=>mw(e,c[t]))),f=(0,l.useContext)(ww),m=ox(f),g=f!==m&&function(e){for(const t in e)return!0;return!1}(f);Qv((()=>{i.current++,s.ctrls=u.current;const{queue:e}=s;e.length&&(s.queue=[],Py(e,(e=>e()))),Py(u.current,((e,t)=>{o?.add(e),g&&e.start({default:f});const n=c[t];n&&(function(e,t){t&&e.ref!==t&&(e.ref?.delete(e),t.add(e),e.ref=t)}(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),nx((()=>()=>{Py(s.ctrls,(e=>e.stop(!0)))}));const b=h.map((e=>({...e})));return o?[b,o]:b}(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,o]:r}var Ew=class extends Xx{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=vv(...t);const n=this._get(),r=gx(n);sx(this,r.create(n))}advance(e){const t=this._get();Ry(t,this.get())||(ax(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Cw(this._active)&&Iw(this)}_get(){const e=Ny.arr(this.source)?this.source.map(Av):Dy(Av(this.source));return this.calc(...e)}_start(){this.idle&&!Cw(this._active)&&(this.idle=!1,Py(lx(this),(e=>{e.done=!1})),py.skipAnimation?(fy.batchedUpdates((()=>this.advance())),Iw(this)):Ky.start(this))}_attach(){let e=1;Py(Dy(this.source),(t=>{jv(t)&&Mv(t,this),Hx(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){Py(Dy(this.source),(e=>{jv(e)&&Dv(e,this)})),this._active.clear(),Iw(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Dy(this.source).reduce(((e,t)=>Math.max(e,(Hx(t)?t.priority:0)+1)),0))}};function Tw(e){return!1!==e.idle}function Cw(e){return!e.size||Array.from(e).every(Tw)}function Iw(e){e.idle||(e.idle=!0,Py(lx(e),(e=>{e.done=!0})),Nv(e,{type:"idle",parent:e}))}py.assign({createStringInterpolator:qv,to:(e,t)=>new Ew(e,t)}),Ky.advance;var jw=/^--/;function Aw(e,t){return null==t||"boolean"==typeof t||""===t?"":"number"!=typeof t||0===t||jw.test(e)||Nw.hasOwnProperty(e)&&Nw[e]?(""+t).trim():t+"px"}var Ow={},Nw={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rw=["Webkit","Ms","Moz","O"];Nw=Object.keys(Nw).reduce(((e,t)=>(Rw.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),Nw);var Pw=/^(matrix|translate|scale|rotate|skew)/,Mw=/^(translate)/,Dw=/^(rotate|skew)/,Lw=(e,t)=>Ny.num(e)&&0!==e?e+t:e,Fw=(e,t)=>Ny.arr(e)?e.every((e=>Fw(e,t))):Ny.num(e)?e===t:parseFloat(e)===t,Bw=class extends hx{constructor({x:e,y:t,z:n,...r}){const o=[],i=[];(e||t||n)&&(o.push([e||0,t||0,n||0]),i.push((e=>[`translate3d(${e.map((e=>Lw(e,"px"))).join(",")})`,Fw(e,0)]))),My(r,((e,t)=>{if("transform"===t)o.push([e||""]),i.push((e=>[e,""===e]));else if(Pw.test(t)){if(delete r[t],Ny.und(e))return;const n=Mw.test(t)?"px":Dw.test(t)?"deg":"";o.push(Dy(e)),i.push("rotate3d"===t?([e,t,r,o])=>[`rotate3d(${e},${t},${r},${Lw(o,n)})`,Fw(o,0)]:e=>[`${t}(${e.map((e=>Lw(e,n))).join(",")})`,Fw(e,t.startsWith("scale")?1:0)])}})),o.length&&(r.transform=new $w(o,i)),super(r)}},$w=class extends Rv{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Py(this.inputs,((n,r)=>{const o=Av(n[0]),[i,a]=this.transforms[r](Ny.arr(o)?o:n.map(Av));e+=" "+i,t=t&&a})),t?"none":e}observerAdded(e){1==e&&Py(this.inputs,(e=>Py(e,(e=>jv(e)&&Mv(e,this)))))}observerRemoved(e){0==e&&Py(this.inputs,(e=>Py(e,(e=>jv(e)&&Dv(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),Nv(this,e)}};py.assign({batchedUpdates:c.unstable_batchedUpdates,createStringInterpolator:qv,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var zw=((e,{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new hx(e)),getComponentProps:r=(e=>e)}={})=>{const o={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},i=e=>{const t=xx(e)||"Anonymous";return(e=Ny.str(e)?i[e]||(i[e]=bx(e,o)):e[vx]||(e[vx]=bx(e,o))).displayName=`Animated(${t})`,e};return My(e,((t,n)=>{Ny.arr(e)&&(n=xx(t)),i[n]=i(t)})),{animated:i}})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,{style:r,children:o,scrollTop:i,scrollLeft:a,viewBox:s,...l}=t,u=Object.values(l),c=Object.keys(l).map((t=>n||e.hasAttribute(t)?t:Ow[t]||(Ow[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==o&&(e.textContent=o);for(const t in r)if(r.hasOwnProperty(t)){const n=Aw(t,r[t]);jw.test(t)?e.style.setProperty(t,n):e.style[t]=n}c.forEach(((t,n)=>{e.setAttribute(t,u[n])})),void 0!==i&&(e.scrollTop=i),void 0!==a&&(e.scrollLeft=a),void 0!==s&&e.setAttribute("viewBox",s)},createAnimatedStyle:e=>new Bw(e),getComponentProps:({scrollTop:e,scrollLeft:t,...n})=>n}),Uw=zw.animated;const Vw=(e,t)=>e.slice().sort((()=>Math.random()-.5)).slice(0,t).map((t=>e.indexOf(t))),Gw=e=>{const t=[];for(let n=0;n<e;n++){let e,n;do{e=300*Math.random(),n=500*Math.random()}while(Ww(t,e,n,200,200));t.push({left:`${e}px`,top:`${n}px`})}return t},Ww=(e,t,n,r,o)=>{for(const i of e){const e=t<i.left+r+20&&t+r+20>i.left,a=n<i.top+o+20&&n+o+20>i.top;if(e&&a)return!0}return!1},Hw=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)([]),[o,i]=(0,l.useState)([]),[a,s]=(0,l.useState)(0);(0,l.useEffect)((()=>{(async()=>{try{const e=await en();t(e);const n=Vw(e,30);r(n);const o=Gw(30);i(o)}catch(e){console.error("Error fetching artworks",e)}})()}),[]);const u=()=>{const t=Vw(e,30);r(t);const n=Gw(30);i(n),s(t[0])},c=Sw({opacity:1,from:{opacity:0},config:{duration:500},onRest:u});return d=u,p=9e3,h=(0,l.useRef)((function(){})),(0,l.useEffect)((function(){h.current=d})),(0,l.useEffect)((function(){if(null!==p){var e=setInterval((function(){return h.current()}),p||0);return function(){return clearInterval(e)}}}),[p]),{props:c,indexes:n,positions:o,currentIndex:a,artworks:e};var d,p,h},qw=()=>{const{props:e,indexes:t,positions:n,currentIndex:r,artworks:o}=Hw();return l.createElement("div",{className:"images-content",style:{width:"500px",height:"700px",position:"relative",overflow:"hidden",margin:"auto"}},l.createElement("div",{className:"animated-collection-container"},o.length>0&&l.createElement("div",{className:"animated-artwork-container"},n.map(((t,n)=>l.createElement(Uw.div,{key:n,style:{...e,position:"absolute",left:t&&t.left,top:t&&t.top,width:"200px",margin:"20px"}},o[n]&&l.createElement(Fe,{to:`/artwork/${o[n].ID}`,key:o[n].ID},l.createElement("img",{className:"animated-artwork-image "+(n===r?"active":""),src:o[n].Image,alt:o[n].Title,style:{width:"100%",objectFit:"cover"}}))))))))};var Xw=i(4210),Yw=i.n(Xw);const Kw=()=>{const[e,t]=(0,l.useState)(!1),[n,r]=(0,l.useState)(null),[o,i]=(0,l.useState)(!1),[a,s]=(0,l.useState)(!1),[u,c]=(0,l.useState)(!0),[d,p]=(0,l.useState)(100),[h,f]=(0,l.useState)(1),m=(0,l.useRef)(null),g=(0,l.useRef)([]),b=(0,l.useRef)(null);return l.createElement(l.Fragment,null,l.createElement("div",{className:"draw-images"},l.createElement("h4",{className:"title"}," DRAW IMAGES "),l.createElement("div",null,l.createElement(Yw(),{className:"fluid",setup:(e,t)=>((e,t)=>{e.createCanvas(1024,668).parent(t),e.background(255),e.frameRate(60)})(e,t),draw:t=>(t=>{if(t.background(255),u)t.frameCount%30<15&&(t.fill(0),t.textAlign(t.CENTER),t.textSize(35),t.textFont("Array"),t.text("PRESS U TO DRAW YOUR IMAGES",t.width/2,t.height/2));else{for(let e=0;e<g.current.length;e++){const{img:n,x:r,y:o,width:i,height:a}=g.current[e];t.image(n,r-i/2,o-a/2,i,a)}if(b.current&&(t.tint(255,255*h),t.image(b.current,0,0,t.width,t.height),t.noTint()),e&&n&&o&&!a){const e={img:n,x:t.mouseX,y:t.mouseY,width:n.width*(d/n.width),height:n.height*(d/n.width)};g.current.push(e)}}})(t),keyTyped:e=>(e=>{(e=>{switch(e){case"1":p(50);break;case"2":p(150);break;case"3":p(250);break;case"4":p(500);break;case"5":p(1050)}})(e.key),"U"===e.key||"u"===e.key?document.getElementById("imageInput").click():"6"===e.key&&(p(1050),f(.5))})(e),mousePressed:()=>(i(!0),void(o&&s(!a)))}),l.createElement("input",{type:"file",id:"imageInput",accept:"image/*",style:{display:"none"},onChange:e=>((e,n)=>{const o=n.target.files[0];if(o){const n=new FileReader;n.onloadend=()=>{const o=e.loadImage(n.result,(()=>{r(o),c(!1),t(!0)}));m.current=o},n.readAsDataURL(o)}})(new window.p5,e)}),l.createElement("div",{className:"sizes-instruction"},l.createElement("li",{className:"intructions-list"},"TO SELECT THE IMAGE SIZE PRESS",l.createElement("p",null," KEY 1 = EXTRA SMALL 50PX "),l.createElement("p",null," KEY 2 = SMALL 150PX "),l.createElement("p",null," KEY 3 = MEDIUM 250PX "),l.createElement("p",null," KEY 4 = LARGE 500PX "),l.createElement("p",null," KEY 5 = EXTRA LARGE 1050PX"),l.createElement("p",null," KEY 6 = CHANGE OPACITY")," ")))))},Zw=()=>{const{t:e}=et();return l.createElement(l.Fragment,null,l.createElement("div",{className:"magazine"},l.createElement("h2",{className:"titleMagazine"},e("magazine"))),l.createElement("div",{className:"animated"},l.createElement("div",{className:"text-animation"},l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),l.createElement("br",null),"Outlaw Man ( Autor Man?, Shnen Jump especial 1982) Mashnen B. T. ( Mashnen bt?, Shnen Jump semanal 19821983, 1 volumen 1984) Baoh ( Ba Raohsha?, Shnen Jump semanal 19841985, 2 volmenes 1985) Gorgeous Irene (coleccin de one-shots, 1987) Bus Poker ( Bus Pk?, Shnen Jump semanal 1980)",l.createElement("br",null),"Mashnen B. T. ( Mashnen bt?, versin one shot, Fresh Jump 1982) Virginia ni yoroshiku ( Bjinia ni yoroshiku?, Shnen Jump especial 1982) Gorgeous Irene ( Gjazu Airin?, Shnen Jump especial 1985-1986) JoJo's Bizarre Adventure (? Shnen Jump (1987 ~ 2004)  Ultra Jump (2005 ~ presente)) JoJo's Bizarre Adventure (63 volmenes 1987-1999) JoJo's Bizarre Adventure - Stone Ocean (17 volmenes 2000-2003) JoJo's ",l.createElement("br",null)," Bizarre Adventure - Steel Ball Run (24 volmenes 2004-2011) JoJo's Bizarre Adventure - JoJolion (27 volmenes 2011~2021) JoJo's Bizarre Adventure - The JOJOLands (2023~presente) Shikeishikkch Datsugokushinkch (coleccin de one-shots, 1999)",l.createElement("br",null),"Shikeishikkch Datsugokushinkch (? Super Jump 1995) Dolche Die Hard the Cat (  Doruchi ~Dai Hdo za Kyatto~?, Manga Allman 1996) Kishibe Rohan wa ugokanai ~Episode 16 Sange~ (16? Shnen Jump semanal 1997) Deadman's Q (Q Deddomanzu Q?, Manga Allman 1999) Oingo Boingo Kydai Daibken ( ? 1 volumen 2002) Henjin Henkutsu Retsuden (? junto a Hirohisa Onikuba, Super Jump, Manga Allman y Ultra Jump 1989 - 2003, 1 volumen 2004) Kishibe Rohan wa ugokanai Mutsukabezaka ( --? Jump Square 2007, one-shot)"),l.createElement(qw,null)),l.createElement(Kw,null))},Jw=[{path:"/collection",element:l.createElement(sn,null)},{path:"/artwork/:id",element:l.createElement(iy,null)},{path:"/apply",element:l.createElement(sy,null)},{path:"/createArt",element:l.createElement(ly,null)},{path:"/magazine",element:l.createElement(Zw,null)}],Qw=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)({ArtistID:"",Title:"",Image:"",Instructions:"",Description:""});(0,l.useEffect)((()=>{(async()=>{const e=await tn();t(e)})()}),[]);const o=e=>{"file"===e.target.type?r({...n,[e.target.name]:e.target.files[0]}):r({...n,[e.target.name]:e.target.value})};return l.createElement("div",{className:"my-container-register"},l.createElement("h3",{className:"form-title"}," CREATE SKETCH "),l.createElement("form",{onSubmit:async e=>{e.preventDefault(),console.log("formData before submission:",n);const t=new FormData;Object.entries(n).forEach((([e,n])=>{t.append(e,n)}));const r=await(async e=>{try{const t=await fetch("http://localhost:3002/sketches/createSketch",{method:"POST",body:e});return t.ok?{success:!0,message:(await t.json()).message}:{success:!1,error:(await t.json()).error}}catch(e){return console.error("Error al enviar la solicitud:",e),{success:!1,error:"Error al enviar la solicitud"}}})(t);r.success?(console.log(r.message),alert("Sketch created")):console.error("Error creating sketch:",r.error)},encType:"multipart/form-data",className:"my-form-form"},l.createElement("div",{className:"my-form-group-form"},l.createElement("label",{htmlFor:"Artist",className:"my-label-form"},"ARTIST"),l.createElement("select",{className:"my-select-form",name:"ArtistID",value:n.ArtistID,onChange:o},l.createElement("option",{value:"",disabled:!0,defaultValue:!0},"SELECT AN ARTIST"),e.map((e=>l.createElement("option",{key:e.ID,value:e.ID},e.Name))))),l.createElement("div",{className:"my-form-group-form"},l.createElement("label",{htmlFor:"Title",className:"my-label-form"},"TITLE"),l.createElement("input",{type:"text",className:"my-input-form",name:"Title",value:n.Title,onChange:o,required:!0})),l.createElement("div",{className:"my-form-group-form"},l.createElement("label",{htmlFor:"Instructions",className:"my-label-form"},"INSTRUCTIONS"),l.createElement("textarea",{className:"my-textarea-form",name:"Instructions",value:n.Instructions,onChange:o})),l.createElement("div",{className:"my-form-group-form"},l.createElement("label",{htmlFor:"Description",className:"my-label-form"},"DESCRIPTION"),l.createElement("textarea",{className:"my-textarea-form",name:"Description",value:n.Description,onChange:o})),l.createElement("div",{className:"my-form-group-form"},l.createElement("label",{className:"my-label-form",htmlFor:"Image"},"IMAGE"),l.createElement("input",{type:"file",className:"my-input-form",name:"Image",accept:"image/*",onChange:o})),l.createElement("button",{type:"submit",className:"my-button-form"},"CREATE SKETCH")))};var ek=i(9941),tk={},nk=function(e,t,n,r){var o=e+"-"+t+"-"+n+(r?"-server":"");if(tk[o])return tk[o];var i=function(e,t,n,r){if("undefined"==typeof document&&!r)return null;var o=r?new r:document.createElement("canvas");o.width=2*n,o.height=2*n;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),o.toDataURL()):null}(e,t,n,r);return tk[o]=i,i},rk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ok=function(e){var t=e.white,n=e.grey,r=e.size,o=e.renderers,i=e.borderRadius,a=e.boxShadow,s=e.children,u=(0,ek.ZP)({default:{grid:{borderRadius:i,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+nk(t,n,r,o.canvas)+") center left"}}});return(0,l.isValidElement)(s)?l.cloneElement(s,rk({},s.props,{style:rk({},s.props.style,u.grid)})):l.createElement("div",{style:u.grid})};ok.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};const ik=ok;var ak=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function lk(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var uk=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=lk(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=function(e,t,n,r,o){var i=o.clientWidth,a=o.clientHeight,s="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=s-(o.getBoundingClientRect().left+window.pageXOffset),c=l-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d;if(d=c<0?0:c>a?1:Math.round(100*c/a)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var p;if(r!==(p=u<0?0:u>i?1:Math.round(100*u/i)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}(e,r.props.hsl,r.props.direction,r.props.a,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},lk(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),sk(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,ek.ZP)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:ak({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return l.createElement("div",{style:n.alpha},l.createElement("div",{style:n.checkboard},l.createElement(ik,{renderers:this.props.renderers})),l.createElement("div",{style:n.gradient}),l.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.createElement("div",{style:n.pointer},this.props.pointer?l.createElement(this.props.pointer,this.props):l.createElement("div",{style:n.slider}))))}}]),t}(l.PureComponent||l.Component);const ck=uk;var dk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pk=[38,40],hk=1,fk=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t,r=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(r)&&(t=e.keyCode,pk.indexOf(t)>-1)){var o=n.getArrowOffset(),i=38===e.keyCode?r+o:r-o;n.setUpdatedValue(i,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n.inputId="rc-editable-input-"+hk++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),dk(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=(0,ek.ZP)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return l.createElement("div",{style:t.wrap},l.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?l.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(l.PureComponent||l.Component);const mk=fk;var gk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function bk(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var yk=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=bk(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleChange=function(e){var t=function(e,t,n,r){var o=r.clientWidth,i=r.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(r.getBoundingClientRect().left+window.pageXOffset),u=s-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var c;if(c=u<0?359:u>i?0:360*(-100*u/i+100)/100,n.h!==c)return{h:c,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var d;if(d=l<0?0:l>o?359:100*l/o*360/100,n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null}(e,r.props.direction,r.props.hsl,r.container);t&&"function"==typeof r.props.onChange&&r.props.onChange(t,e)},r.handleMouseDown=function(e){r.handleChange(e),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},bk(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),gk(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,r=(0,ek.ZP)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return l.createElement("div",{style:r.hue},l.createElement("div",{className:"hue-"+n,style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),l.createElement("div",{style:r.pointer},this.props.pointer?l.createElement(this.props.pointer,this.props):l.createElement("div",{style:r.slider}))))}}]),t}(l.PureComponent||l.Component);const vk=yk,xk=function(e,t){return e===t||e!=e&&t!=t},wk=function(e,t){for(var n=e.length;n--;)if(xk(e[n][0],t))return n;return-1};var kk=Array.prototype.splice;function _k(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_k.prototype.clear=function(){this.__data__=[],this.size=0},_k.prototype.delete=function(e){var t=this.__data__,n=wk(t,e);return!(n<0||(n==t.length-1?t.pop():kk.call(t,n,1),--this.size,0))},_k.prototype.get=function(e){var t=this.__data__,n=wk(t,e);return n<0?void 0:t[n][1]},_k.prototype.has=function(e){return wk(this.__data__,e)>-1},_k.prototype.set=function(e,t){var n=this.__data__,r=wk(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};const Sk=_k,Ek="object"==typeof global&&global&&global.Object===Object&&global;var Tk="object"==typeof self&&self&&self.Object===Object&&self;const Ck=Ek||Tk||Function("return this")(),Ik=Ck.Symbol;var jk=Object.prototype,Ak=jk.hasOwnProperty,Ok=jk.toString,Nk=Ik?Ik.toStringTag:void 0;var Rk=Object.prototype.toString;var Pk=Ik?Ik.toStringTag:void 0;const Mk=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Pk&&Pk in Object(e)?function(e){var t=Ak.call(e,Nk),n=e[Nk];try{e[Nk]=void 0;var r=!0}catch(e){}var o=Ok.call(e);return r&&(t?e[Nk]=n:delete e[Nk]),o}(e):function(e){return Rk.call(e)}(e)},Dk=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Lk=function(e){if(!Dk(e))return!1;var t=Mk(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Fk=Ck["__core-js_shared__"];var Bk,$k=(Bk=/[^.]+$/.exec(Fk&&Fk.keys&&Fk.keys.IE_PROTO||""))?"Symbol(src)_1."+Bk:"";var zk=Function.prototype.toString;const Uk=function(e){if(null!=e){try{return zk.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var Vk=/^\[object .+?Constructor\]$/,Gk=Function.prototype,Wk=Object.prototype,Hk=Gk.toString,qk=Wk.hasOwnProperty,Xk=RegExp("^"+Hk.call(qk).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Yk=function(e){return!(!Dk(e)||(t=e,$k&&$k in t))&&(Lk(e)?Xk:Vk).test(Uk(e));var t},Kk=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Yk(n)?n:void 0},Zk=Kk(Ck,"Map"),Jk=Kk(Object,"create");var Qk=Object.prototype.hasOwnProperty;var e_=Object.prototype.hasOwnProperty;function t_(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}t_.prototype.clear=function(){this.__data__=Jk?Jk(null):{},this.size=0},t_.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},t_.prototype.get=function(e){var t=this.__data__;if(Jk){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Qk.call(t,e)?t[e]:void 0},t_.prototype.has=function(e){var t=this.__data__;return Jk?void 0!==t[e]:e_.call(t,e)},t_.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jk&&void 0===t?"__lodash_hash_undefined__":t,this};const n_=t_,r_=function(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map};function o_(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}o_.prototype.clear=function(){this.size=0,this.__data__={hash:new n_,map:new(Zk||Sk),string:new n_}},o_.prototype.delete=function(e){var t=r_(this,e).delete(e);return this.size-=t?1:0,t},o_.prototype.get=function(e){return r_(this,e).get(e)},o_.prototype.has=function(e){return r_(this,e).has(e)},o_.prototype.set=function(e,t){var n=r_(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};const i_=o_;function a_(e){var t=this.__data__=new Sk(e);this.size=t.size}a_.prototype.clear=function(){this.__data__=new Sk,this.size=0},a_.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},a_.prototype.get=function(e){return this.__data__.get(e)},a_.prototype.has=function(e){return this.__data__.has(e)},a_.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Sk){var r=n.__data__;if(!Zk||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new i_(r)}return n.set(e,t),this.size=n.size,this};const s_=a_;var l_=function(){try{var e=Kk(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const u_=l_,c_=function(e,t,n){"__proto__"==t&&u_?u_(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},d_=function(e,t,n){(void 0!==n&&!xk(e[t],n)||void 0===n&&!(t in e))&&c_(e,t,n)},p_=function(e,t,n){for(var r=-1,o=Object(e),i=n(e),a=i.length;a--;){var s=i[++r];if(!1===t(o[s],s,o))break}return e};var h_="object"==typeof exports&&exports&&!exports.nodeType&&exports,f_=h_&&"object"==typeof module&&module&&!module.nodeType&&module,m_=f_&&f_.exports===h_?Ck.Buffer:void 0,g_=m_?m_.allocUnsafe:void 0;const b_=Ck.Uint8Array,y_=function(e,t){var n,r,o=t?(n=e.buffer,r=new n.constructor(n.byteLength),new b_(r).set(new b_(n)),r):e.buffer;return new e.constructor(o,e.byteOffset,e.length)};var v_=Object.create;const x_=function(){function e(){}return function(t){if(!Dk(t))return{};if(v_)return v_(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),w_=function(e,t){return function(n){return e(t(n))}},k_=w_(Object.getPrototypeOf,Object);var __=Object.prototype;const S_=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||__)},E_=function(e){return null!=e&&"object"==typeof e},T_=function(e){return E_(e)&&"[object Arguments]"==Mk(e)};var C_=Object.prototype,I_=C_.hasOwnProperty,j_=C_.propertyIsEnumerable;const A_=T_(function(){return arguments}())?T_:function(e){return E_(e)&&I_.call(e,"callee")&&!j_.call(e,"callee")},O_=Array.isArray,N_=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},R_=function(e){return null!=e&&N_(e.length)&&!Lk(e)};var P_="object"==typeof exports&&exports&&!exports.nodeType&&exports,M_=P_&&"object"==typeof module&&module&&!module.nodeType&&module,D_=M_&&M_.exports===P_?Ck.Buffer:void 0;const L_=(D_?D_.isBuffer:void 0)||function(){return!1};var F_=Function.prototype,B_=Object.prototype,$_=F_.toString,z_=B_.hasOwnProperty,U_=$_.call(Object);var V_={};V_["[object Float32Array]"]=V_["[object Float64Array]"]=V_["[object Int8Array]"]=V_["[object Int16Array]"]=V_["[object Int32Array]"]=V_["[object Uint8Array]"]=V_["[object Uint8ClampedArray]"]=V_["[object Uint16Array]"]=V_["[object Uint32Array]"]=!0,V_["[object Arguments]"]=V_["[object Array]"]=V_["[object ArrayBuffer]"]=V_["[object Boolean]"]=V_["[object DataView]"]=V_["[object Date]"]=V_["[object Error]"]=V_["[object Function]"]=V_["[object Map]"]=V_["[object Number]"]=V_["[object Object]"]=V_["[object RegExp]"]=V_["[object Set]"]=V_["[object String]"]=V_["[object WeakMap]"]=!1;var G_="object"==typeof exports&&exports&&!exports.nodeType&&exports,W_=G_&&"object"==typeof module&&module&&!module.nodeType&&module,H_=W_&&W_.exports===G_&&Ek.process,q_=function(){try{return W_&&W_.require&&W_.require("util").types||H_&&H_.binding&&H_.binding("util")}catch(e){}}(),X_=q_&&q_.isTypedArray;const Y_=X_?(K_=X_,function(e){return K_(e)}):function(e){return E_(e)&&N_(e.length)&&!!V_[Mk(e)]};var K_;const Z_=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var J_=Object.prototype.hasOwnProperty;const Q_=function(e,t,n){var r=e[t];J_.call(e,t)&&xk(r,n)&&(void 0!==n||t in e)||c_(e,t,n)};var eS=/^(?:0|[1-9]\d*)$/;const tS=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&eS.test(e))&&e>-1&&e%1==0&&e<t};var nS=Object.prototype.hasOwnProperty;const rS=function(e,t){var n=O_(e),r=!n&&A_(e),o=!n&&!r&&L_(e),i=!n&&!r&&!o&&Y_(e),a=n||r||o||i,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var u in e)!t&&!nS.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||tS(u,l))||s.push(u);return s};var oS=Object.prototype.hasOwnProperty;const iS=function(e){if(!Dk(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=S_(e),n=[];for(var r in e)("constructor"!=r||!t&&oS.call(e,r))&&n.push(r);return n},aS=function(e){return R_(e)?rS(e,!0):iS(e)},sS=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?c_(n,s,l):Q_(n,s,l)}return n}(e,aS(e))},lS=function(e,t,n,r,o,i,a){var s,l=Z_(e,n),u=Z_(t,n),c=a.get(u);if(c)d_(e,n,c);else{var d=i?i(l,u,n+"",e,t,a):void 0,p=void 0===d;if(p){var h=O_(u),f=!h&&L_(u),m=!h&&!f&&Y_(u);d=u,h||f||m?O_(l)?d=l:E_(s=l)&&R_(s)?d=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(l):f?(p=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=g_?g_(n):new e.constructor(n);return e.copy(r),r}(u,!0)):m?(p=!1,d=y_(u,!0)):d=[]:function(e){if(!E_(e)||"[object Object]"!=Mk(e))return!1;var t=k_(e);if(null===t)return!0;var n=z_.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&$_.call(n)==U_}(u)||A_(u)?(d=l,A_(l)?d=sS(l):Dk(l)&&!Lk(l)||(d=function(e){return"function"!=typeof e.constructor||S_(e)?{}:x_(k_(e))}(u))):p=!1}p&&(a.set(u,d),o(d,u,r,i,a),a.delete(u)),d_(e,n,d)}},uS=function e(t,n,r,o,i){t!==n&&p_(n,(function(a,s){if(i||(i=new s_),Dk(a))lS(t,n,s,r,e,o,i);else{var l=o?o(Z_(t,s),a,s+"",t,n,i):void 0;void 0===l&&(l=a),d_(t,s,l)}}),aS)},cS=function(e){return e};var dS=Math.max;var pS=u_?function(e,t){return u_(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:cS;const hS=pS;var fS=Date.now;const mS=function(e){var t=0,n=0;return function(){var r=fS(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(hS),gS=function(e,t){return mS(function(e,t,n){return t=dS(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=dS(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,cS),e+"")},bS=(yS=function(e,t,n){uS(e,t,n)},gS((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=yS.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!Dk(n))return!1;var r=typeof t;return!!("number"==r?R_(n)&&tS(t,n.length):"string"==r&&t in n)&&xk(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&yS(e,a,n)}return e})));var yS,vS=function(e){var t=e.zDepth,n=e.radius,r=e.background,o=e.children,i=e.styles,a=void 0===i?{}:i,s=(0,ek.ZP)(bS({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},a),{"zDepth-1":1===t});return l.createElement("div",{style:s.wrap},l.createElement("div",{style:s.bg}),l.createElement("div",{style:s.content},o))};vS.propTypes={background:pd().string,zDepth:pd().oneOf([0,1,2,3,4,5]),radius:pd().number,styles:pd().object},vS.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};const xS=vS,wS=function(){return Ck.Date.now()};var kS=/\s/;var _S=/^\s+/;const SS=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&kS.test(e.charAt(t)););return t}(e)+1).replace(_S,""):e},ES=function(e){return"symbol"==typeof e||E_(e)&&"[object Symbol]"==Mk(e)};var TS=/^[-+]0x[0-9a-f]+$/i,CS=/^0b[01]+$/i,IS=/^0o[0-7]+$/i,jS=parseInt;const AS=function(e){if("number"==typeof e)return e;if(ES(e))return NaN;if(Dk(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Dk(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=SS(e);var n=CS.test(e);return n||IS.test(e)?jS(e.slice(2),n?2:8):TS.test(e)?NaN:+e};var OS=Math.max,NS=Math.min;const RS=function(e,t,n){var r,o,i,a,s,l,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-u>=i}function m(){var e=wS();if(f(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?NS(n,i-(e-u)):n}(e))}function g(e){return s=void 0,p&&r?h(e):(r=o=void 0,a)}function b(){var e=wS(),n=f(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(m,t),c?h(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),h(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=AS(t)||0,Dk(n)&&(c=!!n.leading,i=(d="maxWait"in n)?OS(AS(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=o=s=void 0},b.flush=function(){return void 0===s?a:g(wS())},b};var PS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),MS=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"==typeof n.props.onChange&&n.throttle(n.props.onChange,function(e,t,n){var r=n.getBoundingClientRect(),o=r.width,i=r.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,l=a-(n.getBoundingClientRect().left+window.pageXOffset),u=s-(n.getBoundingClientRect().top+window.pageYOffset);l<0?l=0:l>o&&(l=o),u<0?u=0:u>i&&(u=i);var c=l/o,d=1-u/i;return{h:t.h,s:c,v:d,a:t.a,source:"hsv"}}(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e);var t=n.getContainerRenderWindow();t.addEventListener("mousemove",n.handleChange),t.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return Dk(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),RS(e,t,{leading:r,maxWait:t,trailing:o})}((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),PS(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,r=t.white,o=t.black,i=t.pointer,a=t.circle,s=(0,ek.ZP)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:n,white:r,black:o,pointer:i,circle:a}},{custom:!!this.props.style});return l.createElement("div",{style:s.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),l.createElement("div",{style:s.white,className:"saturation-white"},l.createElement("div",{style:s.black,className:"saturation-black"}),l.createElement("div",{style:s.pointer},this.props.pointer?l.createElement(this.props.pointer,this.props):l.createElement("div",{style:s.circle}))))}}]),t}(l.PureComponent||l.Component);const DS=MS,LS=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},FS=w_(Object.keys,Object);var BS=Object.prototype.hasOwnProperty;const $S=function(e){return R_(e)?rS(e):function(e){if(!S_(e))return FS(e);var t=[];for(var n in Object(e))BS.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)},zS=function(e,t){if(null==e)return e;if(!R_(e))return function(e,t){return e&&p_(e,t,$S)}(e,t);for(var n=e.length,r=-1,o=Object(e);++r<n&&!1!==t(o[r],r,o););return e},US=function(e,t){return(O_(e)?LS:zS)(e,"function"==typeof(n=t)?n:cS);var n};function VS(e){return VS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VS(e)}var GS=/^\s+/,WS=/\s+$/;function HS(e,t){if(t=t||{},(e=e||"")instanceof HS)return e;if(!(this instanceof HS))return new HS(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,o=null,i=null,a=!1,s=!1;return"string"==typeof e&&(e=function(e){e=e.replace(GS,"").replace(WS,"").toLowerCase();var t,n=!1;if(uE[e])e=uE[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=kE.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=kE.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=kE.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=kE.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=kE.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=kE.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=kE.hex8.exec(e))?{r:fE(t[1]),g:fE(t[2]),b:fE(t[3]),a:yE(t[4]),format:n?"name":"hex8"}:(t=kE.hex6.exec(e))?{r:fE(t[1]),g:fE(t[2]),b:fE(t[3]),format:n?"name":"hex"}:(t=kE.hex4.exec(e))?{r:fE(t[1]+""+t[1]),g:fE(t[2]+""+t[2]),b:fE(t[3]+""+t[3]),a:yE(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=kE.hex3.exec(e))&&{r:fE(t[1]+""+t[1]),g:fE(t[2]+""+t[2]),b:fE(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==VS(e)&&(_E(e.r)&&_E(e.g)&&_E(e.b)?(t=function(e,t,n){return{r:255*pE(e,255),g:255*pE(t,255),b:255*pE(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):_E(e.h)&&_E(e.s)&&_E(e.v)?(r=gE(e.s),o=gE(e.v),t=function(e,t,n){e=6*pE(e,360),t=pE(t,100),n=pE(n,100);var r=Math.floor(e),o=e-r,i=n*(1-t),a=n*(1-o*t),s=n*(1-(1-o)*t),l=r%6;return{r:255*[n,a,i,i,s,n][l],g:255*[s,n,n,a,i,i][l],b:255*[i,i,s,n,n,a][l]}}(e.h,r,o),a=!0,s="hsv"):_E(e.h)&&_E(e.s)&&_E(e.l)&&(r=gE(e.s),i=gE(e.l),t=function(e,t,n){var r,o,i;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=pE(e,360),t=pE(t,100),n=pE(n,100),0===t)r=o=i=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return{r:255*r,g:255*o,b:255*i}}(e.h,r,i),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=dE(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function qS(e,t,n){e=pE(e,255),t=pE(t,255),n=pE(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=(i+a)/2;if(i==a)r=o=0;else{var l=i-a;switch(o=s>.5?l/(2-i-a):l/(i+a),i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,l:s}}function XS(e,t,n){e=pE(e,255),t=pE(t,255),n=pE(n,255);var r,o,i=Math.max(e,t,n),a=Math.min(e,t,n),s=i,l=i-a;if(o=0===i?0:l/i,i==a)r=0;else{switch(i){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:o,v:s}}function YS(e,t,n,r){var o=[mE(Math.round(e).toString(16)),mE(Math.round(t).toString(16)),mE(Math.round(n).toString(16))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function KS(e,t,n,r){return[mE(bE(r)),mE(Math.round(e).toString(16)),mE(Math.round(t).toString(16)),mE(Math.round(n).toString(16))].join("")}function ZS(e,t){t=0===t?0:t||10;var n=HS(e).toHsl();return n.s-=t/100,n.s=hE(n.s),HS(n)}function JS(e,t){t=0===t?0:t||10;var n=HS(e).toHsl();return n.s+=t/100,n.s=hE(n.s),HS(n)}function QS(e){return HS(e).desaturate(100)}function eE(e,t){t=0===t?0:t||10;var n=HS(e).toHsl();return n.l+=t/100,n.l=hE(n.l),HS(n)}function tE(e,t){t=0===t?0:t||10;var n=HS(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),HS(n)}function nE(e,t){t=0===t?0:t||10;var n=HS(e).toHsl();return n.l-=t/100,n.l=hE(n.l),HS(n)}function rE(e,t){var n=HS(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,HS(n)}function oE(e){var t=HS(e).toHsl();return t.h=(t.h+180)%360,HS(t)}function iE(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=HS(e).toHsl(),r=[HS(e)],o=360/t,i=1;i<t;i++)r.push(HS({h:(n.h+i*o)%360,s:n.s,l:n.l}));return r}function aE(e){var t=HS(e).toHsl(),n=t.h;return[HS(e),HS({h:(n+72)%360,s:t.s,l:t.l}),HS({h:(n+216)%360,s:t.s,l:t.l})]}function sE(e,t,n){t=t||6,n=n||30;var r=HS(e).toHsl(),o=360/n,i=[HS(e)];for(r.h=(r.h-(o*t>>1)+720)%360;--t;)r.h=(r.h+o)%360,i.push(HS(r));return i}function lE(e,t){t=t||6;for(var n=HS(e).toHsv(),r=n.h,o=n.s,i=n.v,a=[],s=1/t;t--;)a.push(HS({h:r,s:o,v:i})),i=(i+s)%1;return a}HS.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=dE(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=XS(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=XS(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=qS(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=qS(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return YS(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,o){var i=[mE(Math.round(e).toString(16)),mE(Math.round(t).toString(16)),mE(Math.round(n).toString(16)),mE(bE(r))];return o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*pE(this._r,255))+"%",g:Math.round(100*pE(this._g,255))+"%",b:Math.round(100*pE(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*pE(this._r,255))+"%, "+Math.round(100*pE(this._g,255))+"%, "+Math.round(100*pE(this._b,255))+"%)":"rgba("+Math.round(100*pE(this._r,255))+"%, "+Math.round(100*pE(this._g,255))+"%, "+Math.round(100*pE(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(cE[YS(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+KS(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var o=HS(e);n="#"+KS(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return HS(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(eE,arguments)},brighten:function(){return this._applyModification(tE,arguments)},darken:function(){return this._applyModification(nE,arguments)},desaturate:function(){return this._applyModification(ZS,arguments)},saturate:function(){return this._applyModification(JS,arguments)},greyscale:function(){return this._applyModification(QS,arguments)},spin:function(){return this._applyModification(rE,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(sE,arguments)},complement:function(){return this._applyCombination(oE,arguments)},monochromatic:function(){return this._applyCombination(lE,arguments)},splitcomplement:function(){return this._applyCombination(aE,arguments)},triad:function(){return this._applyCombination(iE,[3])},tetrad:function(){return this._applyCombination(iE,[4])}},HS.fromRatio=function(e,t){if("object"==VS(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:gE(e[r]));e=n}return HS(e,t)},HS.equals=function(e,t){return!(!e||!t)&&HS(e).toRgbString()==HS(t).toRgbString()},HS.random=function(){return HS.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},HS.mix=function(e,t,n){n=0===n?0:n||50;var r=HS(e).toRgb(),o=HS(t).toRgb(),i=n/100;return HS({r:(o.r-r.r)*i+r.r,g:(o.g-r.g)*i+r.g,b:(o.b-r.b)*i+r.b,a:(o.a-r.a)*i+r.a})},HS.readability=function(e,t){var n=HS(e),r=HS(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},HS.isReadable=function(e,t,n){var r,o,i=HS.readability(e,t);switch(o=!1,r=function(e){var t,n;return"AA"!==(t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==t&&(t="AA"),"small"!==(n=(e.size||"small").toLowerCase())&&"large"!==n&&(n="small"),{level:t,size:n}}(n),r.level+r.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},HS.mostReadable=function(e,t,n){var r,o,i,a,s=null,l=0;o=(n=n||{}).includeFallbackColors,i=n.level,a=n.size;for(var u=0;u<t.length;u++)(r=HS.readability(e,t[u]))>l&&(l=r,s=HS(t[u]));return HS.isReadable(e,s,{level:i,size:a})||!o?s:(n.includeFallbackColors=!1,HS.mostReadable(e,["#fff","#000"],n))};var uE=HS.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},cE=HS.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(uE);function dE(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function pE(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function hE(e){return Math.min(1,Math.max(0,e))}function fE(e){return parseInt(e,16)}function mE(e){return 1==e.length?"0"+e:""+e}function gE(e){return e<=1&&(e=100*e+"%"),e}function bE(e){return Math.round(255*parseFloat(e)).toString(16)}function yE(e){return fE(e)/255}var vE,xE,wE,kE=(xE="[\\s|\\(]+("+(vE="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+vE+")[,|\\s]+("+vE+")\\s*\\)?",wE="[\\s|\\(]+("+vE+")[,|\\s]+("+vE+")[,|\\s]+("+vE+")[,|\\s]+("+vE+")\\s*\\)?",{CSS_UNIT:new RegExp(vE),rgb:new RegExp("rgb"+xE),rgba:new RegExp("rgba"+wE),hsl:new RegExp("hsl"+xE),hsla:new RegExp("hsla"+wE),hsv:new RegExp("hsv"+xE),hsva:new RegExp("hsva"+wE),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function _E(e){return!!kE.CSS_UNIT.exec(e)}var SE=function(e){var t=0,n=0;return US(["r","g","b","a","h","s","l","v"],(function(r){e[r]&&(t+=1,isNaN(e[r])||(n+=1),"s"===r||"l"===r)&&/^\d+%$/.test(e[r])&&(n+=1)})),t===n&&e},EE=function(e,t){var n=e.hex?HS(e.hex):HS(e),r=n.toHsl(),o=n.toHsv(),i=n.toRgb(),a=n.toHex();return 0===r.s&&(r.h=t||0,o.h=t||0),{hsl:r,hex:"000000"===a&&0===i.a?"transparent":"#"+a,rgb:i,hsv:o,oldHue:e.h||t||r.h,source:e.source}},TE=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&HS(e).isValid()},CE=function(e){if(!e)return"#fff";var t=EE(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},IE=function(e,t){return HS(t+" ("+e.replace("","")+")")._ok},jE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();const OE=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(SE(e)){var r=EE(e,e.h||t.state.oldHue);t.setState(r),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,r,n),t.props.onChange&&t.props.onChange(r,n)}},t.handleSwatchHover=function(e,n){if(SE(e)){var r=EE(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(r,n)}},t.state=jE({},EE(e.color,0)),t.debounce=RS((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),AE(n,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),l.createElement(e,jE({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return jE({},EE(e.color,t.oldHue))}}]),n}(l.PureComponent||l.Component);return t.propTypes=jE({},e.propTypes),t.defaultProps=jE({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};var NE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RE=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function PE(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ME=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};const DE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function r(){var e,t,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=PE(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(i))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},PE(n,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,n),RE(r,[{key:"render",value:function(){return l.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},l.createElement(e,NE({},this.props,this.state)))}}]),r}(l.Component)}((function(e){var t=e.color,n=e.style,r=e.onClick,o=void 0===r?function(){}:r,i=e.onHover,a=e.title,s=void 0===a?t:a,u=e.children,c=e.focus,d=e.focusStyle,p=void 0===d?{}:d,h="transparent"===t,f=(0,ek.ZP)({default:{swatch:ME({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?p:{})}}),m={};return i&&(m.onMouseOver=function(e){return i(t,e)}),l.createElement("div",ME({style:f.swatch,onClick:function(e){return o(t,e)},title:s,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},m),u,h&&l.createElement(ik,{borderRadius:f.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}));var LE=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FE=function(e){var t=e.rgb,n=e.hsl,r=e.width,o=e.height,i=e.onChange,a=e.direction,s=e.style,u=e.renderers,c=e.pointer,d=e.className,p=void 0===d?"":d,h=(0,ek.ZP)({default:{picker:{position:"relative",width:r,height:o},alpha:{radius:"2px",style:s}}});return l.createElement("div",{style:h.picker,className:"alpha-picker "+p},l.createElement(ck,LE({},h.alpha,{rgb:t,hsl:n,pointer:c,renderers:u,onChange:i,direction:a})))};FE.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=(0,ek.ZP)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return l.createElement("div",{style:n.picker})}},OE(FE);const BE=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};function $E(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i_;++t<n;)this.add(e[t])}$E.prototype.add=$E.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},$E.prototype.has=function(e){return this.__data__.has(e)};const zE=$E,UE=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},VE=function(e,t){return e.has(t)},GE=function(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,h=2&n?new zE:void 0;for(i.set(e,t),i.set(t,e);++d<s;){var f=e[d],m=t[d];if(r)var g=a?r(m,f,d,t,e,i):r(f,m,d,e,t,i);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!UE(t,(function(e,t){if(!VE(h,t)&&(f===e||o(f,e,n,r,i)))return h.push(t)}))){p=!1;break}}else if(f!==m&&!o(f,m,n,r,i)){p=!1;break}}return i.delete(e),i.delete(t),p},WE=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},HE=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var qE=Ik?Ik.prototype:void 0,XE=qE?qE.valueOf:void 0;var YE=Object.prototype.propertyIsEnumerable,KE=Object.getOwnPropertySymbols;const ZE=KE?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}(KE(e),(function(t){return YE.call(e,t)})))}:function(){return[]},JE=function(e){return function(e,t,n){var r=t(e);return O_(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,$S,ZE)};var QE=Object.prototype.hasOwnProperty;const eT=Kk(Ck,"DataView"),tT=Kk(Ck,"Promise"),nT=Kk(Ck,"Set"),rT=Kk(Ck,"WeakMap");var oT="[object Map]",iT="[object Promise]",aT="[object Set]",sT="[object WeakMap]",lT="[object DataView]",uT=Uk(eT),cT=Uk(Zk),dT=Uk(tT),pT=Uk(nT),hT=Uk(rT),fT=Mk;(eT&&fT(new eT(new ArrayBuffer(1)))!=lT||Zk&&fT(new Zk)!=oT||tT&&fT(tT.resolve())!=iT||nT&&fT(new nT)!=aT||rT&&fT(new rT)!=sT)&&(fT=function(e){var t=Mk(e),n="[object Object]"==t?e.constructor:void 0,r=n?Uk(n):"";if(r)switch(r){case uT:return lT;case cT:return oT;case dT:return iT;case pT:return aT;case hT:return sT}return t});const mT=fT;var gT="[object Arguments]",bT="[object Array]",yT="[object Object]",vT=Object.prototype.hasOwnProperty;const xT=function(e,t,n,r,o,i){var a=O_(e),s=O_(t),l=a?bT:mT(e),u=s?bT:mT(t),c=(l=l==gT?yT:l)==yT,d=(u=u==gT?yT:u)==yT,p=l==u;if(p&&L_(e)){if(!L_(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new s_),a||Y_(e)?GE(e,t,n,r,o,i):function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new b_(e),new b_(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xk(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=WE;case"[object Set]":var l=1&r;if(s||(s=HE),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var c=GE(s(e),s(t),r,o,i,a);return a.delete(e),c;case"[object Symbol]":if(XE)return XE.call(e)==XE.call(t)}return!1}(e,t,l,n,r,o,i);if(!(1&n)){var h=c&&vT.call(e,"__wrapped__"),f=d&&vT.call(t,"__wrapped__");if(h||f){var m=h?e.value():e,g=f?t.value():t;return i||(i=new s_),o(m,g,n,r,i)}}return!!p&&(i||(i=new s_),function(e,t,n,r,o,i){var a=1&n,s=JE(e),l=s.length;if(l!=JE(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:QE.call(t,c)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var h=!0;i.set(e,t),i.set(t,e);for(var f=a;++u<l;){var m=e[c=s[u]],g=t[c];if(r)var b=a?r(g,m,c,t,e,i):r(m,g,c,e,t,i);if(!(void 0===b?m===g||o(m,g,n,r,i):b)){h=!1;break}f||(f="constructor"==c)}if(h&&!f){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(h=!1)}return i.delete(e),i.delete(t),h}(e,t,n,r,o,i))},wT=function e(t,n,r,o,i){return t===n||(null==t||null==n||!E_(t)&&!E_(n)?t!=t&&n!=n:xT(t,n,r,o,e,i))},kT=function(e){return e==e&&!Dk(e)},_T=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},ST=function(e){var t=function(e){for(var t=$S(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,kT(o)]}return t}(e);return 1==t.length&&t[0][2]?_T(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new s_;if(r)var p=r(u,c,l,e,t,d);if(!(void 0===p?wT(c,u,3,r,d):p))return!1}}return!0}(n,e,t)}};var ET=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TT=/^\w*$/;const CT=function(e,t){if(O_(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ES(e))||TT.test(e)||!ET.test(e)||null!=t&&e in Object(t)};function IT(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(IT.Cache||i_),n}IT.Cache=i_;const jT=IT;var AT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,OT=/\\(\\)?/g,NT=function(e){var t=jT(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(AT,(function(e,n,r,o){t.push(r?o.replace(OT,"$1"):n||e)})),t}));const RT=NT;var PT=Ik?Ik.prototype:void 0,MT=PT?PT.toString:void 0;const DT=function e(t){if("string"==typeof t)return t;if(O_(t))return BE(t,e)+"";if(ES(t))return MT?MT.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},LT=function(e){return null==e?"":DT(e)},FT=function(e,t){return O_(e)?e:CT(e,t)?[e]:RT(LT(e))},BT=function(e){if("string"==typeof e||ES(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},$T=function(e,t){for(var n=0,r=(t=FT(t,e)).length;null!=e&&n<r;)e=e[BT(t[n++])];return n&&n==r?e:void 0},zT=function(e,t){return null!=e&&t in Object(e)},UT=function(e,t){return null!=e&&function(e,t,n){for(var r=-1,o=(t=FT(t,e)).length,i=!1;++r<o;){var a=BT(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&N_(o)&&tS(a,o)&&(O_(e)||A_(e))}(e,t,zT)},VT=function(e,t){return CT(e)&&kT(t)?_T(BT(e),t):function(n){var r=function(e,t,n){var r=null==e?void 0:$T(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?UT(n,e):wT(t,r,3)}},GT=function(e){return CT(e)?(t=BT(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return $T(t,e)}}(e);var t},WT=function(e,t){var n=-1,r=R_(e)?Array(e.length):[];return zS(e,(function(e,o,i){r[++n]=t(e,o,i)})),r},HT=function(e,t){return(O_(e)?BE:WT)(e,"function"==typeof(n=t)?n:null==n?cS:"object"==typeof n?O_(n)?VT(n[0],n[1]):ST(n):GT(n));var n},qT=function(e){var t=e.colors,n=e.onClick,r=e.onSwatchHover,o=(0,ek.ZP)({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return l.createElement("div",{style:o.swatches},HT(t,(function(e){return l.createElement(DE,{key:e,color:e,style:o.swatch,onClick:n,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),l.createElement("div",{style:o.clear}))};var XT=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,i=e.width,a=e.triangle,s=e.styles,u=void 0===s?{}:s,c=e.className,d=void 0===c?"":c,p="transparent"===r,h=function(e,n){TE(e)&&t({hex:e,source:"hex"},n)},f=(0,ek.ZP)(bS({default:{card:{width:i,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:r,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:CE(r),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+r+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":"hide"===a});return l.createElement("div",{style:f.card,className:"block-picker "+d},l.createElement("div",{style:f.triangle}),l.createElement("div",{style:f.head},p&&l.createElement(ik,{borderRadius:"6px 6px 0 0"}),l.createElement("div",{style:f.label},r)),l.createElement("div",{style:f.body},l.createElement(qT,{colors:o,onClick:h,onSwatchHover:n}),l.createElement(mk,{style:{input:f.input},value:r,onChange:h})))};XT.propTypes={width:pd().oneOfType([pd().string,pd().number]),colors:pd().arrayOf(pd().string),triangle:pd().oneOf(["top","hide"]),styles:pd().object},XT.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},OE(XT);var YT="#ffcdd2",KT="#e57373",ZT="#f44336",JT="#d32f2f",QT="#b71c1c",eC="#f8bbd0",tC="#f06292",nC="#e91e63",rC="#c2185b",oC="#880e4f",iC="#e1bee7",aC="#ba68c8",sC="#9c27b0",lC="#7b1fa2",uC="#4a148c",cC="#d1c4e9",dC="#9575cd",pC="#673ab7",hC="#512da8",fC="#311b92",mC="#c5cae9",gC="#7986cb",bC="#3f51b5",yC="#303f9f",vC="#1a237e",xC="#bbdefb",wC="#64b5f6",kC="#2196f3",_C="#1976d2",SC="#0d47a1",EC="#b3e5fc",TC="#4fc3f7",CC="#03a9f4",IC="#0288d1",jC="#01579b",AC="#b2ebf2",OC="#4dd0e1",NC="#00bcd4",RC="#0097a7",PC="#006064",MC="#b2dfdb",DC="#4db6ac",LC="#009688",FC="#00796b",BC="#004d40",$C="#c8e6c9",zC="#81c784",UC="#4caf50",VC="#388e3c",GC="#dcedc8",WC="#aed581",HC="#8bc34a",qC="#689f38",XC="#33691e",YC="#f0f4c3",KC="#dce775",ZC="#cddc39",JC="#afb42b",QC="#827717",eI="#fff9c4",tI="#fff176",nI="#ffeb3b",rI="#fbc02d",oI="#f57f17",iI="#ffecb3",aI="#ffd54f",sI="#ffc107",lI="#ffa000",uI="#ff6f00",cI="#ffe0b2",dI="#ffb74d",pI="#ff9800",hI="#f57c00",fI="#e65100",mI="#ffccbc",gI="#ff8a65",bI="#ff5722",yI="#e64a19",vI="#bf360c",xI="#d7ccc8",wI="#a1887f",kI="#795548",_I="#5d4037",SI="#3e2723",EI="#cfd8dc",TI="#90a4ae",CI="#607d8b",II="#455a64",jI="#263238",AI=function(e){var t=e.color,n=e.onClick,r=e.onSwatchHover,o=e.hover,i=e.active,a=e.circleSize,s=e.circleSpacing,u=(0,ek.ZP)({default:{swatch:{width:a,height:a,marginRight:s,marginBottom:s,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:i});return l.createElement("div",{style:u.swatch},l.createElement(DE,{style:u.Swatch,color:t,onClick:n,onHover:r,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+t}}))};AI.defaultProps={circleSize:28,circleSpacing:14};const OI=(0,ek.tz)(AI);var NI=function(e){var t=e.width,n=e.onChange,r=e.onSwatchHover,o=e.colors,i=e.hex,a=e.circleSize,s=e.styles,u=void 0===s?{}:s,c=e.circleSpacing,d=e.className,p=void 0===d?"":d,h=(0,ek.ZP)(bS({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),f=function(e,t){return n({hex:e,source:"hex"},t)};return l.createElement("div",{style:h.card,className:"circle-picker "+p},HT(o,(function(e){return l.createElement(OI,{key:e,color:e,onClick:f,onSwatchHover:r,active:i===e.toLowerCase(),circleSize:a,circleSpacing:c})})))};NI.propTypes={width:pd().oneOfType([pd().string,pd().number]),circleSize:pd().number,circleSpacing:pd().number,styles:pd().object},NI.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[ZT,nC,sC,pC,bC,kC,CC,NC,LC,UC,HC,ZC,nI,sI,pI,bI,kI,CI],styles:{}},OE(NI);const RI=function(e){return void 0===e};var PI=i(3891),MI=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),DI=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.toggleViews=function(){"hex"===n.state.view?n.setState({view:"rgb"}):"rgb"===n.state.view?n.setState({view:"hsl"}):"hsl"===n.state.view&&(1===n.props.hsl.a?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(e,t){e.hex?TE(e.hex)&&n.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?n.props.onChange({r:e.r||n.props.rgb.r,g:e.g||n.props.rgb.g,b:e.b||n.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),n.props.onChange({h:e.h||n.props.hsl.h,s:Number(RI(e.s)?n.props.hsl.s:e.s),l:Number(RI(e.l)?n.props.hsl.l:e.l),source:"hsl"},t))},n.showHighlight=function(e){e.currentTarget.style.background="#eee"},n.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?n.state={view:"rgb"}:n.state={view:e.view},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),MI(t,[{key:"render",value:function(){var e=this,t=(0,ek.ZP)({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),n=void 0;return"hex"===this.state.view?n=l.createElement("div",{style:t.fields,className:"flexbox-fix"},l.createElement("div",{style:t.field},l.createElement(mk,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?n=l.createElement("div",{style:t.fields,className:"flexbox-fix"},l.createElement("div",{style:t.field},l.createElement(mk,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),l.createElement("div",{style:t.field},l.createElement(mk,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),l.createElement("div",{style:t.field},l.createElement(mk,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),l.createElement("div",{style:t.alpha},l.createElement(mk,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(n=l.createElement("div",{style:t.fields,className:"flexbox-fix"},l.createElement("div",{style:t.field},l.createElement(mk,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),l.createElement("div",{style:t.field},l.createElement(mk,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),l.createElement("div",{style:t.field},l.createElement(mk,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),l.createElement("div",{style:t.alpha},l.createElement(mk,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),l.createElement("div",{style:t.wrap,className:"flexbox-fix"},n,l.createElement("div",{style:t.toggle},l.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},l.createElement(PI.Z,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(l.Component);DI.defaultProps={view:"hex"};const LI=DI,FI=function(){var e=(0,ek.ZP)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return l.createElement("div",{style:e.picker})},BI=function(){var e=(0,ek.ZP)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return l.createElement("div",{style:e.picker})};var $I=function(e){var t=e.width,n=e.onChange,r=e.disableAlpha,o=e.rgb,i=e.hsl,a=e.hsv,s=e.hex,u=e.renderers,c=e.styles,d=void 0===c?{}:c,p=e.className,h=void 0===p?"":p,f=e.defaultView,m=(0,ek.ZP)(bS({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},d),{disableAlpha:r});return l.createElement("div",{style:m.picker,className:"chrome-picker "+h},l.createElement("div",{style:m.saturation},l.createElement(DS,{style:m.Saturation,hsl:i,hsv:a,pointer:BI,onChange:n})),l.createElement("div",{style:m.body},l.createElement("div",{style:m.controls,className:"flexbox-fix"},l.createElement("div",{style:m.color},l.createElement("div",{style:m.swatch},l.createElement("div",{style:m.active}),l.createElement(ik,{renderers:u}))),l.createElement("div",{style:m.toggles},l.createElement("div",{style:m.hue},l.createElement(vk,{style:m.Hue,hsl:i,pointer:FI,onChange:n})),l.createElement("div",{style:m.alpha},l.createElement(ck,{style:m.Alpha,rgb:o,hsl:i,pointer:FI,renderers:u,onChange:n})))),l.createElement(LI,{rgb:o,hsl:i,hex:s,view:f,onChange:n,disableAlpha:r})))};$I.propTypes={width:pd().oneOfType([pd().string,pd().number]),disableAlpha:pd().bool,styles:pd().object,defaultView:pd().oneOf(["hex","rgb","hsl"])},$I.defaultProps={width:225,disableAlpha:!1,styles:{}};const zI=OE($I),UI=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,i=e.active,a=(0,ek.ZP)({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:CE(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:i,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return l.createElement(DE,{style:a.color,color:t,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},l.createElement("div",{style:a.dot}))},VI=function(e){var t=e.hex,n=e.rgb,r=e.onChange,o=(0,ek.ZP)({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),i=function(e,t){e.r||e.g||e.b?r({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},t):r({hex:e.hex,source:"hex"},t)};return l.createElement("div",{style:o.fields,className:"flexbox-fix"},l.createElement("div",{style:o.active}),l.createElement(mk,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:i}),l.createElement(mk,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:i}),l.createElement(mk,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:i}),l.createElement(mk,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:i}))};var GI=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.colors,o=e.hex,i=e.rgb,a=e.styles,s=void 0===a?{}:a,u=e.className,c=void 0===u?"":u,d=(0,ek.ZP)(bS({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},s)),p=function(e,n){e.hex?TE(e.hex)&&t({hex:e.hex,source:"hex"},n):t(e,n)};return l.createElement(xS,{style:d.Compact,styles:s},l.createElement("div",{style:d.compact,className:"compact-picker "+c},l.createElement("div",null,HT(r,(function(e){return l.createElement(UI,{key:e,color:e,active:e.toLowerCase()===o,onClick:p,onSwatchHover:n})})),l.createElement("div",{style:d.clear})),l.createElement(VI,{hex:o,rgb:i,onChange:p})))};GI.propTypes={colors:pd().arrayOf(pd().string),styles:pd().object},GI.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},OE(GI);const WI=(0,ek.tz)((function(e){var t=e.hover,n=e.color,r=e.onClick,o=e.onSwatchHover,i={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=(0,ek.ZP)({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:i}},{hover:t});return l.createElement("div",{style:a.swatch},l.createElement(DE,{color:n,onClick:r,onHover:o,focusStyle:i}))}));var HI=function(e){var t=e.width,n=e.colors,r=e.onChange,o=e.onSwatchHover,i=e.triangle,a=e.styles,s=void 0===a?{}:a,u=e.className,c=void 0===u?"":u,d=(0,ek.ZP)(bS({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},s),{"hide-triangle":"hide"===i,"top-left-triangle":"top-left"===i,"top-right-triangle":"top-right"===i,"bottom-left-triangle":"bottom-left"===i,"bottom-right-triangle":"bottom-right"===i}),p=function(e,t){return r({hex:e,source:"hex"},t)};return l.createElement("div",{style:d.card,className:"github-picker "+c},l.createElement("div",{style:d.triangleShadow}),l.createElement("div",{style:d.triangle}),HT(n,(function(e){return l.createElement(WI,{color:e,key:e,onClick:p,onSwatchHover:o})})))};HI.propTypes={width:pd().oneOfType([pd().string,pd().number]),colors:pd().arrayOf(pd().string),triangle:pd().oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:pd().object},HI.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},OE(HI);var qI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XI=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.hsl,i=e.direction,a=e.pointer,s=e.styles,u=void 0===s?{}:s,c=e.className,d=void 0===c?"":c,p=(0,ek.ZP)(bS({default:{picker:{position:"relative",width:t,height:n},hue:{radius:"2px"}}},u));return l.createElement("div",{style:p.picker,className:"hue-picker "+d},l.createElement(vk,qI({},p.hue,{hsl:o,pointer:a,onChange:function(e){return r({a:1,h:e.h,l:.5,s:1})},direction:i})))};XI.propTypes={styles:pd().object},XI.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,n=(0,ek.ZP)({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return l.createElement("div",{style:n.picker})},styles:{}},OE(XI),OE((function(e){var t=e.onChange,n=e.hex,r=e.rgb,o=e.styles,i=void 0===o?{}:o,a=e.className,s=void 0===a?"":a,u=(0,ek.ZP)(bS({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},i)),c=function(e,n){e.hex?TE(e.hex)&&t({hex:e.hex,source:"hex"},n):(e.r||e.g||e.b)&&t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},n)};return l.createElement(xS,{styles:i},l.createElement("div",{style:u.material,className:"material-picker "+s},l.createElement(mk,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:c}),l.createElement("div",{style:u.split,className:"flexbox-fix"},l.createElement("div",{style:u.third},l.createElement(mk,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:r.r,onChange:c})),l.createElement("div",{style:u.third},l.createElement(mk,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:r.g,onChange:c})),l.createElement("div",{style:u.third},l.createElement(mk,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:r.b,onChange:c})))))}));const YI=function(e){var t=e.onChange,n=e.rgb,r=e.hsv,o=e.hex,i=(0,ek.ZP)({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(e,o){e["#"]?TE(e["#"])&&t({hex:e["#"],source:"hex"},o):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},o):(e.h||e.s||e.v)&&t({h:e.h||r.h,s:e.s||r.s,v:e.v||r.v,source:"hsv"},o)};return l.createElement("div",{style:i.fields},l.createElement(mk,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"h",value:Math.round(r.h),onChange:a}),l.createElement(mk,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"s",value:Math.round(100*r.s),onChange:a}),l.createElement(mk,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"v",value:Math.round(100*r.v),onChange:a}),l.createElement("div",{style:i.divider}),l.createElement(mk,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:n.r,onChange:a}),l.createElement(mk,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:n.g,onChange:a}),l.createElement(mk,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:n.b,onChange:a}),l.createElement("div",{style:i.divider}),l.createElement(mk,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),l.createElement("div",{style:i.fieldSymbols},l.createElement("div",{style:i.symbol},""),l.createElement("div",{style:i.symbol},"%"),l.createElement("div",{style:i.symbol},"%")))},KI=function(e){var t=e.hsl,n=(0,ek.ZP)({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return l.createElement("div",{style:n.picker})},ZI=function(){var e=(0,ek.ZP)({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return l.createElement("div",{style:e.pointer},l.createElement("div",{style:e.left},l.createElement("div",{style:e.leftInside})),l.createElement("div",{style:e.right},l.createElement("div",{style:e.rightInside})))},JI=function(e){var t=e.onClick,n=e.label,r=e.children,o=e.active,i=(0,ek.ZP)({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return l.createElement("div",{style:i.button,onClick:t},n||r)},QI=function(e){var t=e.rgb,n=e.currentColor,r=(0,ek.ZP)({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return l.createElement("div",null,l.createElement("div",{style:r.label},"new"),l.createElement("div",{style:r.swatches},l.createElement("div",{style:r.new}),l.createElement("div",{style:r.current})),l.createElement("div",{style:r.label},"current"))};var ej=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),tj=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.state={currentColor:e.hex},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),ej(t,[{key:"render",value:function(){var e=this.props,t=e.styles,n=void 0===t?{}:t,r=e.className,o=void 0===r?"":r,i=(0,ek.ZP)(bS({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},n));return l.createElement("div",{style:i.picker,className:"photoshop-picker "+o},l.createElement("div",{style:i.head},this.props.header),l.createElement("div",{style:i.body,className:"flexbox-fix"},l.createElement("div",{style:i.saturation},l.createElement(DS,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:KI,onChange:this.props.onChange})),l.createElement("div",{style:i.hue},l.createElement(vk,{direction:"vertical",hsl:this.props.hsl,pointer:ZI,onChange:this.props.onChange})),l.createElement("div",{style:i.controls},l.createElement("div",{style:i.top,className:"flexbox-fix"},l.createElement("div",{style:i.previews},l.createElement(QI,{rgb:this.props.rgb,currentColor:this.state.currentColor})),l.createElement("div",{style:i.actions},l.createElement(JI,{label:"OK",onClick:this.props.onAccept,active:!0}),l.createElement(JI,{label:"Cancel",onClick:this.props.onCancel}),l.createElement(YI,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(l.Component);tj.propTypes={header:pd().string,styles:pd().object},tj.defaultProps={header:"Color Picker",styles:{}},OE(tj);const nj=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,i=e.disableAlpha,a=(0,ek.ZP)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:i}),s=function(e,o){e.hex?TE(e.hex)&&t({hex:e.hex,source:"hex"},o):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},o):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:r.h,s:r.s,l:r.l,a:e.a,source:"rgb"},o))};return l.createElement("div",{style:a.fields,className:"flexbox-fix"},l.createElement("div",{style:a.double},l.createElement(mk,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:s})),l.createElement("div",{style:a.single},l.createElement(mk,{style:{input:a.input,label:a.label},label:"r",value:n.r,onChange:s,dragLabel:"true",dragMax:"255"})),l.createElement("div",{style:a.single},l.createElement(mk,{style:{input:a.input,label:a.label},label:"g",value:n.g,onChange:s,dragLabel:"true",dragMax:"255"})),l.createElement("div",{style:a.single},l.createElement(mk,{style:{input:a.input,label:a.label},label:"b",value:n.b,onChange:s,dragLabel:"true",dragMax:"255"})),l.createElement("div",{style:a.alpha},l.createElement(mk,{style:{input:a.input,label:a.label},label:"a",value:Math.round(100*n.a),onChange:s,dragLabel:"true",dragMax:"100"})))};var rj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oj=function(e){var t=e.colors,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,i=(0,ek.ZP)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(e,t){r({hex:e,source:"hex"},t)};return l.createElement("div",{style:i.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,n=""+t.color+(t.title||"");return l.createElement("div",{key:n,style:i.swatchWrap},l.createElement(DE,rj({},t,{style:i.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};oj.propTypes={colors:pd().arrayOf(pd().oneOfType([pd().string,pd().shape({color:pd().string,title:pd().string})])).isRequired};const ij=oj;var aj=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sj=function(e){var t=e.width,n=e.rgb,r=e.hex,o=e.hsv,i=e.hsl,a=e.onChange,s=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,d=e.renderers,p=e.styles,h=void 0===p?{}:p,f=e.className,m=void 0===f?"":f,g=(0,ek.ZP)(bS({default:aj({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},h),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},h),{disableAlpha:u});return l.createElement("div",{style:g.picker,className:"sketch-picker "+m},l.createElement("div",{style:g.saturation},l.createElement(DS,{style:g.Saturation,hsl:i,hsv:o,onChange:a})),l.createElement("div",{style:g.controls,className:"flexbox-fix"},l.createElement("div",{style:g.sliders},l.createElement("div",{style:g.hue},l.createElement(vk,{style:g.Hue,hsl:i,onChange:a})),l.createElement("div",{style:g.alpha},l.createElement(ck,{style:g.Alpha,rgb:n,hsl:i,renderers:d,onChange:a}))),l.createElement("div",{style:g.color},l.createElement(ik,null),l.createElement("div",{style:g.activeColor}))),l.createElement(nj,{rgb:n,hsl:i,hex:r,onChange:a,disableAlpha:u}),l.createElement(ij,{colors:c,onClick:a,onSwatchHover:s}))};sj.propTypes={disableAlpha:pd().bool,width:pd().oneOfType([pd().string,pd().number]),styles:pd().object},sj.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},OE(sj);const lj=function(e){var t=e.hsl,n=e.offset,r=e.onClick,o=void 0===r?function(){}:r,i=e.active,a=e.first,s=e.last,u=(0,ek.ZP)({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*n+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:i,first:a,last:s});return l.createElement("div",{style:u.swatch,onClick:function(e){return o({h:t.h,s:.5,l:n,source:"hsl"},e)}})},uj=function(e){var t=e.onClick,n=e.hsl,r=(0,ek.ZP)({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return l.createElement("div",{style:r.swatches},l.createElement("div",{style:r.swatch},l.createElement(lj,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<o&&Math.abs(n.s-.5)<o,onClick:t,first:!0})),l.createElement("div",{style:r.swatch},l.createElement(lj,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<o&&Math.abs(n.s-.5)<o,onClick:t})),l.createElement("div",{style:r.swatch},l.createElement(lj,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<o&&Math.abs(n.s-.5)<o,onClick:t})),l.createElement("div",{style:r.swatch},l.createElement(lj,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<o&&Math.abs(n.s-.5)<o,onClick:t})),l.createElement("div",{style:r.swatch},l.createElement(lj,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<o&&Math.abs(n.s-.5)<o,onClick:t,last:!0})),l.createElement("div",{style:r.clear}))};var cj=function(e){var t=e.hsl,n=e.onChange,r=e.pointer,o=e.styles,i=void 0===o?{}:o,a=e.className,s=void 0===a?"":a,u=(0,ek.ZP)(bS({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},i));return l.createElement("div",{style:u.wrap||{},className:"slider-picker "+s},l.createElement("div",{style:u.hue},l.createElement(vk,{style:u.Hue,hsl:t,pointer:r,onChange:n})),l.createElement("div",{style:u.swatches},l.createElement(uj,{hsl:t,onClick:n})))};cj.propTypes={styles:pd().object},cj.defaultProps={pointer:function(){var e=(0,ek.ZP)({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return l.createElement("div",{style:e.picker})},styles:{}},OE(cj);var dj=i(597);const pj=function(e){var t=e.color,n=e.onClick,r=void 0===n?function(){}:n,o=e.onSwatchHover,i=e.first,a=e.last,s=e.active,u=(0,ek.ZP)({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:CE(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:i,last:a,active:s,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return l.createElement(DE,{color:t,style:u.color,onClick:r,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},l.createElement("div",{style:u.check},l.createElement(dj.Z,null)))},hj=function(e){var t=e.onClick,n=e.onSwatchHover,r=e.group,o=e.active,i=(0,ek.ZP)({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return l.createElement("div",{style:i.group},HT(r,(function(e,i){return l.createElement(pj,{key:e,color:e,active:e.toLowerCase()===o,first:0===i,last:i===r.length-1,onClick:t,onSwatchHover:n})})))};var fj=function(e){var t=e.width,n=e.height,r=e.onChange,o=e.onSwatchHover,i=e.colors,a=e.hex,s=e.styles,u=void 0===s?{}:s,c=e.className,d=void 0===c?"":c,p=(0,ek.ZP)(bS({default:{picker:{width:t,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),h=function(e,t){return r({hex:e,source:"hex"},t)};return l.createElement("div",{style:p.picker,className:"swatches-picker "+d},l.createElement(xS,null,l.createElement("div",{style:p.overflow},l.createElement("div",{style:p.body},HT(i,(function(e){return l.createElement(hj,{key:e.toString(),group:e,active:a,onClick:h,onSwatchHover:o})})),l.createElement("div",{style:p.clear})))))};fj.propTypes={width:pd().oneOfType([pd().string,pd().number]),height:pd().oneOfType([pd().string,pd().number]),colors:pd().arrayOf(pd().arrayOf(pd().string)),styles:pd().object},fj.defaultProps={width:320,height:240,colors:[[QT,JT,ZT,KT,YT],[oC,rC,nC,tC,eC],[uC,lC,sC,aC,iC],[fC,hC,pC,dC,cC],[vC,yC,bC,gC,mC],[SC,_C,kC,wC,xC],[jC,IC,CC,TC,EC],[PC,RC,NC,OC,AC],[BC,FC,LC,DC,MC],["#194D33",VC,UC,zC,$C],[XC,qC,HC,WC,GC],[QC,JC,ZC,KC,YC],[oI,rI,nI,tI,eI],[uI,lI,sI,aI,iI],[fI,hI,pI,dI,cI],[vI,yI,bI,gI,mI],[SI,_I,kI,wI,xI],[jI,II,CI,TI,EI],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},OE(fj);var mj=function(e){var t=e.onChange,n=e.onSwatchHover,r=e.hex,o=e.colors,i=e.width,a=e.triangle,s=e.styles,u=void 0===s?{}:s,c=e.className,d=void 0===c?"":c,p=(0,ek.ZP)(bS({default:{card:{width:i,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a}),h=function(e,n){TE(e)&&t({hex:e,source:"hex"},n)};return l.createElement("div",{style:p.card,className:"twitter-picker "+d},l.createElement("div",{style:p.triangleShadow}),l.createElement("div",{style:p.triangle}),l.createElement("div",{style:p.body},HT(o,(function(e,t){return l.createElement(DE,{key:t,color:e,hex:e,style:p.swatch,onClick:h,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),l.createElement("div",{style:p.hash},"#"),l.createElement(mk,{label:null,style:{input:p.input},value:r.replace("#",""),onChange:h}),l.createElement("div",{style:p.clear})))};mj.propTypes={width:pd().oneOfType([pd().string,pd().number]),triangle:pd().oneOf(["hide","top-left","top-right"]),colors:pd().arrayOf(pd().string),styles:pd().object},mj.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},OE(mj);var gj=function(e){var t=(0,ek.ZP)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return l.createElement("div",{style:t.picker})};gj.propTypes={hsl:pd().shape({h:pd().number,s:pd().number,l:pd().number,a:pd().number})},gj.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const bj=gj;var yj=function(e){var t=(0,ek.ZP)({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return l.createElement("div",{style:t.picker})};yj.propTypes={hsl:pd().shape({h:pd().number,s:pd().number,l:pd().number,a:pd().number})},yj.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};const vj=yj,xj=function(e){var t=e.onChange,n=e.rgb,r=e.hsl,o=e.hex,i=e.hsv,a=function(e,n){if(e.hex)TE(e.hex)&&t({hex:e.hex,source:"hex"},n);else if(e.rgb){var r=e.rgb.split(",");IE(e.rgb,"rgb")&&t({r:r[0],g:r[1],b:r[2],a:1,source:"rgb"},n)}else if(e.hsv){var o=e.hsv.split(",");IE(e.hsv,"hsv")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("",""),1==o[1]?o[1]=.01:1==o[2]&&(o[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsv"},n))}else if(e.hsl){var i=e.hsl.split(",");IE(e.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("",""),1==d[1]?d[1]=.01:1==d[2]&&(d[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},n))}},s=(0,ek.ZP)({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=n.r+", "+n.g+", "+n.b,c=Math.round(r.h)+", "+Math.round(100*r.s)+"%, "+Math.round(100*r.l)+"%",d=Math.round(i.h)+", "+Math.round(100*i.s)+"%, "+Math.round(100*i.v)+"%";return l.createElement("div",{style:s.wrap,className:"flexbox-fix"},l.createElement("div",{style:s.fields},l.createElement("div",{style:s.double},l.createElement(mk,{style:{input:s.input,label:s.label},label:"hex",value:o,onChange:a})),l.createElement("div",{style:s.column},l.createElement("div",{style:s.single},l.createElement(mk,{style:{input:s.input2,label:s.label2},label:"rgb",value:u,onChange:a})),l.createElement("div",{style:s.single},l.createElement(mk,{style:{input:s.input2,label:s.label2},label:"hsv",value:d,onChange:a})),l.createElement("div",{style:s.single},l.createElement(mk,{style:{input:s.input2,label:s.label2},label:"hsl",value:c,onChange:a})))))};var wj=function(e){var t=e.width,n=e.onChange,r=e.rgb,o=e.hsl,i=e.hsv,a=e.hex,s=e.header,u=e.styles,c=void 0===u?{}:u,d=e.className,p=void 0===d?"":d,h=(0,ek.ZP)(bS({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+r.r+", "+r.g+", "+r.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return l.createElement("div",{style:h.picker,className:"google-picker "+p},l.createElement("div",{style:h.head},s),l.createElement("div",{style:h.swatch}),l.createElement("div",{style:h.saturation},l.createElement(DS,{hsl:o,hsv:i,pointer:bj,onChange:n})),l.createElement("div",{style:h.body},l.createElement("div",{style:h.controls,className:"flexbox-fix"},l.createElement("div",{style:h.hue},l.createElement(vk,{style:h.Hue,hsl:o,radius:"4px",pointer:vj,onChange:n}))),l.createElement(xj,{rgb:r,hsl:o,hex:a,hsv:i,onChange:n})))};wj.propTypes={width:pd().oneOfType([pd().string,pd().number]),styles:pd().object,header:pd().string},wj.defaultProps={width:652,styles:{},header:"Color picker"},OE(wj);const kj=()=>{const[e,t]=(0,l.useState)("#99C2D0"),[n,r]=(0,l.useState)([]),[o,i]=(0,l.useState)(null),[a,s]=(0,l.useState)(null),[u,c]=(0,l.useState)(!1),d=["",""],p=(e,t,n,r)=>{e.beginShape();for(let o=0;o<20;o++){const i=e.TWO_PI-o/1/e.HALF_PI,a=t+e.cos(i)-r,s=n-e.sin(i)-r;e.vertex(a,s);const l=i-e.HALF_PI/2,u=t+e.cos(l)-r-.5,c=n+e.sin(l)-r-.5;e.vertex(u,c)}e.endShape(e.CLOSE)};return l.createElement("div",null,l.createElement("div",{className:"color-button"},l.createElement(zI,{color:e,onChangeComplete:e=>(e=>{t(e.hex)})(e)})),l.createElement(Yw(),{className:"fluid",setup:(e,t)=>{e.createCanvas(1220,750).parent(t),e.background(0,0,255);const n=[];for(let t=0;t<1e3;t++){const t=e.random(e.width),r=e.random(e.height),o=e.random(-1,1),i=e.random(-1,1);n.push({x:t,y:r,dx:o,dy:i})}r(n)},draw:t=>{t.clear(),t.background(0,20,20);for(let r=0;r<n.length;r++){let{x:i,y:s,dx:l,dy:c}=n[r];if(u?(l=t.random(-1,1),c=t.random(-1,1),t.fill(t.random()>.5?"#FF0000":"#FFFF00")):t.fill(e),null!==o&&null!==a){const e=t.dist(i,s,o,a);e>1&&(i+=(o-i)/e,s+=(a-s)/e)}else i+=l,s+=c,(i<0||i>t.width)&&(l*=-1),(s<0||s>t.height)&&(c*=-1);t.noStroke(),p(t,i,s,6),n[r]={x:i,y:s,dx:l,dy:c}}},mousePressed:e=>{i(e.mouseX),s(e.mouseY),c(!0)},mouseReleased:e=>{i(null),s(null),c(!1);const n=d[Math.floor(Math.random()*d.length)];t(n)}}))};var _j=i(7328),Sj={};Sj.styleTagTransform=_(),Sj.setAttributes=v(),Sj.insert=b().bind(null,"head"),Sj.domAPI=m(),Sj.insertStyleElement=w(),h()(_j.Z,Sj),_j.Z&&_j.Z.locals&&_j.Z.locals;const Ej=()=>{const[e,t]=(0,l.useState)(!1),[n]=(0,l.useState)([]),[r,o]=(0,l.useState)("ellipse"),[i,a]=(0,l.useState)([]),[s,u]=(0,l.useState)(null),[c,d]=(0,l.useState)("#242424"),[p,h]=(0,l.useState)("#14DCEB"),[f,m]=(0,l.useState)(1);return l.createElement("div",null,l.createElement("div",{className:"sketch-controls"},l.createElement("label",{htmlFor:"backgroundColor"},"BACKGROUND COLOR"),l.createElement("input",{type:"color",id:"backgroundColor",value:c,onChange:e=>{d(e.target.value)}}),l.createElement("label",{htmlFor:"shapeColor"},"SHAPE COLOR"),l.createElement("input",{type:"color",id:"shapeColor",value:p,onChange:e=>{h(e.target.value)}}),l.createElement("label",{htmlFor:"lineThickness"},"SIZE"),l.createElement("input",{className:"lineThickness",type:"range",id:"lineThickness",min:"1",max:"10",value:f,onChange:e=>{m(parseInt(e.target.value))},style:{backgroundColor:"red",color:"white",border:"1px solid transparent"}})),l.createElement("div",{className:"sketch-buttons"},l.createElement("button",{onClick:()=>{o("ellipse")}},"DRAW CIRCULE"),l.createElement("button",{onClick:()=>{o("line")}},"DRAW LINES"),l.createElement("button",{onClick:()=>{o("snowflake")}},"DRAW CIRCULES")),l.createElement(Yw(),{setup:(e,t)=>{e.createCanvas(724,568).parent(t),e.frameRate(60)},draw:o=>{if(o.background(c),t(o.mouseX>0&&o.mouseX<o.width&&o.mouseY>0&&o.mouseY<o.height),o.mouseIsPressed&&e)if("ellipse"===r){const e={type:"ellipse",x:o.mouseX,y:o.mouseY,size:5,color:p};a([...i,e])}else if("line"!==r||s){if("line"===r&&s){const e={type:"line",startX:s.x,startY:s.y,endX:o.mouseX,endY:o.mouseY,color:p};a([...i,e])}else if("snowflake"===r){const e={type:"snowflake",x:o.mouseX,y:o.mouseY,color:p};a([...i,e])}}else u({x:o.mouseX,y:o.mouseY});o.strokeWeight(f);for(const e of n)for(const t of e)o.stroke(t.color),"ellipse"===t.type?o.ellipse(t.x,t.y,t.size,t.size):"line"===t.type?o.line(t.startX,t.startY,t.endX,t.endY):"snowflake"===t.type&&o.text("*",t.x,t.y);for(const e of i)o.stroke(e.color),"ellipse"===e.type?o.ellipse(e.x,e.y,e.size,e.size):"line"===e.type?o.line(e.startX,e.startY,e.endX,e.endY):"snowflake"===e.type&&o.text("*",e.x,e.y)},className:"draw-container"}))};i(2778);const Tj=i.p+"assets/suns-soleil.mp4",Cj=i.p+"assets/beat.wav",Ij=i.p+"assets/ojo.wav",jj=i.p+"assets/soho.wav",Aj=i.p+"assets/rising.wav",Oj=i.p+"assets/space.wav",Nj=i.p+"assets/suzi.jpg",Rj=i.p+"assets/harm.jpg",Pj=i.p+"assets/goyl.jpg";var Mj=i(5712),Dj={};Dj.styleTagTransform=_(),Dj.setAttributes=v(),Dj.insert=b().bind(null,"head"),Dj.domAPI=m(),Dj.insertStyleElement=w(),h()(Mj.Z,Dj),Mj.Z&&Mj.Z.locals&&Mj.Z.locals;let Lj,Fj,Bj,$j,zj,Uj,Vj,Gj,Wj,Hj=!1,qj=!1,Xj=!1,Yj=!1,Kj=!1,Zj=!1,Jj=!1,Qj=!1,eA=!0,tA=!1,nA=0,rA=[],oA=100,iA=0,aA=100,sA=0,lA=100,uA=0,cA=0;function dA(e,t,n,r){e.fill(280,20,50),e.beginShape();for(let o=0;o<5;o++){let i=e.TWO_PI*o/8-e.HALF_PI,a=t*e.cos(i)*r,s=n*e.sin(i)*r;e.vertex(a,s),i+=e.TWO_PI/10;let l=t/e.cos(i)/r/2,u=n/e.sin(i)/r/2;e.vertex(l,u)}e.endShape(e.CLOSE)}const pA=e=>l.createElement(Yw(),{className:"sketch",setup:(e,t)=>{e.createCanvas(1200,500,e.WEBGL).parent(t)},draw:e=>{if(e.keyIsDown(86)&&!Qj?(Uj.loop(),Qj=!0):!e.keyIsDown(86)&&Qj&&(Uj.pause(),Qj=!1),Qj){const t=350,n=t/-Uj.width*-Uj.height;e.image(Uj,0,0,t,n)}else e.background(255,0,0);const t=e.keyIsDown(76);if(t&&!Hj&&(cA=0,qj?(Lj.stop(),Fj.stop(),Bj.stop(),$j.stop(),qj=!1):(Lj.loop(),Fj.loop(),Bj.loop(),$j.loop(),qj=!0)),Hj=t,t&&(e.push(),e.translate(0,0,-200),e.rotateX(cA),e.rotateY(cA),e.box(90),e.pop(),cA+=.01),Xj&&Lj.isPlaying()){e.push();const t=e.sin(iA);oA=e.map(t,-1,1,50,900),iA+=.5,e.translate(e.width/-50,e.height/24,-700),e.image(Vj,-oA/2,-oA/2+0,oA,oA),e.pop()}if(e.keyIsDown(66)&&!Xj?(Lj.loop(),Xj=!0):!e.keyIsDown(66)&&Xj&&(Lj.stop(),Xj=!1),Yj&&Fj.isPlaying()){e.push();const t=e.sin(sA);aA=e.map(t,-1,1,50,900),sA+=.5;const n=1.5*e.width/1.6;e.translate(n,e.height/8,-700),e.image(Gj,-aA/2,-aA/2+0,aA,aA),e.pop()}if(e.keyIsDown(75)&&!Yj?(Fj.loop(),Yj=!0):!e.keyIsDown(75)&&Yj&&(Fj.stop(),Yj=!1),Kj&&Bj.isPlaying()){e.push();const t=e.sin(uA);lA=e.map(t,-1,1,50,900),uA+=.5,e.translate(e.width/-1,e.height/8,-700),e.image(Wj,-lA/2,-lA/2+0,lA,lA),e.pop()}if(e.keyIsDown(83)&&!Kj?(Bj.loop(),Kj=!0):!e.keyIsDown(83)&&Kj&&(Bj.stop(),Kj=!1),e.keyIsDown(72)&&!Zj?($j.loop(),Zj=!0):!e.keyIsDown(72)&&Zj&&($j.stop(),Zj=!1),e.keyIsDown(72)&&!tA?(tA=!0,nA=50):!e.keyIsDown(72)&&tA&&(tA=!1),tA){e.fill(350,4,309);const t=e.width/-60,n=e.height/60;e.ellipse(t,n,nA,nA),eA?(nA+=10,nA>200&&(nA=200,eA=!1)):(nA-=5,nA<5&&(nA=5,eA=!0))}e.keyIsDown(82)&&!Jj?(zj.loop(),Jj=!0):!e.keyIsDown(82)&&Jj&&(zj.stop(),Jj=!1,rA=[]);for(let t=0;t<rA.length;t++)dA(e,rA[t].x,rA[t].y,rA[t].radius);if(e.keyIsPressed&&e.keyIsDown(82)){rA.push({x:e.random(e.width),y:e.random(e.height),radius:5,growing:!0});for(let e=0;e<rA.length;e++)rA[e].growing?(rA[e].radius+=2,rA[e].radius>30&&(rA[e].growing=!1)):(rA[e].radius-=1,rA[e].radius<5&&(rA[e].growing=!0))}},preload:e=>{Lj=e.loadSound(Cj),Fj=e.loadSound(Ij),Bj=e.loadSound(jj),$j=e.loadSound(Aj),zj=e.loadSound(Oj),Vj=e.loadImage(Nj),Gj=e.loadImage(Rj),Wj=e.loadImage(Pj),Uj=e.createVideo([Tj]),Uj.hide()},remove:e=>{Uj.remove()}});var hA=i(6669),fA={};fA.styleTagTransform=_(),fA.setAttributes=v(),fA.insert=b().bind(null,"head"),fA.domAPI=m(),fA.insertStyleElement=w(),h()(hA.Z,fA),hA.Z&&hA.Z.locals&&hA.Z.locals;const mA=()=>{const[e,t]=(0,l.useState)({r:145,g:160,b:220}),[n,r]=(0,l.useState)(!1),[o,i]=(0,l.useState)(null),[a,s]=(0,l.useState)(!1),[u,c]=(0,l.useState)(!0),d=(0,l.useRef)(null),p=[];return l.createElement("div",null,l.createElement("div",{className:"color-button-container"},l.createElement("button",{className:"color-buttons",onClick:()=>{r((e=>!e))}},"PICK COLOR"),n&&l.createElement(zI,{color:e,onChange:e=>{t(e.rgb)},onClose:()=>{r(!1)}})),l.createElement(Yw(),{className:"fluid",setup:(e,t)=>{e.createCanvas(1024,768).parent(t),o?e.background(255,5,50):e.background(255,55,50),e.frameRate(60)},draw:t=>{if(o||t.background(250),u&&t.frameCount%60<30)if(t.textAlign(t.CENTER),t.textSize(30),t.textFont("Array"),t.fill(550,0,0),t.frameCount<230)t.frameCount%60<15&&t.text("DONT BE SHY!!",t.width/2,t.height/2-50);else{const e="PRESS U TO UPLOAD YOUR PHOTOS",n="CLICK INSIDE THE CANVAS TO DRAW YOUR IMAGE WITH THE CHOSEN COLOR";t.text(e,t.width/2,t.height/2-50),t.text(n,t.width/2,t.height/2-20)}o&&!d.current&&(d.current={user:t.loadImage(o,(()=>{console.log("User image loaded successfully.")}))});for(let n=p.length-1;n>=0;n--)t.noFill(),t.stroke(e.r,e.g,e.b),t.ellipse(p[n].x,p[n].y,p[n].radius,p[n].radius),p[n].growing&&(p[n].radius-=5),p[n].radius>=340&&p.splice(n,1)},keyPressed:e=>{if("u"===e.key||"U"===e.key){c(!1);const e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=e=>{const t=e.target.files[0],n=new FileReader;n.onload=e=>{i(e.target.result),s(!0)},n.readAsDataURL(t)},e.click()}},mousePressed:e=>{if(a&&o&&d.current&&d.current.user){const t=e.mouseX,n=e.mouseY,r=100;e.image(d.current.user,t-r/2,n-r/2,r,r),p.push({x:t,y:n,radius:0,growing:!0})}},mouseReleased:()=>{p.forEach((e=>{e.growing=!1}))}}))},gA=i.p+"assets/llanto.wav";let bA;const yA=()=>{const[e,t]=(0,l.useState)(!1),[n]=(0,l.useState)([]),[r,o]=(0,l.useState)([]),[i,a]=(0,l.useState)([]),[s,u]=(0,l.useState)(!0),[c,d]=(0,l.useState)(!1),p=new Set;(0,l.useEffect)((()=>{bA=new Audio(gA),bA.loop=!0,bA.load()}),[]);const h=()=>{bA.pause(),bA.currentTime=0,d(!1)};return l.createElement("div",null,e?l.createElement(Yw(),{setup:(e,t)=>{e.createCanvas(1400,700).parent(t),e.frameRate(60);for(let t=0;t<200;t++)n.push({x:e.random(e.width),y:e.random(e.height),size:e.random(.1,2),opacity:e.random(150,255),speed:e.random(1,3)})},draw:e=>{e.background(0);let t=e.mouseX>=0&&e.mouseX<=e.width&&e.mouseY>=0&&e.mouseY<=e.height;for(const t of n){if(!p.has(t)){const n=e.atan2(e.mouseY-t.y,e.mouseX-t.x);t.x+=t.speed*e.cos(n),t.y+=t.speed*e.sin(n),e.dist(t.x,t.y,e.mouseX,e.mouseY)<5&&p.add(t)}e.stroke(255,0,0,t.opacity),e.noFill(),e.ellipse(t.x,t.y,t.size,t.size)}200===p.size&&t&&(c||(bA.play(),d(!0)));for(const t of r){e.beginShape();for(const{x:n,y:r}of t)e.vertex(n,r);e.endShape()}if(s){e.stroke(255,50),e.noFill(),e.beginShape();for(const{x:t,y:n}of i)e.vertex(t,n);e.endShape()}},mouseMoved:e=>{s&&a((t=>[...t,{x:e.mouseX,y:e.mouseY}]))},mouseReleased:()=>{o((e=>[...e,i])),a([])},mouseLeave:()=>{u(!1),h()},mouseClicked:e=>{c&&(h(),(e=>{p.clear();for(let t=0;t<200;t++)n[t]={x:e.random(e.width),y:e.random(e.height),size:e.random(.1,2),opacity:e.random(150,255),speed:e.random(1,3)}})(e))}}):l.createElement("button",{className:"button-permission",onClick:()=>{bA&&!e&&bA.play().then((()=>{t(!0),h()})).catch((e=>{console.error("Error playing audio:",e)}))}},"ALLOW AUDIO"))};var vA=i(5171),xA={};xA.styleTagTransform=_(),xA.setAttributes=v(),xA.insert=b().bind(null,"head"),xA.domAPI=m(),xA.insertStyleElement=w(),h()(vA.Z,xA),vA.Z&&vA.Z.locals&&vA.Z.locals;const wA=()=>{const[e,t]=(0,l.useState)(""),[n,r]=(0,l.useState)([]),[o,i]=(0,l.useState)(0),[a,s]=(0,l.useState)(0);return l.createElement("div",{className:"iaStyles"},l.createElement("h1",null,"Simple Model Component"),l.createElement("p",null,"Ingrese los comandos de p5.js:"),l.createElement("ul",null,l.createElement("li",null,"Para dibujar una elipse: 'ellipse 100 100 50 80' (x, y, ancho, alto)"),l.createElement("li",null,"Para dibujar una lnea: 'line 50 50 200 200' (x1, y1, x2, y2)"),l.createElement("li",null,"Para dibujar un rectngulo: 'rect 50 50 100 80' (x, y, ancho, alto)"),l.createElement("li",null,"Para dibujar un tringulo: 'triangle 50 50 100 100 150 50' (x1, y1, x2, y2, x3, y3)"),l.createElement("li",null,"Para dibujar un arco: 'arc 50 50 100 100 0 3.14' (x, y, ancho, alto, nguloInicial, nguloFinal)"),l.createElement("li",null,"Para dibujar un cuadriltero: 'quad 50 50 150 50 200 150 100 200' (x1, y1, x2, y2, x3, y3, x4, y4)"),l.createElement("li",null,"Para dibujar un punto: 'point 50 50' (x, y)")),l.createElement("p",null,"Ingrese un valor para la deformacin: "),l.createElement("form",{onSubmit:n=>{n.preventDefault(),r((t=>[...t,e])),t("")}},l.createElement("input",{type:"text",value:e,onChange:e=>{t(e.target.value)},placeholder:"Ingrese los comandos de p5.js"}),l.createElement("button",{type:"submit"},"Agregar Comando")),l.createElement("label",null,"Movimiento:",l.createElement("input",{type:"number",value:a,onChange:e=>{s(Number(e.target.value))}})),l.createElement("label",null,"Deformacin:",l.createElement("input",{type:"number",value:o,onChange:e=>{i(Number(e.target.value))}})),l.createElement(Yw(),{setup:(e,t)=>{e.createCanvas(400,400).parent(t),e.background(0,0,255)},draw:e=>{e.background(0,0,255),n.forEach((t=>{e.stroke(255),e.strokeWeight(2);const[n,...r]=t.split(" ");if("ellipse"===n&&4===r.length){const[t,n,i,s]=r.map(Number),l=(0!==o&&e.random(-20,20),0!==o&&e.random(-20,20),0!==o?e.random(-20,20)+i:i),u=0!==o?e.random(-20,20)+s:s,c=0!==a?a:0,d=0!==a?a:0;e.ellipse(t+c,n+d,l,u)}else if("line"===n&&4===r.length){const[t,n,i,a]=r.map(Number),s=0!==o?e.random(-20,20):0,l=0!==o?e.random(-20,20):0,u=0!==o?e.random(-20,20):0,c=0!==o?e.random(-20,20):0;e.line(t+s,n+l,i+u,a+c)}else if("rect"===n&&4===r.length){const[t,n,i,a]=r.map(Number),s=0!==o?e.random(-20,20):0,l=0!==o?e.random(-20,20):0,u=0!==o?e.random(-20,20)+i:i,c=0!==o?e.random(-20,20)+a:a;e.rect(t+s,n+l,u,c)}else if("triangle"===n&&6===r.length){const[t,n,i,a,s,l]=r.map(Number),u=0!==o?e.random(-20,20):0,c=0!==o?e.random(-20,20):0,d=0!==o?e.random(-20,20):0,p=0!==o?e.random(-20,20):0,h=0!==o?e.random(-20,20):0,f=0!==o?e.random(-20,20):0;e.triangle(t+u,n+c,i+d,a+p,s+h,l+f)}else if("arc"===n&&6===r.length){const[t,n,i,a,s,l]=r.map(Number),u=0!==o?i+e.random(-20,20):i,c=0!==o?a+e.random(-20,20):a;e.arc(t,n,u,c,s,l)}else if("quad"===n&&8===r.length){const[t,n,o,i,a,s,l,u]=r.map(Number);e.quad(t,n,o,i,a,s,l,u)}else if("point"===n&&2===r.length){const[t,n]=r.map(Number);e.point(t,n)}}))}}))};class kA{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class _A{refCount(e){return SA("refCount")}incRef(e){return SA("incRef")}timerAvailable(){return!0}time(e){return SA("time")}read(e){return SA("read")}readSync(e){return SA("readSync")}readToGPU(e,t){return SA("readToGPU")}numDataIds(){return SA("numDataIds")}disposeData(e,t){return SA("disposeData")}write(e,t,n){return SA("write")}move(e,t,n,r,o){return SA("move")}createTensorFromGPUData(e,t,n){return SA("createTensorFromGPUData")}memory(){return SA("memory")}floatPrecision(){return SA("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return SA("dispose")}}function SA(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function EA(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,IA(e,t,n)}function TA(e,t,n){return Math.max(e,Math.min(t,n))}function CA(e){return e%2==0?e:e+1}function IA(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function jA(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function AA(e,t,n=""){jA(RA(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function OA(e){jA(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function NA(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function RA(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function PA(e){return e%1==0}function MA(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function DA(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function LA(e,t=(e=>0),n,r){return new Promise(((o,i)=>{let a=0;const s=()=>{if(e())return void o();a++;const l=t(a);null!=n&&a>=n?i():null!=r?r(s,l):setTimeout(s,l)};s()}))}function FA(e,t){let n=1,r=-1;for(let t=0;t<e.length;++t)if(e[t]>=0)n*=e[t];else if(-1===e[t]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${t}`);r=t}else if(e[t]<0)throw Error(`Shapes can not be < 0. Found ${e[t]} at dim ${t}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!=0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const o=e.slice();return o[r]=t/n,o}function BA(e,t){const n=t.length;return jA((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),jA(e.every((e=>PA(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function $A(e,t){const n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||o?null:BA(t,e).sort();let a=0;for(let t=0;t<e.length;++t){if(null!=i){if(i[a]===t&&1!==e[t])throw new Error(`Can't squeeze axis ${t} since its dim '${e[t]}' is not 1`);(null==i[a]||i[a]>t)&&1===e[t]&&(n.push(e[t]),r.push(t)),i[a]<=t&&a++}1!==e[t]&&(n.push(e[t]),r.push(t))}return{newShape:n,keptDims:r}}function zA(e,t){return UA(e,t)}function UA(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function VA(e,t){return!("complex64"===t||"float32"===t&&"complex64"!==e||"int32"===t&&"float32"!==e&&"complex64"!==e||"bool"===t&&"bool"===e)}function GA(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function WA(e){return"string"==typeof e||e instanceof String}function HA(e){return"number"==typeof e}function qA(e){return Array.isArray(e)?qA(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":HA(e)?"float32":WA(e)?"string":"boolean"==typeof e?"bool":"float32"}function XA(e){return!!(e&&e.constructor&&e.call&&e.apply)}function YA(e,t){for(let n=t;n<e;++n)if(e%n==0)return n;return e}function KA(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function ZA(e,t,n,r=!1){const o=new Array;if(1===t.length){const i=t[0]*(r?2:1);for(let t=0;t<i;t++)o[t]=n[e+t]}else{const i=t[0],a=t.slice(1),s=a.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<i;t++)o[t]=ZA(e+t*s,a,n,r)}return o}function JA(e,t,n=!1){if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return ZA(0,e,t,n)}function QA(e,t){const n=eO(e,t);for(let e=0;e<n.length;e++)n[e]=1;return n}function eO(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function tO(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return JA(e,new Float32Array(n));if("int32"===t)return JA(e,new Int32Array(n));if("bool"===t)return JA(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function nO(e){e.forEach((t=>{jA(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function rO(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let t=0;t<e.length-1;++t)r+=n[t]*e[t];return r}function oO(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let t=0;t<r.length-1;++t)r[t]=Math.floor(e/n[t]),e-=r[t]*n[t];return r[r.length-1]=e,r}function iO(e){return e&&e.then&&"function"==typeof e.then}const aO="tfjsflags";class sO{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=lO,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(uO().getBool("IS_TEST")||uO().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];uO().getBool("IS_TEST")||uO().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(iO(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(void 0===this.global||void 0===this.global.location||void 0===this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);aO in e&&e[aO].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:""+ +n===n?+n:t}(0,n)}))}}function lO(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function uO(){return dO}let cO,dO=null;function pO(){if(null==cO){let e;if("undefined"!=typeof window)e=window;else if(void 0!==i.g)e=i.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}cO=e}return cO}function hO(e,t){const n=function(){const e=pO();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}const fO="Abs",mO="Acos",gO="Acosh",bO="Add",yO="AddN",vO="All",xO="Any",wO="ArgMax",kO="ArgMin",_O="Asin",SO="Asinh",EO="Atan",TO="Atanh",CO="Atan2",IO="AvgPool",jO="AvgPoolGrad",AO="AvgPool3D",OO="AvgPool3DGrad",NO="BatchMatMul",RO="BatchToSpaceND",PO="Bincount",MO="BitwiseAnd",DO="BroadcastArgs",LO="Cast",FO="Ceil",BO="ClipByValue",$O="Complex",zO="ComplexAbs",UO="Concat",VO="Conv2D",GO="Conv2DBackpropFilter",WO="Conv2DBackpropInput",HO="Conv3D",qO="Conv3DBackpropFilterV2",XO="Conv3DBackpropInputV2",YO="Cos",KO="Cosh",ZO="Cumprod",JO="Cumsum",QO="CropAndResize",eN="DenseBincount",tN="DepthToSpace",nN="DepthwiseConv2dNative",rN="DepthwiseConv2dNativeBackpropFilter",oN="DepthwiseConv2dNativeBackpropInput",iN="Diag",aN="Dilation2D",sN="Dilation2DBackpropInput",lN="Dilation2DBackpropFilter",uN="RealDiv",cN="Einsum",dN="Elu",pN="EluGrad",hN="Erf",fN="Equal",mN="Exp",gN="ExpandDims",bN="Expm1",yN="FFT",vN="Fill",xN="FlipLeftRight",wN="Floor",kN="FloorDiv",_N="FusedBatchNorm",SN="GatherV2",EN="GatherNd",TN="Greater",CN="GreaterEqual",IN="Identity",jN="IFFT",AN="Imag",ON="IsFinite",NN="IsInf",RN="IsNan",PN="LeakyRelu",MN="Less",DN="LessEqual",LN="LinSpace",FN="Log",BN="Log1p",$N="LogicalAnd",zN="LogicalNot",UN="LogicalOr",VN="LRN",GN="LRNGrad",WN="Max",HN="Maximum",qN="MaxPool",XN="MaxPoolGrad",YN="MaxPool3D",KN="MaxPool3DGrad",ZN="MaxPoolWithArgmax",JN="Mean",QN="Min",eR="Minimum",tR="MirrorPad",nR="Mod",rR="Multinomial",oR="Multiply",iR="Neg",aR="NotEqual",sR="NonMaxSuppressionV3",lR="NonMaxSuppressionV4",uR="NonMaxSuppressionV5",cR="OnesLike",dR="OneHot",pR="Pack",hR="PadV2",fR="Pow",mR="Prelu",gR="Prod",bR="RaggedGather",yR="RaggedRange",vR="RaggedTensorToTensor",xR="Range",wR="Real",kR="Reciprocal",_R="Relu",SR="Reshape",ER="ResizeNearestNeighbor",TR="ResizeNearestNeighborGrad",CR="ResizeBilinear",IR="ResizeBilinearGrad",jR="Relu6",AR="Reverse",OR="Round",NR="Rsqrt",RR="ScatterNd",PR="TensorScatterUpdate",MR="SearchSorted",DR="Select",LR="Selu",FR="Slice",BR="Sin",$R="Sinh",zR="Sign",UR="Sigmoid",VR="Softplus",GR="Sqrt",WR="Sum",HR="SpaceToBatchND",qR="SplitV",XR="Softmax",YR="SparseFillEmptyRows",KR="SparseReshape",ZR="SparseSegmentMean",JR="SparseSegmentSum",QR="SparseToDense",eP="SquaredDifference",tP="Square",nP="StaticRegexReplace",rP="StridedSlice",oP="StringNGrams",iP="StringSplit",aP="StringToHashBucketFast",sP="Sub",lP="Tan",uP="Tanh",cP="Tile",dP="TopK",pP="Transform",hP="Transpose",fP="Unique",mP="Unpack",gP="UnsortedSegmentSum",bP="ZerosLike",yP="Step",vP="RotateWithOffset",xP="_FusedMatMul",wP="FusedConv2D",kP="FusedDepthwiseConv2D";function _P(...e){uO().getBool("IS_TEST")||uO().getBool("PROD")||console.warn(...e)}function SP(...e){uO().getBool("IS_TEST")||uO().getBool("PROD")||console.log(...e)}const EP=hO("kernelRegistry",(()=>new Map)),TP=hO("gradRegistry",(()=>new Map));function CP(e,t){const n=NP(e,t);return EP.get(n)}function IP(e){return TP.get(e)}function jP(e){const t=EP.entries(),n=[];for(;;){const{done:r,value:o}=t.next();if(r)break;const[i,a]=o,[s]=i.split("_");s===e&&n.push(a)}return n}function AP(e){const{kernelName:t,backendName:n}=e,r=NP(t,n);EP.has(r)&&_P(`The kernel '${t}' for backend '${n}' is already registered`),EP.set(r,e)}function OP(e){const{kernelName:t}=e;TP.has(t)&&uO().getBool("DEBUG")&&_P(`Overriding the gradient for '${t}'`),TP.set(t,e)}function NP(e,t){return`${t}_${e}`}function RP(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var PP=i(4979);const MP=i.n(PP)()||PP;function DP(e){return MP.fromString(e,!0,16)}const LP=DP("c3a5c85c97cb3127"),FP=DP("b492b66fbe98f273"),BP=DP("9ae16a3b2f90404f");function $P(e){return e.xor(e.shru(47))}function zP(e,t,n){const r=e.slice(t,t+n);return MP.fromBytes(Array.from(r),!0,!0)}function UP(e,t){return zP(e,t,8)}function VP(e,t){return zP(e,t,4)}function GP(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function WP(e,t,n=DP("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let o=t.xor(r).mul(n);return o=o.xor(o.shru(47)),o=o.mul(n),o}function HP(e,t,n,r){return function(e,t,n,r,o,i){o=o.add(e),i=GP(i.add(o).add(r),21);const a=o;return o=(o=o.add(t)).add(n),i=i.add(GP(o,44)),[o.add(r),i.add(a)]}(UP(e,t),UP(e,t+8),UP(e,t+16),UP(e,t+24),n,r)}function qP(e,t=e.length){const n=MP.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=BP.add(2*t),r=UP(e,0).add(BP),o=UP(e,t-8);return WP(GP(o,37).mul(n).add(r),GP(r,25).add(o).mul(n),n)}if(t>=4){const n=BP.add(2*t);return WP(VP(e,0).shl(3).add(t),VP(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return $P(BP.mul(n).xor(LP.mul(r))).mul(BP)}return BP}(e,t):function(e,t=e.length){const n=BP.add(2*t),r=UP(e,0).mul(FP),o=UP(e,8),i=UP(e,t-8).mul(n),a=UP(e,t-16).mul(BP);return WP(GP(r.add(o),43).add(GP(i,30)).add(a),r.add(GP(o.add(BP),18)).add(i),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=BP.add(2*t),r=UP(e,0).mul(BP),o=UP(e,8),i=UP(e,t-8).mul(n),a=UP(e,t-16).mul(BP),s=GP(r.add(o),43).add(GP(i,30)).add(a),l=WP(s,r.add(GP(o.add(BP),18)).add(i),n),u=UP(e,16).mul(n),c=UP(e,24),d=s.add(UP(e,t-32)).mul(n),p=l.add(UP(e,t-24)).mul(n);return WP(GP(u.add(c),43).add(GP(d,30)).add(p),u.add(GP(c.add(r),18)).add(d),n)}(e,t);let r=n,o=n.mul(FP).add(113),i=$P(o.mul(BP).add(113)).mul(BP),a=[MP.UZERO,MP.UZERO],s=[MP.UZERO,MP.UZERO];r=r.mul(BP).add(UP(e,0));let l=0;const u=64*(t-1>>6),c=u+(t-1&63)-63;do{r=GP(r.add(o).add(a[0]).add(UP(e,l+8)),37).mul(FP),o=GP(o.add(a[1]).add(UP(e,l+48)),42).mul(FP),r=r.xor(s[1]),o=o.add(a[0]).add(UP(e,l+40)),i=GP(i.add(s[0]),33).mul(FP),a=HP(e,l,a[1].mul(FP),r.add(s[0])),s=HP(e,l+32,i.add(s[1]),o.add(UP(e,l+16))),[i,r]=[r,i],l+=64}while(l!==u);const d=FP.add(i.and(255).shl(1));return l=c,s[0]=s[0].add(t-1&63),a[0]=a[0].add(s[0]),s[0]=s[0].add(a[0]),r=GP(r.add(o).add(a[0]).add(UP(e,l+8)),37).mul(d),o=GP(o.add(a[1]).add(UP(e,l+48)),42).mul(d),r=r.xor(s[1].mul(9)),o=o.add(a[0].mul(9).add(UP(e,l+40))),i=GP(i.add(s[0]),33).mul(d),a=HP(e,l,a[1].mul(d),r.add(s[0])),s=HP(e,l+32,i.add(s[1]),o.add(UP(e,l+16))),[i,r]=[r,i],WP(WP(a[0],s[0],d).add($P(o).mul(LP)).add(i),WP(a[1],s[1],d).add(r),d)}function XP(e,t){return"string"===t?ZP(e):YP([e],t)}function YP(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=eM(e)),uO().getBool("DEBUG")&&function(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function KP(){return uO().platform.now()}function ZP(e,t="utf-8"){return t=t||"utf-8",uO().platform.encode(e,t)}function JP(e,t="utf-8"){return t=t||"utf-8",uO().platform.decode(e,t)}function QP(e){return null!=uO().platform.isTypedArray?uO().platform.isTypedArray(e):RP(e)}function eM(e,t=[],n=!1){if(null==t&&(t=[]),"boolean"==typeof e||"number"==typeof e||"string"==typeof e||iO(e)||null==e||QP(e)&&n)t.push(e);else if(Array.isArray(e)||QP(e))for(let r=0;r<e.length;++r)eM(e[r],t,n);else{let r=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(r=Math.max(r,Number(t)));for(let o=0;o<=r;o++)eM(e[o],t,n)}return t}class tM{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new rM)}profileKernel(e,t,n){let r;const o=()=>{r=n()};let i;const a=KP();if(this.backendTimer.timerAvailable())i=this.backendTimer.time(o);else{o();for(const e of r)e.dataSync();i=Promise.resolve({kernelMs:KP()-a})}if(uO().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let t=0;t<r.length;t++){const n=r[t];n.data().then((t=>{nM(t,n.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:i.then((e=>e.kernelMs)),extraInfo:i.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:o,extraInfo:i}=e;n.forEach((e=>{Promise.all([e.data(),r,i]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],o,n[2])}))}))}}function nM(e,t,n){if("float32"!==t)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(isNaN(r)||!isFinite(r))return console.warn(`Found ${r} in the result of '${n}'`),!0}return!1}class rM{logKernelProfile(e,t,n,r,o,i){const a="number"==typeof r?DA(`${r}ms`,9):r.error,s=DA(e,25),l=t.rank,u=t.size,c=DA(t.shape.toString(),14);let d="";for(const e in o){const n=o[e];if(null!=n){const r=n.shape||t.shape,o=r.length;d+=`${e}: ${o}D ${o>0?r:""} `}}console.log(`%c${s}\t%c${a}\t%c${l}D ${c}\t%c${u}\t%c${d}\t%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const oM=20,iM=3,aM=7;function sM(e,t,n,r){const o=KA(t),i=function(e,t,n,r){const o=NA(t),i=r[r.length-1],a=new Array(i).fill(0),s=t.length,l="complex64"===n?dM(e):e;if(s>1)for(let e=0;e<o/i;e++){const t=e*i;for(let e=0;e<i;e++)a[e]=Math.max(a[e],lM(l[t+e],0,n).length)}return a}(e,t,n,o),a=t.length,s=cM(e,t,n,o,i),l=["Tensor"];return r&&(l.push(`  dtype: ${n}`),l.push(`  rank: ${a}`),l.push(`  shape: [${t}]`),l.push("  values:")),l.push(s.map((e=>"    "+e)).join("\n")),l.join("\n")}function lM(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(aM))} + ${parseFloat(e[1].toFixed(aM))}j`:WA(e)?`'${e}'`:"bool"===n?uM(e):parseFloat(e.toFixed(aM)).toString(),DA(r,t)}function uM(e){return 0===e?"false":"true"}function cM(e,t,n,r,o,i=!0){const a="complex64"===n?2:1,s=t[0],l=t.length;if(0===l)return"complex64"===n?[lM(dM(e)[0],0,n)]:"bool"===n?[uM(e[0])]:[e[0].toString()];if(1===l){if(s>oM){const t=iM*a;let r=Array.from(e.slice(0,t)),i=Array.from(e.slice((s-iM)*a,s*a));return"complex64"===n&&(r=dM(r),i=dM(i)),["["+r.map(((e,t)=>lM(e,o[t],n))).join(", ")+", ..., "+i.map(((e,t)=>lM(e,o[s-iM+t],n))).join(", ")+"]"]}return["["+("complex64"===n?dM(e):Array.from(e)).map(((e,t)=>lM(e,o[t],n))).join(", ")+"]"]}const u=t.slice(1),c=r.slice(1),d=r[0]*a,p=[];if(s>oM){for(let t=0;t<iM;t++){const r=t*d,i=r+d;p.push(...cM(e.slice(r,i),u,n,c,o,!1))}p.push("...");for(let t=s-iM;t<s;t++){const r=t*d,i=r+d;p.push(...cM(e.slice(r,i),u,n,c,o,t===s-1))}}else for(let t=0;t<s;t++){const r=t*d,i=r+d;p.push(...cM(e.slice(r,i),u,n,c,o,t===s-1))}const h=2===l?",":"";p[0]="["+(s>0?p[0]+h:"");for(let e=1;e<p.length-1;e++)p[e]=" "+p[e]+h;let f=",\n";for(let e=2;e<l;e++)f+="\n";return p[p.length-1]=" "+p[p.length-1]+"]"+(i?"":f),p}function dM(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class pM{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=NA(e),null!=n){const e=n.length;jA(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||UA(t,this.size),this.strides=KA(e)}set(e,...t){0===t.length&&(t=[0]),jA(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const n of e){if(n<0||n>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let t=0;t<e.length-1;++t)n+=this.strides[t]*e[t];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return hM().makeTensor(this.values,this.shape,this.dtype)}}let hM=null,fM=null,mM=null;class gM{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=NA(e),this.strides=KA(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return fM.buffer(this.shape,this.dtype,e)}bufferSync(){return fM.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return JA(this.shape,e,"complex64"===this.dtype)}arraySync(){return JA(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=hM().read(this.dataId);if("string"===this.dtype){const t=await e;try{return t.map((e=>JP(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),hM().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=hM().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>JP(e)))}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await hM().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),hM().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return fM.print(this,e)}clone(){return this.throwIfDisposed(),fM.clone(this)}toString(e=!1){return sM(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),fM.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),hM().makeVariable(this,e,t,n)}}function bM(){return hO("Tensor",(()=>gM))}Object.defineProperty(gM,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),bM();class yM extends gM{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!RA(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);hM().disposeTensor(this),this.dataId=e.dataId,hM().incRef(this,null)}dispose(){hM().disposeVariable(this),this.isDisposedInternal=!0}}var vM,xM,wM,kM,_M;Object.defineProperty(yM,Symbol.hasInstance,{value:e=>e instanceof gM&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(vM||(vM={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(xM||(xM={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(wM||(wM={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(kM||(kM={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(_M||(_M={}));const SM={float32:kM,int32:xM,bool:wM,complex64:_M};function EM(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return SM[e][t]}function TM(e){return EM(e,"int32")}function CM(e){return null!=e&&"object"==typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function IM(e){return"undefined"!=typeof GPUBuffer&&null!=e&&"object"==typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function jM(e,t){if(e.dtype===t.dtype)return[e,t];const n=EM(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function AM(e,t){return t.some((t=>t.id===e.id))}function OM(e){const t=[];return NM(e,t,new Set),t}function NM(e,t,n){if(null==e)return;if(e instanceof gM)return void t.push(e);if(r=e,!Array.isArray(r)&&"object"!=typeof r)return;var r;const o=e;for(const e in o){const r=o[e];n.has(r)||(n.add(r),NM(r,t,n))}}function RM(e){return null!=e.kernelName}class PM{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class MM{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new PM}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(_P(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new tM(this.backendInstance),!0}setupRegisteredKernels(){jP(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){jP(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof _A||"function"!=typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId||(this.registry[e]=n,this.pendingBackendInit=null,0)))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,_P(`Initialization of backend ${e} failed`),_P(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(t){return _P(`Initialization of backend ${e} failed`),_P(t.stack||t.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:o}=this.initializeBackend(n);if(o||r)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,o,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(e){throw t(),e}}nextTensorId(){return MM.nextTensorId++}nextVariableId(){return MM.nextVariableId++}clone(e){const t=LM.runKernel(IN,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e};return LM.runKernel(LO,t,{dtype:"float32"})}})),[],{}),t}runKernel(e,t,n){if(null==this.backendName&&this.backend,null==CP(e,this.backendName))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let o=0;n.forEach((e=>{o+="complex64"===e.dtype?3:1}));const i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-o-i;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),o=this.state.numBytes,i=this.state.numTensors;let a,s;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=RM(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(RM(e)){const{kernelName:t,inputs:o,attrs:i}=e;null==this.backendName&&this.backend;const l=CP(t,this.backendName);jA(null!=l,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),a=()=>{const e=this.backend.numDataIds();s=l.kernelFunc({inputs:o,attrs:i,backend:this.backend});const a=Array.isArray(s)?s:[s];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,a);const u=a.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(r){const e=this.getTensorsForGradient(t,o,u);n=this.saveTensorsForBackwardMode(e)}return u}}else{const{forwardFunc:t}=e,o=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};a=()=>{const e=this.backend.numDataIds();s=this.tidy((()=>t(this.backend,o)));const n=Array.isArray(s)?s:[s];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:u,attrs:c}=e,d=RM(e)?null:e.backwardsFunc;let p;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(p=this.profiler.profileKernel(l,u,(()=>a())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(p),t=p.outputs):t=a()})),r&&this.addTapeNode(l,u,t,d,n,c),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-o,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-i,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(u).map((e=>null!=u[e]?u[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:p.timeMs,extraInfo:p.extraInfo}),Array.isArray(s)?t:t[0]}saveTensorsForBackwardMode(e){return e.map((e=>this.keep(this.clone(e))))}getTensorsForGradient(e,t,n){const r=IP(e);if(null!=r){const e=r.inputsToSave||[],o=r.outputsToSave||[];let i;r.saveAllInputs?(jA(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),i=Object.keys(t).map((e=>t[e]))):i=e.map((e=>t[e]));const a=n.filter(((e,t)=>o[t]));return i.concat(a)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let o=e;"string"===n&&WA(e[0])&&(o=e.map((e=>ZP(e))));const i=r.write(o,t,n),a=new gM(t,n,i,this.nextTensorId());if(this.trackTensor(a,r),"string"===n){const e=this.state.tensorInfo.get(i),t=function(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}(o);this.state.numBytes+=t-e.bytes,e.bytes=t}return a}makeTensorFromDataId(e,t,n,r){const o={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(o,r)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:r,dtype:o}=e,i=new gM(r,o,n,this.nextTensorId());return this.trackTensor(i,t),i}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const o=new yM(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error(`Variable with name ${o.name} was already registered`);return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*GA(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof yM||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*GA(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const e of this.state.activeProfile.kernels)e.kernelTimeMs=await e.kernelTimeMs,e.extraInfo=await e.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,o,i){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=IP(e);null!=s&&(r=s.gradFunc),null!=r&&(a.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=eO(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],o,i))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=OM(e),n=new Set(t.map((e=>e.id)));for(let e=0;e<this.state.activeScope.track.length;e++){const t=this.state.activeScope.track[e];t.kept||n.has(t.id)||t.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(jA(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const o=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));jA(o instanceof gM,(()=>"The result y returned by f() must be a tensor."));const i=function(e,t,n){const r={},o={};for(let e=0;e<t.length;e++)r[t[e].id]=!0;for(let n=0;n<e.length;n++){const i=e[n],a=i.inputs;for(const e in a){const n=a[e];let s=!1;for(let e=0;e<t.length;e++)if(r[n.id]){i.outputs.forEach((e=>r[e.id]=!0)),s=!0,o[i.id]=!0;break}if(s)break}}const i={};i[n.id]=!0;const a={};for(let t=e.length-1;t>=0;t--){const n=e[t],r=n.inputs;for(let e=0;e<n.outputs.length;e++)if(i[n.outputs[e].id]){for(const e in r)i[r[e].id]=!0,a[n.id]=!0;break}}const s=[];for(let t=0;t<e.length;t++){const n=e[t];if(o[n.id]&&a[n.id]){const e={};for(const t in n.inputs){const o=n.inputs[t];r[o.id]&&(e[t]=o)}const t=Object.assign({},n);t.inputs=e,t.outputs=n.outputs,s.push(t)}}return s}(this.state.activeTape,t,o);if(!r&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[o.id]=null==n?function(e){const t=QA(NA(e),"float32");return LM.makeTensor(t,e,"float32")}(o.shape):n,function(e,t,n,r){for(let o=t.length-1;o>=0;o--){const i=t[o],a=[];if(i.outputs.forEach((t=>{const n=e[t.id];null!=n?a.push(n):a.push(null)})),null==i.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);const s=i.gradient(a);for(const t in i.inputs){if(!(t in s))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(s)}.`);const o=n((()=>s[t]()));if("float32"!==o.dtype)throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${o.dtype}'`);const a=i.inputs[t];if(!RA(o.shape,a.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${t}' has shape '${o.shape}', which does not match the shape of the input '${a.shape}'`);if(null==e[a.id])e[a.id]=o;else{const t=e[a.id];e[a.id]=r(t,o),t.dispose()}}}}(e,i,(e=>this.tidy(e)),FM);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:o,grads:r}}))}customGrad(e){return jA(XA(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;jA(t.every((e=>e instanceof gM)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};return t.forEach(((e,t)=>{r[t]=e})),this.runKernelFunc({forwardFunc:(r,o)=>(n=e(...t,o),jA(n.value instanceof gM,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),jA(XA(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,r)=>{const o=n.gradFunc(e,r),i=Array.isArray(o)?o:[o];jA(i.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),jA(i.every((e=>e instanceof gM)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const a={};return i.forEach(((e,t)=>{a[t]=()=>e})),a},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=KP(),n=await this.backend.time(e);return n.wallMs=KP()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new PM;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function DM(){const e=pO();if(null==e._tfengine){const t=new sO(e);e._tfengine=new MM(t)}var t;return t=e._tfengine.ENV,dO=t,hM=()=>e._tfengine,e._tfengine}MM.nextTensorId=0,MM.nextVariableId=0;const LM=DM();function FM(e,t){const n={a:e,b:t};return LM.runKernel(bO,n)}function BM(e){if(e||"undefined"!=typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!=typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function $M(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}const zM=uO();function UM(e,t){let n=e;if(QP(e))return"string"===t?[]:[e.length];if(CM(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(IM(e))return[e.buffer.size/(null==t?4:GA(t))];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||QP(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&uO().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&VM(e,r,[]),r}function VM(e,t,n){if(n=n||[],!Array.isArray(e)&&!QP(e))return void jA(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));jA(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),jA(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let t=0;t<e.length;++t)VM(e[t],r,n.concat(t))}function GM(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function WM(e,t,n,r="numeric"){if(e instanceof bM())return GM(r,e.dtype,t,n),e;let o=qA(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),GM(r,o,t,n),null==e||!QP(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const i=UM(e,o);QP(e)||Array.isArray(e)||(e=[e]);const a="string"!==o?YP(e,o):eM(e,[],!0);return LM.makeTensor(a,i,o)}function HM(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,o)=>WM(e,`${t}[${o}]`,n,r)))}function qM(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+="__op";const o=(...e)=>{LM.startScope(n);try{const t=r(...e);return iO(t)&&console.error("Cannot return a Promise inside of tidy."),LM.endScope(t),t}catch(e){throw LM.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}zM.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),zM.registerFlag("IS_BROWSER",(()=>$M())),zM.registerFlag("IS_NODE",(()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node)),zM.registerFlag("IS_CHROME",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),zM.registerFlag("IS_SAFARI",(()=>"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),zM.registerFlag("PROD",(()=>!1)),zM.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>zM.getBool("DEBUG"))),zM.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),zM.registerFlag("IS_TEST",(()=>!1)),zM.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>zM.getBool("DEBUG"))),zM.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),zM.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),zM.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const XM=qM({complex_:function(e,t){const n=WM(e,"real","complex"),r=WM(t,"imag","complex");AA(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const o={real:n,imag:r};return LM.runKernel($O,o)}});function YM(e,t,n,r){if(null==r)r=qA(e);else if("complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(IM(e)||CM(e)){if("float32"!==r&&"int32"!==r)throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return LM.backend.createTensorFromGPUData(e,t||n,r)}if(!QP(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){nO(t);const e=NA(t),r=NA(n);jA(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let e=0;e<n.length;++e){const r=n[e],o=e!==n.length-1||r!==NA(t.slice(e));jA(n[e]===t[e]||!o,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return QP(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?YP(e,r):eM(e,[],!0),LM.makeTensor(e,t,r)}function KM(e,t,n){return YM(e,t,UM(e,n),n)}class ZM{static join(e){return new ZM(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>QP(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const r=e[n];n!==e.length-1&&r.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const o=t+r.byteLength;this.shards.push({buffer:r,start:t,end:o}),t=o}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,t=this.byteLength){if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),(t=Math.min(this.byteLength,t))<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error(`Could not find start shard for byte ${e}`);const r=new ArrayBuffer(t-e),o=new Uint8Array(r);let i=0;for(let r=n;r<this.shards.length;r++){const n=this.shards[r],a=e+i-n.start,s=i,l=Math.min(t,n.end)-n.start,u=new Uint8Array(n.buffer,a,l-a);if(o.set(u,s),i+=u.length,t<n.end)break}return r}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,r=e.length;for(;n<=r;){const o=Math.floor((r-n)/2)+n,i=t(e[o]);if(0===i)return o;i<0?r=o:n=o+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}var JM;function QM(){return LM}function eD(){return LM.memory()}function tD(e,t){return LM.tidy(e,t)}function nD(e){OM(e).forEach((e=>e.dispose()))}function rD(e){return LM.keep(e)}function oD(e,t,n=1){return LM.registerBackend(e,t,n)}JM=function(e){uO().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")},mM=JM;async function iD(e,t){const n=[],r=[],o=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let i=0;i<o.length;++i){const a=o[i],s=Array.isArray(e)?e[i].tensor:e[a];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error(`Unsupported dtype in weight '${a}': ${s.dtype}`);const l={name:a,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,r=new Uint8Array(n);let o=0;for(let e=0;e<t.length;e++){const n=t[e],i=new Uint8Array(new Uint32Array([n.length]).buffer);r.set(i,o),o+=4,r.set(n,o),o+=n.length}e(r)}));r.push(e)}else r.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:aD(await Promise.all(r)),specs:n}}function aD(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let o=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),o),o+=e.byteLength})),r.buffer}const sD="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function lD(e){return sD?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function uD(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function cD(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:lD(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:lD(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new ZM(e.weightData).byteLength}}function dD(e){const t=[];for(const n of e)t.push(...n.weights);return t}class pD{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==pD.instance&&(pD.instance=new pD),pD.instance}static registerSaveRouter(e){pD.getInstance().saveRouters.push(e)}static registerLoadRouter(e){pD.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return pD.getHandlers(e,"save")}static getLoadHandlers(e,t){return pD.getHandlers(e,"load",t)}static getHandlers(e,t,n){const r=[];return("load"===t?pD.getInstance().loadRouters:pD.getInstance().saveRouters).forEach((t=>{const o=t(e,n);null!==o&&r.push(o)})),r}}const hD="tensorflowjs",fD="models_store",mD="model_info_store";function gD(){if(!uO().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"==typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function bD(e){const t=e.result;t.createObjectStore(fD,{keyPath:"modelPath"}),t.createObjectStore(mD,{keyPath:"modelPath"})}class yD{constructor(e){if(this.indexedDB=gD(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(hD,1);r.onupgradeneeded=()=>bD(r),r.onsuccess=()=>{const o=r.result;if(null==t){const t=o.transaction(fD,"readonly"),r=t.objectStore(fD).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return o.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(o.close(),n(r.error)),t.oncomplete=()=>o.close()}else{t.weightData=ZM.join(t.weightData);const r=cD(t),i=o.transaction(mD,"readwrite");let a,s,l=i.objectStore(mD);try{a=l.put({modelPath:this.modelPath,modelArtifactsInfo:r})}catch(e){return n(e)}a.onsuccess=()=>{s=o.transaction(fD,"readwrite");const a=s.objectStore(fD);let u;try{u=a.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r})}catch(e){return n(e)}u.onsuccess=()=>e({modelArtifactsInfo:r}),u.onerror=e=>{l=i.objectStore(mD);const t=l.delete(this.modelPath);t.onsuccess=()=>(o.close(),n(u.error)),t.onerror=e=>(o.close(),n(u.error))}},a.onerror=e=>(o.close(),n(a.error)),i.oncomplete=()=>{null==s?o.close():s.oncomplete=()=>o.close()}}},r.onerror=e=>n(r.error)}))}}yD.URL_SCHEME="indexeddb://";const vD=e=>{return uO().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(yD.URL_SCHEME)?(t=e.slice(yD.URL_SCHEME.length),new yD(t)):null;var t};pD.registerSaveRouter(vD),pD.registerLoadRouter(vD);class xD{constructor(){this.indexedDB=gD()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(hD,1);n.onupgradeneeded=()=>bD(n),n.onsuccess=()=>{const r=n.result,o=r.transaction(mD,"readonly"),i=o.objectStore(mD).getAll();i.onsuccess=()=>{const t={};for(const e of i.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},i.onerror=e=>(r.close(),t(i.error)),o.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(yD.URL_SCHEME)?t.slice(yD.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(hD,1);r.onupgradeneeded=()=>bD(r),r.onsuccess=()=>{const o=r.result,i=o.transaction(mD,"readwrite"),a=i.objectStore(mD),s=a.get(e);let l;s.onsuccess=()=>{if(null==s.result)return o.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=a.delete(e),i=()=>{l=o.transaction(fD,"readwrite");const r=l.objectStore(fD).delete(e);r.onsuccess=()=>t(s.result.modelArtifactsInfo),r.onerror=e=>n(s.error)};r.onsuccess=i,r.onerror=e=>(i(),o.close(),n(s.error))}},s.onerror=e=>(o.close(),n(s.error)),i.oncomplete=()=>{null==l?o.close():l.oncomplete=()=>o.close()}},r.onerror=e=>n(r.error)}))}}const wD="/",kD="tensorflowjs_models",_D="info",SD="model_topology",ED="weight_specs",TD="weight_data",CD="model_metadata";function ID(e){return{info:[kD,e,_D].join(wD),topology:[kD,e,SD].join(wD),weightSpecs:[kD,e,ED].join(wD),weightData:[kD,e,TD].join(wD),modelMetadata:[kD,e,CD].join(wD)}}function jD(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function AD(e){const t=e.split(wD);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(wD)}class OD{constructor(e){if(!uO().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=ID(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=cD(e),o=ZM.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(sD)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let e=0,r=t.length;e<r;e++)n+=String.fromCharCode(t[e]);return btoa(n)}(o));const i={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(i)),{modelArtifactsInfo:r}}catch(e){throw jD(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const o=this.LS.getItem(this.keys.modelMetadata);if(null!=o){const e=JSON.parse(o);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const i=this.LS.getItem(this.keys.weightData);if(null==i)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(sD){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n.set([t.charCodeAt(e)],e);return n.buffer}(i),t}}OD.URL_SCHEME="localstorage://";const ND=e=>{return uO().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(OD.URL_SCHEME)?(t=e.slice(OD.URL_SCHEME.length),new OD(t)):null;var t};pD.registerSaveRouter(ND),pD.registerLoadRouter(ND);class RD{constructor(){jA(uO().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),jA("undefined"==typeof window||void 0!==window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=kD+wD,n=wD+_D;for(let r=0;r<this.LS.length;++r){const o=this.LS.key(r);o.startsWith(t)&&o.endsWith(n)&&(e[AD(o)]=JSON.parse(this.LS.getItem(o)))}return e}async removeModel(e){var t;const n=ID(e=(t=e).startsWith(OD.URL_SCHEME)?t.slice(OD.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return jD(n),r}}class PD{constructor(){this.managers={}}static getInstance(){return null==PD.instance&&(PD.instance=new PD),PD.instance}static registerManager(e,t){jA(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith("://")&&(e=e.slice(0,e.indexOf("://"))),jA(e.length>0,(()=>"scheme must not be an empty string."));const n=PD.getInstance();jA(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=PD.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(PD.getInstance().managers)}}class MD{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!=typeof window&&uO().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{e.source===window&&e.data.name===this.messageName&&(e.stopPropagation(),(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0))}),!0))):setTimeout(e,t)}isTypedArray(e){return RP(e)}}if(uO().get("IS_BROWSER")){uO().setPlatform("browser",new MD);try{PD.registerManager(OD.URL_SCHEME,new RD)}catch(e){}try{PD.registerManager(yD.URL_SCHEME,new xD)}catch(e){}}let DD;function LD(e,t="float32",n){return t=t||"float32",nO(e),new pM(e,t,n)}uO().get("IS_NODE")&&!uO().get("IS_BROWSER")&&uO().setPlatform("node",new class{constructor(){this.util=i(8628),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=uO().global.fetch?uO().global.fetch(e,t):(null==DD&&(DD=i(5410)),DD(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}});const FD=qM({cast_:function(e,t){const n=WM(e,"x","cast");if(!function(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const r={x:n},o={dtype:t};return LM.runKernel(LO,r,o)}}),BD=qM({clone_:function(e){const t={x:WM(e,"x","clone","string_or_numeric")};return LM.runKernel(IN,t)}});DM();const $D={buffer:LD,cast:FD,clone:BD,print:function(e,t=!1){console.log(e.toString(t))}};fM=$D;const zD=qM({add_:function(e,t){let n=WM(e,"a","add"),r=WM(t,"b","add");[n,r]=jM(n,r);const o={a:n,b:r};return LM.runKernel(bO,o)}}),UD=qM({floorDiv_:function(e,t){let n=WM(e,"a","floorDiv"),r=WM(t,"b","floorDiv");[n,r]=jM(n,r);const o={a:n,b:r};return LM.runKernel(kN,o)}}),VD=qM({div_:function(e,t){let n=WM(e,"a","div"),r=WM(t,"b","div");if([n,r]=jM(n,r),"int32"===n.dtype&&"int32"===r.dtype)return UD(n,r);const o={a:n,b:r};return LM.runKernel(uN,o,{})}}),GD=qM({mul_:function(e,t){let n=WM(e,"a","mul"),r=WM(t,"b","mul");[n,r]=jM(n,r);const o={a:n,b:r};return LM.runKernel(oR,o)}}),WD=qM({sqrt_:function(e){const t={x:WM(e,"x","sqrt","float32")};return LM.runKernel(GR,t)}}),HD=qM({square_:function(e){const t=WM(e,"x","square");return LM.runKernel("Square",{x:t},{})}}),qD=qM({zerosLike_:function(e){const t={x:WM(e,"x","zerosLike")};return LM.runKernel(bP,t)}});function XD(e){return LM.customGrad(e)}function YD(e,t){if((QP(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&QP(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return YM(e,[],[],t)}const KD=new Map,ZD=new Map;class JD{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class QD{constructor(){this.classNameMap={}}static getMap(){return null==QD.instance&&(QD.instance=new QD),QD.instance}static register(e){QD.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function eL(e,t,n){jA(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),jA("string"==typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),jA(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),void 0===t&&(t="Custom"),void 0===n&&(n=e.className);const r=t+">"+n;return QD.register(e),KD.set(r,e),ZD.set(e,r),e}class tL extends JD{minimize(e,t=!1,n){const{value:r,grads:o}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:o[e.name]})));this.applyGradients(e)}else this.applyGradients(o);return nD(o),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return function(e,t){jA(XA(e),(()=>"The f passed in variableGrads(f) must be a function")),jA(null==t||Array.isArray(t)&&t.every((e=>e instanceof yM)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in LM.registeredVariables)t.push(LM.registeredVariables[e])}const r=n?t.filter((e=>!e.trainable)):null,o=t.length;jA((t=t.filter((e=>e.trainable))).length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${o} variables is trainable.`));const{value:i,grads:a}=LM.gradients(e,t,null,!0);jA(a.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),jA(0===i.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${i.rank} tensor`));const s={};return t.forEach(((e,t)=>{null!=a[t]&&(s[e.name]=a[t])})),null!=r&&r.forEach((e=>s[e.name]=null)),{value:i,grads:s}}(e,t)}dispose(){null!=this.iterations_&&nD(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:YD(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(tL,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class nL extends tL{static get className(){return"Adadelta"}constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=LM.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=LM.registeredVariables[t];null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:tD((()=>qD(r).variable(!1)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:tD((()=>qD(r).variable(!1)))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const i=this.accumulatedGrads[n].variable,a=this.accumulatedUpdates[n].variable;tD((()=>{const e=zD(GD(i,this.rho),GD(HD(o),1-this.rho)),t=GD(VD(WD(zD(a,this.epsilon)),WD(zD(i,this.epsilon))),o),n=zD(GD(a,this.rho),GD(HD(t),1-this.rho));i.assign(e),a.assign(n);const s=zD(GD(t,-this.learningRate),r);r.assign(s)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(nD(this.accumulatedGrads.map((e=>e.variable))),nD(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(!1)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function rL(e,t,n){nO(e);const r={shape:e,value:t,dtype:n=n||qA(t)};return LM.runKernel(vN,{},r)}class oL extends tL{static get className(){return"Adagrad"}constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=LM.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:tD((()=>rL(r.shape,this.initialAccumulatorValue).variable(e)))}}const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const i=this.accumulatedGrads[n].variable;tD((()=>{const e=zD(i,HD(o));i.assign(e);const t=zD(GD(VD(o,WD(zD(e,LM.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&nD(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const iL=qM({pow_:function(e,t){let n=WM(e,"base","pow"),r=WM(t,"exp","pow");[n,r]=jM(n,r);const o={a:n,b:r};return LM.runKernel(fR,o)}}),aL=qM({sub_:function(e,t){let n=WM(e,"a","sub"),r=WM(t,"b","sub");[n,r]=jM(n,r);const o={a:n,b:r};return LM.runKernel(sP,o)}});class sL extends tL{static get className(){return"Adam"}constructor(e,t,n,r=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],tD((()=>{this.accBeta1=YD(t).variable(),this.accBeta2=YD(n).variable()})),null==r&&(this.epsilon=LM.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);tD((()=>{const n=aL(1,this.accBeta1),r=aL(1,this.accBeta2);t.forEach(((t,o)=>{const i=LM.registeredVariables[t];null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:`${t}/m`,variable:tD((()=>qD(i).variable(!1)))}),null==this.accumulatedSecondMoment[o]&&(this.accumulatedSecondMoment[o]={originalName:`${t}/v`,variable:tD((()=>qD(i).variable(!1)))});const a=Array.isArray(e)?e[o].tensor:e[t];if(null==a)return;const s=this.accumulatedFirstMoment[o].variable,l=this.accumulatedSecondMoment[o].variable,u=zD(GD(s,this.beta1),GD(a,1-this.beta1)),c=zD(GD(l,this.beta2),GD(HD(a),1-this.beta2)),d=VD(u,n),p=VD(c,r);s.assign(u),l.assign(c);const h=zD(GD(VD(d,zD(WD(p),this.epsilon)),-this.learningRate),i);i.assign(h)})),this.accBeta1.assign(GD(this.accBeta1,this.beta1)),this.accBeta2.assign(GD(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&nD(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&nD(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),tD((()=>{this.accBeta1.assign(iL(this.beta1,this.iterations_+1)),this.accBeta2.assign(iL(this.beta2,this.iterations_+1))}));const t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(!1)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const lL=qM({abs_:function(e){const t=WM(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return LM.runKernel(zO,e)}{const e={x:t};return LM.runKernel(fO,e)}}});function uL(e,t){const n=e.length,r=[];for(let o=0;o<n;o++){const i=n-1-o,a=e[i]||1;(t[t.length-1-o]||1)>1&&1===a&&r.unshift(i)}return r}function cL(e,t){const n=[];for(let r=0;r<t.length;r++){const o=e[e.length-r-1],i=t.length-r-1,a=t[i];(null==o||1===o&&a>1)&&n.unshift(i)}return n}function dL(e,t){const n=Math.max(e.length,t.length),r=new Array(n);for(let o=0;o<n;o++){let i=e[e.length-o-1];null==i&&(i=1);let a=t[t.length-o-1];if(null==a&&(a=1),1===i)r[n-o-1]=a;else if(1===a)r[n-o-1]=i;else{if(i!==a)throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`);r[n-o-1]=i}}return r}const pL=qM({maximum_:function(e,t){let n=WM(e,"a","maximum"),r=WM(t,"b","maximum");[n,r]=jM(n,r),"bool"===n.dtype&&(n=FD(n,"int32"),r=FD(r,"int32")),dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(HN,o)}});class hL extends tL{static get className(){return"Adamax"}constructor(e,t,n,r=null,o=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=o,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],tD((()=>{this.iteration=YD(0).variable(),this.accBeta1=YD(t).variable()})),null==r&&(this.epsilon=LM.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);tD((()=>{const n=aL(1,this.accBeta1),r=VD(-this.learningRate,zD(GD(this.iteration,this.decay),1));t.forEach(((t,o)=>{const i=LM.registeredVariables[t];null==this.accumulatedFirstMoment[o]&&(this.accumulatedFirstMoment[o]={originalName:`${t}/m`,variable:qD(i).variable(!1)}),null==this.accumulatedWeightedInfNorm[o]&&(this.accumulatedWeightedInfNorm[o]={originalName:`${t}/v`,variable:qD(i).variable(!1)});const a=Array.isArray(e)?e[o].tensor:e[t];if(null==a)return;const s=this.accumulatedFirstMoment[o].variable,l=this.accumulatedWeightedInfNorm[o].variable,u=zD(GD(s,this.beta1),GD(a,1-this.beta1)),c=GD(l,this.beta2),d=lL(a),p=pL(c,d);s.assign(u),l.assign(p);const h=zD(GD(VD(r,n),VD(u,zD(p,this.epsilon))),i);i.assign(h)})),this.iteration.assign(zD(this.iteration,1)),this.accBeta1.assign(GD(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&nD(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&nD(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class fL extends tL{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);t.forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const o=LM.registeredVariables[t];tD((()=>{const e=zD(GD(this.c,r),o);o.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=rD(YD(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class mL extends fL{static get className(){return"Momentum"}constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=YD(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=LM.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:tD((()=>qD(r).variable(e)))}}const o=this.accumulations[n].variable,i=Array.isArray(e)?e[n].tensor:e[t];null!=i&&tD((()=>{let e;const t=zD(GD(this.m,o),i);e=this.useNesterov?zD(GD(this.c,zD(i,GD(t,this.m))),r):zD(GD(this.c,t),r),o.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&nD(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(!1)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class gL extends tL{static get className(){return"RMSProp"}constructor(e,t=.9,n=0,r=null,o=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=o,null==r&&(this.epsilon=LM.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=LM.registeredVariables[t],o=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:tD((()=>qD(r).variable(o)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:tD((()=>qD(r).variable(o)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:tD((()=>qD(r).variable(o)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const a=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;tD((()=>{const e=zD(GD(a,this.decay),GD(HD(i),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,o=zD(GD(t,this.decay),GD(i,1-this.decay)),l=VD(GD(i,this.learningRate),WD(aL(e,zD(HD(o),this.epsilon)))),u=zD(GD(s,this.momentum),l);a.assign(e),t.assign(o),s.assign(u);const c=aL(r,u);r.assign(c)}else{const e=zD(GD(a,this.decay),GD(HD(i),1-this.decay)),t=zD(GD(s,this.momentum),VD(GD(i,this.learningRate),WD(zD(e,this.epsilon))));a.assign(e),s.assign(t);const n=aL(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&nD(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&nD(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&nD(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const bL=[nL,oL,sL,hL,mL,gL,fL];function yL(e){return new Promise((e=>setTimeout(e))).then(e)}class vL{constructor(e){if(!uO().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(vL.URL_SCHEME)&&(e=e.slice(vL.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=ZM.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=uD(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=r,await yL((()=>o.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await yL((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:cD(e)}}}}function xL(e,t,n,r){!function(e){jA(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){jA(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),jA(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),jA(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let o=0;return Promise.all(e.map((i=>(i.then((i=>{const a=n+ ++o/e.length*(r-n);return t(a),i})),i))))}async function wL(e,t){null==t&&(t={});const n=null==t.fetchFunc?uO().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),o=(null==t.onProgress?await Promise.all(r):await xL(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(o):await xL(o,t.onProgress,.5,1)}vL.URL_SCHEME="downloads://",pD.registerSaveRouter((e=>uO().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(vL.URL_SCHEME)?function(e="model"){return new vL(e)}(e.slice(vL.URL_SCHEME.length)):null));class kL{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(jA("function"==typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=uO().platform.fetch,jA(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&jA(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=uD(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=ZM.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const r=await this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:cD(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(e){let t=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return t}async load(){return this.loadOptions.streamWeights?this.loadStream():async function(e,t){let n,r;return null!=e.weightsManifest&&([n,r]=await t(e.weightsManifest)),function(e,t,n){const r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(r.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=t,r.weightData=n}return null!=e.signature&&(r.signature=e.signature),null!=e.userDefinedMetadata&&(r.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(r.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(r.initializerSignature=e.initializerSignature),r}(e,n,r)}(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=dD(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const r=null==t.fetchFunc?uO().platform.fetch:t.fetchFunc;let o,i=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var a;i<e.length;){if(!o){const n=(await r(e[i],t.requestInit,{isBinary:!0})).body;o=n.getReader()}const{done:s,value:l}=await o.read();if(!s)return void n.enqueue(l);i++,o=void 0,null===(a=t.onProgress)||void 0===a||a.call(t,i/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),o=this.weightPathPrefix||n,i=[],a=[];for(const t of e)for(const e of t.paths)null!=this.weightUrlConverter?a.push(this.weightUrlConverter(e)):i.push(o+e+r);return this.weightUrlConverter&&i.push(...await Promise.all(a)),i}async loadWeights(e){const t=await this.getWeightUrls(e);return[dD(e),await wL(t,this.loadOptions)]}}function _L(e){return null!=e.match(kL.URL_SCHEME_REGEX)}kL.URL_SCHEME_REGEX=/^https?:\/\//;const SL=(e,t)=>{if("undefined"==typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>_L(e))):_L(e),n)return function(e,t){return new kL(e,t)}(e,t)}return null};pD.registerSaveRouter(SL),pD.registerLoadRouter(SL);const EL=-2,TL=-1;function CL(e,t,n){const r=e.shape.length;jA(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),jA(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let o=0;o<r;++o)jA(t[o]+n[o]<=e.shape[o],(()=>`Error in slice${r}D: begin[${o}] + size[${o}] (${t[o]+n[o]}) would overflow input.shape[${o}] (${e.shape[o]})`))}function IL(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function jL(e,t,n){const r=[];for(let o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function AL(e,t,n,r){const o=[...e];for(let e=o.length;e<r.length;e++)o.push(1);for(let e=0;e<n;e++)0===e?o[t]=1:(o.splice(t,0,1),o.pop());return o}function OL(e,t,n){return n<=e?n:n-(t-1)}function NL(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function RL(e,t,n,r,o,i,a,s,l){const u=e.length;let c=new Array(u),d=new Array(u),p=new Array(u);if(t.length&&n>0){const l=t[0],u=n+1;c=PL(a,l,u,r,e),d=ML(s,l,u,o,e),p=AL(i,l,u,e)}else for(let t=0;t<u;t++)c[t]=LL(a,r,i,e,t,l),d[t]=FL(s,o,i,e,t,l),p[t]=DL(i,t,l);return{begin:c,end:d,strides:p}}function PL(e,t,n,r,o){const i=[...o],a=NL(n,t);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=0;else{const a=OL(t,n,o);let s=r[a];e&1<<a&&(s=0),i[o]=s}return i}function ML(e,t,n,r,o){const i=[...o],a=NL(n,t);for(let o=0;o<i.length;o++)if(a.indexOf(o)>-1)i[o]=Number.MAX_SAFE_INTEGER;else{const a=OL(t,n,o);let s=r[a];e&1<<a&&(s=Number.MAX_SAFE_INTEGER),i[o]=s}for(let e=0;e<i.length;e++){const t=o[e];i[e]<0&&(i[e]+=t),i[e]=TA(0,i[e],o[e])}return i}function DL(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function LL(e,t,n,r,o,i){let a=t[o];const s=n[o]||1;(e&1<<o||i&1<<o||null==a)&&(a=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[o];return a<0&&(a+=l),a=TA(0,a,l-1),a}function FL(e,t,n,r,o,i){let a=t[o];const s=n[o]||1;(e&1<<o||i&1<<o||null==a)&&(a=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[o];return a<0&&(a+=l),a=s>0?TA(0,a,l):TA(-1,a,l-1),a}function BL(e,t,n){let r=n.length;for(let e=0;e<n.length;e++)if(n[e]>1){r=e;break}for(let o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function $L(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function zL(e,t,n){let r;const o=e.shape.length;let i;return r="number"==typeof t?[t,...new Array(o-1).fill(0)]:t.length<o?t.concat(new Array(o-t.length).fill(0)):t.slice(),r.forEach((e=>{jA(-1!==e,(()=>"slice() does not support negative begin indexing."))})),i=null==n?new Array(o).fill(-1):"number"==typeof n?[n,...new Array(o-1).fill(-1)]:n.length<o?n.concat(new Array(o-n.length).fill(-1)):n,i=i.map(((t,n)=>t>=0?t:(jA(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,i]}function UL(e,t,n,r,o,i,a,s,l){let u;if(null==r?(u=new Array(t.length),u.fill(1)):u=r,null!=a&&0!=(a&a-1))throw new Error("Multiple ellipses in slice is not allowed.");let c=!1;const d={dims:u.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:u.slice(),beginMask:o,endMask:i,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:l};for(let e=0;e<d.dims;e++)c&&0!=(1<<e&s)&&d.numAddAxisAfterEllipsis++,1<<e&a&&(c=!0);c||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const o=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<o;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(EL),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(TL),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);let h=!0,f=!0,m=!0;const g=[],b=[];for(let t=0;t<e.length;++t){if(0===p.strides[t])throw Error(`strides[${t}] must be non-zero`);const n=!!(p.shrinkAxisMask&1<<t),r=e[t];if(-1===r){g.push(n?1:-1);continue}const o=[p.beginMask&1<<t,p.endMask&1<<t],i=[p.strides[t]>0?0:-1,p.strides[t]>0?r:r-1];if(n&&p.strides[t]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[t];const a=!!(p.beginMask&1<<t&&p.endMask&1<<t);if(p.beginValid&&p.endValid){if(n){const e=p.begin[t]<0?r+p.begin[t]:p.begin[t];if(p.begin[t]=e,p.end[t]=p.begin[t]+1,e<0||e>=r)throw Error(`slice index ${p.begin[t]} of dimension ${t} out of bounds.`)}else p.begin[t]=VL(p.begin[t],0,p.strides[t],r,o,i),p.end[t]=VL(p.end[t],1,p.strides[t],r,o,i);const e=1===p.strides[t]&&0===p.begin[t]&&p.end[t]===r;h=h&&e,f=f&&(0===t&&1===p.strides[t]||e)}else h=h&&1===p.strides[t]&&a,f=f&&(0===t&&1===p.strides[t]||a);let s,l=!1;if(p.beginValid&&p.endValid?(s=p.end[t]-p.begin[t],l=!0):n?(s=1,l=!0):a&&r>=0&&(s=p.strides[t]<0?-r:r,l=!0),l){let e;e=0===s||s<0!=p.strides[t]<0?0:Math.trunc(s/p.strides[t])+(s%p.strides[t]!=0?1:0),g.push(e)}else g.push(-1)}for(let e=0;e<p.finalShapeGatherIndices.length;++e){const t=p.finalShapeGatherIndices[e];t>=0?b.push(g[t]):t===EL&&b.push(1)}return{finalShapeSparse:b.filter(((e,t)=>p.finalShapeGatherIndices[t]!==EL)),finalShape:b,isIdentity:h,sliceDim0:f,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function VL(e,t,n,r,o,i){if(o[t])return n>0?i[t]:i[t+1&1];{const t=e<0?r+e:e;return t<i[0]?i[0]:t>i[1]?i[1]:t}}const GL=qM({all_:function(e,t=null,n=!1){const r={x:WM(e,"x","all","bool")},o={axis:t,keepDims:n};return LM.runKernel(vO,r,o)}}),WL=qM({any_:function(e,t=null,n=!1){const r={x:WM(e,"x","any","bool")},o={axis:t,keepDims:n};return LM.runKernel(xO,r,o)}}),HL=qM({argMax_:function(e,t=0){const n={x:WM(e,"x","argMax")},r={axis:t};return LM.runKernel(wO,n,r)}});function qL(e,t,n,r,o="NHWC",i){return KL(e,[...t,e[3]],n,i,r,null,null,aF(o))}function XL(e,t,n,r,o,i,a="channelsLast"){const[s,l]=QL(t);let u;if("channelsLast"===a)u=[s,l,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);u=[s,l,e[1],e[1]]}return KL(e,u,n,r,o,i,!1,a)}function YL(e,t,n,r,o,i,a="NDHWC"){const[s,l,u]=eF(t);let c,d;if("NDHWC"===a)d="channelsLast",c=[s,l,u,e[4],e[4]];else{if("NCDHW"!==a)throw new Error(`Unknown dataFormat ${a}`);d="channelsFirst",c=[s,l,u,e[1],e[1]]}return ZL(e,c,n,r,o,!1,d,i)}function KL(e,t,n,r,o,i,a=!1,s="channelsLast"){let[l,u,c,d]=[-1,-1,-1,-1];if("channelsLast"===s)[l,u,c,d]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,d,u,c]=e}const[p,h,,f]=t,[m,g]=QL(n),[b,y]=QL(r),v=tF(p,b),x=tF(h,y),{padInfo:w,outHeight:k,outWidth:_}=function(e,t,n,r,o,i,a,s,l){let u,c,d;if("number"==typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const o=function(e,t,n,r,o){null==r&&(r=JL(e,t,n));const i=e[1];return[nF((e[0]-t+2*r)/n+1,o),nF((i-t+2*r)/n+1,o)]}([t,n],i,r,e,s);c=o[0],d=o[1]}else if("same"===e){c=Math.ceil(t/r),d=Math.ceil(n/o);const e=Math.max(0,(c-1)*r+i-t),s=Math.max(0,(d-1)*o+a-n),l=Math.floor(e/2),p=e-l,h=Math.floor(s/2);u={top:l,bottom:p,left:h,right:s-h,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),d=Math.ceil((n-a+1)/o);else{if("object"!=typeof e)throw Error(`Unknown padding parameter: ${e}`);{const p="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];u={top:p,bottom:h,left:f,right:m,type:0===p&&0===h&&0===f&&0===m?"VALID":"EXPLICIT"},c=nF((t-i+p+h)/r+1,s),d=nF((n-a+f+m)/o+1,s)}}return{padInfo:u,outHeight:c,outWidth:d}}(o,u,c,m,g,v,x,i,s),S=a?f*d:f;let E;return"channelsFirst"===s?E=[l,S,k,_]:"channelsLast"===s&&(E=[l,k,_,S]),{batchSize:l,dataFormat:s,inHeight:u,inWidth:c,inChannels:d,outHeight:k,outWidth:_,outChannels:S,padInfo:w,strideHeight:m,strideWidth:g,filterHeight:p,filterWidth:h,effectiveFilterHeight:v,effectiveFilterWidth:x,dilationHeight:b,dilationWidth:y,inShape:e,outShape:E,filterShape:t}}function ZL(e,t,n,r,o,i=!1,a="channelsLast",s){let[l,u,c,d,p]=[-1,-1,-1,-1,-1];if("channelsLast"===a)[l,u,c,d,p]=e;else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);[l,p,u,c,d]=e}const[h,f,m,,g]=t,[b,y,v]=eF(n),[x,w,k]=eF(r),_=tF(h,x),S=tF(f,w),E=tF(m,k),{padInfo:T,outDepth:C,outHeight:I,outWidth:j}=function(e,t,n,r,o,i,a,s,l,u,c){let d,p,h,f;if("valid"===e&&(e=0),"number"==typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,r,o,i){null==o&&(o=JL(e,t[0],r[0]));const a=[0,0,0,1];for(let n=0;n<3;n++)e[n]+2*o>=t[n]&&(a[n]=nF((e[n]-t[n]+2*o)/r[n]+1,i));return a}([t,n,r,1],[s,l,u],0,[o,i,a],e,c);p=m[0],h=m[1],f=m[2]}else{if("same"!==e)throw Error(`Unknown padding parameter: ${e}`);{p=Math.ceil(t/o),h=Math.ceil(n/i),f=Math.ceil(r/a);const e=(p-1)*o+s-t,c=(h-1)*i+l-n,m=(f-1)*a+u-r,g=Math.floor(e/2),b=e-g,y=Math.floor(c/2),v=c-y,x=Math.floor(m/2);d={top:y,bottom:v,left:x,right:m-x,front:g,back:b,type:"SAME"}}}return{padInfo:d,outDepth:p,outHeight:h,outWidth:f}}(o,u,c,d,b,y,v,_,S,E,s),A=i?g*p:g;let O;return"channelsFirst"===a?O=[l,A,C,I,j]:"channelsLast"===a&&(O=[l,C,I,j,A]),{batchSize:l,dataFormat:a,inDepth:u,inHeight:c,inWidth:d,inChannels:p,outDepth:C,outHeight:I,outWidth:j,outChannels:A,padInfo:T,strideDepth:b,strideHeight:y,strideWidth:v,filterDepth:h,filterHeight:f,filterWidth:m,effectiveFilterDepth:_,effectiveFilterHeight:S,effectiveFilterWidth:E,dilationDepth:x,dilationHeight:w,dilationWidth:k,inShape:e,outShape:O,filterShape:t}}function JL(e,t,n,r=1){const o=tF(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function QL(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function eF(e){return"number"==typeof e?[e,e,e]:e}function tF(e,t){return t<=1?e:e+(e-1)*(t-1)}function nF(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function rF(e){const[t,n,r]=QL(e);return 1===t&&1===n&&1===r}function oF(e,t){return rF(e)||rF(t)}function iF(e){return QL(e).every((e=>e>0))}function aF(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function sF(e,t,n){if(null!=n){if("string"==typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"==typeof t)jA(PA(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!=typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{jA(PA(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}const lF=qM({reshape_:function(e,t){const n={x:WM(e,"x","reshape","string_or_numeric")},r={shape:t};return LM.runKernel(SR,n,r)}}),uF=qM({avgPool_:function(e,t,n,r,o){const i=WM(e,"x","avgPool","float32");jA(oF(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let a=i,s=!1;3===i.rank&&(s=!0,a=lF(i,[1,i.shape[0],i.shape[1],i.shape[2]])),jA(4===a.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${a.rank}.`)),sF("avgPool",r,o);const l={x:a},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o};let c=LM.runKernel(IO,l,u);return c=FD(c,i.dtype),s?lF(c,[c.shape[1],c.shape[2],c.shape[3]]):c}}),cF=qM({avgPool3d_:function(e,t,n,r,o,i="NDHWC"){const a=WM(e,"x","avgPool3d","float32");let s=a,l=!1;4===a.rank&&(l=!0,s=lF(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),jA(5===s.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`)),jA("NDHWC"===i,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`)),jA("number"==typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`)),sF("avgPool3d",r,o);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:i};let d=LM.runKernel(AO,u,c);return d=FD(d,s.dtype),l?lF(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}}),dF=qM({batchNorm_:function(e,t,n,r,o,i){null==i&&(i=.001);const a=WM(e,"x","batchNorm"),s=WM(t,"mean","batchNorm"),l=WM(n,"variance","batchNorm");let u,c;null!=o&&(u=WM(o,"scale","batchNorm")),null!=r&&(c=WM(r,"offset","batchNorm")),jA(s.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),jA(null==c||s.rank===c.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),jA(null==u||s.rank===u.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d=function(e){let t;return t=0===e.rank||1===e.rank?lF(e,[1,1,1,e.size]):2===e.rank?lF(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?lF(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(a),p={x:d,scale:u,offset:c,mean:s,variance:l},h={varianceEpsilon:i},f=LM.runKernel(_N,p,h);return lF(f,a.shape)}}),pF=qM({batchNorm2d_:function(e,t,n,r,o,i){const a=WM(e,"x","batchNorm"),s=WM(t,"mean","batchNorm"),l=WM(n,"variance","batchNorm");let u,c;return null!=o&&(u=WM(o,"scale","batchNorm")),null!=r&&(c=WM(r,"offset","batchNorm")),jA(2===a.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`)),jA(2===s.rank||1===s.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`)),jA(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=u&&jA(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${u.rank}.`)),null!=c&&jA(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${c.rank}.`)),dF(a,s,l,c,u,i)}}),hF=qM({batchNorm3d_:function(e,t,n,r,o,i){const a=WM(e,"x","batchNorm"),s=WM(t,"mean","batchNorm"),l=WM(n,"variance","batchNorm");let u,c;return null!=o&&(u=WM(o,"scale","batchNorm")),null!=r&&(c=WM(r,"offset","batchNorm")),jA(3===a.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`)),jA(3===s.rank||1===s.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`)),jA(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=u&&jA(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${u.rank}.`)),null!=c&&jA(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${c.rank}.`)),dF(a,s,l,c,u,i)}}),fF=qM({batchNorm4d_:function(e,t,n,r,o,i){const a=WM(e,"x","batchNorm"),s=WM(t,"mean","batchNorm"),l=WM(n,"variance","batchNorm");let u,c;return null!=o&&(u=WM(o,"scale","batchNorm")),null!=r&&(c=WM(r,"offset","batchNorm")),jA(4===a.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`)),jA(4===s.rank||1===s.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`)),jA(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=u&&jA(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${u.rank}.`)),null!=c&&jA(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${c.rank}.`)),dF(a,s,l,c,u,i)}}),mF=qM({broadcastTo_:function(e,t){let n=WM(e,"broadcastTo","x");const r=n.shape;if(nO(t),t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=lF(n,e)}const o=n.shape,i=Array.from(t);for(let e=t.length-1;e>=0;e--)if(o[e]===t[e])i[e]=1;else if(1!==n.shape[e])throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${t}].`);if(0===i.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return BD(n);const a={x:n},s={reps:i};return LM.runKernel(cP,a,s)}}),gF=qM({clipByValue_:function(e,t,n){const r=WM(e,"x","clipByValue");if(jA(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`)),t===n)return rL(r.shape,t,r.dtype);const o={x:r},i={clipValueMin:t,clipValueMax:n};return LM.runKernel(BO,o,i)}}),bF=qM({concat_:function(e,t=0){jA(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=HM(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return BD(n[0]);const r=n,o={axis:t};return LM.runKernel(UO,r,o)}}),yF=qM({concat1d_:function(e){return bF(e,0)}}),vF=qM({concat2d_:function(e,t){return bF(e,t)}}),xF=qM({concat3d_:function(e,t){return bF(e,t)}}),wF=qM({concat4d_:function(e,t){return bF(e,t)}}),kF=qM({conv2d_:function(e,t,n,r,o="NHWC",i=[1,1],a){const s=WM(e,"x","conv2d","float32"),l=WM(t,"filter","conv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=lF(s,[1,s.shape[0],s.shape[1],s.shape[2]])),jA(4===u.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${u.rank}.`)),jA(4===l.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${l.rank}.`)),sF("conv2d",r,a);const d="NHWC"===o?u.shape[3]:u.shape[1];jA(d===l.shape[2],(()=>`Error in conv2d: depth of input (${d}) must match input depth for filter ${l.shape[2]}.`)),jA(oF(n,i),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),jA(iF(i),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),jA(iF(n),(()=>"Error in conv2D: Strides should be larger than 0."));const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a},f=LM.runKernel(VO,p,h);return c?lF(f,[f.shape[1],f.shape[2],f.shape[3]]):f}}),_F=qM({conv1d_:function(e,t,n,r,o="NWC",i=1,a){const s=WM(e,"x","conv1d"),l=WM(t,"filter","conv1d");let u=s,c=!1;2===s.rank&&(c=!0,u=lF(s,[1,s.shape[0],s.shape[1]])),jA(3===u.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${u.rank}.`)),jA(3===l.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${l.rank}.`)),sF("conv1d",r,a),jA(u.shape[2]===l.shape[1],(()=>`Error in conv1d: depth of input (${u.shape[2]}) must match input depth for filter ${l.shape[1]}.`)),jA(oF(n,i),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${i}'`)),jA(iF(i),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),jA(iF(n),(()=>"Error in conv1D: Stride should be larger than 0.")),jA("NWC"===o,(()=>`Error in conv1d: got dataFormat of ${o} but only NWC is currently supported.`));const d=lF(l,[1,l.shape[0],l.shape[1],l.shape[2]]),p=lF(u,[u.shape[0],1,u.shape[1],u.shape[2]]),h=kF(p,d,[1,n],r,"NHWC",[1,i],a);return lF(h,c?[h.shape[2],h.shape[3]]:[h.shape[0],h.shape[2],h.shape[3]])}}),SF=qM({conv2DBackpropInput_:function(e,t,n,r,o,i="NHWC",a){jA(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let s=e,l=t,u=!1;3===t.rank&&(u=!0,l=lF(t,[1,t.shape[0],t.shape[1],t.shape[2]]),s=[1,e[0],e[1],e[2]]),jA(4===s.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${s.length}.`)),jA(4===l.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${l.rank}`)),jA(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const c="NHWC"===i?s[3]:s[1],d="NHWC"===i?l.shape[3]:l.shape[1];jA(c===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[2]}.`)),jA(d===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[3]}.`)),sF("conv2dDerInput",o,a);const p={dy:l,filter:n},h={strides:r,pad:o,dataFormat:i,dimRoundingMode:a,inputShape:s},f=LM.runKernel(WO,p,h);return u?lF(f,[f.shape[1],f.shape[2],f.shape[3]]):f}}),EF=qM({conv2dTranspose_:function(e,t,n,r,o,i){const a=WM(e,"x","conv2dTranspose"),s=WM(t,"filter","conv2dTranspose");return SF(n,a,s,r,o,"NHWC",i)}}),TF=qM({conv3d_:function(e,t,n,r,o="NDHWC",i=[1,1,1]){const a=WM(e,"x","conv3d"),s=WM(t,"filter","conv3d");let l=a,u=!1;4===a.rank&&(u=!0,l=lF(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),jA(5===l.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${l.rank}.`)),jA(5===s.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`)),jA(l.shape[4]===s.shape[3],(()=>`Error in conv3d: depth of input (${l.shape[4]}) must match input depth for filter ${s.shape[3]}.`)),jA(oF(n,i),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`)),jA("NDHWC"===o,(()=>`Error in conv3d: got dataFormat of ${o} but only NDHWC is currently supported.`)),jA(iF(i),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),jA(iF(n),(()=>"Error in conv3D: Strides should be larger than 0."));const c={x:l,filter:s},d={strides:n,pad:r,dataFormat:o,dilations:i},p=LM.runKernel(HO,c,d);return u?lF(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),CF=qM({conv3DBackpropInput_:function(e,t,n,r,o){jA(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let i=e,a=t,s=!1;4===t.rank&&(s=!0,a=lF(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),i=[1,e[0],e[1],e[2],e[3]]);const l=i[4],u=a.shape[4];jA(5===i.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${i.length}.`)),jA(5===a.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`)),jA(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),jA(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),jA(u===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${u}) must match output depth for filter ${n.shape[4]}.`));const c={dy:a,filter:n},d={pad:o,strides:r,inputShape:i},p=LM.runKernel(XO,c,d);return s?lF(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),IF=qM({conv3dTranspose_:function(e,t,n,r,o){const i=WM(e,"x","conv3dTranspose"),a=WM(t,"filter","conv3dTranspose");return CF(n,i,a,r,o)}}),jF=qM({denseBincount_:function(e,t,n,r=!1){const o=WM(e,"x","denseBincount"),i=WM(t,"weights","denseBincount");jA("int32"===o.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${o.dtype}`)),jA(o.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${o.rank}.`)),jA(n>=0,(()=>`size must be non-negative, but got ${n}.`)),jA(i.size===o.size||0===i.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${o.shape}, weights shape: ${i.shape}.`));const a={x:o,weights:i},s={size:n,binaryOutput:r};return LM.runKernel(eN,a,s)}}),AF=qM({depthwiseConv2d_:function(e,t,n,r,o="NHWC",i=[1,1],a){const s=WM(e,"x","depthwiseConv2d","float32"),l=WM(t,"filter","depthwiseConv2d","float32");let u=s,c=!1;3===s.rank&&(c=!0,u=lF(s,[1,s.shape[0],s.shape[1],s.shape[2]])),jA(4===u.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${u.rank}.`)),jA(4===l.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${l.rank}.`));const d="NHWC"===o?u.shape[3]:u.shape[1];jA(d===l.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${d}) must match the inChannels dimension in filter ${l.shape[2]}.`)),sF("depthwiseConv2d",r,a);const p={x:u,filter:l},h={strides:n,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a},f=LM.runKernel(nN,p,h);return c?lF(f,[f.shape[1],f.shape[2],f.shape[3]]):f}}),OF=qM({elu_:function(e){const t={x:WM(e,"x","elu","float32")};return LM.runKernel(dN,t)}}),NF=qM({equal_:function(e,t){let n=WM(e,"a","equal","string_or_numeric"),r=WM(t,"b","equal","string_or_numeric");[n,r]=jM(n,r),dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(fN,o)}}),RF=qM({exp_:function(e){const t={x:WM(e,"x","exp")};return LM.runKernel(mN,t)}}),PF=qM({expandDims_:function(e,t=0){const n=WM(e,"x","expandDims","string_or_numeric");jA(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const r={input:n},o={dim:t};return LM.runKernel(gN,r,o)}}),MF=qM({tile_:function(e,t){const n=WM(e,"x","tile","string_or_numeric");jA(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const r={x:n},o={reps:t};return LM.runKernel(cP,r,o)}}),DF=qM({eye_:function(e,t,n,r="float32"){null==t&&(t=e);const o=LD([e,t],r),i=e<=t?e:t;for(let e=0;e<i;++e)o.set(1,e,e);const a=lF(o.toTensor(),[e,t]);if(null==n)return a;if(1===n.length)return MF(PF(a,0),[n[0],1,1]);if(2===n.length)return MF(PF(PF(a,0),0),[n[0],n[1],1,1]);if(3===n.length)return MF(PF(PF(PF(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}}),LF=qM({floor_:function(e){const t={x:WM(e,"x","floor","float32")};return LM.runKernel(wN,t)}}),FF=qM({gather_:function(e,t,n=0,r=0){const o={x:WM(e,"x","gather"),indices:WM(t,"indices","gather","int32")},i={axis:n,batchDims:r};return LM.runKernel(SN,o,i)}}),BF=qM({greater_:function(e,t){let n=WM(e,"a","greater","string_or_numeric"),r=WM(t,"b","greater","string_or_numeric");[n,r]=jM(n,r),dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(TN,o)}}),$F=qM({greaterEqual_:function(e,t){let n=WM(e,"a","greaterEqual","string_or_numeric"),r=WM(t,"b","greaterEqual","string_or_numeric");[n,r]=jM(n,r),dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(CN,o)}}),zF=qM({leakyRelu_:function(e,t=.2){const n={x:WM(e,"x","leakyRelu")},r={alpha:t};return LM.runKernel(PN,n,r)}}),UF=qM({log_:function(e){const t={x:WM(e,"x","log","float32")};return LM.runKernel(FN,t)}}),VF=qM({log1p_:function(e){const t={x:WM(e,"x","log1p")};return LM.runKernel(BN,t)}}),GF=qM({max_:function(e,t=null,n=!1){const r={x:WM(e,"x","max")},o={reductionIndices:t,keepDims:n};return LM.runKernel(WN,r,o)}}),WF=qM({sum_:function(e,t=null,n=!1){let r=WM(e,"x","sum");"bool"===r.dtype&&(r=FD(r,"int32"));const o={x:r},i={axis:t,keepDims:n};return LM.runKernel(WR,o,i)}}),HF=qM({logSoftmax_:function(e,t=-1){const n=WM(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const r=XD(((e,n)=>{const r=GF(e,t,!0),o=aL(e,r),i=aL(FD(o,"float32"),UF(WF(RF(o),t,!0)));return n([i]),{value:i,gradFunc:(e,n)=>{const[r]=n,o=RF(r);return aL(e,GD(WF(e,t,!0),o))}}}));return r(n)}});function qF(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function XF(e,t,n){const r=e.length+t.length,o=[];let i=0,a=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[i++]):o.push(t[a++]);return o}function YF(e,t){const n=[],r=e.length;for(let o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map((t=>e[t]))]}function KF(e,t){return XF(e,t.map((e=>1)),t)}function ZF(e,t,n){jA(qF(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function JF(e,t){if(qF(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function QF(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function eB(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}const tB=qM({logSumExp_:function(e,t=null,n=!1){const r=WM(e,"x","logSumExp"),o=BA(t,r.shape),i=GF(r,o,!0),a=aL(r,i),s=RF(a),l=WF(s,o),u=UF(l),c=zD(lF(i,u.shape),u);if(n){const e=KF(c.shape,o);return lF(c,e)}return c}}),nB=qM({logicalAnd_:function(e,t){const n=WM(e,"a","logicalAnd","bool"),r=WM(t,"b","logicalAnd","bool");dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel($N,o)}}),rB=qM({matMul_:function(e,t,n=!1,r=!1){let o=WM(e,"a","matMul"),i=WM(t,"b","matMul");[o,i]=jM(o,i);const a={a:o,b:i},s={transposeA:n,transposeB:r};return LM.runKernel(NO,a,s)}}),oB=qM({maxPool_:function(e,t,n,r,o){const i=WM(e,"x","maxPool");let a=i,s=!1;3===i.rank&&(s=!0,a=lF(i,[1,i.shape[0],i.shape[1],i.shape[2]])),jA(4===a.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${a.rank}.`)),jA(oF(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),sF("maxPool",r,o);const l={x:a},u={filterSize:t,strides:n,pad:r,dimRoundingMode:o},c=LM.runKernel(qN,l,u);return s?lF(c,[c.shape[1],c.shape[2],c.shape[3]]):c}}),iB=qM({maxPool3d_:function(e,t=[1,1,1],n,r,o,i="NDHWC"){const a=WM(e,"x","maxPool3d");let s=a,l=!1;4===a.rank&&(l=!0,s=lF(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]])),jA(5===s.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`)),jA("NDHWC"===i,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`)),sF("maxPool3d",r,o);const u={x:s},c={filterSize:t,strides:n,pad:r,dimRoundingMode:o,dataFormat:i},d=LM.runKernel(YN,u,c);return l?lF(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}}),aB=qM({mean_:function(e,t=null,n=!1){const r={x:WM(e,"x","mean")},o={axis:t,keepDims:n};return LM.runKernel(JN,r,o)}}),sB=qM({min_:function(e,t=null,n=!1){const r={x:WM(e,"x","min")},o={axis:t,keepDims:n};return LM.runKernel(QN,r,o)}}),lB=qM({minimum_:function(e,t){let n=WM(e,"a","minimum"),r=WM(t,"b","minimum");[n,r]=jM(n,r),"bool"===n.dtype&&(n=FD(n,"int32"),r=FD(r,"int32")),dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(eR,o)}}),uB=qM({moments_:function(e,t=null,n=!1){const r=BA(t,(e=WM(e,"x","moments")).shape),o=aB(e,r,n);let i=o.shape;n||(i=KF(o.shape,r));const a=HD(aL(FD(e,"float32"),lF(o,i)));return{mean:o,variance:aB(a,r,n)}}}),cB=qM({neg_:function(e){const t={x:WM(e,"x","neg")};return LM.runKernel(iR,t)}}),dB=qM({notEqual_:function(e,t){let n=WM(e,"a","notEqual","string_or_numeric"),r=WM(t,"b","notEqual","string_or_numeric");[n,r]=jM(n,r),dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(aR,o)}}),pB=qM({oneHot_:function(e,t,n=1,r=0,o="int32"){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const i={indices:WM(e,"indices","oneHot","int32")},a={dtype:o,depth:t,onValue:n,offValue:r};return LM.runKernel(dR,i,a)}});function hB(e,t="float32"){if(nO(e),"complex64"===t){const t=hB(e,"float32"),n=hB(e,"float32");return XM(t,n)}const n=eO(NA(e),t);return LM.makeTensor(n,e,t)}function fB(e,t="float32"){if(nO(e),"complex64"===t){const t=fB(e,"float32"),n=hB(e,"float32");return XM(t,n)}const n=QA(NA(e),t);return LM.makeTensor(n,e,t)}const mB=qM({onesLike_:function(e){const t={x:WM(e,"x","onesLike")};return LM.runKernel(cR,t)}}),gB=qM({pad_:function(e,t,n=0){const r=WM(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const o={paddings:t,constantValue:n},i={x:r};return LM.runKernel(hR,i,o)}}),bB=qM({prelu_:function(e,t){const n={x:WM(e,"x","prelu"),alpha:WM(t,"alpha","prelu")};return LM.runKernel(mR,n)}});var yB=i(6377);class vB{constructor(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const i=o||Math.random();this.random=yB.alea(i.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,o,i;do{r=2*this.random()-1,o=2*this.random()-1,i=r*r+o*o}while(i>=1||0===i);const a=Math.sqrt(-2*Math.log(i)/i);e=this.mean+this.stdDev*r*a,t=this.mean+this.stdDev*o*a,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class xB{constructor(e=0,t=1,n,r){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=yB.alea(r)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const wB=qM({randomNormal_:function(e,t=0,n=1,r,o){if(nO(e),null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const i=new vB(t,n,r,!1,o),a=LD(e,r);for(let e=0;e<a.values.length;e++)a.values[e]=i.nextValue();return a.toTensor()}}),kB=qM({randomUniform_:function(e,t=0,n=1,r="float32",o){nO(e);const i=LD(e,r),a=new xB(t,n,null,o);for(let e=0;e<i.values.length;e++)i.values[e]=a.nextValue();return i.toTensor()}});function _B(e,t,n=1,r="float32"){if(0===n)throw new Error("Cannot have a step of zero");const o={start:e,stop:t,step:n,dtype:r};return LM.runKernel(xR,{},o)}const SB=qM({relu_:function(e){const t={x:WM(e,"x","relu")};return LM.runKernel(_R,t)}}),EB=qM({reverse_:function(e,t){const n={x:WM(e,"x","reverse")},r={dims:t};return LM.runKernel(AR,n,r)}}),TB=qM({selu_:function(e){const t={x:WM(e,"x","selu")};return LM.runKernel(LR,t)}}),CB=qM({separableConv2d_:function(e,t,n,r,o,i=[1,1],a="NHWC"){const s=WM(e,"x","separableConv2d"),l=WM(t,"depthwiseFilter","separableConv2d"),u=WM(n,"pointwiseFilter","separableConv2d");let c=s,d=!1;if(3===s.rank&&(d=!0,c=lF(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");jA(4===c.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${c.rank}.`)),jA(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),jA(4===u.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),jA(1===u.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${u.shape[0]}.`)),jA(1===u.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${u.shape[1]}.`));const p=l.shape[2],h=l.shape[3];jA(u.shape[2]===p*h,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${p*h}, but got ${u.shape[2]}.`));const f=AF(c,l,r,o,a,i),m=kF(f,u,1,"valid",a);return d?lF(m,[m.shape[1],m.shape[2],m.shape[3]]):m}}),IB=qM({sigmoid_:function(e){const t={x:WM(e,"x","sigmoid","float32")};return LM.runKernel(UR,t)}}),jB=qM({slice_:function(e,t,n){const r=WM(e,"x","slice","string_or_numeric");if(0===r.rank)throw new Error("Slicing scalar is not possible");const o={x:r},i={begin:t,size:n};return LM.runKernel(FR,o,i)}}),AB=qM({slice1d_:function(e,t,n){const r=WM(e,"x","slice1d");return jA(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),jB(r,[t],[n])}}),OB=qM({slice2d_:function(e,t,n){const r=WM(e,"x","slice2d");return jA(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),jB(r,t,n)}}),NB=qM({slice3d_:function(e,t,n){const r=WM(e,"x","slice3d");return jA(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),jB(r,t,n)}}),RB=qM({slice4d_:function(e,t,n){const r=WM(e,"x","slice4d");return jA(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),jB(r,t,n)}}),PB=qM({softmax_:function(e,t=-1){const n=WM(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const r={logits:n},o={dim:t};return LM.runKernel(XR,r,o)}}),MB=qM({softplus_:function(e){const t={x:WM(e,"x","softplus")};return LM.runKernel(VR,t)}}),DB=qM({split_:function(e,t,n=0){const r={x:WM(e,"x","split")},o={numOrSizeSplits:t,axis:n};return LM.runKernel(qR,r,o)}}),LB=qM({squeeze_:function(e,t){const n=WM(e,"x","squeeze","string_or_numeric");return lF(n,$A(n.shape,t).newShape)}}),FB=qM({stack_:function(e,t=0){const n=HM(e,"tensors","stack","string_or_numeric");jA(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&jA(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const r=n,o={axis:t};return LM.runKernel(pR,r,o)}}),BB=qM({tanh_:function(e){const t={x:WM(e,"x","tanh","float32")};return LM.runKernel(uP,t)}});function $B(e,t){OA(e);const n=UM(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return YM(e,null,n,t)}function zB(e,t,n){if(OA(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=UM(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return YM(e,t,r,n)}const UB=qM({truncatedNormal_:function(e,t=0,n=1,r,o){if(nO(e),null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");const i=new vB(t,n,r,!0,o),a=LD(e,r);for(let e=0;e<a.values.length;e++)a.values[e]=i.nextValue();return a.toTensor()}}),VB=qM({unstack_:function(e,t=0){const n=WM(e,"x","unstack","string_or_numeric");jA(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const r={value:n},o={axis:t};return LM.runKernel(mP,r,o)}}),GB=qM({where_:function(e,t,n){const r=WM(t,"a","where"),o=WM(n,"b","where"),i=WM(e,"condition","where","bool"),a=dL(dL(i.shape,r.shape),o.shape),s={condition:mF(i,a),t:mF(r,a),e:mF(o,a)};return LM.runKernel(DR,s)}}),WB=qM({imag_:function(e){const t={input:WM(e,"input","imag")};return LM.runKernel(AN,t)}}),HB=qM({real_:function(e){const t={input:WM(e,"input","real")};return LM.runKernel(wR,t)}}),qB=qM({transpose_:function(e,t,n){const r=WM(e,"x","transpose");if(null==t&&(t=r.shape.map(((e,t)=>t)).reverse()),jA(r.rank===t.length,(()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${t}.`)),t.forEach((e=>{jA(e>=0&&e<r.rank,(()=>"All entries in 'perm' must be between 0 and "+(r.rank-1)+` but got ${t}`))})),r.rank<=1)return r.clone();const o={x:r},i={perm:t};return"complex64"===r.dtype?tD((()=>{let e=HB(r),t=WB(r);return e=LM.runKernel(hP,{x:e},i),t=LM.runKernel(hP,{x:t},i),n&&(t=cB(t)),XM(e,t)})):LM.runKernel(hP,o,i)}}),XB=qM({dropout_:function(e,t,n,r){const o=WM(e,"x","dropout");if(jA("float32"===o.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${o.dtype} tensor instead.`)),jA(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof gM?o.clone():o;const i=function(e,t){if(null==t)return e.shape.slice();if(RA(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),a=1-t,s=VD(LF(zD(kB(i,0,1,"float32",r),a)),a);return GD(o,s)}}),YB=qM({fft_:function(e){jA("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return LM.runKernel(yN,t)}}),KB=qM({rfft_:function(e,t){jA("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const r=e.size/n;let o;if(null!=t&&t<n){const r=e.shape.map((e=>0)),i=e.shape.map((e=>e));i[e.shape.length-1]=t,o=jB(e,r,i),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,o=bF([e,hB(r)],e.shape.length-1),n=t}else o=e;const i=qD(o),a=lF(XM(o,i),[r,n]),s=YB(a),l=Math.floor(n/2)+1,u=HB(s),c=WB(s),d=DB(u,[l,n-l],u.shape.length-1),p=DB(c,[l,n-l],c.shape.length-1),h=o.shape.slice();return h[o.shape.length-1]=l,lF(XM(d[0],p[0]),h)}}),ZB=qM({ifft_:function(e){jA("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return LM.runKernel(jN,t)}}),JB=qM({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let r;if(t<=2){const o=lF(e,[n,t]);r=ZB(o)}else{const o=[n,2*(t-1)],i=lF(HB(e),[n,t]),a=lF(WB(e),[n,t]),s=EB(jB(i,[0,1],[n,t-2]),1),l=GD(EB(jB(a,[0,1],[n,t-2]),1),YD(-1)),u=bF([i,s],1),c=bF([a,l],1),d=lF(XM(u,c),[o[0],o[1]]);r=ZB(d)}if(r=HB(r),3===e.rank&&0!==e.shape[0]){const t=r,n=e.shape[0];r=lF(r,[n,r.shape[0]/n,r.shape[1]]),t.dispose()}return r}}),QB=qM({conv2DBackpropFilter_:function(e,t,n,r,o,i="NHWC",a){let s=e;3===e.rank&&(s=lF(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=lF(t,[1,t.shape[0],t.shape[1],t.shape[2]])),jA(4===s.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${s.shape}.`)),jA(4===l.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${l.shape}.`)),jA(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const u="NHWC"===i?s.shape[3]:s.shape[1],c="NHWC"===i?l.shape[3]:l.shape[1];jA(u===n[2],(()=>`Error in conv2dDerFilter: depth of input ${u}) must match input depth in filter (${n[2]}.`)),jA(c===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${c}) must match output depth for filter (${n[3]}).`)),sF("conv2dDerFilter",o,a);const d={x:s,dy:l},p={strides:r,pad:o,dataFormat:i,dimRoundingMode:a,filterShape:n};return LM.runKernel(GO,d,p)}}),e$=qM({relu6_:function(e){const t={x:WM(e,"x","relu6")};return LM.runKernel(jR,t)}}),t$=qM({step_:function(e,t=0){const n={x:WM(e,"x","step")},r={alpha:t};return LM.runKernel(yP,n,r)}});function n$(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return GD(e,t$(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function r$(e,t){let n=t;const r=cL(e.shape,t.shape);return r.length>0&&(n=WF(n,r)),lF(n,e.shape)}function o$(e,t,n,r){if("linear"===t)return e;if("relu"===t)return SB(e);if("elu"===t)return OF(e);if("relu6"===t)return e$(e);if("prelu"===t)return bB(e,n);if("leakyrelu"===t)return zF(e,r);if("sigmoid"===t)return IB(e);throw new Error(`Unknown fused activation ${t}.`)}const i$=(e,t)=>!(e>0)||"linear"===t,a$=qM({fusedConv2d_:function({x:e,filter:t,strides:n,pad:r,dataFormat:o="NHWC",dilations:i=[1,1],dimRoundingMode:a,bias:s,activation:l="linear",preluActivationWeights:u,leakyreluAlpha:c}){if(l=l||"linear",!1===i$(LM.state.gradientDepth,l)){jA("NHWC"===o,(()=>`Error in fused conv2d: got dataFormat of ${o} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`));let d=kF(e,t,n,r,o,i,a);return null!=s&&(d=zD(d,s)),o$(d,l,u,c)}const d=WM(e,"x","conv2d","float32"),p=WM(t,"filter","conv2d","float32");let h=d,f=!1;3===d.rank&&(f=!0,h=lF(d,[1,d.shape[0],d.shape[1],d.shape[2]])),jA(4===h.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${h.rank}.`)),jA(4===p.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${p.rank}.`)),sF("fused conv2d",r,a);const m="NHWC"===o?h.shape[3]:h.shape[1];jA(p.shape[2]===m,(()=>`Error in conv2d: depth of input (${m}) must match input depth for filter ${p.shape[2]}.`)),jA(oF(n,i),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`));const g=KL(h.shape,p.shape,n,i,r,a);let b,y;if(null!=s&&(b=WM(s,"bias","fused conv2d"),[b]=jM(b,d),"NHWC"===o?dL(g.outShape,b.shape):(jA(b.shape.length<=1,(()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${b.shape.length}.`)),jA(0===b.shape.length||b.shape[0]===g.outChannels||1===b.shape[0],(()=>`Error in fused conv2d: bias shape (${b.shape}) is not compatible with the number of output channels (${g.outChannels})`)))),null!=u){const e=u.shape;if(jA(e.length<=1||3===e.length,(()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${e.length}.`)),1===e.length)jA(1===e[0]||e[0]===g.outChannels,(()=>`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the number of output channels (${g.outChannels}).`));else if(3===e.length)try{dL(e,g.outShape)}catch(t){const n=`Error in fused conv2d: PReLU activation weights (${e}) is not compatible with the output shape of the conv2d (${g.outShape}).`;throw Error(n)}y=WM(u,"prelu weights","fused conv2d")}const v=(e,t)=>{jA("NHWC"===o,(()=>`Error in gradient of fused conv2D: got dataFormat of ${o} but only NHWC is currently supported.`));const[a,s,u,c]=t,d=n$(e,u,l);jA(rF(i),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`));const p=[SF(s.shape,d,a,n,r),QB(s,d,a.shape,n,r)];if(null!=c){const e=r$(c,d);p.push(e)}return p},x={x:h,filter:p,bias:b,preluActivationWeights:y},w={strides:n,pad:r,dataFormat:o,dilations:i,dimRoundingMode:a,activation:l,leakyreluAlpha:c};if(null==s){const e=XD(((e,t,n)=>{let r=LM.runKernel(wP,x,w);return n([t,e,r]),f&&(r=lF(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:v}}));return e(h,p)}{const e=XD(((e,t,n,r)=>{let o=LM.runKernel(wP,x,w);return r([t,e,o,n]),f&&(o=lF(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:v}}));return e(h,p,b)}}}),s$=qM({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,r,o,i=[1,1],a){let s=e;3===e.rank&&(s=lF(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=lF(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={x:s,dy:l},c={strides:r,pad:o,dimRoundingMode:a,dilations:i,filterShape:n};return LM.runKernel(rN,u,c)}}),l$=qM({depthwiseConv2dNativeBackpropInput_:function(e,t,n,r,o,i=[1,1],a){let s=t,l=!1;3===t.rank&&(l=!0,s=lF(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const u={dy:s,filter:n},c={strides:r,pad:o,dimRoundingMode:a,dilations:i,inputShape:e},d=LM.runKernel(oN,u,c);return l?lF(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),u$=qM({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:r=!1,bias:o,activation:i="linear",preluActivationWeights:a,leakyreluAlpha:s=.2}){if(!1===i$(LM.state.gradientDepth,i)){let l=rB(e,t,n,r);return null!=o&&(l=zD(l,o)),o$(l,i,a,s)}let l=WM(e,"a","fused matMul"),u=WM(t,"b","fused matMul");[l,u]=jM(l,u);const c=n?l.shape[l.rank-2]:l.shape[l.rank-1],d=r?u.shape[u.rank-1]:u.shape[u.rank-2],p=n?l.shape[l.rank-1]:l.shape[l.rank-2],h=r?u.shape[u.rank-2]:u.shape[u.rank-1],f=l.shape.slice(0,-2),m=u.shape.slice(0,-2),g=NA(f),b=NA(m);jA(c===d,(()=>`Error in fused matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${l.shape} and ${u.shape} and transposeA=${n} and transposeB=${r} must match.`));const y=dL(l.shape.slice(0,-2),u.shape.slice(0,-2)).concat([p,h]),v=lF(l,n?[g,c,p]:[g,p,c]),x=lF(u,r?[b,h,d]:[b,d,h]);let w,k;null!=o&&(w=WM(o,"bias","fused matMul"),[w]=jM(w,l),dL(y,w.shape)),null!=a&&(k=WM(a,"prelu weights","fused matMul"));const _=(e,t)=>{const[a,s,l,u]=t,c=n$(lF(e,l.shape),l,i);let d,p;return n||r?!n&&r?(d=rB(c,s,!1,!1),p=rB(c,a,!0,!1)):n&&!r?(d=rB(s,c,!1,!0),p=rB(a,c,!1,!1)):(d=rB(s,c,!0,!0),p=rB(c,a,!0,!0)):(d=rB(c,s,!1,!0),p=rB(a,c,!0,!1)),null!=o?[d,p,r$(u,c)]:[d,p]},S={a:v,b:x,bias:w,preluActivationWeights:k},E={transposeA:n,transposeB:r,activation:i,leakyreluAlpha:s};if(null==o){const e=XD(((e,t,n)=>{const r=LM.runKernel(xP,S,E);return n([e,t,r]),{value:lF(r,y),gradFunc:_}}));return e(v,x)}{const e=XD(((e,t,n,r)=>{const o=LM.runKernel(xP,S,E);return r([e,t,o,n]),{value:lF(o,y),gradFunc:_}}));return e(v,x,w)}}}),c$=qM({cropAndResize_:function(e,t,n,r,o="bilinear",i=0){const a=WM(e,"image","cropAndResize"),s=WM(t,"boxes","cropAndResize","float32"),l=WM(n,"boxInd","cropAndResize","int32"),u=s.shape[0];jA(4===a.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`)),jA(2===s.rank&&4===s.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${u},4] but had shape ${s.shape}.`)),jA(1===l.rank&&l.shape[0]===u,(()=>`Error in cropAndResize: boxInd must be have size [${u}] but had shape ${s.shape}.`)),jA(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),jA(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),jA("bilinear"===o||"nearest"===o,(()=>`method must be bilinear or nearest, but was ${o}`));const c={image:a,boxes:s,boxInd:l},d={method:o,extrapolationValue:i,cropSize:r};return LM.runKernel(QO,c,d)}}),d$=qM({flipLeftRight_:function(e){const t=WM(e,"image","flipLeftRight","float32");jA(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return LM.runKernel(xN,n,{})}}),p$=qM({grayscaleToRGB_:function(e){const t=WM(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];jA(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),jA(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const o=new Array(t.rank);return o.fill(1,0,n),o[n]=3,MF(t,o)}}),h$=qM({einsum_:function(e,...t){const n=t.map(((e,t)=>WM(e,`tensors${t}`,"einsum"))),r={equation:e};return LM.runKernel(cN,n,r)}}),f$=qM({rgbToGrayscale_:function(e){const t=WM(e,"image","RGBToGrayscale"),n=t.rank-1,r=t.shape[n];jA(t.rank>=2,(()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${t.rank}.`)),jA(3===r,(()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`));const o=t.dtype,i=FD(t,"float32"),a=$B([.2989,.587,.114]);let s;switch(t.rank){case 2:s=h$("ij,j->i",i,a);break;case 3:s=h$("ijk,k->ij",i,a);break;case 4:s=h$("ijkl,l->ijk",i,a);break;case 5:s=h$("ijklm,m->ijkl",i,a);break;case 6:s=h$("ijklmn,n->ijklm",i,a);break;default:throw new Error("Not a valid tensor rank.")}return s=PF(s,-1),FD(s,o)}}),m$=qM({rotateWithOffset_:function(e,t,n=0,r=.5){const o=WM(e,"image","rotateWithOffset","float32");jA(4===o.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${o.rank}.`));const i={image:o},a={radians:t,fillValue:n,center:r};return LM.runKernel(vP,i,a)}});function g$(e,t,n,r,o,i){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==i&&(i=0);const a=e.shape[0];return n=Math.min(n,a),jA(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),jA(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),jA(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),jA(1===t.rank,(()=>"scores must be a 1D tensor")),jA(t.shape[0]===a,(()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${t.shape[0]}`)),jA(0<=i&&i<=1,(()=>`softNmsSigma must be in [0, 1], but was '${i}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:i}}const b$=qM({nonMaxSuppression_:function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY){const i=WM(e,"boxes","nonMaxSuppression","float32"),a=WM(t,"scores","nonMaxSuppression","float32"),s=g$(i,a,n,r,o),l={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:o=s.scoreThreshold};return LM.runKernel(sR,{boxes:i,scores:a},l)}});function y$(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,o=e.length,i=0,a=!1;for(;r<o;){i=r+(o-r>>>1);const s=n(t,e[i]);s>0?r=i+1:(o=i,a=!s)}return a?r:-r-1}(e,t,n||v$)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function v$(e,t){return e>t?1:e<t?-1:0}function x$(e,t,n,r,o){return _$(e,t,n,r,o,0)}function w$(e,t,n,r,o,i){return _$(e,t,n,r,o,0,!1,i,!0)}function k$(e,t,n,r,o,i){return _$(e,t,n,r,o,i,!0)}function _$(e,t,n,r,o,i,a=!1,s=!1,l=!1){const u=[];for(let e=0;e<t.length;e++)t[e]>o&&u.push({score:t[e],boxIndex:e,suppressBeginIndex:0});u.sort(T$);const c=i>0?-.5/i:0,d=[],p=[];for(;d.length<n&&u.length>0;){const t=u.pop(),{score:n,boxIndex:i,suppressBeginIndex:a}=t;if(n<o)break;let s=!1;for(let n=d.length-1;n>=a;--n){const a=S$(e,i,d[n]);if(a>=r){s=!0;break}if(t.score=t.score*E$(r,c,a),t.score<=o)break}t.suppressBeginIndex=d.length,s||(t.score===n?(d.push(i),p.push(t.score)):t.score>o&&y$(u,t,T$))}const h=d.length,f=n-h;s&&f>0&&(d.push(...new Array(f).fill(0)),p.push(...new Array(f).fill(0)));const m={selectedIndices:d};return a&&(m.selectedScores=p),l&&(m.validOutputs=h),m}function S$(e,t,n){const r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),p=Math.max(o[1],o[3]),h=(s-i)*(l-a),f=(d-u)*(p-c);if(h<=0||f<=0)return 0;const m=Math.max(i,u),g=Math.max(a,c),b=Math.min(s,d),y=Math.min(l,p),v=Math.max(b-m,0)*Math.max(y-g,0);return v/(h+f-v)}function E$(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function T$(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const C$=qM({nonMaxSuppressionWithScore_:function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY,i=0){const a=WM(e,"boxes","nonMaxSuppression"),s=WM(t,"scores","nonMaxSuppression"),l=g$(a,s,n,r,o,i),u={boxes:a,scores:s},c={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:o=l.scoreThreshold,softNmsSigma:i=l.softNmsSigma},d=LM.runKernel(uR,u,c);return{selectedIndices:d[0],selectedScores:d[1]}}}),I$=qM({nonMaxSuppressionPadded_:function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY,i=!1){const a=WM(e,"boxes","nonMaxSuppression"),s=WM(t,"scores","nonMaxSuppression"),l=g$(a,s,n,r,o,null),u={boxes:a,scores:s},c={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:i},d=LM.runKernel(lR,u,c);return{selectedIndices:d[0],validOutputs:d[1]}}}),j$=qM({resizeBilinear_:function(e,t,n=!1,r=!1){const o=WM(e,"images","resizeBilinear");jA(3===o.rank||4===o.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${o.rank}.`)),jA(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),jA(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let i=o,a=!1;3===o.rank&&(a=!0,i=lF(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[]=t,s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=LM.runKernel(CR,s,l);return a?lF(u,[u.shape[1],u.shape[2],u.shape[3]]):u}}),A$=qM({resizeNearestNeighbor_:function(e,t,n=!1,r=!1){const o=WM(e,"images","resizeNearestNeighbor");jA(3===o.rank||4===o.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${o.rank}.`)),jA(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),jA("float32"===o.dtype||"int32"===o.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),jA(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let i=o,a=!1;3===o.rank&&(a=!0,i=lF(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const[]=t,s={images:i},l={alignCorners:n,halfPixelCenters:r,size:t},u=LM.runKernel(ER,s,l);return a?lF(u,[u.shape[1],u.shape[2],u.shape[3]]):u}}),O$=qM({bincount_:function(e,t,n){const r=WM(e,"x","bincount"),o=WM(t,"weights","bincount");jA("int32"===r.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`)),jA(n>=0,(()=>`size must be non-negative, but got ${n}.`)),jA(o.size===r.size||0===o.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${o.shape}.`));const i={x:r,weights:o},a={size:n};return LM.runKernel(PO,i,a)}}),N$=qM({lessEqual_:function(e,t){let n=WM(e,"a","lessEqual","string_or_numeric"),r=WM(t,"b","lessEqual","string_or_numeric");[n,r]=jM(n,r),dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(DN,o)}}),R$=qM({round_:function(e){const t={x:WM(e,"x","round")};return LM.runKernel(OR,t)}}),P$=qM({threshold_:function(e,t="binary",n=!1,r=.5){const o=WM(e,"image","threshold"),i=o.shape[0]*o.shape[1];let a,s,l,u,c=GD($B([r]),255);if(jA(3===o.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${o.rank}.`)),jA(3===o.shape[2]||1===o.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${o.shape[2]}.`)),jA("int32"===o.dtype||"float32"===o.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${o.dtype}.`)),jA("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===o.shape[2]){[a,s,l]=DB(o,[1,1,1],-1);const e=GD(a,.2989),t=GD(s,.587),n=GD(l,.114);u=zD(zD(e,t),n)}else u=e;"otsu"===t&&(c=function(e,t){let n,r,o,i,a,s,l=$B([-1]),u=$B([0]),c=$B([0]);for(let d=0;d<e.size-1;d++){n=jB(e,0,d+1),r=jB(e,d+1),a=VD(WF(n),t),s=VD(WF(r),t);const p=WF(GD(n,_B(0,n.size)));o=VD(p,WF(n));const h=rL(r.shape,n.size),f=zD(_B(0,r.size),h),m=GD(r,f);i=VD(WF(m),WF(r));const g=aL(o,i),b=aL(o,i),y=GD(a,s);c=GD(GD(y,g),b);const v=BF(c,u);u=GB(v,c,u),l=GB(v,$B([d]),l)}return l}(O$(FD(R$(u),"int32"),KM([]),256),i));const d=n?N$(u,c):BF(u,c);return FD(GD(d,255),"int32")}}),M$=qM({transform_:function(e,t,n="nearest",r="constant",o=0,i){const a=WM(e,"image","transform","float32"),s=WM(t,"transforms","transform","float32");jA(4===a.rank,(()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`)),jA(2===s.rank&&(s.shape[0]===a.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),jA(null==i||2===i.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${i}.`));const l={image:a,transforms:s},u={interpolation:n,fillMode:r,fillValue:o,outputShape:i};return LM.runKernel(pP,l,u)}}),D$=qM({less_:function(e,t){let n=WM(e,"a","less","string_or_numeric"),r=WM(t,"b","less","string_or_numeric");[n,r]=jM(n,r),dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(MN,o)}}),L$=qM({bandPart_:function(e,t,n){const r=WM(e,"a","bandPart");jA(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const o=r.shape,[i,a]=r.shape.slice(-2);let s,l;"number"==typeof t?(jA(t%1==0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),jA(t<=i,(()=>`bandPart(): numLower (${t}) must not be greater than the number of rows (${i}).`)),s=WM(t<0?i:t,"numLower","bandPart")):(jA("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),s=GB(D$(t,0),i,lB(t,i))),"number"==typeof n?(jA(n%1==0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`)),jA(n<=a,(()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`)),l=WM(n<0?a:n,"numUpper","bandPart")):(jA("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=GB(D$(n,0),a,lB(n,a)));const u=lF(_B(0,i,1,"int32"),[-1,1]),c=_B(0,a,1,"int32"),d=aL(u,c),p=nB(N$(d,s),$F(d,cB(l))),h=hB([i,a],r.dtype);return lF(FB(VB(lF(r,[-1,i,a])).map((e=>GB(p,e,h)))),o)}});function F$(e,t,n=null){if(0===e.rank)return lL(e);if(1!==e.rank&&null===n)return F$(lF(e,[-1]),t,n);if(1===e.rank||"number"==typeof n||Array.isArray(n)&&1===n.length){if(1===t)return WF(lL(e),n);if(t===1/0)return GF(lL(e),n);if(t===-1/0)return sB(lL(e),n);if("euclidean"===t||2===t)return WD(WF(iL(lL(e),YD(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return GF(WF(lL(e),n[0]),n[1]-1);if(t===1/0)return GF(WF(lL(e),n[1]),n[0]);if(t===-1/0)return sB(WF(lL(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return WD(WF(HD(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const B$=qM({norm_:function(e,t="euclidean",n=null,r=!1){const o=F$(e=WM(e,"x","norm"),t,n);let i=o.shape;if(r){const t=BA(n,e.shape);i=KF(o.shape,t)}return lF(o,i)}}),$$=qM({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,jA(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)jA(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=DB(e,e.shape[0],0).map((e=>LB(e,[0])));jA(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let t=0;t<e.length;++t)n.push(LM.tidy((()=>{let e=r[t];if(t>0)for(let r=0;r<t;++r){const t=GD(WF(GD(n[r],e)),n[r]);e=aL(e,t)}return VD(e,B$(e,"euclidean"))})));return t?FB(n,0):n}});function z$(e,t=!1){return LM.tidy((()=>{jA(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let o=DF(n),i=BD(e);const a=zB([[1]],[1,1]);let s=BD(a);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=i,l=s,u=o;[s,i,o]=LM.tidy((()=>{const t=jB(i,[e,e],[n-e,1]),l=B$(t),u=jB(i,[e,e],[1,1]),c=GB(BF(u,0),zB([[-1]]),zB([[1]])),d=aL(u,GD(c,l)),p=VD(t,d);s=1===p.shape[0]?BD(a):bF([a,jB(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const h=cB(VD(rB(c,d),l)),f=jB(i,[e,0],[n-e,r]),m=GD(h,s),g=qB(s);if(0===e)i=aL(f,rB(m,rB(g,f)));else{const t=aL(f,rB(m,rB(g,f)));i=bF([jB(i,[0,0],[e,r]),t],0)}const b=qB(m),y=jB(o,[0,e],[n,o.shape[1]-e]);if(0===e)o=aL(y,rB(rB(y,s),b));else{const t=aL(y,rB(rB(y,s),b));o=bF([jB(o,[0,0],[n,e]),t],1)}return[s,i,o]})),nD([t,l,u])}return!t&&n>r&&(o=jB(o,[0,0],[n,r]),i=jB(i,[0,0],[r,r])),[o,i]}))}const U$=qM({qr_:function(e,t=!1){if(jA(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return z$(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=VB(lF(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],i=[];return r.forEach((e=>{const[n,r]=z$(e,t);o.push(n),i.push(r)})),[lF(FB(o,0),e.shape),lF(FB(i,0),e.shape)]}}});var V$;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(V$||(V$={}));const G$=qM({squaredDifference_:function(e,t){let n=WM(e,"a","squaredDifference"),r=WM(t,"b","squaredDifference");[n,r]=jM(n,r),dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(eP,o,{})}}),W$={flipLeftRight:d$,grayscaleToRGB:p$,resizeNearestNeighbor:A$,resizeBilinear:j$,rgbToGrayscale:f$,rotateWithOffset:m$,cropAndResize:c$,nonMaxSuppression:b$,nonMaxSuppressionAsync:async function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY){const i=WM(e,"boxes","nonMaxSuppressionAsync"),a=WM(t,"scores","nonMaxSuppressionAsync"),s=g$(i,a,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;const l=await Promise.all([i.data(),a.data()]),u=l[0],c=l[1],{selectedIndices:d}=x$(u,c,n,r,o);return i!==e&&i.dispose(),a!==t&&a.dispose(),$B(d,"int32")},nonMaxSuppressionWithScore:C$,nonMaxSuppressionWithScoreAsync:async function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY,i=0){const a=WM(e,"boxes","nonMaxSuppressionAsync"),s=WM(t,"scores","nonMaxSuppressionAsync"),l=g$(a,s,n,r,o,i);n=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,i=l.softNmsSigma;const u=await Promise.all([a.data(),s.data()]),c=u[0],d=u[1],{selectedIndices:p,selectedScores:h}=k$(c,d,n,r,o,i);return a!==e&&a.dispose(),s!==t&&s.dispose(),{selectedIndices:$B(p,"int32"),selectedScores:$B(h)}},nonMaxSuppressionPadded:I$,nonMaxSuppressionPaddedAsync:async function(e,t,n,r=.5,o=Number.NEGATIVE_INFINITY,i=!1){const a=WM(e,"boxes","nonMaxSuppressionAsync"),s=WM(t,"scores","nonMaxSuppressionAsync"),l=g$(a,s,n,r,o,null),u=l.maxOutputSize,c=l.iouThreshold,d=l.scoreThreshold,[p,h]=await Promise.all([a.data(),s.data()]),{selectedIndices:f,validOutputs:m}=w$(p,h,u,c,d,i);return a!==e&&a.dispose(),s!==t&&s.dispose(),{selectedIndices:$B(f,"int32"),validOutputs:YD(m,"int32")}},threshold:P$,transform:M$},H$={bandPart:L$,gramSchmidt:$$,qr:U$},q$=class{static sgd(e){return new fL(e)}static momentum(e,t,n=!1){return new mL(e,t,n)}static rmsprop(e,t=.9,n=0,r=null,o=!1){return new gL(e,t,n,r,o)}static adam(e=.001,t=.9,n=.999,r=null){return new sL(e,t,n,r)}static adadelta(e=.001,t=.95,n=null){return new nL(e,t,n)}static adamax(e=.002,t=.9,n=.999,r=null,o=0){return new hL(e,t,n,r,o)}static adagrad(e,t=.1){return new oL(e,t)}},X$="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate?setImmediate:e=>e();function Y$(){return new Promise((e=>X$((()=>e()))))}function K$(e,t){const n=e[0].length;e.forEach(((e,t)=>{jA(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),jA(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,o)=>{for(let i=0;i<n;i++)jA(i===t||e[i]===r[i],(()=>`Error in concat${n}D: Shape of tensors[${o}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${o}.`))}))}function Z$(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var J$;function Q$(e,t,n){let r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(let o=1;o<n.length;++o){const i=n[o],a=r[r.length-n.length+o],s=r[a];if(i>=0)if(s>=0){if(s!==i)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${o+e}] = ${i} but shape[${o+e}] = ${s}`)}else r[a]=i}return r}function ez(e){const t={FIRST_DIM_SIZE:J$.FIRST_DIM_SIZE,VALUE_ROWIDS:J$.VALUE_ROWIDS,ROW_LENGTHS:J$.ROW_LENGTHS,ROW_SPLITS:J$.ROW_SPLITS,ROW_LIMITS:J$.ROW_LIMITS,ROW_STARTS:J$.ROW_STARTS},n=[];for(const r of e){if(!(r in t))break;n.push(t[r])}return n}function tz(e){return 0===e.length?0:e[0]===J$.FIRST_DIM_SIZE?e.length-1:e.length}function nz(e,t){if(null==e||null==t)return;const n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let o=0;o<Math.min(n,r-1);++o){const n=e[o],r=t[o+1];if(n>=0&&r>=0&&1!==n&&n!==r)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${o-e.length}] = ${n} but ragged tensor input.flatValues.shape[${o-e.length}] = ${r}`)}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(J$||(J$={}));const rz=30;function oz(e){return e<=rz?e:YA(e,Math.floor(Math.sqrt(e)))}function iz(e,t,n){return[n*("number"==typeof e?e:e[0]),t*("number"==typeof e?e:e[1])]}function az(e,t,n,r=!0){let o=[];if(r)o=o.concat(t.slice(0)),o.push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)o=o.concat([e[r+1]/t[r],t[r]]);o=o.concat(e.slice(n+1))}return o}function sz(e,t,n=!0){const r=[];if(n){r.push(t);for(let n=t+1;n<e;++n)n<=2*t?(r.push(n),r.push(n-(t+1))):r.push(n)}else{const n=[],o=[];for(let r=1;r<e;++r)r>=2*t+1||r%2==1?o.push(r):n.push(r);r.push(...n),r.push(0),r.push(...o)}return r}function lz(e,t,n,r=!0){const o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(let n=1;n<e.length;++n)n<=t.length?r?o.push(t[n-1]*e[n]):o.push(e[n]/t[n-1]):o.push(e[n]);return o}function uz(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function cz(e,t,n){const r=e.slice(0,1);for(let o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function dz(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===NA(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const o=t.shape,i=o[o.length-1];let a=1;for(let e=0;e<o.length-1;++e)a*=o[e];const s=e.shape,l=o.slice();l.pop();let u=1;for(let e=i;e<n;++e)u*=s[e],l.push(s[e]);const c=[...KA(e.shape).map((e=>e/u)),1].slice(0,i);return[l,a,u,c]}function pz(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${o}.`;if(n.rank<o)throw new Error(i+` update.rank < ${o}. `);if(e.length<r+(n.rank-o))throw new Error(i+` Output shape length < ${r+(n.rank-o)}`);if(n.rank!==o+e.length-r)throw new Error(i+" update.rank != "+(o+e.length-r));for(let e=0;e<o;++e)if(n.shape[e]!==t.shape[e])throw new Error(i+` updates.shape[${e}] (${n.shape[e]}) != indices.shape[${e}] (${t.shape[e]}).`);for(let t=0;t<n.rank-o;++t)if(n.shape[t+o]!==e[t+r])throw new Error(i+` updates.shape[${t+o}] (${n.shape[t+o]}) != shape[${t+o}] (${e[t+o]})`)}function hz(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}pz(n,t,e)}function fz(e,t,n){const r=t.shape.length,o=r>1?t.shape[r-1]:1,i=n.length;let a=1;for(let e=o;e<i;++e)a*=n[e];const s=o<1?1:o;return{sliceRank:o,numUpdates:NA(t.shape)/s,sliceSize:a,strides:[...KA(n.slice(0,o)),1],outputSize:NA(n)}}const mz=1.7580993408473768,gz=1.0507009873554805,bz=.3275911,yz=.254829592,vz=-.284496736,xz=1.421413741,wz=-1.453152027,kz=1.061405429;function _z(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Sz(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Ez(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=0;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function Tz(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let t=2;t<e.length;t+=4)n[Math.floor(t/4)]=e[t],r[Math.floor(t/4)]=e[t+1];return{real:n,imag:r}}function Cz(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Iz(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function jz(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let o=0;o<Math.ceil(e/2);o++){const i=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(i),r[o]=Math.sin(i)}return{real:n,imag:r}}function Az(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const Oz="->",Nz=/->/g,Rz=",",Pz="...";function Mz(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Nz,"").length)/Oz.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${Oz}").`);const[r,o]=e.split(Oz);jA(-1===r.indexOf(Pz),(()=>`The ellipsis notation ("${Pz}") is not supported yet.`));const i=r.split(Rz),a=i.length;if(t!==a)throw new Error(`Expected ${a} input tensors, received ${t}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let e=0;e<o.length;++e){const t=o[e];if(!i.some((e=>-1!==e.indexOf(t))))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===s.indexOf(t)&&s.push(t)}for(let e=0;e<r.length;++e){const t=r[e];-1===s.indexOf(t)&&t!==Rz&&s.push(t)}const l=new Array(i.length);for(let e=0;e<a;++e){if(new Set(i[e].split("")).size!==i[e].length)throw new Error(`Found duplicate axes in input component ${i[e]}. Support for duplicate axes in input is not implemented yet.`);l[e]=[];for(let t=0;t<i[e].length;++t)l[e].push(s.indexOf(i[e][t]))}const u=s.length,c=[];for(let e=o.length;e<u;++e)c.push(e);return{allDims:s,summedDims:c,idDims:l}}function Dz(e,t){let n=new Array(e);n.fill(-1);for(let e=0;e<t.length;++e)n[t[e]]=e;const r=[];for(let t=0;t<e;++t)-1===n[t]&&r.push(t);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function Lz(e,t,n){const r=new Array(e);for(let e=0;e<n.length;++e){const o=n[e].shape;for(let n=0;n<t[e].length;++n)void 0===r[t[e][n]]?r[t[e][n]]=o[n]:jA(r[t[e][n]]===o[n],(()=>`Expected dimension ${r[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(o)}, but got dimension ${o[n]}`))}}function Fz(e,t){const n=e,r=[];let o=0;0===e.length&&n.push(-1),o=e.length+1;for(let e=0;e<o;++e)r.push([]);const i=[];for(let e=0;e<n.length;++e){const o=$z(t,n[e]);for(const t of o)-1===i.indexOf(t)&&(r[e].push(t),i.push(t))}return{path:n,steps:r}}function Bz(e){return e.every(((e,t)=>e===t))}function $z(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function zz(e,t,n=0){let r=[];if("number"==typeof t)jA(e.shape[n]%t==0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const o=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);jA(o<=1,(()=>"There should be only one negative value in split array."));const i=t.indexOf(-1);if(-1!==i){const r=t.reduce(((e,t)=>t>0?e+t:e));t[i]=e.shape[n]-r}jA(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function Uz(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function Vz(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function Gz(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function Wz(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function Hz(e,t){return`size ${e} must be non-negative, not ${t}`}function qz(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Xz(e,t){return`Input to reshape is a SparseTensor with ${NA(e)}\n  dense values, but the requested shape requires a multiple of ${NA(t)}. inputShape=${e} outputShape= ${t}`}function Yz(e,t){return`Input to reshape is a tensor with ${NA(e)} dense values, but the requested shape has ${NA(t)}. inputShape=${e} outputShape=${t}`}function Kz(){return"segment ids must be >= 0"}function Zz(){return"segment ids are not increasing"}function Jz(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function Qz(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function eU(e,t){let n,r=!1;for(e<=rz?(n=e,r=!0):n=YA(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=YA(e,n+1);return n}function tU(e,t,n){const r=[],o=e.length;for(let i=0;i<o;i++)i!==t?r.push(e[i]):r.push(n);return r}function nU(e,t,n,r){const o=t.shape.length,i=e.shape.length;if(0!==r&&(r<-o||r>o))throw new Error(`Expect batchDims in the range of [-${o}, ${o}], but got ${r}`);if(r<0&&(r+=o),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let n=0;n<r;++n)if(e.shape[n]!==t.shape[n])throw new Error(`x.shape[${n}]: ${e.shape[n]} should be equal to indices.shape[${n}]: ${t.shape[n]}.`);const a=e.shape[n],s=[];let l=1,u=1,c=1;for(let t=0;t<r;++t)s.push(e.shape[t]),l*=e.shape[t];for(let t=r;t<n;t++)s.push(e.shape[t]),u*=e.shape[t];for(let e=r;e<o;e++)s.push(t.shape[e]);for(let t=n+1;t<i;t++)s.push(e.shape[t]),c*=e.shape[t];return{batchSize:l,sliceSize:c,outerSize:u,dimSize:a,outputShape:s}}function rU(e){try{return e.map((e=>JP(e)))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function oU(e){return e.map((e=>ZP(e)))}function iU(e,t){const n=[];for(let e=0;e<t.length;e++)t[e]&&n.push(e);const r=LD(e,"int32"),o=LD([n.length,e.length],"int32");for(let t=0;t<n.length;t++){const i=r.indexToLoc(n[t]),a=t*e.length;o.values.set(i,a)}return o.toTensor()}!function(){for(const e of bL)eL(e)}();const aU={kernelName:fO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(e,t$(FD(n,"float32"),-1))}}},sU={kernelName:mO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=HD(FD(n,"float32")),r=WD(aL(YD(1),t));return cB(VD(e,r))}}}},lU={kernelName:gO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=WD(aL(HD(FD(n,"float32")),1));return VD(e,t)}}}},uU={kernelName:bO,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=dL(n.shape,r.shape);return{a:()=>{let t=e;const r=cL(n.shape,o);return r.length>0&&(t=WF(t,r)),lF(t,n.shape)},b:()=>{let t=e;const n=cL(r.shape,o);return n.length>0&&(t=WF(t,n)),lF(t,r.shape)}}}},cU={kernelName:yO,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,r)=>{n[r]=()=>e.clone()})),n}},dU={kernelName:wO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>qD(n)}}},pU={kernelName:kO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>qD(n)}}},hU={kernelName:_O,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>VD(e,WD(aL(YD(1),HD(FD(n,"float32")))))}}},fU={kernelName:SO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=WD(zD(YD(1),HD(FD(n,"float32"))));return VD(e,t)}}}},mU={kernelName:CO,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=dL(n.shape,r.shape);return{a:()=>{const t=zD(HD(n),HD(r));let i=GD(e,VD(r,t));const a=cL(n.shape,o);return a.length>0&&(i=WF(i,a)),lF(i,n.shape)},b:()=>{const t=zD(HD(n),HD(r));let i=cB(GD(e,VD(n,t)));const a=cL(r.shape,o);return a.length>0&&(i=WF(i,a)),lF(i,r.shape)}}}},gU={kernelName:EO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>VD(e,zD(HD(FD(n,"float32")),1))}}},bU={kernelName:TO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>VD(e,aL(YD(1),HD(FD(n,"float32"))))}}},yU=qM({avgPool3dGrad_:function(e,t,n,r,o,i){const a=WM(e,"dy","avgPool3dGrad"),s=WM(t,"input","avgPool3dGrad");let l=a,u=s,c=!1;4===s.rank&&(c=!0,l=lF(a,[1,a.shape[0],a.shape[1],a.shape[2],a.shape[3]]),u=lF(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),jA(5===l.rank,(()=>`Error in avgPool3dGrad: dy must be rank 5 but got rank ${l.rank}.`)),jA(5===u.rank,(()=>`Error in avgPool3dGrad: input must be rank 5 but got rank ${u.rank}.`)),sF("avgPool3dGrad",o,i);const d={dy:l,input:u},p={filterSize:n,strides:r,pad:o,dimRoundingMode:i},h=LM.runKernel(OO,d,p);return c?lF(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),vU={kernelName:AO,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:o,strides:i,pad:a,dimRoundingMode:s}=n;return{x:()=>yU(e,r,o,i,a,s)}}},xU=qM({avgPoolGrad_:function(e,t,n,r,o){const i=WM(e,"dy","avgPoolGrad"),a=WM(t,"input","avgPoolGrad");jA(a.rank===i.rank,(()=>`Rank of input (${a.rank}) does not match rank of dy (${i.rank})`));let s=a,l=i,u=!1;3===a.rank&&(u=!0,s=lF(a,[1,a.shape[0],a.shape[1],a.shape[2]]),l=lF(i,[1,i.shape[0],i.shape[1],i.shape[2]])),jA(4===l.rank,(()=>`Error in avgPoolGrad: dy must be rank 4 but got rank ${l.rank}.`)),jA(4===s.rank,(()=>`Error in avgPoolGrad: input must be rank 4 but got rank ${s.rank}.`));const c={dy:l,input:s},d={filterSize:n,strides:r,pad:o},p=LM.runKernel(jO,c,d);return u?lF(p,[p.shape[1],p.shape[2],p.shape[3]]):p}}),wU={kernelName:IO,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{filterSize:o,strides:i,pad:a}=n;return{x:()=>xU(e,r,o,i,a)}}},kU={kernelName:NO,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[r,o]=t,{transposeA:i,transposeB:a}=n;return i||a?!i&&a?{a:()=>rB(e,o,!1,!1),b:()=>rB(e,r,!0,!1)}:i&&!a?{a:()=>rB(o,e,!1,!0),b:()=>rB(r,e,!1,!1)}:{a:()=>rB(o,e,!0,!0),b:()=>rB(e,r,!0,!0)}:{a:()=>rB(e,o,!1,!0),b:()=>rB(r,e,!0,!1)}}},_U=qM({spaceToBatchND_:function(e,t,n){const r=WM(e,"x","spaceToBatchND");jA(r.rank>=1+t.length,(()=>`input rank ${r.rank} should be > than [blockShape] ${t.length}`)),jA(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),jA(r.shape.reduce(((e,r,o)=>o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]==0:e),!0),(()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const o={x:r},i={blockShape:t,paddings:n};return LM.runKernel(HR,o,i)}}),SU={kernelName:RO,gradFunc:(e,t,n)=>{const{blockShape:r,crops:o}=n;return{x:()=>_U(e,r,o)}}},EU={kernelName:"BroadcastTo",gradFunc:(e,t,n)=>{const r=n,o=r.inputShape,i=r.shape,a=Array.from(i);for(let e=o.length-1;e>=0;e--)if(o[e]===i[e])a[e]=1;else if(1!==o[e])throw new Error(`broadcastTo(): [${o}] cannot be broadcast to [${i}].`);const s=[];for(let e=0;e<a.length;e++)a[e]>1&&s.push(e);return{x:()=>WF(e,s,!0)}}},TU={kernelName:LO,gradFunc:e=>({x:()=>e.clone()})},CU={kernelName:FO,gradFunc:e=>({x:()=>qD(e)})},IU={kernelName:BO,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{clipValueMin:o,clipValueMax:i}=n;return{x:()=>GB(nB($F(r,o),N$(r,i)),e,qD(e))}}},jU={kernelName:zO,inputsToSave:["x"],gradFunc:aU.gradFunc},AU={kernelName:UO,saveAllInputs:!0,gradFunc:(e,t,n)=>{const r=t.map((e=>e.shape)),{axis:o}=n,i=BA(o,t[0].shape)[0],a=r.map((e=>e[i]));return DB(e,a,i).map((e=>()=>e))}},OU={kernelName:VO,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,{dilations:i,strides:a,pad:s,dataFormat:l}=n;return jA(rF(i),(()=>`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${i}'`)),{x:()=>SF(r.shape,e,o,a,s,l),filter:()=>QB(r,e,o.shape,a,s,l)}}},NU={kernelName:WO,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,{strides:i,pad:a,dataFormat:s,dimRoundingMode:l}=n;return{dy:()=>kF(e,o,i,a,s,1,l),filter:()=>QB(e,r,o.shape,i,a,s,l)}}},RU=qM({conv3DBackpropFilter_:function(e,t,n,r,o){let i=e;4===e.rank&&(i=lF(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let a=t;4===a.rank&&(a=lF(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),jA(5===i.rank,(()=>`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`)),jA(5===a.rank,(()=>`Error in conv3dDerFilter: dy must be rank 5, but got shape ${a.shape}.`)),jA(5===n.length,(()=>`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`)),jA(i.shape[4]===n[3],(()=>`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`)),jA(a.shape[4]===n[4],(()=>`Error in conv3dDerFilter: depth of dy (${a.shape[4]}) must match output depth for filter (${n[4]}).`));const s={x:i,dy:a},l={strides:r,pad:o,filterShape:n};return LM.runKernel(qO,s,l)}}),PU={kernelName:HO,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:o,pad:i}=n;jA(rF(r),(()=>`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`));const[a,s]=t;return{x:()=>CF(a.shape,e,s,o,i),filter:()=>RU(a,e,s.shape,o,i)}}},MU=qM({sin_:function(e){const t={x:WM(e,"x","sin","float32")};return LM.runKernel(BR,t)}}),DU={kernelName:YO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(cB(MU(FD(n,"float32"))),e)}}},LU=qM({sinh_:function(e){const t={x:WM(e,"x","sinh")};return LM.runKernel($R,t)}}),FU={kernelName:KO,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(LU(FD(n,"float32")),e)}}},BU=qM({cumsum_:function(e,t=0,n=!1,r=!1){const o={x:WM(e,"x","cumsum")},i={axis:t,exclusive:n,reverse:r};return LM.runKernel(JO,o,i)}}),$U={kernelName:JO,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:o,exclusive:i,reverse:a}=n;return{x:()=>{const t=JF([o],r.rank);let n=BU(e,o,i,!a);return null!=t&&(n=qB(n,t)),n}}}},zU={kernelName:nN,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:r,strides:o,pad:i,dimRoundingMode:a}=n,s=null==r?[1,1]:r;jA(rF(s),(()=>`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`));const[l,u]=t;return jA(4===l.rank,(()=>`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`)),jA(4===u.rank,(()=>`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${u.rank}.`)),jA(l.shape[3]===u.shape[2],(()=>`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${u.shape[2]}.`)),jA(oF(o,s),(()=>`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${o} and dilations '${s}'.`)),sF("depthwiseConv2d",i,a),{x:()=>l$(l.shape,e,u,o,i,s,a),filter:()=>s$(l,e,u.shape,o,i,s,a)}}},UU={kernelName:aN,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[r,o]=t,i={x:r,filter:o,dy:e},a={x:r,filter:o,dy:e};return{x:()=>LM.runKernel(sN,i,n),filter:()=>LM.runKernel(lN,a,n)}}},VU={kernelName:dN,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,r={dy:e,y:n};return{x:()=>LM.runKernel(pN,r)}}},GU={kernelName:hN,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=GD(RF(cB(HD(n))),2/Math.sqrt(Math.PI));return{x:()=>GD(e,r)}}},WU={kernelName:mN,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(e,n)}}},HU={kernelName:gN,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>lF(e,n.shape)}}},qU={kernelName:bN,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(e,RF(n))}}},XU={kernelName:wN,gradFunc:e=>({x:()=>qD(e)})},YU={kernelName:kN,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=dL(n.shape,r.shape);return{a:()=>{const t=VD(e,FD(r,"float32")),i=cL(n.shape,o);return i.length>0?lF(WF(t,i),n.shape):t},b:()=>{let t=GD(e,FD(n,"float32"));const i=cL(r.shape,o);i.length>0&&(t=lF(WF(t,i),r.shape));const a=HD(r);return cB(VD(t,FD(a,"float32")))}}}},KU=qM({rsqrt_:function(e){const t={x:WM(e,"x","rsqrt","float32")};return LM.runKernel(NR,t)}}),ZU={kernelName:_N,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:r}=n,[o,i,a,s]=t,l=null==s?YD(1):s,u=cL(i.shape,o.shape),c=[];if(1===i.rank){for(let e=0;e<o.shape.length-1;++e)c.push(o.shape[e]);c.push(1)}const d=aL(o,i),p=GD(e,l),h=KU(zD(a,YD(r))),f=GD(GD(GD(h,h),h),YD(-.5));return{x:()=>1===i.rank?lF(GD(GD(e,MF(lF(h,[1,1,1,i.shape[0]]),c)),l),o.shape):lF(GD(GD(e,h),l),o.shape),mean:()=>{let e=GD(GD(h,YD(-1)),p);return 1===i.rank&&(e=WF(e,u)),lF(e,i.shape)},variance:()=>{let e=GD(GD(f,d),p);return 1===i.rank&&(e=WF(e,u)),lF(e,i.shape)},scale:()=>{const t=GD(d,h);let n=GD(e,t);return 1===i.rank&&(n=WF(n,u)),lF(n,i.shape)},offset:()=>{let t=e;return 1===i.rank&&(t=WF(t,u)),lF(t,i.shape)}}}},JU=qM({unsortedSegmentSum_:function(e,t,n){const r=WM(e,"x","unsortedSegmentSum"),o=WM(t,"segmentIds","unsortedSegmentSum","int32");jA(PA(n),(()=>"numSegments must be of dtype int"));const i={x:r,segmentIds:o},a={numSegments:n};return LM.runKernel(gP,i,a)}}),QU={kernelName:SN,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[r,o]=t,{axis:i,batchDims:a}=n,s=BA(i,r.shape)[0],l=(e,t,n)=>()=>{const r=e.shape,o=t.size,a=r.slice(0,s),l=a.length,u=r.slice(i,r.length).slice(1),c=u.length,d=eV(0,l),p=eV(l+1,l+1+c),h=tV([a,[o],u]),f=lF(n,h),m=lF(t,[o]),g=tV([[l],d,p]),b=qB(f,g);let y=JU(b,m,e.shape[s]);const v=QF(g);return y=qB(y,v),y};if(1===a){const t=r.shape[0],n=r.split(t,0);return{x:()=>{const t=FB(n.map(((t,n)=>l(t,o.slice(n,1),e.slice(n,1))())));return t.reshape(r.shape)},indices:()=>o}}return{x:l(r,o,e),indices:()=>o}}};function eV(e,t){const n=[];for(let r=e;r<t;++r)n.push(r);return n}function tV(e){const t=[];for(let n=0;n<e.length;++n)for(let r=0;r<e[n].length;++r)t.push(e[n][r]);return t}const nV={kernelName:CN,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>qD(n),b:()=>qD(r)}}},rV={kernelName:IN,gradFunc:e=>({x:()=>FD(e,"float32")})},oV={kernelName:ON,gradFunc:e=>({x:()=>qD(e)})},iV={kernelName:NN,gradFunc:e=>({x:()=>qD(e)})},aV={kernelName:RN,gradFunc:e=>({x:()=>qD(e)})},sV={kernelName:PN,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{alpha:o}=n,i=BF(r,0);return{x:()=>GB(i,e,GD(e,o))}}},lV={kernelName:BN,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>VD(e,zD(n,1))}}},uV={kernelName:FN,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>VD(e,FD(n,"float32"))}}},cV={kernelName:"LogSoftmax",inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{axis:o}=n;return{logits:()=>{const t=RF(r);return aL(e,GD(WF(e,o,!0),t))}}}},dV=qM({localResponseNormalizationBackprop_:function(e,t,n,r=5,o=1,i=1,a=.5){const s={x:e,y:t,dy:n},l={depthRadius:r,bias:o,alpha:i,beta:a};return LM.runKernel(GN,s,l)}}),pV={kernelName:VN,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,o]=t,{depthRadius:i,bias:a,alpha:s,beta:l}=n;return{x:()=>dV(r,o,e,i,a,s,l)}}};function hV(e,t,n,r){return t.rank<n.rank&&(t=lF(t,KF(t.shape,r))),e.rank<n.rank&&(e=lF(e,KF(e.shape,r))),{x:()=>GD(e,FD(NF(n,t),e.dtype))}}const fV={kernelName:WN,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{reductionIndices:o}=r,i=t[0],a=hV(e,t[1],i,BA(o,i.shape));return{x:()=>a.x()}}},mV={kernelName:HN,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>GD(e,FD($F(n,r),"float32")),b:()=>GD(e,FD(D$(n,r),"float32"))}}},gV=qM({maxPool3dGrad_:function(e,t,n,r,o,i,a){const s=WM(e,"dy","maxPool3dGrad"),l=WM(t,"input","maxPool3dGrad"),u=WM(n,"output","maxPool3dGrad");let c=s,d=l,p=u,h=!1;4===l.rank&&(h=!0,c=lF(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),d=lF(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),p=lF(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]])),jA(5===c.rank,(()=>`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`)),jA(5===d.rank,(()=>`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`)),jA(5===p.rank,(()=>`Error in maxPool3dGrad: output must be rank 5 but got rank ${p.rank}.`)),sF("maxPool3dGrad",i,a);const f={dy:c,input:d,output:p},m={filterSize:r,strides:o,pad:i,dimRoundingMode:a},g=LM.runKernel(KN,f,m);return h?lF(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),bV={kernelName:YN,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,o]=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=n;return{x:()=>gV(e,r,o,i,a,s,l)}}},yV=qM({maxPoolGrad_:function(e,t,n,r,o,i,a){const s=WM(e,"dy","maxPoolGrad"),l=WM(t,"input","maxPoolGrad"),u=WM(n,"output","maxPoolGrad");jA(l.rank===s.rank,(()=>`Rank of input (${l.rank}) does not match rank of dy (${s.rank})`)),jA(4===s.rank,(()=>`Error in maxPoolGrad: dy must be rank 4 but got rank ${s.rank}.`)),jA(4===l.rank,(()=>`Error in maxPoolGrad: input must be rank 4 but got rank ${l.rank}.`)),sF("maxPoolGrad",i,a);const c={dy:s,input:l,output:u},d={filterSize:r,strides:o,pad:i,dimRoundingMode:a};return LM.runKernel(XN,c,d)}}),vV={kernelName:qN,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r,o]=t,{filterSize:i,strides:a,pad:s}=n;return{x:()=>yV(e,r,o,i,a,s)}}},xV={kernelName:JN,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:o}=n,i=BA(o,r.shape),a=NA(YF(r.shape,i)[1]);return{x:()=>{const t=r.shape.slice();i.forEach((e=>{t[e]=1}));const n=lF(e,t);return VD(GD(n,fB(r.shape,"float32")),a)}}}},wV={kernelName:QN,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const r=n,{axis:o}=r,[i,a]=t,s=hV(e,a,i,BA(o,i.shape));return{x:()=>s.x()}}},kV={kernelName:eR,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t;return{a:()=>GD(e,FD(N$(n,r),"float32")),b:()=>GD(e,FD(BF(n,r),"float32"))}}},_V={kernelName:tR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:o}=n,i=o.map((e=>e[0]));return{x:()=>jB(e,i,r.shape)}}},SV={kernelName:nR,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=dL(n.shape,r.shape);return{a:()=>{const t=cL(n.shape,o);return t.length>0?lF(WF(e,t),n.shape):e},b:()=>{const t=GD(e,cB(LF(VD(n,r)))),i=cL(r.shape,o);return i.length>0?lF(WF(t,i),r.shape):t}}}},EV={kernelName:oR,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=dL(n.shape,r.shape);return{a:()=>{const t=GD(e,FD(r,"float32")),i=cL(n.shape,o);return i.length>0?lF(WF(t,i),n.shape):t},b:()=>{const t=GD(e,FD(n,"float32")),i=cL(r.shape,o);return i.length>0?lF(WF(t,i),r.shape):t}}}},TV={kernelName:iR,gradFunc:e=>({x:()=>cB(e)})},CV={kernelName:dR,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>hB(n.shape,"float32")}}},IV={kernelName:cR,gradFunc:e=>({x:()=>qD(e)})},jV={kernelName:pR,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:r}=n;return VB(e,r).map((e=>()=>e))}},AV={kernelName:hR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const r=t[0],{paddings:o}=n,i=o.map((e=>e[0]));return{x:()=>jB(e,i,r.shape)}}},OV={kernelName:fR,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,r,o]=t,i=n,a=r,s=dL(i.shape,a.shape);return{a:()=>{const t=FD(a,"float32");let n=GD(e,GD(t,iL(i,aL(t,YD(1)))));const r=cL(i.shape,s);return r.length>0&&(n=WF(n,r)),lF(n,i.shape)},b:()=>{const t=BF(i,0),n=GB(t,UF(i),qD(i));let r=GD(e,GD(o,n));const l=cL(a.shape,s);return l.length>0&&(r=WF(r,l)),lF(r,a.shape)}}}},NV={kernelName:mR,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,r]=t,o=BF(n,0);return{x:()=>GB(o,e,GD(e,r)),alpha:()=>{let t=GB(o,qD(e),GD(e,n));const i=cL(r.shape,e.shape);return i.length>0&&(t=WF(t,i)),lF(t,r.shape)}}}},RV=qM({cumprod_:function(e,t=0,n=!1,r=!1){const o={x:WM(e,"x","cumprod")},i={axis:t,exclusive:n,reverse:r};return LM.runKernel(ZO,o,i)}});const PV={kernelName:gR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{axis:o}=n;let i=[];return i=null==o?r.shape.map(((e,t)=>t)):"number"==typeof o?[o]:o,{x:()=>function(e,t,n){const r=e.shape.length,o=r-n.length,i=JF(n,r);let a=e;null!=i&&(a=qB(e,i));const s=a.shape.slice(),l=s.splice(r-n.length,n.length).reduce(((e,t)=>e*t),1);s.push(l);let u=function(e,t,n){const r=e.shape.slice();r[n]=1;const o=lF(t,r),i=RV(e,n,!0,!1),a=RV(e,n,!0,!0),s=GD(i,a);return GD(o,s)}(a.reshape(s),t,o);if(u=u.reshape(a.shape),null!=i){const e=QF(i);u=qB(u,e)}return u}(r,e,i)}}},MV={kernelName:uN,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=dL(n.shape,r.shape);return{a:()=>{const t=VD(e,FD(r,"float32")),i=cL(n.shape,o);return i.length>0?lF(WF(t,i),n.shape):t},b:()=>{let t=GD(e,FD(n,"float32"));const i=cL(r.shape,o);i.length>0&&(t=lF(WF(t,i),r.shape));const a=HD(r);return cB(VD(t,FD(a,"float32")))}}}},DV={kernelName:kR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>VD(e,cB(HD(n)))}}},LV={kernelName:jR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,r=GD(N$(n,6),t$(n));return{x:()=>GD(e,FD(r,"float32"))}}},FV={kernelName:_R,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(e,FD(t$(n),"float32"))}}},BV={kernelName:SR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>lF(e,n.shape)}}},$V={kernelName:CR,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,o={dy:e,images:r};return{images:()=>LM.runKernel(IR,o,n)}}},zV={kernelName:ER,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[r]=t,o={dy:e,images:r};return{images:()=>LM.runKernel(TR,o,n)}}},UV={kernelName:AR,gradFunc:(e,t,n)=>{const{dims:r}=n,o=BA(r,e.shape);return{x:()=>EB(e,o)}}},VV={kernelName:OR,gradFunc:e=>({x:()=>qD(e)})},GV={kernelName:NR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>cB(VD(e,GD(iL(n,1.5),2)))}}},WV=qM({logicalNot_:function(e){const t={x:WM(e,"x","logicalNot","bool")};return LM.runKernel(zN,t)}}),HV={kernelName:DR,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>FD(qD(n),"float32"),t:()=>GD(e,FD(n,e.dtype)),e:()=>GD(e,FD(WV(n),e.dtype))}}},qV={kernelName:LR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=BF(n,YD(0)),r=YD(mz),o=YD(gz),i=GD(e,o),a=GD(GD(e,r),RF(FD(n,"float32")));return GB(t,i,a)}}}},XV={kernelName:UR,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(e,GD(n,aL(YD(1),n)))}}},YV={kernelName:zR,gradFunc:e=>({x:()=>qD(e)})},KV=qM({cos_:function(e){const t={x:WM(e,"x","cos","float32")};return LM.runKernel(YO,t)}}),ZV={kernelName:BR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(KV(FD(n,"float32")),e)}}},JV=qM({cosh_:function(e){const t={x:WM(e,"x","cosh","float32")};return LM.runKernel(KO,t)}}),QV={kernelName:$R,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(JV(FD(n,"float32")),e)}}},eG={kernelName:FR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{begin:o,size:i}=n,a=r.shape,[s,l]=zL(r,o,i),u=[];for(let t=0;t<e.rank;t++)u.push([s[t],a[t]-s[t]-l[t]]);return{x:()=>gB(e,u)}}},tG={kernelName:XR,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[r]=t,{dim:o}=n,i=GD(e,r);return{logits:()=>aL(i,GD(WF(i,[o],!0),r))}}},nG={kernelName:VR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(e,IB(n))}}},rG=qM({batchToSpaceND_:function(e,t,n){const r=WM(e,"x","batchToSpaceND"),o=t.reduce(((e,t)=>e*t));jA(r.rank>=1+t.length,(()=>`input rank is ${r.rank} but should be > than blockShape.length ${t.length}`)),jA(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),jA(r.shape[0]%o==0,(()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${o}`));const i={x:r},a={blockShape:t,crops:n};return LM.runKernel(RO,i,a)}}),oG={kernelName:HR,gradFunc:(e,t,n)=>{const{blockShape:r,paddings:o}=n;return{x:()=>rG(e,r,o)}}},iG={kernelName:qR,gradFunc:(e,t,n)=>{const{axis:r}=n;return{x:()=>bF(e,r)}}},aG={kernelName:GR,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>VD(e,GD(WD(FD(n,"float32")),2))}}},sG={kernelName:tP,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(e,GD(FD(n,"float32"),2))}}},lG={kernelName:eP,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=YD(2);return{a:()=>GD(e,GD(o,aL(n,r))),b:()=>GD(e,GD(o,aL(r,n)))}}},uG={kernelName:sP,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,r]=t,o=dL(n.shape,r.shape);return{a:()=>{let t=e;const r=cL(n.shape,o);return r.length>0&&(t=WF(t,r)),lF(t,n.shape)},b:()=>{let t=e;const n=cL(r.shape,o);return n.length>0&&(t=WF(t,n)),lF(cB(t),r.shape)}}}},cG={kernelName:WR,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,o=r.shape.slice(),{axis:i}=n;BA(i,r.shape).forEach((e=>{o[e]=1}));const a=lF(e,o),s=GD(a,fB(r.shape,"float32"));return{x:()=>s}}},dG={kernelName:lP,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>VD(e,HD(KV(n)))}}},pG={kernelName:uP,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>GD(aL(YD(1),HD(n)),e)}}},hG={kernelName:cP,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[r]=t,{reps:o}=n;return{x:()=>{let t=qD(r);if(1===r.rank)for(let n=0;n<o[0];++n)t=zD(t,jB(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(let n=0;n<o[0];++n)for(let i=0;i<o[1];++i)t=zD(t,jB(e,[n*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(let n=0;n<o[0];++n)for(let i=0;i<o[1];++i)for(let a=0;a<o[2];++a)t=zD(t,jB(e,[n*r.shape[0],i*r.shape[1],a*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(let n=0;n<o[0];++n)for(let i=0;i<o[1];++i)for(let a=0;a<o[2];++a)for(let s=0;s<o[3];++s)t=zD(t,jB(e,[n*r.shape[0],i*r.shape[1],a*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},fG={kernelName:gP,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=pL(t,qD(t)),r=FF(e,n);let o=$F(t,YD(0,"int32"));const i=r.rank-o.rank;for(let e=0;e<i;++e)o=PF(o,e+1);o=nB(o,fB(r.shape,"bool"));const a=qD(r);return GB(o,r,a)}(e,n)}}},mG=[aU,sU,lU,uU,cU,dU,pU,hU,fU,mU,gU,bU,vU,wU,kU,SU,EU,TU,CU,IU,jU,AU,NU,OU,PU,DU,FU,$U,zU,UU,MV,VU,GU,WU,HU,qU,YU,XU,ZU,QU,nV,rV,oV,iV,aV,sV,lV,uV,cV,pV,fV,fV,mV,bV,vV,xV,wV,kV,_V,SV,EV,TV,CV,IV,jV,AV,AV,OV,NV,PV,DV,LV,FV,BV,$V,zV,UV,VV,GV,HV,qV,XV,YV,ZV,QV,eG,tG,nG,oG,oG,iG,iG,aG,lG,sG,{kernelName:yP,gradFunc:e=>({x:()=>qD(e)})},uG,cG,dG,pG,hG,{kernelName:hP,gradFunc:(e,t,n)=>{const r=n,{perm:o}=r,i=QF(o);return{x:()=>qB(e,i)}}},{kernelName:mP,gradFunc:(e,t,n)=>{const r=n,{axis:o}=r;return{value:()=>FB(e,o)}}},fG,{kernelName:bP,gradFunc:e=>({x:()=>qD(e)})}];for(const e of mG)OP(e);bM().prototype.abs=function(){return this.throwIfDisposed(),lL(this)};const gG=qM({acos_:function(e){const t={x:WM(e,"x","acos")};return LM.runKernel(mO,t)}});bM().prototype.acos=function(){return this.throwIfDisposed(),gG(this)};const bG=qM({acosh_:function(e){const t={x:WM(e,"x","acosh")};return LM.runKernel(gO,t)}});bM().prototype.acosh=function(){return this.throwIfDisposed(),bG(this)},bM().prototype.add=function(e){return this.throwIfDisposed(),zD(this,e)},bM().prototype.all=function(e,t){return this.throwIfDisposed(),GL(this,e,t)},bM().prototype.any=function(e,t){return this.throwIfDisposed(),WL(this,e,t)},bM().prototype.argMax=function(e){return this.throwIfDisposed(),HL(this,e)};const yG=qM({argMin_:function(e,t=0){const n={x:WM(e,"x","argMin")},r={axis:t};return LM.runKernel(kO,n,r)}});bM().prototype.argMin=function(e){return this.throwIfDisposed(),yG(this,e)},bM().prototype.asScalar=function(){return this.throwIfDisposed(),jA(1===this.size,(()=>"The array must have only 1 element.")),lF(this,[])},bM().prototype.asType=function(e){return this.throwIfDisposed(),FD(this,e)},bM().prototype.as1D=function(){return this.throwIfDisposed(),lF(this,[this.size])},bM().prototype.as2D=function(e,t){return this.throwIfDisposed(),lF(this,[e,t])},bM().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),lF(this,[e,t,n])},bM().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),lF(this,[e,t,n,r])},bM().prototype.as5D=function(e,t,n,r,o){return this.throwIfDisposed(),lF(this,[e,t,n,r,o])};const vG=qM({asin_:function(e){const t={x:WM(e,"x","asin")};return LM.runKernel(_O,t)}});bM().prototype.asin=function(){return this.throwIfDisposed(),vG(this)};const xG=qM({asinh_:function(e){const t={x:WM(e,"x","asinh")};return LM.runKernel(SO,t)}});bM().prototype.asinh=function(){return this.throwIfDisposed(),xG(this)};const wG=qM({atan_:function(e){const t={x:WM(e,"x","atan")};return LM.runKernel(EO,t)}});bM().prototype.atan=function(){return this.throwIfDisposed(),wG(this)};const kG=qM({atan2_:function(e,t){let n=WM(e,"a","atan2"),r=WM(t,"b","atan2");[n,r]=jM(n,r);const o={a:n,b:r};return LM.runKernel(CO,o)}});bM().prototype.atan2=function(e){return this.throwIfDisposed(),kG(this,e)};const _G=qM({atanh_:function(e){const t={x:WM(e,"x","atanh")};return LM.runKernel(TO,t)}});bM().prototype.atanh=function(){return this.throwIfDisposed(),_G(this)},bM().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),uF(this,e,t,n,r)},bM().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),rG(this,e,t)},bM().prototype.batchNorm=function(e,t,n,r,o){return this.throwIfDisposed(),dF(this,e,t,n,r,o)},bM().prototype.broadcastTo=function(e){return this.throwIfDisposed(),mF(this,e)},bM().prototype.cast=function(e){return this.throwIfDisposed(),FD(this,e)};const SG=qM({ceil_:function(e){const t={x:WM(e,"x","ceil","float32")};return LM.runKernel(FO,t)}});bM().prototype.ceil=function(){return this.throwIfDisposed(),SG(this)},bM().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),gF(this,e,t)},bM().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof gM&&(e=[e]),bF([this,...e],t)},bM().prototype.conv1d=function(e,t,n,r,o,i){return this.throwIfDisposed(),_F(this,e,t,n,r,o,i)},bM().prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),EF(this,e,t,n,r,o)},bM().prototype.conv2d=function(e,t,n,r,o,i){return this.throwIfDisposed(),kF(this,e,t,n,r,o,i)},bM().prototype.cos=function(){return this.throwIfDisposed(),KV(this)},bM().prototype.cosh=function(){return this.throwIfDisposed(),JV(this)},bM().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),RV(this,e,t,n)},bM().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),BU(this,e,t,n)};const EG=qM({depthToSpace_:function(e,t,n="NHWC"){const r=WM(e,"x","depthToSpace","float32"),o="NHWC"===n?r.shape[1]:r.shape[2],i="NHWC"===n?r.shape[2]:r.shape[3],a="NHWC"===n?r.shape[3]:r.shape[1];jA(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),jA(o*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${o} and ${t}  for depthToSpace with input shape\n    ${r.shape}`)),jA(i*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${i} and ${t} for depthToSpace with input shape\n        ${r.shape}`)),jA(a%(t*t)==0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${a} for depthToSpace with input shape ${r.shape}`));const s={x:r},l={blockSize:t,dataFormat:n};return LM.runKernel(tN,s,l)}});bM().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),EG(this,e,t)},bM().prototype.depthwiseConv2d=function(e,t,n,r,o,i){return this.throwIfDisposed(),AF(this,e,t,n,r,o,i)};const TG=qM({dilation2d_:function(e,t,n,r,o=[1,1],i="NHWC"){const a=WM(e,"x","dilation2d"),s=WM(t,"filter","dilation2d");jA(3===a.rank||4===a.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${a.rank}.`)),jA(3===s.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${s.rank}.`)),jA("NHWC"===i,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${i}`));let l=a,u=!1;3===a.rank&&(l=lF(a,[1,a.shape[0],a.shape[1],a.shape[2]]),u=!0),jA(l.shape[3]===s.shape[2],(()=>`Error in dilation2d:  input and filter must have the same depth: ${l.shape[3]} vs ${s.shape[2]}`));const c={x:l,filter:s},d={strides:n,pad:r,dilations:o},p=LM.runKernel(aN,c,d);return u?lF(p,[p.shape[1],p.shape[2],p.shape[3]]):p}});bM().prototype.dilation2d=function(e,t,n,r,o){return this.throwIfDisposed(),TG(this,e,t,n,r,o)};const CG=qM({divNoNan_:function(e,t){let n=WM(e,"a","div"),r=WM(t,"b","div");[n,r]=jM(n,r);const o=VD(n,r),i=qD(o),a=NF(r,i);return GB(a,i,o)}});bM().prototype.divNoNan=function(e){return this.throwIfDisposed(),CG(this,e)},bM().prototype.div=function(e){return this.throwIfDisposed(),VD(this,e)};const IG=qM({dot_:function(e,t){const n=WM(e,"t1","dot"),r=WM(t,"t2","dot");jA(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const o=1===n.rank?n.size:n.shape[1],i=1===r.rank?r.size:r.shape[0];if(jA(o===i,(()=>`Error in dot: inner dimensions of inputs must match, but got ${o} and ${i}.`)),1===n.rank&&1===r.rank){const e=lF(n,[1,-1]),t=lF(r,[-1,1]),o=rB(e,t);return lF(o,[])}if(1===n.rank&&2===r.rank){const e=lF(n,[1,-1]),t=lF(r,[r.shape[0],r.shape[1]]),o=rB(e,t);return lF(o,[o.size])}if(2===n.rank&&1===r.rank){const e=lF(r,[-1,1]),t=rB(n,e);return lF(t,[t.size])}{const e=lF(r,[r.shape[0],r.shape[1]]);return rB(n,e)}}});bM().prototype.dot=function(e){return this.throwIfDisposed(),IG(this,e)},bM().prototype.elu=function(){return this.throwIfDisposed(),OF(this)},bM().prototype.equal=function(e){return this.throwIfDisposed(),NF(this,e)};const jG=qM({erf_:function(e){let t=WM(e,"x","erf");jA("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=FD(t,"float32"));const n={x:t};return LM.runKernel(hN,n)}});bM().prototype.erf=function(){return this.throwIfDisposed(),jG(this)};const AG=qM({euclideanNorm_:function(e,t=null,n=!1){return B$(e,"euclidean",t,n)}});bM().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),AG(this,e,t)},bM().prototype.exp=function(){return this.throwIfDisposed(),RF(this)},bM().prototype.expandDims=function(e){return this.throwIfDisposed(),PF(this,e)};const OG=qM({expm1_:function(e){const t={x:WM(e,"x","expm1")};return LM.runKernel(bN,t)}});bM().prototype.expm1=function(){return this.throwIfDisposed(),OG(this)},bM().prototype.fft=function(){return this.throwIfDisposed(),YB(this)},bM().prototype.flatten=function(){return this.throwIfDisposed(),lF(this,[this.size])},bM().prototype.floor=function(){return this.throwIfDisposed(),LF(this)},bM().prototype.floorDiv=function(e){return this.throwIfDisposed(),UD(this,e)},bM().prototype.gather=function(e,t,n){return this.throwIfDisposed(),FF(this,e,t,n)},bM().prototype.greaterEqual=function(e){return this.throwIfDisposed(),$F(this,e)},bM().prototype.greater=function(e){return this.throwIfDisposed(),BF(this,e)},bM().prototype.ifft=function(){return this.throwIfDisposed(),ZB(this)},bM().prototype.irfft=function(){return this.throwIfDisposed(),JB(this)};const NG=qM({isFinite_:function(e){const t={x:WM(e,"x","isFinite")};return LM.runKernel(ON,t)}});bM().prototype.isFinite=function(){return this.throwIfDisposed(),NG(this)};const RG=qM({isInf_:function(e){const t={x:WM(e,"x","isInf")};return LM.runKernel(NN,t)}});bM().prototype.isInf=function(){return this.throwIfDisposed(),RG(this)};const PG=qM({isNaN_:function(e){const t={x:WM(e,"x","isNaN")};return LM.runKernel(RN,t)}});bM().prototype.isNaN=function(){return this.throwIfDisposed(),PG(this)},bM().prototype.leakyRelu=function(e){return this.throwIfDisposed(),zF(this,e)},bM().prototype.lessEqual=function(e){return this.throwIfDisposed(),N$(this,e)},bM().prototype.less=function(e){return this.throwIfDisposed(),D$(this,e)};const MG=qM({localResponseNormalization_:function(e,t=5,n=1,r=1,o=.5){const i=WM(e,"x","localResponseNormalization");jA(4===i.rank||3===i.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${i.rank}.`)),jA(PA(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let a=i,s=!1;3===i.rank&&(s=!0,a=lF(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const l={x:a},u={depthRadius:t,bias:n,alpha:r,beta:o},c=LM.runKernel(VN,l,u);return s?lF(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});bM().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),MG(this,e,t,n,r)};const DG=qM({logSigmoid_:function(e){const t=WM(e,"x","logSigmoid"),n=XD((e=>({value:cB(MB(cB(e))),gradFunc:t=>GD(t,IB(cB(e)))})));return n(t)}});bM().prototype.logSigmoid=function(){return this.throwIfDisposed(),DG(this)},bM().prototype.logSoftmax=function(e){return this.throwIfDisposed(),HF(this,e)},bM().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),tB(this,e,t)},bM().prototype.log=function(){return this.throwIfDisposed(),UF(this)},bM().prototype.log1p=function(){return this.throwIfDisposed(),VF(this)},bM().prototype.logicalAnd=function(e){return this.throwIfDisposed(),nB(this,e)},bM().prototype.logicalNot=function(){return this.throwIfDisposed(),WV(this)};const LG=qM({logicalOr_:function(e,t){const n=WM(e,"a","logicalOr","bool"),r=WM(t,"b","logicalOr","bool");dL(n.shape,r.shape);const o={a:n,b:r};return LM.runKernel(UN,o)}});bM().prototype.logicalOr=function(e){return this.throwIfDisposed(),LG(this,e)};const FG=qM({logicalXor_:function(e,t){const n=WM(e,"a","logicalXor","bool"),r=WM(t,"b","logicalXor","bool");return dL(n.shape,r.shape),nB(LG(e,t),WV(nB(e,t)))}});bM().prototype.logicalXor=function(e){return this.throwIfDisposed(),FG(this,e)},bM().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),rB(this,e,t,n)},bM().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),oB(this,e,t,n,r)},bM().prototype.max=function(e,t){return this.throwIfDisposed(),GF(this,e,t)},bM().prototype.maximum=function(e){return this.throwIfDisposed(),pL(this,e)},bM().prototype.mean=function(e,t){return this.throwIfDisposed(),aB(this,e,t)},bM().prototype.min=function(e,t){return this.throwIfDisposed(),sB(this,e,t)},bM().prototype.minimum=function(e){return this.throwIfDisposed(),lB(this,e)};const BG=qM({mirrorPad_:function(e,t,n){jA("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const r=WM(e,"x","mirrorPad");if(0===r.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");jA(t.length===r.rank,(()=>`Padding doesn't match input. Must be ${r.rank}. Got ${t.length}.`));const o="reflect"===n?1:0;for(let e=0;e<r.rank;e++)jA(2===t[e].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),jA(t[e][0]>=0&&t[e][0]<=r.shape[e]-o&&t[e][1]>=0&&t[e][1]<=r.shape[e]-o,(()=>`Padding in dimension ${e} cannot be greater than or equal to ${r.shape[e]-o} or less than 0 for input of shape ${r.shape}`));const i={paddings:t,mode:n},a={x:r};return LM.runKernel(tR,a,i)}});bM().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),BG(this,e,t)};const $G=qM({mod_:function(e,t){let n=WM(e,"a","mod"),r=WM(t,"b","mod");[n,r]=jM(n,r);const o={a:n,b:r};return LM.runKernel(nR,o)}});bM().prototype.mod=function(e){return this.throwIfDisposed(),$G(this,e)},bM().prototype.mul=function(e){return this.throwIfDisposed(),GD(this,e)},bM().prototype.neg=function(){return this.throwIfDisposed(),cB(this)},bM().prototype.norm=function(e,t,n){return this.throwIfDisposed(),B$(this,e,t,n)},bM().prototype.notEqual=function(e){return this.throwIfDisposed(),dB(this,e)},bM().prototype.oneHot=function(e,t=1,n=0){return this.throwIfDisposed(),pB(this,e,t,n)},bM().prototype.onesLike=function(){return this.throwIfDisposed(),mB(this)},bM().prototype.pad=function(e,t){return this.throwIfDisposed(),gB(this,e,t)};const zG=qM({pool_:function(e,t,n,r,o,i,a){null==o&&(o=[1,1]),null==i&&(i=1),0===r&&(r="valid");const s=WM(e,"x","maxPool");let l=s,u=!1;3===s.rank&&(u=!0,l=lF(s,[1,s.shape[0],s.shape[1],s.shape[2]])),jA(oF(i,o),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${i} and dilations '${o}'`));const c=XL(l.shape,t,i,o,r),d=[c.dilationHeight,c.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))).map((e=>e-1)),r=n.map((e=>Math.floor(e/2))),o=n.map(((e,t)=>e-r[t]));return n.map(((e,t)=>[r[t],o[t]]))}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];const h=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const r=n.map((e=>e[0])),o=n.map((e=>e[1])),i=e.concat(r,o),a=t.map(((e,t)=>(e-i[t]%e)%e)),s=o.map(((e,t)=>e+a[t]));return[t.map(((e,t)=>[r[t],s[t]])),t.map(((e,t)=>[0,a[t]]))]}([c.inHeight,c.inWidth],d,p),g=h?r:"valid",b=h?l:_U(l,d,f),y=("avg"===n?()=>uF(b,t,i,g,a):()=>oB(b,t,i,g,a))(),v=h?y:rG(y,d,m);return u?lF(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});bM().prototype.pool=function(e,t,n,r,o,i){return this.throwIfDisposed(),zG(this,e,t,n,r,o,i)},bM().prototype.pow=function(e){return this.throwIfDisposed(),iL(this,e)},bM().prototype.prelu=function(e){return this.throwIfDisposed(),bB(this,e)};const UG=qM({prod_:function(e,t=null,n=!1){let r=WM(e,"x","prod");"bool"===r.dtype&&(r=FD(r,"int32"));const o={x:r},i={axis:t,keepDims:n};return LM.runKernel(gR,o,i)}});bM().prototype.prod=function(e,t){return this.throwIfDisposed(),UG(this,e,t)};const VG=qM({reciprocal_:function(e){const t={x:WM(e,"x","reciprocal")};return LM.runKernel(kR,t)}});bM().prototype.reciprocal=function(){return this.throwIfDisposed(),VG(this)},bM().prototype.relu=function(){return this.throwIfDisposed(),SB(this)},bM().prototype.relu6=function(){return this.throwIfDisposed(),e$(this)},bM().prototype.reshapeAs=function(e){return this.throwIfDisposed(),lF(this,e.shape)},bM().prototype.reshape=function(e){return this.throwIfDisposed(),lF(this,e)},bM().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),j$(this,e,t,n)},bM().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),A$(this,e,t,n)},bM().prototype.reverse=function(e){return this.throwIfDisposed(),EB(this,e)},bM().prototype.rfft=function(){return this.throwIfDisposed(),KB(this)},bM().prototype.round=function(){return this.throwIfDisposed(),R$(this)},bM().prototype.rsqrt=function(){return this.throwIfDisposed(),KU(this)},bM().prototype.selu=function(){return this.throwIfDisposed(),TB(this)},bM().prototype.separableConv2d=function(e,t,n,r,o,i){return this.throwIfDisposed(),CB(this,e,t,n,r,o,i)},bM().prototype.sigmoid=function(){return this.throwIfDisposed(),IB(this)};const GG=qM({sign_:function(e){const t={x:WM(e,"x","sign")};return LM.runKernel(zR,t)}});bM().prototype.sign=function(){return this.throwIfDisposed(),GG(this)},bM().prototype.sin=function(){return this.throwIfDisposed(),MU(this)},bM().prototype.sinh=function(){return this.throwIfDisposed(),LU(this)},bM().prototype.slice=function(e,t){return this.throwIfDisposed(),jB(this,e,t)},bM().prototype.softmax=function(e){return this.throwIfDisposed(),PB(this,e)},bM().prototype.softplus=function(){return this.throwIfDisposed(),MB(this)},bM().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),_U(this,e,t)},bM().prototype.split=function(e,t){return this.throwIfDisposed(),DB(this,e,t)},bM().prototype.sqrt=function(){return this.throwIfDisposed(),WD(this)},bM().prototype.square=function(){return this.throwIfDisposed(),HD(this)},bM().prototype.squaredDifference=function(e){return this.throwIfDisposed(),G$(this,e)},bM().prototype.squeeze=function(e){return this.throwIfDisposed(),LB(this,e)},bM().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof gM?[this,e]:[this,...e];return FB(n,t)},bM().prototype.step=function(e){return this.throwIfDisposed(),t$(this,e)};const WG=qM({stridedSlice_:function(e,t,n,r,o=0,i=0,a=0,s=0,l=0){const u={x:WM(e,"x","stridedSlice","string_or_numeric")},c={begin:t,end:n,strides:r,beginMask:o,endMask:i,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:l};return LM.runKernel(rP,u,c)}});bM().prototype.stridedSlice=function(e,t,n,r,o,i,a,s){return this.throwIfDisposed(),WG(this,e,t,n,r,o,i,a,s)},bM().prototype.sub=function(e){return this.throwIfDisposed(),aL(this,e)},bM().prototype.sum=function(e,t){return this.throwIfDisposed(),WF(this,e,t)};const HG=qM({tan_:function(e){const t={x:WM(e,"x","tan","float32")};return LM.runKernel(lP,t)}});bM().prototype.tan=function(){return this.throwIfDisposed(),HG(this)},bM().prototype.tanh=function(){return this.throwIfDisposed(),BB(this)},bM().prototype.tile=function(e){return this.throwIfDisposed(),MF(this,e)},bM().prototype.toBool=function(){return this.throwIfDisposed(),FD(this,"bool")},bM().prototype.toFloat=function(){return this.throwIfDisposed(),FD(this,"float32")},bM().prototype.toInt=function(){return this.throwIfDisposed(),FD(this,"int32")};const qG=qM({topk_:function(e,t=1,n=!0){const r=WM(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const o=r.shape[r.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>o)throw new Error(`'k' passed to topk() must be <= the last dimension (${o}) but got ${t}`);const i={x:r},a={k:t,sorted:n},[s,l]=LM.runKernel(dP,i,a);return{values:s,indices:l}}});bM().prototype.topk=function(e,t){return this.throwIfDisposed(),qG(this,e,t)},bM().prototype.transpose=function(e){return this.throwIfDisposed(),qB(this,e)};const XG=qM({unique_:function(e,t=0){const n=WM(e,"x","unique","string_or_numeric");jA(n.rank>0,(()=>"The input tensor must be at least 1D"));const r={x:n},o={axis:t},[i,a]=LM.runKernel(fP,r,o);return{values:i,indices:a}}});bM().prototype.unique=function(e){return this.throwIfDisposed(),XG(this,e)},bM().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),JU(this,e,t)},bM().prototype.unstack=function(e){return this.throwIfDisposed(),VB(this,e)},bM().prototype.where=function(e,t){return this.throwIfDisposed(),GB(e,this,t)},bM().prototype.zerosLike=function(){return this.throwIfDisposed(),qD(this)};class YG extends Error{constructor(e){super(e),Object.setPrototypeOf(this,YG.prototype)}}class KG extends Error{constructor(e){super(e),Object.setPrototypeOf(this,KG.prototype)}}class ZG extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ZG.prototype)}}class JG extends Error{constructor(e){super(e),Object.setPrototypeOf(this,JG.prototype)}}class QG extends Error{constructor(e){super(e),Object.setPrototypeOf(this,QG.prototype)}}Error;class eW{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function tW(e,t){if(Array.isArray(e)){let n=[];for(let r=0;r<t;r++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function nW(e,t){if(!e)throw new QG(t)}function rW(e,t){let n=0;for(const r of e)r===t&&n++;return n}function oW(e){return 1===e.length?e[0]:e}function iW(e){return Array.isArray(e)?e:[e]}function aW(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function sW(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let lW={};function uW(e){if(null==e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function cW(e){if(null!=e&&"object"==typeof e)if(Array.isArray(e))e.forEach((e=>cW(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"==typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!=typeof t.value?cW(t):e[n]=t.value)}}}function dW(e,t={},n={},r="object",o=!1){if("string"==typeof e){const o=e;let i;if(o in n)i=n[o];else if(o in lW)i=lW[o];else if(i=t[o],null==i)throw new ZG(`Unknown ${r}: ${e}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}{const i=e;if(null==i.className||null==i.config)throw new ZG(`${r}: Improper config format: ${JSON.stringify(i)}.\n'className' and 'config' must set.`);const a=i.className;let s,l;if(a in n?[s,l]=n[a]:a in lW?[s,l]=lW.className:a in t&&([s,l]=t[a]),null==s)throw new ZG(`Unknown ${r}: ${a}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){const e={};for(const t of Object.keys(lW))e[t]=lW[t];for(const t of Object.keys(n))e[t]=n[t];i.config.customObjects=e;const t=Object.assign({},lW);for(const e of Object.keys(n))lW[e]=n[e];cW(i.config);const r=l(s,i.config,n,o);return lW=Object.assign({},t),r}{const e=Object.assign({},lW);for(const e of Object.keys(n))lW[e]=n[e];const t=new s(i.config);return lW=Object.assign({},e),t}}}function pW(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function hW(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function fW(e){if(null==e)throw new ZG(`Invalid value in obj: ${JSON.stringify(e)}`);for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function mW(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new ZG(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function gW(e,t,n=0,r=1/0){return nW(n>=0),nW(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((e=>typeof e===t))}function bW(e,t){Array.isArray(e)?(jA(e.length>0,(()=>`${t} is unexpectedly an empty array.`)),e.forEach(((e,n)=>bW(e,`element ${n+1} of ${t}`)))):jA(Number.isInteger(e)&&e>0,(()=>`Expected ${t} to be a positive integer, but got ${yW(e)}.`))}function yW(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>yW(e))).join(",")+"]":"string"==typeof e?`"${e}"`:`${e}`}function vW(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let xW=0;function wW(){return xW++}const kW={};function _W(e=""){return e in kW||(kW[e]=0),kW[e]+=1,e+kW[e].toString()}const SW=["channelsFirst","channelsLast"],EW=["nearest","bilinear"],TW=["valid","same","causal"],CW=["max","avg"],IW=["sum","mul","concat","ave"],jW=new Map;function AW(e){mW(SW,"DataFormat",e)}function OW(e){mW(TW,"PaddingMode",e)}function NW(e){mW(CW,"PoolMode",e)}const RW=[];function PW(e,t){RW.push(e);try{const e=t();return RW.pop(),e}catch(e){throw RW.pop(),e}}function MW(e){if(!FW(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===RW.length?"":RW.join("/")+"/")+e}function DW(e){if(!FW(e))throw new Error("Not a valid tensor name: '"+e+"'");jW.has(e)||jW.set(e,0);const t=jW.get(e);if(jW.set(e,jW.get(e)+1),t>0){const n=`${e}_${t}`;return jW.set(n,1),n}return e}const LW=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function FW(e){return!!e.match(LW)}function BW(e){return e===parseInt(e.toString(),10)}function $W(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let r=1;for(let o=t;o<n;++o)r*=e[o];return r}function zW(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r<t&&(t=r)}return t}function UW(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const r=e[n];r>t&&(t=r)}return t}function VW(e,t){if(t<e)throw new ZG(`end (${t}) < begin (${e}) is forbidden.`);const n=[];for(let r=e;r<t;++r)n.push(r);return n}let GW;function WW(){return null==GW&&(GW=LM.backend.epsilon()),GW}function HW(e,t){return FD(e,t)}function qW(e,t=-1){const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),lF(e,n)}function XW(e,t,n){return tD((()=>{switch(e.rank){case 1:return AB(e,t,n);case 2:return OB(e,[t,0],[n,e.shape[1]]);case 3:return NB(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return RB(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return jB(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return jB(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new ZG(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function YW(e,t,n){return tD((()=>{switch(e.rank){case 1:return AB(e,t,n);case 2:return OB(e,[0,t],[e.shape[0],n]);case 3:return NB(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return RB(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ZG(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function KW(e,t,n,r){return tD((()=>{switch(e.rank){case 1:return AB(e,t,n);case 2:switch(r){case 1:return XW(e,t,n);case 2:return YW(e,t,n);default:throw new ZG(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return XW(e,t,n);case 2:return NB(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return YW(e,t,n);default:throw new ZG(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return XW(e,t,n);case 2:return RB(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return RB(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return YW(e,t,n);default:throw new ZG(`The axis is not within the rank of the tensor ${r}`)}default:throw new ZG(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function ZW(e,t=-1){let n;return t<0&&(n=e[0].rank,t=0!==n?n:0),t===e[0].rank&&(t=-1),bF(e,t)}function JW(e,t){switch(e.rank){case 1:return yF([e,t]);case 2:return vF([e,t],0);case 3:return xF([e,t],0);case 4:return wF([e,t],0);default:throw new ZG(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function QW(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ZG(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return MF(e,t)}function eH(e,t=0,n=1,r,o){return wB(e,t,n,r,o)}function tH(e,t,n,r){if(e.rank<2||t.rank<2)throw new JG(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new JG(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`);if(2===e.rank&&2===t.rank)return u$({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?oH(e.rank,r,"channelsLast"):null,activation:n});{const o=e.shape.slice(),i=o.pop();e=lF(e,[-1,i]);const a=t.shape.slice(),s=a.pop(),l=a.pop(),u=[...a,s],c=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=lF(qB(t,c),[l,-1]);const d=[...o,...u];return lF(u$({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?oH(e.rank,r,"channelsLast"):null,activation:n}),d)}}function nH(e,t,n){return tD((()=>(t=Array.isArray(t)?$B(t,"int32"):FD(t,"int32"),FF(e,t,n))))}function rH(e){return GD(e,e)}function oH(e,t,n){const r=t.shape;if(1!==t.rank&&t.rank!==e)throw new ZG(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===r.length?lF(t,[1,r[0],1,1,1]):lF(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?lF(t,[1,1,1,1,r[0]]):lF(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?lF(t,[1,r[0],1,1]):lF(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?lF(t,[1,1,1,r[0]]):lF(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?lF(t,[1,r[0],1]):lF(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?lF(t,[1,1,r[0]]):lF(t,[1].concat(r))}else if(e<3)return t;throw new ZG(`Unsupported input rank by biasAdd: ${t.rank}`)}function iH(e,t,n){return tD((()=>(null==n&&(n="channelsLast"),AW(n),zD(e,oH(e.rank,t,n)))))}function aH(e,t,n,r){return tD((()=>XB(e,t,n,r)))}function sH(e,t,n=!1){return n?e():t()}const lH=["fanIn","fanOut","fanAvg"],uH=["normal","uniform","truncatedNormal"];class cH extends JD{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class dH extends cH{apply(e,t){return hB(e,t)}}dH.className="Zeros",eL(dH);class pH extends cH{apply(e,t){return fB(e,t)}}pH.className="Ones",eL(pH);class hH extends cH{constructor(e){if(super(),"object"!=typeof e)throw new ZG(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new ZG(`config must have value set but got ${e}`);this.value=e.value}apply(e,t){return tD((()=>GD(YD(this.value),fB(e,t))))}getConfig(){return{value:this.value}}}hH.className="Constant",eL(hH);class fH extends cH{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return kB(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}fH.className="RandomUniform",eL(fH);class mH extends cH{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new JG(`randomNormal does not support dType ${t}.`);return eH(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}mH.className="RandomNormal",eL(mH);class gH extends cH{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new JG(`truncatedNormal does not support dType ${t}.`);return UB(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}gH.className="TruncatedNormal",eL(gH);class bH extends cH{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return tD((()=>{if(2!==e.length||e[0]!==e[1])throw new ZG("Identity matrix initializer can only be used for 2D square matrices.");return GD(this.gain,DF(e[0]))}))}getConfig(){return{gain:this.gain}}}bH.className="Identity",eL(bH);class yH extends cH{constructor(e){if(super(),e.scale<0)throw new ZG(`scale must be a positive float. Got: ${e.scale}`);var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,mW(lH,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){mW(uH,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e,t="channelsLast"){let n,r;if(AW(t),2===e.length)n=e[0],r=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===t){const t=$W(e,2);n=e[1]*t,r=e[0]*t}else if("channelsLast"===t){const t=$W(e,0,e.length-2);n=e[e.length-2]*t,r=e[e.length-1]*t}}else{const t=$W(e);n=Math.sqrt(t),r=Math.sqrt(t)}return[n,r]}(e),r=n[0],o=n[1];let i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,o):i/=Math.max(1,(r+o)/2),"normal"===this.distribution){const n=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new JG(`${this.getClassName()} does not support dType ${t}.`);return UB(e,0,n,t,this.seed)}{const n=Math.sqrt(3*i);return kB(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}yH.className="VarianceScaling",eL(yH);class vH extends yH{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return yH.className}}vH.className="GlorotUniform",eL(vH);class xH extends yH{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return yH.className}}xH.className="GlorotNormal",eL(xH);class wH extends yH{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return yH.className}}wH.className="HeNormal",eL(wH);class kH extends yH{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return yH.className}}kH.className="HeUniform",eL(kH);class _H extends yH{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return yH.className}}_H.className="LeCunNormal",eL(_H);class SH extends yH{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return yH.className}}SH.className="LeCunUniform",eL(SH);class EH extends cH{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return tD((()=>{if(e.length<2)throw new JG("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError(`Unsupported data type ${t}.`);const n=NA(e.slice(0,-1)),r=e[e.length-1],o=n*r;o>this.ELEMENTS_WARN_SLOW&&console.warn(`Orthogonal initializer is being called on a matrix with more than ${this.ELEMENTS_WARN_SLOW} (${o}) elements: Slowness may result.`);const i=eH([Math.max(r,n),Math.min(r,n)],0,1,t,this.seed),a=H$.qr(i,!1);let s=a[0];const l=a[1].flatten().stridedSlice([0],[Math.min(r,n)*Math.min(r,n)],[Math.min(r,n)+1]);return s=GD(s,l.sign()),n<r&&(s=s.transpose()),GD(YD(this.gain),s.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}EH.className="Orthogonal",eL(EH);const TH={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function CH(e,t={}){return dW(e,QD.getMap().classNameMap,t,"initializer")}function IH(e){return uW(e)}function jH(e){if("string"==typeof e){const t=e in TH?TH[e]:e;if("GlorotNormal"===t)return new xH;if("GlorotUniform"===t)return new vH;if("HeNormal"===t)return new wH;if("HeUniform"===t)return new kH;if("LeCunNormal"===t)return new _H;if("LeCunUniform"===t)return new SH;{const e={};return e.className=t,e.config={},CH(e)}}return e instanceof cH?e:CH(e)}function AH(e){return Array.isArray(e)&&Array.isArray(e[0])}function OH(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function NH(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new ZG(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function RH(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new ZG(`Expected exactly 1 Shape; got ${e.length}`)}return e}function PH(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const MH="Variable";class DH{constructor(e,t="float32",n=MH,r=!0,o=null){this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=wW(),n=null==n?MH:n,this.originalName=MW(n),this.name=DW(this.originalName),this.trainable_=r,this.constraint=o,this.val=function(e,t=!0,n,r){return LM.makeVariable(e,t,n,r)}(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function LH(e){return e.map((e=>e.read()))}function FH(e){e.forEach((e=>{e[0].write(e[1])}))}class BH{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class $H{constructor(e,t,n,r,o,i,a){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=r,this.callArgs=o,this.outputTensorIndex=a,this.id=wW(),null!=i&&(this.originalName=MW(i),this.name=DW(this.originalName)),this.rank=t.length}}let zH=0;class UH{constructor(e,t){this.callArgs=t,this.id=zH++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const t of e.inboundLayers)null!=t&&t.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let VH=0;class GH extends JD{constructor(e={}){super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=VH++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=aW(e)+"_"+_W(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new KG(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new ZG(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}getInputAt(e){return oW(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return oW(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new YG(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new YG(`Layer ${this.name} is not connected, no input to return.`);return oW(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new YG(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new YG(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return oW(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=iW(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=iW(this.inputSpec);if(t.length!==n.length)throw new ZG(`Layer ${this.name} expects ${n.length} inputs, but it received ${t.length} input tensors. Input received: ${e}`);for(let e=0;e<t.length;e++){const r=t[e],o=n[e];if(null==o)continue;const i=r.rank;if(null!=o.ndim&&i!==o.ndim)throw new ZG(`Input ${e} is incompatible with layer ${this.name}: expected ndim=${o.ndim}, found ndim=${i}`);if(null!=o.maxNDim&&i>o.maxNDim)throw new ZG(`Input ${e} is incompatible with layer ${this.name}: expected max_ndim=${o.maxNDim}, found ndim=${i}`);if(null!=o.minNDim&&i<o.minNDim)throw new ZG(`Input ${e} is incompatible with layer ${this.name}: expected min_ndim=${o.minNDim}, found ndim=${i}.`);if(null!=o.dtype&&r.dtype!==o.dtype)throw new ZG(`Input ${e} is incompatible with layer ${this.name} : expected dtype=${o.dtype}, found dtype=${r.dtype}.`);if(o.axes){const t=r.shape;for(const n in o.axes){const r=Number(n),i=o.axes[n],a=r>=0?t[r]:t[t.length+r];if(null!=i&&-1===[i,null].indexOf(a))throw new ZG(`Input ${e} is incompatible with layer ${this.name}: expected axis ${r} of input shape to have value ${i} but got shape ${t}.`)}}if(null!=o.shape)for(let t=0;t<o.shape.length;++t){const n=o.shape[t],i=r.shape[t];if(null!=n&&null!=i&&n!==i)throw new ZG(`Input ${e} is incompatible with layer ${this.name}: expected shape=${o.shape}, found shape=${r.shape}.`)}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=iW(e),r=function(e){let t=!0;for(const n of iW(e))if(!(n instanceof $H)){t=!1;break}return t}(e),o=function(e){let t=!0;for(const n of iW(e))if(n instanceof $H){t=!1;break}return t}(e);if(r===o)throw new ZG("Arguments to apply() must be all SymbolicTensors or all Tensors");return PW(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of iW(e))t.push(n.shape);this.build(oW(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&o&&(this._refCount=1)}if(this.assertInputCompatibility(e),o){let r=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,r);const o=iW(r),i=[];for(let e of o)-1!==n.indexOf(e)&&(e=e.clone()),i.push(e);if(r=oW(i),null!=this.activityRegularizer)throw new JG("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}{const n=function(e){e=iW(e);const t=[];for(const n of e)t.push(n.shape);return oW(t)}(e),r=this.computeOutputShape(n);let o;const i="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),o=null!=r&&r.length>0&&Array.isArray(r[0])?r.map(((n,r)=>new $H(i,n,this,iW(e),t,this.name,r))):new $H(i,r,this,iW(e),t,this.name),this.addInboundNode(e,o,null,null,n,r,t),this._refCount++,null!=this.activityRegularizer)throw new JG("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return o}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{let t=!1;this.batchInputShape.forEach(((n,r)=>{null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new YG(`The layer ${this.name} has never been called and thus has no defined output shape.`);const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new YG(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}countParams(){if(!this.built)throw new KG(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return PH(this.weights)}build(e){this.built=!0}getWeights(e=!1){return LH(e?this.trainableWeights:this.weights)}setWeights(e){tD((()=>{const t=this.weights;if(t.length!==e.length)throw new ZG(`You called setWeights(weights) on layer "${this.name}" with a weight list of length ${e.length}, but the layer was expecting ${t.length} weights. Provided weights: ${e}...`);if(0===t.length)return;const n=[],r=LH(t);for(let o=0;o<r.length;++o){const i=r[o],a=t[o],s=e[o];if(!RA(i.shape,s.shape))throw new ZG(`Layer weight shape ${i.shape} not compatible with provided weight shape ${s.shape}`);n.push([a,s])}FH(n)}))}addWeight(e,t,n,r,o,i,a,s){if(-1!==this._addedWeightNames.indexOf(e))throw new ZG(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():jH("zeros"));const l=r.apply(t,n),u=new DH(l,n,e,i,a);return l.dispose(),null!=o&&this.addLoss((()=>o.apply(u.read()))),null==i&&(i=!0),i?this._trainableWeights.push(u):this._nonTrainableWeights.push(u),u}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=iW(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach((e=>{if(null!=e)throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`)}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const r=this.computeMask(e,n),o=iW(t),i=iW(r);if(o.length!==i.length)throw new Error(`${this.name} outputs ${o.length} tensors but ${o.length} masks for those tensors`);for(let e=0;e<o.length;e++)o[e].kerasMask=i[e]}addInboundNode(e,t,n,r,o,i,a=null){const s=iW(e);t=iW(t),n=iW(n),r=iW(r),o=OH(o),i=OH(i);const l=[],u=[],c=[];for(const e of s)l.push(e.sourceLayer),u.push(e.nodeIndex),c.push(e.tensorIndex);new UH({outboundLayer:this,inboundLayers:l,nodeIndices:u,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:o,outputShapes:i},a);for(let e=0;e<t.length;e++)t[e].sourceLayer=this,t[e].nodeIndex=this.inboundNodes.length-1,t[e].tensorIndex=e}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}dispose(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();let e=0;return 0==--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function WH(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const r=WH(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of r)-1===t.indexOf(e)&&t.push(e)}return t}}}class HH extends GH{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:_W("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new ZG("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new ZG("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new ZG("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const r=new $H(this.dtype,this.batchInputShape,this,[],{},this.name);r.nodeIndex=0,r.tensorIndex=0,new UH({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[r],outputTensors:[r],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new ZG(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}HH.className="InputLayer",eL(HH);class qH{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof qH)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new ZG(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return FD(t,e.dtype)}catch(n){throw new ZG(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof $H){if(null==this.id2Value[e.id])throw new ZG(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new ZG(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}}getMask(e){if(e instanceof $H){if(null==this.id2Value[e.id])throw new ZG(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new ZG(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&nD(this.id2Mask)}}const XH=new eW,YH=new eW;function KH(e,t,n,r){const o=null!=n&&n.training,i=Array.isArray(e),a=i?e:[e],s=a.map((e=>e.name)),l=[],u=t.names();for(const e of s)-1!==u.indexOf(e)?l.push(t.getValue(e)):l.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);const c=s.join(",")+"|"+t.names().sort().join(",");let d,p=XH.get(c);if(null==p){const e=function(e,t){jA(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],r={};if(1===e.length){const o=JH(e[0],t);n=o.sorted,r=o.recipientMap}else{const o=new Set;for(const i of e){const{sorted:e,recipientMap:a}=JH(i,t);for(const t of e)o.has(t.name)||(n.push(t),o.add(t.name));for(const e in a)null==r[e]&&(r[e]=new Set),a[e].forEach((t=>r[e].add(t)))}}return{sorted:n,recipientCounts:ZH(r)}}(a,t);p=e.sorted,d=e.recipientCounts,XH.put(c,p),YH.put(c,d)}d={},o||Object.assign(d,YH.get(c));const h=new qH(t);for(let e=0;e<p.length;++e){if(null!=r){const e=eD().numTensors;e>r.maxNumTensors&&(r.maxNumTensors=e),e<r.minNumTensors&&(r.minNumTensors=e)}const i=p[e],a=i.sourceLayer;if(a instanceof HH)continue;const u=[],c=[],f=[];let m=!1;for(const e of i.inputs){const n=h.getValue(e),r=h.getMask(e);u.push(n),c.push(r),null!=r&&(m=!0),o||(d[e.name]--,0!==d[e.name]||t.hasKey(e)||-1!==s.indexOf(e.name)||n.isDisposed||!0===e.sourceLayer.stateful||f.push(n))}m&&((n=n||{}).mask=c[0]);const g=iW(a.apply(u,n));let b=null;a.supportsMasking&&(b=a.computeMask(u,c));const y=QH(i),v=Array.isArray(y)?y:[y];for(let e=0;e<v.length;++e){h.hasKey(v[e])||h.add(v[e],g[e],Array.isArray(b)?b[0]:b);const t=s.indexOf(v[e].name);-1!==t&&(l[t]=g[e])}o||nD(f)}return h.disposeMasks(),i?l:l[0]}function ZH(e){const t={};for(const n in e)t[n]=e[n].size;return t}function JH(e,t){const n=new Set,r=[],o={};for(const e of t.names())n.add(e);const i=[],a=[];for(i.push(e);i.length>0;){const e=i[i.length-1];if(n.has(e.name)){i.pop();continue}const t=a[a.length-1]===i.length-1;if(0===e.inputs.length||t)i.pop(),r.push(e),n.add(e.name),t&&a.pop();else{a.push(i.length-1);for(const t of e.inputs)null==o[t.name]&&(o[t.name]=new Set),o[t.name].add(e.name),n.has(t.name)||i.push(t)}}return{sorted:r,recipientMap:o}}function QH(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const r of e.sourceLayer.inboundNodes[t].outputTensors)if(r.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function eq(e,t){return tD((()=>WD(WF(GD(e,e),t,!0))))}uO().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=XH&&XH.setMaxEntries(e),null!=YH&&YH.setMaxEntries(e)}));class tq extends JD{getConfig(){return{}}}class nq extends tq{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return tD((()=>{const t=eq(e,this.axis),n=gF(t,0,this.maxValue);return GD(e,VD(n,zD(WW(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}nq.className="MaxNorm",eL(nq);class rq extends tq{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return tD((()=>VD(e,zD(WW(),eq(e,this.axis)))))}getConfig(){return{axis:this.axis}}}rq.className="UnitNorm",eL(rq);class oq extends tq{apply(e){return SB(e)}}oq.className="NonNeg",eL(oq);class iq extends tq{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return tD((()=>{const t=eq(e,this.axis),n=zD(GD(this.rate,gF(t,this.minValue,this.maxValue)),GD(1-this.rate,t));return GD(e,VD(n,zD(WW(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}iq.className="MinMaxNorm",eL(iq);const aq={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function sq(e){return uW(e)}function lq(e,t={}){return dW(e,QD.getMap().classNameMap,t,"constraint")}function uq(e){return null==e?null:"string"==typeof e?lq({className:e in aq?aq[e]:e,config:{}}):e instanceof tq?e:lq(e)}async function cq(e){if(null==e)return;const t=[],n=[],r=[];for(const o in e){const i=e[o];if("number"!=typeof i){const e=i;t.push(e.data()),n.push(o),r.push(e)}}if(t.length>0){const o=await Promise.all(t);for(let t=0;t<o.length;++t)e[n[t]]=o[t][0];nD(r)}}function dq(e){if(null!=e)for(const t in e){const n=e[t];"number"!=typeof n&&n.dispose()}}var pq;!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(pq||(pq={}));class hq{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class fq{constructor(e,t=10){null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class mq extends hq{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const e in t){const r=t[e];if("number"==typeof r)this.totals.hasOwnProperty(e)||(this.totals[e]=0),this.totals[e]=this.totals[e]+r*n;else{let t;e in this.totals?t=this.totals[e]:this.totals[e]=0;const o=tD((()=>zD(this.totals[e],GD(r,n))));this.totals[e]=o,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const e of this.params.metrics)null!=this.totals[e]&&("number"==typeof this.totals[e]?t[e]=this.totals[e]/this.seen:tD((()=>{const n=GD(VD(1,this.seen),this.totals[e]);t[e]=n,this.totals[e].dispose(),rD(t[e])})))}}class gq extends hq{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const e in t)null==this.history[e]&&(this.history[e]=[]),this.history[e].push(t[e])}async syncData(){const e=[],t=[],n=[];for(const r in this.history){const o=this.history[r];for(let i=0;i<o.length;++i)if("number"!=typeof o[i]){const a=o[i];e.push(a.data()),t.push(r),n.push(i)}}const r=await Promise.all(e);for(let e=0;e<r.length;++e)this.history[t[e]][n[e]].dispose(),this.history[t[e]][n[e]]=r[e][0]}}class bq extends hq{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||Y$,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");HA(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let r,o=null!=n?n():KP();return(...i)=>{const a=null!=n?n():KP();return a-o<t||(o=a,r=e(...i)),r}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const r=[];null!=this.yield&&(await cq(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),await Promise.all(r)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await cq(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await cq(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await cq(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await cq(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):HA(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await cq(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await cq(e),await this.trainEnd(e))}}function yq(e,t){return null==e&&(e={}),e instanceof hq?[e]:Array.isArray(e)&&e[0]instanceof hq?e:iW(e).map((e=>new bq(e,t)))}class vq{constructor(){}static registerCallbackConstructor(e,t){jA(e>=0&&Number.isInteger(e),(()=>`Verbosity level is expected to be an integer >= 0, but got ${e}`)),vq.checkForDuplicate(t),null==vq.constructors[e]&&(vq.constructors[e]=[]),vq.constructors[e].push(t)}static checkForDuplicate(e){for(const t in vq.constructors)vq.constructors[+t].forEach((t=>{if(t===e)throw new ZG("Duplicate callback constructor.")}))}static clear(){vq.constructors={}}static createCallbacks(e){const t=[];for(const n in vq.constructors){const r=+n;e>=r&&t.push(...vq.constructors[r])}return t.map((e=>new e))}}function xq(e,t,n,r,o,i,a,s,l){const u=new gq,c=[new mq,...vq.createCallbacks(t)];null!=e&&c.push(...e),c.push(u);const d=new fq(c);return d.setParams({epochs:n,initialEpoch:r,samples:o,steps:i,batchSize:a,verbose:t,doValidation:s,metrics:l}),{callbackList:d,history:u}}function wq(e,t={},n=!1){return dW(e,QD.getMap().classNameMap,t,"layer",n)}function kq(e,t){return tD((()=>{"float32"!==e.dtype&&(e=FD(e,"float32"));const n=WF(rH(e),t,!0),r=rL(n.shape,WW()),o=WD(pL(n,r));return VD(e,o)}))}function _q(e,t){return tD((()=>aB(rH(aL(t,e)),-1)))}function Sq(e,t){return tD((()=>aB(lL(aL(t,e)),-1)))}function Eq(e,t){return tD((()=>{const n=aL(e,t),r=gF(lL(e),WW(),Number.MAX_VALUE),o=lL(VD(n,r));return GD(100,aB(o,-1))}))}function Tq(e,t,n=!1){return tD((()=>{if(n)t=PB(t);else{const e=WF(t,t.shape.length-1,!0);t=VD(t,e)}return t=gF(t,WW(),1-WW()),cB(WF(GD(FD(e,"float32"),UF(t)),t.shape.length-1))}))}function Cq(e,t,n=!1){return tD((()=>{const r=FD(LF(function(e){const t=[$W(e.shape)];return lF(e,t)}(e)),"int32"),o=(t=gF(t,WW(),1-WW())).shape;return Tq(lF(pB(r,o[o.length-1]),o),t,n)}))}function Iq(e,t){return tD((()=>{let n;return n=gF(t,WW(),1-WW()),n=UF(VD(n,aL(1,n))),aB(function(e,t){if(!RA(e.shape,t.shape))throw new ZG(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return tD((()=>{const n=SB(t),r=cB(lL(t));return zD(aL(n,GD(t,e)),VF(RF(r)))}))}(e,n),-1)}))}function jq(e,t){return tD((()=>{const n=kq(e,-1),r=kq(t,-1),o=GD(n,r);return cB(WF(o,-1))}))}vq.constructors={};const Aq={meanSquaredError:_q,meanAbsoluteError:Sq,meanAbsolutePercentageError:Eq,meanSquaredLogarithmicError:function(e,t){return tD((()=>{const n=gF(t,WW(),Number.MAX_VALUE),r=UF(zD(1,n)),o=gF(e,WW(),Number.MAX_VALUE),i=UF(zD(1,o));return aB(rH(aL(r,i)),-1)}))},squaredHinge:function(e,t){return tD((()=>{const n=pL(0,aL(1,GD(e,t)));return aB(rH(n),-1)}))},hinge:function(e,t){return tD((()=>{const n=pL(0,aL(1,GD(e,t)));return aB(n,-1)}))},categoricalHinge:function(e,t){return tD((()=>{const n=WF(GD(e,t),-1),r=GF(GD(aL(1,e),t),-1);return pL(0,zD(1,aL(r,n)))}))},logcosh:function(e,t){return tD((()=>{const n=Math.log(2),r=aL(t,e),o=aL(zD(r,MB(GD(-2,r))),n);return aB(o,-1)}))},categoricalCrossentropy:Tq,sparseCategoricalCrossentropy:Cq,binaryCrossentropy:Iq,kullbackLeiblerDivergence:function(e,t){return tD((()=>{const n=gF(e,WW(),1),r=gF(t,WW(),1);return WF(GD(e,UF(VD(n,r))),-1)}))},poisson:function(e,t){return tD((()=>{const n=UF(zD(WW(),t));return aB(aL(t,GD(e,n)),-1)}))},cosineProximity:jq};function Oq(e){if("string"==typeof e){if(e in Aq)return Aq[e];let t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new ZG(t)}return e}function Nq(e,t){return tD((()=>{const n=GD(.5,mB(t)),r=HW(BF(t,n),e.dtype);return aB(NF(e,r),-1)}))}function Rq(e,t){return tD((()=>HW(NF(HL(e,-1),HL(t,-1)),"float32")))}function Pq(e,t){return Iq(e,t)}function Mq(e,t){return e.rank===t.rank&&(e=LB(e,[e.rank-1])),(t=HL(t,-1)).dtype!==e.dtype&&(t=FD(t,e.dtype)),FD(NF(e,t),"float32")}const Dq=Tq,Lq=Cq,Fq={binaryAccuracy:Nq,categoricalAccuracy:Rq,precision:function(e,t){return tD((()=>{const n=function(e,t){return tD((()=>FD(WF(nB(NF(e,1),NF(t,1))),"float32")))}(e,t),r=function(e,t){return tD((()=>FD(WF(nB(NF(e,0),NF(t,1))),"float32")))}(e,t),o=zD(n,r);return FD(GB(BF(o,0),VD(n,o),0),"float32")}))},categoricalCrossentropy:Dq,sparseCategoricalCrossentropy:Lq,mse:_q,MSE:_q,mae:Sq,MAE:Sq,mape:Eq,MAPE:Eq,cosine:jq};function Bq(e){if("string"==typeof e&&e in Fq)return Fq[e];if("string"!=typeof e&&null!=e)return e;throw new ZG(`Unknown metric ${e}`)}function $q(e){if(nW(null!==e,`Unknown LossOrMetricFn ${e}`),"string"==typeof e)return e;{let t;for(const n of Object.keys(Aq))if(Aq[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(Fq))if(Fq[n]===e){t=n;break}return void 0!==t?t:e.name}}function zq(e,t,n=!1){if(null==e||"object"!=typeof e||Object.getPrototypeOf(e)!==Object.prototype||!Uq(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>1048576&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${n.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function Uq(e){if(null===e)return!0;if("object"==typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!=typeof n)return!1;if(!Uq(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!Uq(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function Vq(e,t,n=console.log){let r="";for(let n=0;n<e.length;++n)n>0&&(r=r.slice(0,r.length-1)+" "),r+=e[n],r=r.slice(0,t[n]),r+=" ".repeat(t[n]-r.length);n(r)}function Gq(e,t,n){let r,o;try{o=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){o="multiple"}try{r=JSON.stringify(e.outputShape)}catch(e){r="multiple"}Vq([`${e.name} (${e.getClassName()})`,o,r,e.countParams().toString()],t,n)}function Wq(e,t,n,r){let o,i;try{i=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(e){i="multiple"}try{o=JSON.stringify(e.outputShape)}catch(e){o="multiple"}const a=[];for(const t of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(t)))for(let e=0;e<t.inboundLayers.length;++e){const n=t.inboundLayers[e].name,r=t.nodeIndices[e],o=t.tensorIndices[e];a.push(`${n}[${r}][${o}]`)}const s=e.name,l=e.getClassName(),u=0===a.length?"":a[0];Vq([`${s} (${l})`,i,o,e.countParams().toString(),u],t,r);for(let e=1;e<a.length;++e)Vq(["","","","",a[e]],t,r)}function Hq(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"==typeof n}function qq(e,t){if(null===e)return null;if("string"==typeof e)return sW(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let o=0;o<r;++o){const r=e[o];Hq(t,o,r)?n.push(r):n.push(qq(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];if("name"===n&&"string"==typeof r)t[n]=r;else{const e=sW(n);t[e]=qq(r,e)}}return t}}function Xq(e,t){if(null==e)return null;if("string"==typeof e)return aW(e);if("number"==typeof e||"boolean"==typeof e)return e;if(e instanceof Array){const n=[],r=e.length;for(let o=0;o<r;++o){const r=e[o];Hq(t,o,r)?n.push(r):n.push(Xq(r,t))}return n}{const t={};for(const n of Object.keys(e)){const r=e[n];t[aW(n)]="name"!==n&&"className"!==n||"string"!=typeof r?Xq(r,n):r}return t}}const Yq="4.17.0";class Kq extends GH{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=_W(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],hW(this.inputs).length!==this.inputs.length)throw new ZG(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${this.inputs.map((e=>e.name))}`);hW(this.outputs).length!==this.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${this.outputs.map((e=>e.name))}`),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const e of this.outputs){const t=e.sourceLayer,n=e.nodeIndex,r=e.tensorIndex;this.outputLayers.push(t),this.outputLayersNodeIndices.push(n),this.outputLayersTensorIndices.push(r)}for(const e of this.inputs){const t=e.sourceLayer,n=e.nodeIndex,r=e.tensorIndex;nW(0===n,"input layer has >1 nodes"),nW(0===r,"input layer has >1 tensors"),this.inputLayers.push(t),this.inputLayersNodeIndices.push(n),this.inputLayersTensorIndices.push(r)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let t=0;t<this.inputLayers.length;t++){const n=this.inputLayers[t];if(!(n instanceof HH))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${t} (0-based) originates from layer type ${n.getClassName()}.`);this.inputNames.push(n.name),this.feedInputShapes.push(n.batchInputShape),this.feedInputNames.push(n.name)}for(const e of this.outputLayers)this.outputNames.push(e.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},r={},o={},i={},a=[],s=(e,t,n,r,o,l)=>{null!=r&&null!=o&&null!=l||(r=e.sourceLayer,o=e.nodeIndex,l=e.tensorIndex);const u=r.inboundNodes[o];if(-1!==n.indexOf(u))throw new KG(`The tensor ${e.name} at layer "${r.name}" is part of a cycle.`);if(-1!==t.indexOf(u))return;this.containerNodes.add(Kq.nodeKey(r,o)),r.id in i||(i[r.id]=Object.keys(i).length),-1===n.indexOf(u)&&n.push(u);const c=u.inboundLayers.length;for(let e=0;e<c;e++){const r=u.inputTensors[e],o=u.inboundLayers[e],i=u.nodeIndices[e],a=u.tensorIndices[e];s(r,t,n,o,i,a)}for(t.push(u);n.indexOf(u)>=0;)n.splice(n.indexOf(u),1);a.push(u)},l=[],u=[];for(const e of this.outputs)s(e,l,u);const c=a.slice().reverse();for(const e of c){n[e.id]=e,e.id in t||(t[e.id]=0);let i=t[e.id];const a=null==r[e.outboundLayer.id]?0:r[e.outboundLayer.id];i=Math.max(i,a),r[e.outboundLayer.id]=i,o[e.outboundLayer.id]=e.outboundLayer,t[e.id]=i;for(let r=0;r<e.inboundLayers.length;r++){const o=e.inboundLayers[r],a=e.nodeIndices[r],s=o.inboundNodes[a],l=null==t[s.id]?0:t[s.id];t[s.id]=Math.max(i+1,l),n[s.id]=s}}const d={};for(const e in t){const r=t[e];r in d||(d[r]=[]),d[r].push(n[e])}const p={};for(const e in r){const t=r[e];t in p||(p[t]=[]),p[t].push(o[e])}let h=Object.keys(p).map((e=>parseInt(e,10))).sort(pW);this.layers=[];for(const e of h){const t=p[e];t.sort(((e,t)=>{const n=i[e.id],r=i[t.id];return n<r?-1:n>r?1:0}));for(const e of t)e instanceof Kq&&this.internalContainerRefs.push(e),this.layers.push(e)}this.layersByDepth=p,h=Object.keys(d).map((e=>parseInt(e,10))).sort(pW);const f=this.inputs.slice(),m=[];for(const e of h)for(const t of d[e]){const e=t.outboundLayer;if(null!=e){for(const n of t.inputTensors)if(-1===f.indexOf(n))throw new KG(`Graph disconnected: cannot obtain value for tensor ${n} at layer "${e.name}". The following previous layers were accessed without issue: ${m}`);for(const e of t.outputTensors)f.push(e);m.push(e.name)}}this.nodesByDepth=d;const g=this.layers.map((e=>e.name));for(const e of g){const t=g.filter((t=>t===e)).length;if(1!==t)throw new KG(`The name "${e}" is used ${t} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new UH({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0==--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new ZG("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e,t=!0){const n={};let r=0;const o=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);o&&this.parseWeights(e);for(const e of this.layers)for(const[t,i]of e.weights.entries()){const e=o?`${i.name.split("/").slice(0,-1).join("/")+"/"}${t}`:i.originalName;if(null!=n[e])throw new ZG(`Duplicate weight name: ${e}`);n[e]=i,r++}const i=[];for(const r in e){let o=r;if(null==n[r]){const e=r.split("/");o=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[o])i.push([n[o],e[r]]);else if(t)throw new ZG(`Provided weight data has no target variable: ${r}`);delete n[o]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new ZG(`${e.length} of ${r} weights are not set: ${e}`)}FH(i)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),r=["vars","layer_checkpoint_dependencies"],o=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!r.includes(e))).join("/");o!==t&&(e[o]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${Yq}`,t.backend="TensorFlow.js",t}toJSON(e,t=!0){const n=Xq(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return tD((()=>{e=iW(e);const n=new qH;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return KH(this.outputs,n,t)}))}computeMask(e,t){return tD((()=>{let n;return e=iW(e),n=null==t?tW(null,e.length):iW(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=OH(e);if(t.length!==this.inputLayers.length)throw new ZG(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);const n={};for(let e=0;e<t.length;e++){const r=this.inputLayers[e],o=t[e];n[r.name+"_0_0"]=o}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(pW);if(r.length>1)for(const e of r){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(t.id))continue;const r=[];for(let t=0;t<e.inboundLayers.length;t++){const o=e.inboundLayers[t],i=e.nodeIndices[t],a=e.tensorIndices[t],s=n[`${o.name}_${i}_${a}`];r.push(s)}const o=OH(t.computeOutputShape(oW(r))),i=t.inboundNodes.indexOf(e);for(let e=0;e<o.length;e++)n[`${t.name}_${i}_${e}`]=o[e]}}const o=[],i=[];for(let e=0;e<this.outputLayers.length;e++){const t=this.outputLayers[e],n=this.outputLayersNodeIndices[e],r=this.outputLayersTensorIndices[e],o=`${t.name}_${n}_${r}`;i.push(o)}for(let e=0;e<i.length;e++){const t=i[e];nW(t in n),o.push(n[t])}return oW(o)}runInternalGraph(e,t){null==t&&(t=tW(null,e.length));const n={};for(let r=0;r<this.inputs.length;++r){const o=this.inputs[r],i=e[r],a=t[r];n[o.id]=[i,a]}const r=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(pW);for(const e of r){const t=this.nodesByDepth[e];for(const e of t){const t=e.outboundLayer,r=e.inputTensors,o=e.outputTensors,i=new Array;for(const e of r)e.id in n&&i.push(n[e.id]);if(i.length===r.length){let r,a,s,l,u={};if(null!=e.callArgs&&(u=e.callArgs),1===i.length){const[e,n]=i[0];null==u.mask&&(u.mask=n),s=iW(t.call(e,u)),l=iW(t.computeMask(e,n)),r=[e],a=[n]}else r=i.map((e=>e[0])),a=i.map((e=>e[1])),null==u.mask&&(u.mask=a),s=iW(t.call(r,u)),l=iW(t.computeMask(r,a));if(t.activityRegularizer)throw new JG("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<o.length;++e){const t=o[e],r=s[e],i=l[e];n[t.id]=[r,i]}}}}const o=[],i=[],a=[];for(const e of this.outputs){nW(e.id in n,`Could not compute output ${e.name} : ${e.id}`);const[t,r]=n[e.id];a.push(t.shape),o.push(t),i.push(r)}return[o,i,a]}buildNodeConversionMap(e){const t={};let n;for(const e of this.layers){n=e instanceof Kq?1:0;for(let r=0;r<e.inboundNodes.length;r++){const o=Kq.nodeKey(e,r);this.containerNodes.has(o)&&(t[o]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new ZG("Provide either a layer name or layer index");if("number"==typeof e)return this.findLayer(e);for(const t of this.layers)if(t.name===e)return t;throw new ZG(`No such layer: ${e}`)}findLayer(e){if(this.layers.length<=e)throw new ZG(`Was asked to retrieve layer at index ${e}, but model only has ${this.layers.length} layer(s).`);return this.layers[e]}calculateLosses(){return tD((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const r=Kq.nodeKey(t,n);this.containerNodes.has(r)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const e of this.layers){const r=e.getClassName(),o=e.getConfig(),i=[];for(let n=0;n<e.inboundNodes.length;n++){const r=e.inboundNodes[n],o=Kq.nodeKey(e,n);let a={};if(this.containerNodes.has(o)){if(r.callArgs)try{JSON.stringify(r.callArgs),a=r.callArgs}catch(t){console.warn(`Layer ${e.name} was passed non-serializable keyword arguments: ${r.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),a={}}if(r.inboundLayers.length>0){const e=[];for(let n=0;n<r.inboundLayers.length;n++){const o=r.inboundLayers[n],i=r.nodeIndices[n],s=r.tensorIndices[n];let l=t[Kq.nodeKey(o,i)];null==l&&(l=0),e.push([o.name,l,s,a])}i.push(e)}}}const a={};a.name=e.name,a.className=r,a.config=o,a.inboundNodes=i,n.push(a)}e.layers=n;const r=[];for(let e=0;e<this.inputLayers.length;e++){const n=this.inputLayers[e],o=this.inputLayersNodeIndices[e],i=Kq.nodeKey(n,o);if(!this.containerNodes.has(i))continue;let a=t[i];null==a&&(a=0);const s=this.inputLayersTensorIndices[e];r.push([n.name,a,s])}e.inputLayers=r;const o=[];for(let e=0;e<this.outputLayers.length;e++){const n=this.outputLayers[e],r=this.outputLayersNodeIndices[e],i=Kq.nodeKey(n,r);if(!this.containerNodes.has(i))continue;let a=t[i];null==a&&(a=0);const s=this.outputLayersTensorIndices[e];o.push([n.name,a,s])}return e.outputLayers=o,e}static fromConfig(e,t,n={},r=!1){const o={},i={};function a(e,t){e.name in i?i[e.name].push(t):i[e.name]=[t]}function s(e,t){const n=[];let r;for(const i of t){const s=i[0],l=i[1],u=i[2];if(r=null==i[3]?{}:i[3],!(s in o))return void a(e,t);const c=o[s];if(c.inboundNodes.length<=l)return void a(e,t);const d=c.inboundNodes[l];n.push(d.outputTensors[u])}n.length>0&&e.apply(oW(n),r)}function l(e){const n=e.name,i=wq(e,null!=t.customObjects?t.customObjects:{});i.setFastWeightInitDuringBuild(r),o[n]=i,e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new ZG(`Corrupted configuration, expected array for nodeData: ${e}`);a(i,e)}))}const u=t.name,c=t.layers;for(const e of c)l(e);for(;!fW(i);)for(const e of c){const t=o[e.name];if(t.name in i){const e=i[t.name];delete i[t.name];for(const n of e)s(t,n)}}const d=[],p=[],h=t.inputLayers;for(const e of h){const t=e[0],n=e[1],r=e[2];nW(t in o);const i=o[t].inboundNodes[n].outputTensors;d.push(i[r])}const f=t.outputLayers;for(const e of f){const t=e[0],n=e[1],r=e[2];nW(t in o);const i=o[t].inboundNodes[n].outputTensors;p.push(i[r])}return new e({inputs:d,outputs:p,name:u})}get stateful(){if(this._stateful)throw new ZG("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){tD((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function Zq(e,t){return function(e,t,n){const r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"==typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"==typeof e&&Object.keys(e).length>0&&"object"==typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}(e,t,"classWeight")}async function Jq(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=tD((()=>{if(1===e.shape.length)return BD(e);if(2===e.shape.length){if(e.shape[1]>1)return HL(e,1);if(1===e.shape[1])return lF(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),r=Array.from(await t.data());nD(t);const o=[];return r.forEach((e=>{if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);o.push(n[e])})),$B(o,"float32")}return null}function Qq(e,t){return GD(e,t)}function eX(e,t){let n,r;const o=t;n=o.xs,r=o.ys,jA(null!=n&&null!=r,(()=>`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`));const i=tX("input",e.inputNames,n),a=tX("output",e.outputNames,r),s=i[0].shape[0];jA(i.length===e.inputs.length,(()=>`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`)),jA(a.length===e.outputs.length,(()=>`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${a.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`));for(let t=0;t<i.length;t++)jA(i[t].shape[0]===s,(()=>`Batch size mismatch: input ${e.inputNames[t]} has ${i[t].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`));for(let t=0;t<a.length;t++)jA(a[t].shape[0]===s,(()=>`Batch size mismatch: output ${e.outputNames[t]} has ${a[t].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`));return{xs:i,ys:a}}function tX(e,t,n){if(n instanceof gM)return[n];if(Array.isArray(n))return jA(n.length===t.length,(()=>`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`)),n;{const r=[];for(const o of t){if(null==n[o])throw new ZG(`The feature data generated by the dataset lacks the required ${e} key '${o}'.`);r.push(n[o])}return r}}function nX(e){return"function"==typeof e.iterator}function rX(e){jA(e>0&&Number.isInteger(e),(()=>`batchSize is required to be a positive integer, but got ${e}`))}function oX(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>XW(e,t,n-t))):XW(e,t,n-t)}function iX(e,t){return tD((()=>null==e?null:Array.isArray(e)?e.map((e=>iX(e,t))):nH(e,"int32"===t.dtype?t:FD(t,"int32"))))}function aX(e,t){const n=[];let r=0,o=null;for(;r<e;)o=r+t,o>=e&&(o=e),n.push([r,o]),r=o;return n}function sX(e){const t=[];e instanceof gM&&(e=[e]);for(let n=0;n<e.length;++n){const r=e[n];if(1===r.rank)t.push(qW(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function lX(e,t){if(null==e)return;const n=[];if(t instanceof gM)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const e in t){const r=t[e];n.push(r.id)}const r=[];if(e instanceof gM)-1===n.indexOf(e.id)&&r.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&r.push(e)}));else if(null!=e)for(const t in e){const o=e[t];-1===n.indexOf(o.id)&&r.push(o)}r.forEach((e=>{e.isDisposed||e.dispose()}))}function uX(e){return Array.isArray(e)}function cX(e){return!function(e){return e instanceof gM}(e)&&!uX(e)}function dX(e,t,n,r=!0,o=""){if(null==t||0===t.length){if(null!=e){let t=!1;if(uX(e)&&e.length>0)t=!0;else if(cX(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new ZG(`Error when checking model ${o} expected no data, but got ${e}`)}return[]}if(null==e)return t.map((e=>null));let i;if(cX(e)){i=[];for(const n of t){if(null==e[n])throw new ZG(`No data provided for "${n}". Need data for each key in: ${t}`);i.push(e[n])}}else if(uX(e)){if(e.length!==t.length)throw new ZG(`Error when checking model ${o}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);i=e}else{if(t.length>1)throw new ZG(`The model ${o} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);i=[e]}if(i=sX(i),null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const a=i[e];if(a.shape.length!==n[e].length)throw new ZG(`Error when checking ${o}: expected ${t[e]} to have ${n[e].length} dimension(s). but got array with shape ${a.shape}`);for(let t=0;t<n[e].length;++t){if(0===t&&!r)continue;const i=a.shape[t],s=n[e][t];if(null!=s&&s>=0&&i!==s)throw new ZG(`${o} expected a batch of elements where each example has shape [${n[e].slice(1,n[e].length)}] (i.e.,tensor shape [*,${n[e].slice(1,n[e].length)}]) but the ${o} received an input with ${a.shape[0]} examples, each with shape [${a.shape.slice(1,a.shape.length)}] (tensor shape [${a.shape}])`)}}return i}function pX(e,t,n,r=!0,o=""){let i;if(Array.isArray(e)){if(e.length!==t.length)throw new ZG(`Error when checking model ${o}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);i=e}else{if(t.length>1)throw new ZG(`The model expects ${t.length} ${o} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);i=[e]}if(null!=n)for(let e=0;e<t.length;++e){if(null==n[e])continue;const a=i[e];if(a.shape.length!==n[e].length)throw new ZG(`Error when checking ${o}: expected ${t[e]} to have ${n[e].length} dimension(s), but got array with shape ${JSON.stringify(a.shape)}`);for(let i=0;i<n[e].length;++i){if(0===i&&!r)continue;const s=a.shape[i],l=n[e][i];if(null!=l&&l!==s)throw new ZG(`Error when checking ${o}: expected ${t[e]} to have shape ${JSON.stringify(n[e])} but got array with shape ${JSON.stringify(a.shape)}.`)}}}class hX extends Kq{constructor(e){super(e),this.isTraining=!1}summary(e,t,n=console.log){if(!this.built)throw new ZG("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");!function(e,t,n,r=console.log){const o=function(e){let t=!0;const n=[],r=[];for(const t in e.nodesByDepth)n.push(e.nodesByDepth[t]);for(const e of n){if(e.length>1||1===e.length&&e[0].inboundLayers.length>1){t=!1;break}r.push(...e)}if(t)for(const n of e.layers){let e=!1;for(const o of n.inboundNodes)if(-1!==r.indexOf(o)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),i=["Layer (type)","Input Shape","Output shape","Param #"];let a;if(o?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!o){i.push("Receives inputs"),a=[];for(const t in e.nodesByDepth)a.push(...e.nodesByDepth[t])}r("_".repeat(t)),Vq(i,n,r),r("=".repeat(t));const s=e.layers;for(let e=0;e<s.length;++e)o?Gq(s[e],n,r):Wq(s[e],n,a,r),r((e===s.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;return t=null!=e.collectedTrainableWeights?PH(e.collectedTrainableWeights):PH(e.trainableWeights),t}(e),u=PH(e.nonTrainableWeights);r(`Total params: ${l+u}`),r(`Trainable params: ${l}`),r(`Non-trainable params: ${u}`),r("_".repeat(t))}(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"==typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>q$.adagrad(.01),Adadelta:()=>q$.adadelta(1,.95,WW()),Adam:()=>q$.adam(.001,.9,.999,WW()),Adamax:()=>q$.adamax(.002,.9,.999,WW(),0),RMSProp:()=>q$.rmsprop(.001,.9,0,WW()),SGD:()=>q$.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ZG(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof tL))throw new ZG("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"==typeof e.loss||"function"==typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ZG(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);const n=e.loss;t=n.map((e=>Oq(e)))}else{const n=Oq(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new ZG(`Unknown entry in loss dictionary: "${t}". Only expected the following keys: ${this.outputNames}`);for(const n of this.outputNames)null==e.loss[n]&&console.warn(`Output "${n}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${n} during training`),t.push(Oq(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let e=0;e<this.outputs.length;++e){const t=this.internalOutputShapes[e],n=this.outputNames[e];this.feedOutputNames.push(n),this.feedOutputShapes.push(t),this.feedLossFns.push(this.lossFunctions[e])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],PW("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const r=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"==typeof e||"function"==typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!=typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const r of t){let t=n.hasOwnProperty(r)?n[r]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),o=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};PW("metric",(()=>{for(let e=0;e<this.outputs.length;++e)-1===n.indexOf(e)&&(t=>{let n,r,i;for(const a of t){if("string"==typeof a&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(a)){const t=this.internalOutputShapes[e];let o;1===t[t.length-1]||this.lossFunctions[e]===Iq?-1!==["accuracy","acc"].indexOf(a)?r=Nq:-1!==["crossentropy","ce"].indexOf(a)&&(r=Pq):this.lossFunctions[e]===Cq?-1!==["accuracy","acc"].indexOf(a)?r=Mq:-1!==["crossentropy","ce"].indexOf(a)&&(r=Lq):-1!==["accuracy","acc"].indexOf(a)?r=Rq:-1!==["crossentropy","ce"].indexOf(a)&&(r=Dq),-1!==["accuracy","acc"].indexOf(a)?o="acc":-1!==["crossentropy","ce"].indexOf(a)&&(o="ce"),i=r,n=""+o}else{const e=Bq(a);i=e,n=""+$q(a)}let t;PW(n,(()=>{t=i})),o(e,n,t)}})(r[e])})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t,n={}){const r=null==n.batchSize?32:n.batchSize;rX(r);const o=this.standardizeUserDataXY(e,t,!0,r);try{const e=o[0].concat(o[1]);this.makeTestFunction();const t=this.testFunction;return oW(this.testLoop(t,e,r,n.verbose,n.steps))}finally{lX(o[0],e),lX(o[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const r=null!=(n=n||{}).batches,o=e.testFunction;let i=[];if(n.verbose>0)throw new JG("Verbose mode is not implemented yet.");jA(!r||n.batches>0&&Number.isInteger(n.batches),(()=>`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`));const a="function"==typeof t.next?t:await t.iterator();let s=0,l=0;for(;!r||l<n.batches;){const t=await a.next();if(i=tD((()=>{if(t.value){const{xs:n,ys:r}=eX(e,t.value),a=n.concat(r),u=tD((()=>o(a)));if(nD(a),0===l)for(let e=0;e<u.length;++e)i.push(YD(0));const c=a[0].shape[0];for(let e=0;e<u.length;++e){const t=u[e],n=i[e];i[e]=tD((()=>zD(i[e],GD(c,t)))),l>0&&nD(n)}nD(u),s+=c,++l}return i})),t.done){r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`);break}}for(let e=0;e<i.length;++e){const t=i[e];i[e]=VD(i[e],s),nD(t)}return oW(i)}(this,e,t)}checkNumSamples(e,t,n,r="steps"){let o;if(null!=n){if(o=null,null!=t)throw new ZG(`If ${r} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new ZG(`Either the input data should have a defined shape, or ${r} shoud be specified.`);o=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return o}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new ZG("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),r=n?t:[t],o=this.retrieveSymbolicTensors(r),i=new qH;if(e instanceof gM&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ZG(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(let t=0;t<this.inputs.length;++t)i.add(this.inputs[t],e[t])}else for(const t of this.inputs){const n=e[t.name];if(null==n)throw new ZG(`No value is provided for the model's input ${t.name}`);i.add(t,n)}const a=KH(o,i);return n?a:a[0]}retrieveSymbolicTensors(e){const t=tW(null,e.length);let n=e.length;for(const r of this.layers){const o=Array.isArray(r.output)?r.output:[r.output],i=o.map((e=>e.name));for(let r=0;r<e.length;++r){const a=i.indexOf(e[r]);if(-1!==a&&(t[r]=o[a],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,r)=>{null==t&&n.push(e[r])})),new ZG(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(n)}`)}return t}predictLoop(e,t=32,n=!1){return tD((()=>{const r=this.checkNumSamples(e);if(n)throw new JG("Verbose predictLoop() is not implemented yet.");const o=aX(r,t),i=this.outputs.map((e=>[]));for(let t=0;t<o.length;++t){tD((()=>{const n=o[t][0],r=o[t][1],i=oX(e,n,r),a=[];if(Array.isArray(i))for(let e=0;e<i.length;++e)a.push({key:this.inputs[e],value:i[e]});else a.push({key:this.inputs[0],value:i});const s=new qH(a);return KH(this.outputs,s)})).forEach(((e,t)=>i[t].push(e)))}return oW(i.map((e=>bF(e,0))))}))}predict(e,t={}){const n=sX(e);pX(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return rX(e),this.predictLoop(n,e)}finally{lX(n,e)}}predictOnBatch(e){pX(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t,n=!0,r){if(null==this.optimizer_)throw new KG("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const o=[];for(let e=0;e<this.feedOutputShapes.length;++e){const t=this.feedOutputShapes[e];this.feedLossFns[e]===Cq?o.push(t.slice(0,t.length-1).concat([1])):o.push(t)}if(function(e,t,n){const r=hW(e.map((e=>e.shape[0])));r.sort();const o=hW(t.map((e=>e.shape[0])));if(o.sort(),r.length>1)throw new ZG(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((e=>e.shape)))}`);if(o.length>1)throw new ZG(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map((e=>e.shape)))}`);if(r.length>0&&o.length>0&&!RA(r,o))throw new ZG(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${o[0]} target sample(s).`)}(e=dX(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=dX(t,this.feedOutputNames,o,!1,"target")),function(e,t,n){const r=[_q,Iq,Tq];for(let o=0;o<e.length;++o){const i=e[o],a=t[o],s=n[o];if(null!=a){if(a===Tq&&1===i.shape[i.shape.length-1])throw new ZG(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==r.indexOf(a)){const e=i.shape.slice(1),t=s.slice(1);for(let n=0;n<e.length;++n){const r=e[n],o=t[n];if(null!=o&&r!==o)throw new ZG(`A target Tensor with shape ${i.shape} was passed for an output of shape ${s}, while using a loss function that expects targets to have the same shape as the output.`)}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=r&&r>0&&e[0].shape[0]%r!=0)throw new ZG(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${r}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}async standardizeUserData(e,t,n,r,o=!0,i){const[a,s]=this.standardizeUserDataXY(e,t,o,i);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=r){const e=Zq(r,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await Jq(s[t],null,e[t]))}return[a,s,l]}testLoop(e,t,n,r=0,o){return tD((()=>{const i=this.checkNumSamples(t,n,o,"steps"),a=[];if(r>0)throw new JG("Verbose mode is not implemented yet.");if(null!=o)throw new JG("steps mode in testLoop() is not implemented yet");{const r=aX(i,n),o=$B(VW(0,i));for(let n=0;n<r.length;++n){const i=r[n][0],s=r[n][1],l=XW(o,i,s-i),u=iX(t,l),c=e(u);if(0===n)for(let e=0;e<c.length;++e)a.push(YD(0));for(let e=0;e<c.length;++e){const t=c[e];a[e]=zD(a[e],GD(s-i,t))}}for(let e=0;e<a.length;++e)a[e]=VD(a[e],i)}return a}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const r=e[n];let o=r;rW(e,r)>1&&(o+=`_${rW(e.slice(0,n),r)}`),t.push(o)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),i=[],a=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const a=new qH(e),s=KH(this.outputs,a,{training:!0});let l;for(let e=0;e<this.lossFunctions.length;++e){let n=(0,this.lossFunctions[e])(r[e],s[e]);null!=o[e]&&(n=Qq(n,o[e]));const i=aB(n);t.push(i),l=0===e?n:zD(l,n)}for(let e=0;e<this.metricsTensors.length;++e){let n;if(this.outputs.length>1&&e<this.outputs.length)n=t[e];else{const t=this.metricsTensors[e][0],o=this.metricsTensors[e][1];n=aB(t(r[o],s[o]))}rD(n),i.push(n)}return l=aB(l),this.calculateLosses().forEach((e=>{l=zD(l,e)})),l}),!0,a)].concat(i)}}makeTestFunction(){this.testFunction=e=>tD((()=>{const t=[];let n;const r=e.slice(0,this.inputs.length),o=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),i=[];for(let e=0;e<this.inputs.length;++e)i.push({key:this.inputs[e],value:r[e]});const a=new qH(i),s=KH(this.outputs,a);for(let e=0;e<this.lossFunctions.length;++e){const r=this.lossFunctions[e],i=aB(r(o[e],s[e]));n=0===e?i:zD(n,i),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],r=this.metricsTensors[e][1],i=aB(n(o[r],s[r]));t.push(i)}return t}))}async fit(e,t,n={}){if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");let r,o,i,a,s,l,u,c,d;this.isTraining=!0;try{const p=null==n.batchSize?32:n.batchSize;rX(p);const h=!1,f=await this.standardizeUserData(e,t,n.sampleWeight,n.classWeight,h,p);r=f[0],o=f[1],d=f[2];let m,g=!1;if(null!=n.validationData&&n.validationData.length>0){if(g=!0,2!==n.validationData.length)throw 3===n.validationData.length?new JG("validationData including sample weights is not supported yet."):new ZG(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${n.validationData} is invalid.`);s=n.validationData[0],l=n.validationData[1];const e=!0,t=await this.standardizeUserData(s,l,null,null,e,p);u=t[0],c=t[1],m=u.concat(c)}else if(null!=n.validationSplit&&n.validationSplit>0&&n.validationSplit<1){g=!0;const e=Math.floor(r[0].shape[0]*(1-n.validationSplit)),t=r[0].shape[0];u=oX(r,e,t),i=r,r=oX(r,0,e),c=oX(o,e,t),a=o,o=oX(o,0,e),m=u.concat(c)}else null!=n.validationSteps&&(g=!0);const b=r.concat(o).concat(d);this.checkTrainableWeightsConsistency();const y=this.makeTrainFunction(),v=this.getDedupedMetricsNames();let x,w;g?(this.makeTestFunction(),x=this.testFunction,w=v.slice().concat(v.map((e=>"val_"+e)))):(x=null,m=[],w=v.slice());const k=yq(n.callbacks,n.yieldEvery);return await this.fitLoop(y,b,v,p,n.epochs,n.verbose,k,x,m,n.shuffle,w,n.initialEpoch,null,null)}finally{this.isTraining=!1,lX(r,e),lX(o,t),lX(i,e),lX(a,t),lX(u,s),lX(c,l),null!=d&&nD(d)}}async fitLoop(e,t,n,r,o,i,a,s,l,u,c,d,p,h){null==r&&(r=32),null==o&&(o=1),null==u&&(u=!0),null==d&&(d=0);let f=!1;if(null!=s&&null!=l&&(f=!0),null!=h&&(f=!0,null==p))throw new ZG("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,r,p,"steps_per_epoch");let g;null!=m&&(g=VW(0,m)),null==i&&(i=1);const{callbackList:b,history:y}=xq(a,i,o,d,m,p,r,f,c);b.setModel(this),this.history=y,await b.onTrainBegin(),this.stopTraining_=!1;for(let i=d;i<o;++i){await b.onEpochBegin(i);const o={};if(null!=p)throw new JG("stepsPerEpoch mode is not implemented yet.");{if("batch"===u)throw new JG("batch shuffling is not implemneted yet");u&&EA(g);const i=$B(g),a=aX(m,r);for(let u=0;u<a.length;++u){const c={};if(await b.onBatchBegin(u,c),tD((()=>{const d=a[u][0],p=a[u][1],h=XW(i,d,p-d);c.batch=u,c.size=p-d;const m=iX(t,h),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],r=g[e];c[t]=r,rD(r)}if(u===a.length-1&&f){const e=this.testLoop(s,l,r);for(let t=0;t<n.length;++t){const r=n[t],i=e[t];rD(i),o["val_"+r]=i}}})),await b.onBatchEnd(u,c),dq(c),this.stopTraining_)break}i.dispose()}if(await b.onEpochEnd(i,o),this.stopTraining_)break}return await b.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return async function(e,t,n){const r=null!=n.batchesPerEpoch;if(jA(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),jA(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),jA(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`)),jA(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`)),jA(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const o=null!=n.validationData;let i,a;if(o)if(nX(n.validationData))jA(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`));else{const e=function(e){if(3===e.length)throw new JG("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);i=e.xs,a=e.ys}const s=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let u;u=o?l.slice().concat(l.map((e=>"val_"+e))):l.slice();const c=yq(n.callbacks,n.yieldEvery),d=null==n.verbose?1:n.verbose,{callbackList:p,history:h}=xq(c,d,n.epochs,null,null,function(e,t){let n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}(t,n),null,o,u);p.setModel(e),e.history=h,await p.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const u={};await p.onEpochBegin(f);let c=0,d=0;for(r||(m=await t.iterator());!r||c<n.batchesPerEpoch;){const t=await m.next();if(r&&t.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${c} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, `+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:r,ys:o}=eX(e,t.value),i={};i.batch=d,i.size=r[0].shape[0],await p.onBatchBegin(d,i);const a=[];if(null!=n.classWeight){const t=Zq(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)a.push(await Jq(o[e],null,t[e]))}const u=r.concat(o).concat(a),h=s(u);nD(u);for(let e=0;e<l.length;++e){const t=l[e],n=h[e];i[t]=n,rD(n)}await p.onBatchEnd(d,i),dq(i),d++,c++}if(r?c>=n.batchesPerEpoch:t.done){if(o){let t;t=nX(n.validationData)?iW(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):iW(e.evaluate(i,a,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)u[`val_${e.metricsNames[n]}`]=t[n]}break}if(e.stopTraining_)break}if(await p.onEpochEnd(f,u),f++,e.stopTraining_)break}return await p.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),r=n[0],o=n[1],i=this.makeTrainFunction()(r.concat(o)),a=[];for(const e of i){const t=await e.data();a.push(t[0])}return nD(i),lX(n[0],e),lX(n[1],t),oW(a)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,o=this.getWeights(n);for(let e=0;e<r.length;++e)n&&!r[e].trainable||t.push({name:r[e].originalName,tensor:o[e]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=eD().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-eD().numTensors}return e}getLossIdentifiers(){let e;if("string"==typeof this.loss)e=aW(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!=typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>aW(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const r of t){if("string"!=typeof n[r])throw new Error("Serialization of non-string loss is not supported.");e[r]=aW(n[r])}}return e}getMetricIdentifiers(){if("string"==typeof this.metrics||"function"==typeof this.metrics)return[aW($q(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>aW($q(e))));{const e={};for(const t in this.metrics)e[t]=aW($q(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=wq(qq(e.optimizer_config));let n,r;if("string"==typeof e.loss)n=sW(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>sW(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=sW(e.loss[t])}if(Array.isArray(e.metrics))r=e.metrics.map((e=>sW(e)));else if(null!=e.metrics){r={};for(const t in e.metrics)r[t]=sW(e.metrics[t])}this.compile({loss:n,metrics:r,optimizer:t})}async save(e,t){if("string"==typeof e){const t=(n=e,pD.getSaveHandlers(n));if(0===t.length)throw new ZG(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new ZG(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}var n;if(null==e.save)throw new ZG("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const r=await iD(this.getNamedWeights(t)),o={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${Yq}`,convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){o.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:n}=await iD(await this.optimizer.getWeights(),e);r.specs.push(...n),r.data=(i=[r.data,t],ZM.join(i))}var i;if(null!=this.userDefinedMetadata){const e=!0;zq(this.userDefinedMetadata,this.name,e),o.userDefinedMetadata=this.userDefinedMetadata}return o.weightData=r.data,o.weightSpecs=r.specs,e.save(o)}setUserDefinedMetadata(e){zq(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}hX.className="Model",eL(hX);class fX extends hX{}fX.className="Functional",eL(fX);class mX extends hX{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:_W("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new ZG(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}add(e){const t=e instanceof mX||e instanceof hX;let n;if(t){if(n=e,1!==n.outputs.length)throw new ZG("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new ZG("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new ZG("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new ZG("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new HH({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new ZG(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new ZG("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=WH(this.outputs[0])}this.inboundNodes=[],new UH({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:tW(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(RH(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new hX({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t,n=console.log){this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t,n={}){if(!this.built)throw new KG("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new KG("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e,t={}){return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t,n={}){if(!this.built)throw new KG("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new KG("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t,n={},r=!1){let o,i={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new ZG("Legacy serialization format not supported yet.");o=t}else jA(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),o=t.layers,delete t.layers,i=t;const a=new e(i);if(!(a instanceof mX))throw new JG(`Sequential.fromConfig called on non-Sequential input: ${a}`);for(const e of o){const t=wq(e,void 0,r);r&&t.setFastWeightInitDuringBuild(!0),a.add(t)}return a}set stopTraining(e){if(null==this.model)throw new ZG("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new ZG("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}mX.className="Sequential",eL(mX);class gX extends JD{getConfig(){return{}}}class bX extends gX{apply(e,t=1){return function(e,t=1){if(1!==t)throw new JG(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return OF(e)}(e,t)}}bX.className="elu",eL(bX);class yX extends gX{apply(e){return TB(e)}}yX.className="selu",eL(yX);class vX extends gX{apply(e){return SB(e)}}vX.className="relu",eL(vX);class xX extends gX{apply(e){return tD((()=>lB(6,SB(e))))}}xX.className="relu6",eL(xX);class wX extends gX{apply(e){return e}}wX.className="linear",eL(wX);class kX extends gX{apply(e){return IB(e)}}kX.className="sigmoid",eL(kX);class _X extends gX{apply(e){return function(e){return tD((()=>{const t=zD(.5,GD(.2,e));return gF(t,0,1)}))}(e)}}_X.className="hardSigmoid",eL(_X);class SX extends gX{apply(e){return MB(e)}}SX.className="softplus",eL(SX);class EX extends gX{apply(e){return function(e){return tD((()=>VD(e,zD(lL(e),1))))}(e)}}EX.className="softsign",eL(EX);class TX extends gX{apply(e){return BB(e)}}TX.className="tanh",eL(TX);class CX extends gX{apply(e,t=-1){return PB(e,t)}}CX.className="softmax",eL(CX);class IX extends gX{apply(e,t=-1){return HF(e,t)}}IX.className="logSoftmax",eL(IX);class jX extends gX{apply(e,t=1){return tD((()=>GD(IB(GD(e,t)),e)))}}jX.className="swish",eL(jX);class AX extends gX{apply(e){return tD((()=>GD(e,BB(MB(e)))))}}function OX(e){return e.getClassName()}function NX(e,t={}){return dW(e,QD.getMap().classNameMap,t,"activation")}function RX(e){if(null==e){return NX({className:"linear",config:{}})}if("string"==typeof e){const t={};return t.className=e,t.config={},NX(t)}return e instanceof gX?e:NX(e)}AX.className="mish",eL(AX);class PX extends JD{}class MX extends PX{constructor(e){super(),function(e){if(null!=e&&"object"!=typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return tD((()=>{let t=hB([1]);return this.hasL1&&(t=zD(t,WF(GD(this.l1,lL(e))))),this.hasL2&&(t=zD(t,WF(GD(this.l2,rH(e))))),lF(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}MX.className="L1L2",eL(MX);const DX={l1l2:"L1L2"};function LX(e){return uW(e)}function FX(e,t={}){return dW(e,QD.getMap().classNameMap,t,"regularizer")}function BX(e){return null==e?null:"string"==typeof e?FX({className:e in DX?DX[e]:e,config:{}}):e instanceof PX?e:FX(e)}class $X extends GH{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=NH(e);let n=SB(e);return null!=this.maxValue&&(n=gF(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}$X.className="ReLU",eL($X);class zX extends GH{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=NH(e);return zF(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}zX.className="LeakyReLU",eL(zX);class UX extends GH{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=jH(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=BX(e.alphaRegularizer),this.alphaConstraint=uq(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!=typeof e.sharedAxes)throw new ZG(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=RH(e)).slice(1);if(null!=this.sharedAxes)for(const e of this.sharedAxes)t[e-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let t=1;t<e.length;++t)n[t]=e[t];this.inputSpec=[new BH({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=NH(e),bB(e,this.alpha.read())}getConfig(){const e={alphaInitializer:IH(this.alphaInitializer),alphaRegularizer:LX(this.alphaRegularizer),alphaConstraint:sq(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}UX.className="PReLU",eL(UX);class VX extends GH{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new JG(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=NH(e);return OF(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}VX.className="ELU",eL(VX);class GX extends GH{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=NH(e);return GD(n,FD(BF(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}GX.className="ThresholdedReLU",eL(GX);class WX extends GH{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new CX).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return tD((()=>{let n=NH(e);const r=t.mask;if(null!=r){const e=GD(aL(fB(n.shape),FD(r,n.dtype)),YD(-1e9));n=zD(n,e)}return this.axis instanceof Array?this.axis.length>1?RF(aL(n,tB(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function HX(e,t,n){if("number"==typeof e)return tW(e,t);if(e.length!==t)throw new ZG(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(let r=0;r<t;++r){const o=e[r];if(!BW(o))throw new ZG(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${o}`)}return e}function qX(e,t,n,r,o=1){if(null==e)return e;let i;return i="same"===n?e:e-(t+(t-1)*(o-1))+1,Math.floor((i+r-1)/r)}function XX(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+UW([n-t,0]);else{if("same"!==r)throw new ZG(`Unsupport padding mode: ${r}.`);e*=t}return e}function YX(e,t){return tD((()=>(AW(t),"channelsFirst"===t?qB(e,[0,2,3,1]):e)))}function KX(e,t){return tD((()=>(AW(t),"channelsFirst"===t?qB(e,[0,2,3,4,1]):e)))}function ZX(e,t,n,r=[1,1],o="valid",i,a,s=null){return tD((()=>{if(null==i&&(i="channelsLast"),AW(i),3!==e.rank&&4!==e.rank)throw new ZG(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new ZG(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);let l=YX(e,i);if("causal"===o)throw new JG("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=a$({x:l,filter:t,strides:r,pad:"same"===o?"same":"valid",dilations:a,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===i&&(l=qB(l,[0,3,1,2])),l}))}WX.className="Softmax",eL(WX);class JX extends GH{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",JX.verifyArgs(t),this.rank=e,bW(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new JG(`Convolution layer for rank other than 1, 2, or 3 (${this.rank}) is not implemented yet.`);if(this.kernelSize=HX(t.kernelSize,e,"kernelSize"),this.strides=HX(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,OW(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,AW(this.dataFormat),this.activation=RX(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=jH(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=uq(t.biasConstraint),this.biasRegularizer=BX(t.biasRegularizer),this.activityRegularizer=BX(t.activityRegularizer),this.dilationRate=HX(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new ZG(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(this.dilationRate)}`);if(2===this.rank){if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new ZG(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(this.dilationRate)}`)}else if(3===this.rank)if("number"==typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new ZG(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(this.dilationRate)}`)}static verifyArgs(e){if(nW("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!=typeof e.kernelSize&&!gW(e.kernelSize,"number",1,3))throw new ZG(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:OX(this.activation),useBias:this.useBias,biasInitializer:IH(this.biasInitializer),biasRegularizer:LX(this.biasRegularizer),activityRegularizer:LX(this.activityRegularizer),biasConstraint:sq(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class QX extends JX{constructor(e,t){super(e,t),this.kernel=null,QX.verifyArgs(t),this.filters=t.filters,bW(this.filters,"filters"),this.kernelInitializer=jH(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=uq(t.kernelConstraint),this.kernelRegularizer=BX(t.kernelRegularizer)}build(e){e=RH(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ZG(`The channel dimension of the input should be defined. Found ${e[t]}`);const n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return tD((()=>{let t;e=NH(e);const n=null==this.bias?null:this.bias.read(),r=vW(this.activation.getClassName());if(null!=r&&2===this.rank)t=ZX(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,r);else{if(1===this.rank)t=function(e,t,n,r=1,o="valid",i,a=1){return tD((()=>{if(null==i&&(i="channelsLast"),AW(i),3!==e.shape.length)throw new ZG(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new ZG(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new ZG(`The bias for a conv1dWithBias operation should be 1, but is ${t.shape.length} instead`);if("channelsFirst"===i&&(e=qB(e,[0,2,1])),"causal"===o)throw new JG("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let s=_F(e,t,r,"same"===o?"same":"valid","NWC",a);return null!=n&&(s=iH(s,n)),s}))}(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=ZX(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new JG("convolutions greater than 3D are not implemented yet.");t=function(e,t,n,r=[1,1,1],o="valid",i,a){return tD((()=>{if(null==i&&(i="channelsLast"),AW(i),4!==e.rank&&5!==e.rank)throw new ZG(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new ZG(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);let s=KX(e,i);if("causal"===o)throw new JG("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=TF(s,t,r,"same"===o?"same":"valid","NDHWC",a),null!=n&&(s=iH(s,n)),"channelsFirst"===i&&(s=qB(s,[0,4,1,2,3])),s}))}(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=RH(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let e=0;e<n.length;++e){const r=qX(n[e],this.kernelSize[e],this.padding,this.strides[e],"number"==typeof this.dilationRate?this.dilationRate:this.dilationRate[e]);t.push(r)}let r=[e[0]];return"channelsLast"===this.dataFormat?(r=r.concat(t),r.push(this.filters)):(r.push(this.filters),r=r.concat(t)),r}getConfig(){const e={filters:this.filters,kernelInitializer:IH(this.kernelInitializer),kernelRegularizer:LX(this.kernelRegularizer),kernelConstraint:sq(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!=typeof e.filters||e.filters<1)throw new ZG(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}class eY extends QX{constructor(e){super(2,e),eY.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!gW(e.kernelSize,"number",1,2))throw new ZG(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}eY.className="Conv2D",eL(eY);class tY extends QX{constructor(e){super(3,e),tY.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new ZG(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}tY.className="Conv3D",eL(tY);class nY extends eY{constructor(e){if(super(e),this.inputSpec=[new BH({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new ZG(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(4!==(e=RH(e)).length)throw new ZG("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ZG("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new BH({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return tD((()=>{let t=NH(e);if(4!==t.shape.length)throw new ZG(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let o,i;"channelsFirst"===this.dataFormat?(o=2,i=3):(o=1,i=2);const a=n[o],s=n[i],l=this.kernelSize[0],u=this.kernelSize[1],c=this.strides[0],d=this.strides[1],p=[r,XX(a,c,l,this.padding),XX(s,d,u,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=qB(t,[0,2,3,1]));let h=EF(t,this.kernel.read(),p,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(h=qB(h,[0,3,1,2])),null!=this.bias&&(h=iH(h,this.bias.read(),this.dataFormat)),null!=this.activation&&(h=this.activation.apply(h)),h}))}computeOutputShape(e){const t=(e=RH(e)).slice();let n,r,o;"channelsFirst"===this.dataFormat?(n=1,r=2,o=3):(n=3,r=1,o=2);const i=this.kernelSize[0],a=this.kernelSize[1],s=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[r]=XX(t[r],s,i,this.padding),t[o]=XX(t[o],l,a,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}nY.className="Conv2DTranspose",eL(nY);class rY extends tY{constructor(e){if(super(e),this.inputSpec=[new BH({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new ZG(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${this.padding}`)}build(e){if(5!==(e=RH(e)).length)throw new ZG("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ZG("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new BH({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return tD((()=>{let t=NH(e);if(5!==t.shape.length)throw new ZG(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);const n=t.shape,r=n[0];let o,i,a;"channelsFirst"===this.dataFormat?(a=2,o=3,i=4):(a=1,o=2,i=3);const s=n[a],l=n[o],u=n[i],c=this.kernelSize[0],d=this.kernelSize[1],p=this.kernelSize[2],h=this.strides[0],f=this.strides[1],m=this.strides[2],g=[r,XX(s,h,c,this.padding),XX(l,f,d,this.padding),XX(u,m,p,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=qB(t,[0,2,3,4,1]));let b=IF(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(b=qB(b,[0,4,1,2,3])),null!==this.bias&&(b=iH(b,this.bias.read(),this.dataFormat)),null!==this.activation&&(b=this.activation.apply(b)),b}))}computeOutputShape(e){const t=(e=RH(e)).slice();let n,r,o,i;"channelsFirst"===this.dataFormat?(n=1,r=2,o=3,i=4):(n=4,r=1,o=2,i=3);const a=this.kernelSize[0],s=this.kernelSize[1],l=this.kernelSize[2],u=this.strides[0],c=this.strides[1],d=this.strides[2];return t[n]=this.filters,t[r]=XX(t[r],u,a,this.padding),t[o]=XX(t[o],c,s,this.padding),t[i]=XX(t[i],d,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}rY.className="Conv3DTranspose",eL(rY);class oY extends QX{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new ZG("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new ZG("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new ZG(`SeparableConv${this.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(t.padding)}`);this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=jH(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=BX(t.depthwiseRegularizer),this.depthwiseConstraint=uq(t.depthwiseConstraint),this.pointwiseInitializer=jH(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=BX(t.pointwiseRegularizer),this.pointwiseConstraint=uq(t.pointwiseConstraint)}build(e){if((e=RH(e)).length<this.rank+2)throw new ZG(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new ZG(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);const n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),o=[];for(let e=0;e<this.rank;++e)o.push(1);o.push(n*this.depthMultiplier,this.filters);const i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",o,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new BH({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return tD((()=>{let t;if(e=NH(e),1===this.rank)throw new JG("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=qB(e,[0,2,3,1])),t=CB(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=iH(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=qB(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=IH(this.depthwiseInitializer),e.pointwiseInitializer=IH(this.pointwiseInitializer),e.depthwiseRegularizer=LX(this.depthwiseRegularizer),e.pointwiseRegularizer=LX(this.pointwiseRegularizer),e.depthwiseConstraint=sq(this.depthwiseConstraint),e.pointwiseConstraint=sq(this.pointwiseConstraint),e}}oY.className="SeparableConv";class iY extends oY{constructor(e){super(2,e)}}iY.className="SeparableConv2D",eL(iY);class aY extends QX{constructor(e){super(1,e),aY.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!=typeof e.kernelSize&&!gW(e.kernelSize,"number",1,1))throw new ZG(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}aY.className="Conv1D",eL(aY);class sY extends GH{constructor(e){super(e),"number"==typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"==typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return tD((()=>{if(e=NH(e),"channelsLast"===this.dataFormat){const t=KW(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return KW(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=KW(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return KW(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}sY.className="Cropping2D",eL(sY);class lY extends GH{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,AW(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,mW(EW,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return tD((()=>{let t=NH(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=qB(t,[0,2,3,1]);const e=this.size[0]*n[2],r=this.size[1]*n[3],o="nearest"===this.interpolation?W$.resizeNearestNeighbor(t,[e,r]):W$.resizeBilinear(t,[e,r]);return qB(o,[0,3,1,2])}{const e=this.size[0]*n[1],r=this.size[1]*n[2];return"nearest"===this.interpolation?W$.resizeNearestNeighbor(t,[e,r]):W$.resizeBilinear(t,[e,r])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}lY.className="UpSampling2D",eL(lY);class uY extends JX{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=jH(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=uq(e.depthwiseConstraint),this.depthwiseRegularizer=BX(e.depthwiseRegularizer)}build(e){if((e=RH(e)).length<4)throw new ZG(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new ZG(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);const n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return tD((()=>{let t=function(e,t,n=[1,1],r="valid",o,i){return tD((()=>{null==o&&(o="channelsLast"),AW(o);let a=YX(e,o);if(4!==e.rank)throw new ZG(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new ZG(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return a=AF(a,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===o&&(a=qB(a,[0,3,1,2])),a}))}(e=NH(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=iH(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=RH(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,o=qX(t,this.kernelSize[0],this.padding,this.strides[0]),i=qX(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,o,i]:[e[0],o,i,r]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=IH(this.depthwiseInitializer),e.depthwiseRegularizer=LX(this.depthwiseRegularizer),e.depthwiseConstraint=sq(this.depthwiseRegularizer),e}}function cY(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new ZG("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function o(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=o(t),constants:n=o(n)}}function dY(e,t,n,r=!1,o,i,a=!1,s=!1){return tD((()=>{const l=t.shape.length;if(l<3)throw new ZG(`Input should be at least 3D, but is ${l}D.`);const u=[1,0].concat(VW(2,l));if(t=qB(t,u),null!=i)throw new JG("The rnn() functoin of the deeplearn.js backend does not support constants yet.");a&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=o&&((o=FD(FD(o,"bool"),"float32")).rank===l-1&&(o=PF(o,-1)),o=qB(o,u)),r&&(t=EB(t,0),null!=o&&(o=EB(o,0)));const c=[];let d,p=n;const h=t.shape[0],f=VB(t);let m,g;null!=o&&(m=VB(o));for(let t=0;t<h;++t){const n=f[t],r=tD((()=>e(n,p)));if(null==o)d=r[0],p=r[1];else{const e=tD((()=>{const e=m[t],n=aL(mB(e),e);return{output:zD(GD(r[0],e),GD(p[0],n)),newStates:p.map(((t,o)=>zD(GD(r[1][o],e),GD(t,n))))}}));d=e.output,p=e.newStates}s&&c.push(d)}return s&&(g=FB(c,1)),[d,g,p]}))}uY.className="DepthwiseConv2D",eL(uY);class pY extends GH{constructor(e){let t;if(super(e),null==e.cell)throw new ZG("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new xY({cells:e.cell}):e.cell,null==t.stateSize)throw new ZG("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new BH({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){return null==this.states_?VW(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null)):this.states_}setStates(e){this.states_=e}computeOutputShape(e){AH(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let r;if(r=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const r of t)n.push([e[0],r]);return[r].concat(n)}return r}computeMask(e,t){return tD((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new JG("Constants support is not implemented in RNN yet.");AH(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new BH({shape:[t,null,...n]});const r=[e[0]].concat(e.slice(2));let o;if(this.cell.build(r),o=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!RA(this.stateSpec.map((e=>e.shape[e.shape.length-1])),o))throw new ZG(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=o.map((e=>new BH({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e,t=!1){tD((()=>{if(!this.stateful)throw new YG("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new ZG("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>hB([n,e]))):this.states_=[hB([n,this.cell.stateSize])];else if(null==e)nD(this.states_),null!=this.keptStates&&(nD(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>hB([n,e]))):this.states_[0]=hB([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ZG(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===t?this.keptStates.push(this.states_.slice()):nD(this.states_);for(let t=0;t<this.states_.length;++t){const r=e[t],o=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,i=[n,o];if(!RA(r.shape,i))throw new ZG(`State ${t} is incompatible with layer ${this.name}: expected shape=${i}, received shape=${r.shape}`);this.states_[t]=r}}this.states_=this.states_.map((e=>rD(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const o=cY(e,n,r,this.numConstants);e=o.inputs,n=o.initialState,r=o.constants;let i=[],a=[];if(null!=n){t.initialState=n,i=i.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new BH({shape:e.shape}));a=a.concat(this.stateSpec)}if(null!=r&&(t.constants=r,i=i.concat(r),this.numConstants=r.length),i[0]instanceof $H){const n=[e].concat(i),r=this.inputSpec.concat(a),o=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=o,s}return super.apply(e,t)}call(e,t){return tD((()=>{const n=null==t?null:t.mask,r=null==t?null:t.training;let o=null==t?null:t.initialState;e=NH(e),null==o&&(o=this.stateful?this.states_:this.getInitialState(e));const i=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(o.length!==i)throw new ZG(`RNN Layer has ${i} state(s) but was passed ${o.length} initial state(s).`);this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const a={training:r},s=dY(((e,t)=>{const n=this.cell.call([e].concat(t),a);return[n[0],n.slice(1)]}),e,o,this.goBackwards,n,null,this.unroll,this.returnSequences),l=s[0],u=s[1],c=s[2];this.stateful&&this.resetStates(c,r);const d=this.returnSequences?u:l;return this.returnState?[d].concat(c):d}))}getInitialState(e){return tD((()=>{let t=hB(e.shape);return t=WF(t,[1,2]),t=qW(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?QW(t,[1,e]):t)):this.cell.stateSize>1?[QW(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===pY.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t,n={}){const r=wq(t.cell,n);return new e(Object.assign(t,{cell:r}))}}pY.className="RNN",eL(pY);class hY extends GH{}class fY extends hY{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,bW(this.units,"units"),this.activation=RX(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jH(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jH(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jH(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=BX(e.kernelRegularizer),this.recurrentRegularizer=BX(e.recurrentRegularizer),this.biasRegularizer=BX(e.biasRegularizer),this.kernelConstraint=uq(e.kernelConstraint),this.recurrentConstraint=uq(e.recurrentConstraint),this.biasConstraint=uq(e.biasConstraint),this.dropout=zW([1,UW([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=zW([1,UW([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=RH(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return tD((()=>{if(2!==e.length)throw new ZG(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);let n=e[1];e=e[0];const r=null!=t.training&&t.training;let o;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=wY({ones:()=>mB(e),rate:this.dropout,training:r,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=wY({ones:()=>mB(n),rate:this.recurrentDropout,training:r,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;o=tH(null!=i?GD(e,i):e,this.kernel.read()),null!=this.bias&&(o=iH(o,this.bias.read())),null!=a&&(n=GD(n,a));let s=zD(o,tH(n,this.recurrentKernel.read()));return null!=this.activation&&(s=this.activation.apply(s)),[s,s]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:OX(this.activation),useBias:this.useBias,kernelInitializer:IH(this.kernelInitializer),recurrentInitializer:IH(this.recurrentInitializer),biasInitializer:IH(this.biasInitializer),kernelRegularizer:LX(this.kernelRegularizer),recurrentRegularizer:LX(this.recurrentRegularizer),biasRegularizer:LX(this.biasRegularizer),activityRegularizer:LX(this.activityRegularizer),kernelConstraint:sq(this.kernelConstraint),recurrentConstraint:sq(this.recurrentConstraint),biasConstraint:sq(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}fY.className="SimpleRNNCell",eL(fY);class mY extends pY{constructor(e){e.cell=new fY(e),super(e)}call(e,t){return tD((()=>{null!=this.cell.dropoutMask&&(nD(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(nD(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}static fromConfig(e,t){return new e(t)}}mY.className="SimpleRNN",eL(mY);class gY extends hY{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new ZG("GRUCell does not support reset_after parameter set to true.");this.units=e.units,bW(this.units,"units"),this.activation=RX(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=RX(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jH(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jH(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jH(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=BX(e.kernelRegularizer),this.recurrentRegularizer=BX(e.recurrentRegularizer),this.biasRegularizer=BX(e.biasRegularizer),this.kernelConstraint=uq(e.kernelConstraint),this.recurrentConstraint=uq(e.recurrentConstraint),this.biasConstraint=uq(e.biasConstraint),this.dropout=zW([1,UW([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=zW([1,UW([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=RH(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return tD((()=>{if(2!==e.length)throw new ZG(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);const n=null!=t.training&&t.training;let r=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=wY({ones:()=>mB(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=wY({ones:()=>mB(r),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,i=this.recurrentDropoutMask;let a,s,l;0<this.dropout&&this.dropout<1&&(e=GD(e,o[0]));let u=tH(e,this.kernel.read());this.useBias&&(u=iH(u,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(r=GD(r,i[0]));const c=this.recurrentKernel.read(),[d,p]=DB(c,[2*this.units,this.units],c.rank-1),h=tH(r,d),[f,m,g]=DB(u,3,u.rank-1),[b,y]=DB(h,2,h.rank-1);a=this.recurrentActivation.apply(zD(f,b)),s=this.recurrentActivation.apply(zD(m,y));const v=tH(GD(s,r),p);l=this.activation.apply(zD(g,v));const x=zD(GD(a,r),GD(zD(1,cB(a)),l));return[x,x]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:OX(this.activation),recurrentActivation:OX(this.recurrentActivation),useBias:this.useBias,kernelInitializer:IH(this.kernelInitializer),recurrentInitializer:IH(this.recurrentInitializer),biasInitializer:IH(this.biasInitializer),kernelRegularizer:LX(this.kernelRegularizer),recurrentRegularizer:LX(this.recurrentRegularizer),biasRegularizer:LX(this.biasRegularizer),activityRegularizer:LX(this.activityRegularizer),kernelConstraint:sq(this.kernelConstraint),recurrentConstraint:sq(this.recurrentConstraint),biasConstraint:sq(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}gY.className="GRUCell",eL(gY);class bY extends pY{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new gY(e),super(e)}call(e,t){return tD((()=>{null!=this.cell.dropoutMask&&(nD(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(nD(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}bY.className="GRU",eL(bY);class yY extends hY{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,bW(this.units,"units"),this.activation=RX(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=RX(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=jH(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=jH(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=jH(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=BX(e.kernelRegularizer),this.recurrentRegularizer=BX(e.recurrentRegularizer),this.biasRegularizer=BX(e.biasRegularizer),this.kernelConstraint=uq(e.kernelConstraint),this.recurrentConstraint=uq(e.recurrentConstraint),this.biasConstraint=uq(e.biasConstraint),this.dropout=zW([1,UW([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=zW([1,UW([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=RH(e))[e.length-1];let r;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;r=new((t=class extends cH{apply(t,r){const o=e.apply([n]),i=(new pH).apply([n]),a=e.apply([2*n]);return JW(JW(o,i),a)}}).className="CustomInit",t)}else r=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,r,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return tD((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new ZG(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);let r=e[1];const o=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=wY({ones:()=>mB(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=wY({ones:()=>mB(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const i=this.dropoutMask,a=this.recurrentDropoutMask;let s,l,u,c;0<this.dropout&&this.dropout<1&&(e=GD(e,i[0]));let d=tH(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(r=GD(r,a[0])),d=zD(d,tH(r,this.recurrentKernel.read())),this.useBias&&(d=iH(d,this.bias.read()));const[p,h,f,m]=DB(d,4,d.rank-1);s=this.recurrentActivation.apply(p),l=this.recurrentActivation.apply(h),u=zD(GD(l,o),GD(s,this.activation.apply(f))),c=this.recurrentActivation.apply(m);const g=GD(c,this.activation.apply(u));return[g,g,u]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:OX(this.activation),recurrentActivation:OX(this.recurrentActivation),useBias:this.useBias,kernelInitializer:IH(this.kernelInitializer),recurrentInitializer:IH(this.recurrentInitializer),biasInitializer:IH(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:LX(this.kernelRegularizer),recurrentRegularizer:LX(this.recurrentRegularizer),biasRegularizer:LX(this.biasRegularizer),activityRegularizer:LX(this.activityRegularizer),kernelConstraint:sq(this.kernelConstraint),recurrentConstraint:sq(this.recurrentConstraint),biasConstraint:sq(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}yY.className="LSTMCell",eL(yY);class vY extends pY{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new yY(e),super(e)}call(e,t){return tD((()=>{null!=this.cell.dropoutMask&&(nD(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(nD(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}vY.className="LSTM",eL(vY);class xY extends hY{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return tD((()=>{let n=e.slice(1);const r=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?r.push(n.splice(0,e.stateSize.length)):r.push(n.splice(0,1));r.reverse();const o=[];let i;for(let a=0;a<this.cells.length;++a){const s=this.cells[a];n=r[a],i=0===a?[e[0]].concat(n):[i[0]].concat(n),i=s.call(i,t),o.push(i.slice(1))}n=[];for(const e of o.slice().reverse())n.push(...e);return[i[0]].concat(n)}))}build(e){let t;AH(e)&&(e=e[0]),this.cells.forEach(((n,r)=>{PW(`RNNCell_${r}`,(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t,n={}){const r=[];for(const e of t.cells)r.push(wq(e,n));return new e({cells:r})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return LH(e)}setWeights(e){const t=[];for(const n of this.cells){const r=n.weights.length,o=e.splice(r);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],o[e]])}FH(t)}}function wY(e){const{ones:t,rate:n,training:r=!1,count:o=1,dropoutFunc:i}=e,a=()=>null!=i?i(t(),n):aH(t(),n),s=()=>sH(a,t,r);return!o||o<=1?rD(s().clone()):Array(o).fill(void 0).map(s).map((e=>rD(e.clone())))}xY.className="StackedRNNCells",eL(xY);class kY extends pY{constructor(e){if(e.unroll)throw new JG("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new JG("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new BH({ndim:5})]}call(e,t){return tD((()=>{if(null!=this.cell.dropoutMask&&(nD(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(nD(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new ZG("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,r=null==t?null:t.training,o=null==t?null:t.initialState;return super.call(e,{mask:n,training:r,initialState:o})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return tD((()=>{const{stateSize:t}=this.cell,n=e.shape,r=this.computeSingleOutputShape(n),o=hB([r[0],...r.slice(2)]);return Array.isArray(t)?Array(t.length).fill(o):[o]}))}resetStates(e,t=!1){tD((()=>{if(!this.stateful)throw new YG("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,r=this.computeSingleOutputShape(n),o=[r[0],...r.slice(2)];if(null==n[0])throw new ZG("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>hB(o))):this.states_=[hB(o)];else if(null==e)nD(this.states_),null!=this.keptStates&&(nD(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>hB(o))):this.states_[0]=hB(o);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new ZG(`Layer ${this.name} expects ${this.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);t?this.keptStates.push(this.states_.slice()):nD(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],r=o;if(!RA(n.shape,r))throw new ZG(`State ${t} is incompatible with layer ${this.name}: expected shape=${r}, received shape=${n.shape}`);this.states_[t]=n}}this.states_=this.states_.map((e=>rD(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:r,padding:o,strides:i,dilationRate:a}=this.cell,s="channelsFirst"===t,l=e[s?3:2],u=e[s?4:3],c=qX(l,r[0],o,i[0],a[0]),d=qX(u,r[1],o,i[1],a[1]);return[...e.slice(0,2),...s?[n,c,d]:[c,d,n]]}}kY.className="ConvRNN2D";class _Y extends yY{constructor(e){const{filters:t,kernelSize:n,strides:r,padding:o,dataFormat:i,dilationRate:a}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,bW(this.filters,"filters"),this.kernelSize=HX(n,2,"kernelSize"),this.kernelSize.forEach((e=>bW(e,"kernelSize"))),this.strides=HX(r||1,2,"strides"),this.strides.forEach((e=>bW(e,"strides"))),this.padding=o||"valid",OW(this.padding),this.dataFormat=i||"channelsLast",AW(this.dataFormat),this.dilationRate=HX(a||1,2,"dilationRate"),this.dilationRate.forEach((e=>bW(e,"dilationRate")))}build(e){var t;e=RH(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ZG(`The channel dimension of the input should be defined. Found ${e[n]}`);const r=e[n],o=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",o,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,r=this.filters;e=new((t=class extends cH{apply(e,t){return ZW([n.apply([r]),fB([r]),n.apply([2*r])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return tD((()=>{if(3!==e.length)throw new ZG(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);const n=t.training||!1,r=e[0],o=e[1],i=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=wY({ones:()=>mB(r),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const a=this.dropoutMask,s=(e,t,n)=>t&&t[n]?GD(t[n],e):e;let l=s(r,a,0),u=s(r,a,1),c=s(r,a,2),d=s(r,a,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=wY({ones:()=>mB(o),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const p=this.recurrentDropoutMask;let h=s(o,p,0),f=s(o,p,1),m=s(o,p,2),g=s(o,p,3);const[b,y,v,x]=DB(this.kernel.read(),4,3),[w,k,_,S]=this.useBias?DB(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,b,w,this.padding),u=this.inputConv(u,y,k,this.padding),c=this.inputConv(c,v,_,this.padding),d=this.inputConv(d,x,S,this.padding);const[E,T,C,I]=DB(this.recurrentKernel.read(),4,3);h=this.recurrentConv(h,E),f=this.recurrentConv(f,T),m=this.recurrentConv(m,C),g=this.recurrentConv(g,I);const j=this.recurrentActivation.apply(zD(l,h)),A=this.recurrentActivation.apply(zD(u,f)),O=zD(GD(A,i),GD(j,this.activation.apply(zD(c,m)))),N=GD(this.recurrentActivation.apply(zD(d,g)),this.activation.apply(O));return[N,N,O]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["units"]),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),r)}inputConv(e,t,n,r){const o=kF(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?iH(o,n,this.dataFormat):o}recurrentConv(e,t){return kF(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}_Y.className="ConvLSTM2DCell",eL(_Y);class SY extends kY{constructor(e){const t=new _Y(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}SY.className="ConvLSTM2D",eL(SY);class EY extends GH{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let e=0;e<this.noiseShape.length;++e)n.push(null==this.noiseShape[e]?t[e]:this.noiseShape[e]);return n}call(e,t){return tD((()=>{this.invokeCallHook(e,t);const n=NH(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,r=this.getNoiseShape(n);return sH((()=>aH(n,this.rate,r,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}EY.className="Dropout",eL(EY);class TY extends EY{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}TY.className="SpatialDropout1D",eL(TY);class CY extends GH{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,bW(this.units,"units"),this.activation=RX(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=jH(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=jH(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=uq(e.kernelConstraint),this.biasConstraint=uq(e.biasConstraint),this.kernelRegularizer=BX(e.kernelRegularizer),this.biasRegularizer=BX(e.biasRegularizer),this.activityRegularizer=BX(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=RH(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=RH(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return tD((()=>{this.invokeCallHook(e,t);const n=NH(e),r=vW(this.activation.getClassName());let o;return null!=r?o=tH(n,this.kernel.read(),r,this.bias?this.bias.read():null):(o=tH(n,this.kernel.read()),null!=this.bias&&(o=iH(o,this.bias.read())),null!=this.activation&&(o=this.activation.apply(o))),o}))}getConfig(){const e={units:this.units,activation:OX(this.activation),useBias:this.useBias,kernelInitializer:IH(this.kernelInitializer),biasInitializer:IH(this.biasInitializer),kernelRegularizer:LX(this.kernelRegularizer),biasRegularizer:LX(this.biasRegularizer),activityRegularizer:LX(this.activityRegularizer),kernelConstraint:sq(this.kernelConstraint),biasConstraint:sq(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}CY.className="Dense",eL(CY);class IY extends GH{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=RH(e);for(const t of e.slice(1))if(null==t)throw new ZG(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],$W(e,1)]}call(e,t){return tD((()=>{this.invokeCallHook(e,t);let n=NH(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=qB(n,e)}return function(e){if(e.rank<=1)throw new ZG(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);const t=[e.shape[0],$W(e.shape,1)];return lF(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}IY.className="Flatten",eL(IY);class jY extends GH{constructor(e){super(e),this.supportsMasking=!0,this.activation=RX(e.activation)}call(e,t){return tD((()=>{this.invokeCallHook(e,t);const n=NH(e);return this.activation.apply(n)}))}getConfig(){const e={activation:OX(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}jY.className="Activation",eL(jY);class AY extends GH{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return tD((()=>function(e,t){return tD((()=>{if(2!==e.shape.length)throw new ZG(`repeat() expects a rank-2 tensor, but received a rank-${e.shape.length} tensor.`);return QW(qW(e,1),[1,t,1])}))}(e=NH(e),this.n)))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}AY.className="RepeatVector",eL(AY);class OY extends GH{constructor(e){super(e),this.targetShape=e.targetShape;for(let e=0;e<this.targetShape.length;++e)this.isUnknown(this.targetShape[e])&&(this.targetShape[e]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",r=t.slice();let o=1,i=null;for(let e=0;e<r.length;++e){const t=r[e];if(this.isUnknown(t)){if(null!==i)throw new ZG("Can only specifiy one unknown dimension.");i=e}else o*=t}const a=$W(e);if(null!==i){if(0===o||a%o!=0)throw new ZG(n);r[i]=a/o}else if(a!==o)throw new ZG(n);return r}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return tD((()=>{this.invokeCallHook(e,t);const n=NH(e),r=n.shape,o=r.slice(0,1).concat(this.fixUnknownDimension(r.slice(1),this.targetShape));return lF(n,o)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}OY.className="Reshape",eL(OY);class NY extends GH{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);const t=VW(1,e.dims.length+1);if(!RA(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new BH({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=RH(e)).slice();return this.dims.forEach(((n,r)=>{t[r+1]=e[n]})),t}call(e,t){return qB(NH(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}NY.className="Permute",eL(NY);class RY extends GH{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=NH(e);return WL(dB(n,this.maskValue),-1)}call(e,t){return tD((()=>{this.invokeCallHook(e,t);const n=NH(e),r=WL(dB(n,this.maskValue),-1,!0);return GD(n,FD(r,n.dtype))}))}}RY.className="Masking",eL(RY);class PY extends GH{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(iW(e.inputLength))}this.inputDim=e.inputDim,bW(this.inputDim,"inputDim"),this.outputDim=e.outputDim,bW(this.outputDim,"outputDim"),this.embeddingsInitializer=jH(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=BX(e.embeddingsRegularizer),this.activityRegularizer=BX(e.activityRegularizer),this.embeddingsConstraint=uq(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return tD((()=>this.maskZero?(e=NH(e),dB(e,qD(e))):null))}computeOutputShape(e){if(e=RH(e),null==this.inputLength)return[...e,this.outputDim];const t=iW(this.inputLength);if(t.length!==e.length-1)throw new ZG(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);{let n=0;for(let r=0;r<t.length;++r){const o=t[r],i=e[r+1];if(null!=o&&null!=i&&o!==i)throw new ZG(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==o&&(t[n]=i),n++}}return[e[0],...t,this.outputDim]}call(e,t){return tD((()=>{this.invokeCallHook(e,t);let n=NH(e);"int32"!==n.dtype&&(n=HW(n,"int32"));const r=nH(this.embeddings.read(),lF(n,[n.size]));return lF(r,RH(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:IH(this.embeddingsInitializer),embeddingsRegularizer:LX(this.embeddingsRegularizer),activityRegularizer:LX(this.activityRegularizer),embeddingsConstraint:sq(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}PY.className="Embedding",eL(PY);class MY extends GH{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new JG}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let r=0;r<t.length;++r){const o=e[e.length-t.length+r],i=t[r];if(null==o||null==i||o<0||i<0)n.push(null);else if(1===o)n.push(i);else if(1===i)n.push(o);else{if(o!==i)throw new ZG("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(o)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[RH(e)]),e.length<2)throw new ZG(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);let t=[];for(const n of e)null!=n&&null!==n[0]&&t.push(n[0]);if(t=hW(t),t.length>1)throw new ZG(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);let n=null==e[0]?null:e[0].slice(1);for(let t=1;t<e.length;++t){const r=null==e[t]?null:e[t].slice(1);n=this.computeElementwiseOpOutputShape(n,r)}const r=e.map((e=>e.length));-1===e.indexOf(null)&&1===hW(r).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return tD((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const r=UW(n);for(let n of e){const e=n.rank;for(let t=0;t<r-e;++t)n=qW(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const r of e){const e=r.rank;if(null==e){const e=r.shape,o=e[0],i=e.slice(1).concat([o]);let a=lF(r,[o].concat($W(e.slice(1))));a=qB(a,[1,0]),a=lF(a,i),t.push(a),n=!0}else if(e>1){const o=VW(1,e).concat([0]);t.push(qB(r,o)),n=!0}else t.push(r)}let r=this.mergeFunction(t);const o=r.rank;if(n)if(null==o){const e=r.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));r=lF(qB(lF(r,[-1,t]),[1,0]),n)}else if(o>1){const e=[o-1].concat(VW(0,o-1));r=qB(r,e)}return r}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let n=1;n<e.length;++n){const r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}let n=[];for(const t of e)null!=t&&null!==t[0]&&n.push(t[0]);return n=hW(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return tD((()=>{if(null==t)return null;if(!Array.isArray(t))throw new ZG("`mask` should be an Array");if(!Array.isArray(e))throw new ZG("`inputs` should be an Array");if(t.length!==e.length)throw new ZG(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every((e=>null==e)))return null;t=t.map((e=>null==e?e:PF(e,0)));let n=t[0];for(let e=1;e<t.length-1;++e)n=nB(n,t[e]);return n}))}}class DY extends MY{constructor(e){super(e)}mergeFunction(e){return tD((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=zD(t,e[n]);return t}))}}DY.className="Add",eL(DY);class LY extends MY{constructor(e){super(e)}mergeFunction(e){return tD((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=GD(t,e[n]);return t}))}}LY.className="Multiply",eL(LY);class FY extends MY{constructor(e){super(e)}mergeFunction(e){return tD((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=zD(t,e[n]);return GD(1/e.length,t)}))}}FY.className="Average",eL(FY);class BY extends MY{constructor(e){super(e)}mergeFunction(e){return tD((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=pL(t,e[n]);return t}))}}BY.className="Maximum",eL(BY);class $Y extends MY{constructor(e){super(e)}mergeFunction(e){return tD((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=lB(t,e[n]);return t}))}}$Y.className="Minimum",eL($Y);class zY extends MY{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new ZG("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const n of e)if(null!=n){t=!1;break}if(t)return;const n=[];for(let t=0;t<e.length;++t){const r=e[t].slice();r.splice(this.axis,1);let o=!1;for(const e of n)if(RA(e,r)){o=!0;break}o||n.push(r)}if(n.length>1)throw new ZG("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return tD((()=>ZW(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new ZG("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(const e of t.slice(1)){if(null==n[r]||null==e[r]){n[r]=null;break}n[r]+=e[r]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new ZG("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new ZG("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new ZG(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return tD((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const r=[];for(let n=0;n<e.length;++n)null==t[n]?r.push(FD(mB(e[n]),"bool")):t[n].rank<e[n].rank?r.push(PF(t[n],-1)):r.push(t[n]);const o=bF(r,this.axis);return GL(o,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function UY(e,t){for(;e<0;)e+=t;return e}zY.className="Concatenate",eL(zY);class VY extends MY{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){jA(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new JG("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new ZG(`Dimension incompatibility: ${t[r[0]]} !== ${n[r[1]]}`)}mergeFunction(e){if(2!==e.length)throw new ZG(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);let t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>UY(t,e[n].shape.length))):[UY(this.axes,n.shape.length),UY(this.axes,r.shape.length)],this.normalize&&(n=kq(n,t[0]),r=kq(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new JG("batchDot is not implemented for tensors of 4D or higher rank yet");if(jA(e.shape.length>=2,(()=>`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`)),jA(e.shape.length>=2,(()=>`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`)),"number"==typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new JG("batchDot is not implemented for complex64-type Tensors yet.");const r=e.shape.length,o=t.shape.length;null==n&&(n=[r-1,o-2]);const i=n;return tD((()=>{let n,a;if(r>o){n=r-o;const e=[];for(let t=0;t<n;++t)e.push(1);t=lF(t,t.shape.concat(e))}else if(o>r){n=o-r;const t=[];for(let e=0;e<n;++e)t.push(1);e=lF(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)a=i[0]===i[1]?WF(GD(e,t),i[0]):WF(GD(qB(e,[1,0]),t),i[1]);else{const n=i[0]!==e.shape.length-1,r=i[1]===t.shape.length-1;a=rB(e,t,n,r)}if(n>0){let e;e=r>o?r+o-3:r-1;const t=[];for(let r=e;r<e+n;++r)t.push(r);a=LB(a,t)}return 1===a.shape.length&&(a=PF(a,1)),a}))}(n,r,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[UY(this.axes,e.length),UY(this.axes,t.length)],n}computeOutputShape(e){jA(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new JG("Dot layer does not support tensors of 4D or higher rank yet.");const r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);const o=t.concat(n);return 1===o.length&&o.push(1),o}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}VY.className="Dot",eL(VY);class GY extends GH{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return tD((()=>{this.invokeCallHook(e,t);const n=NH(e);return sH((()=>zD(eH(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}GY.className="GaussianNoise",eL(GY);class WY extends GH{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return tD((()=>{this.invokeCallHook(e,t);const n=NH(e);return this.rate>0&&this.rate<1?sH((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return GD(n,eH(n.shape,1,e))}),(()=>n),t.training||!1):n}))}}WY.className="GaussianDropout",eL(WY);class HY extends GH{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||NH(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return tD((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),r=()=>{const t=NH(e),r=-1.7580993408473766;let o=$F(kB(n),this.rate);o=HW(o,"float32");const i=((1-this.rate)*(1+this.rate*r**2))**-.5,a=-i*r*this.rate,s=zD(GD(t,o),GD(zD(o,-1),r));return zD(GD(s,i),a)};return sH(r,(()=>NH(e)),t.training||!1)}return e}))}}function qY(e,t,n,r,o,i=.001){let a;if(2===e.rank)a=pF(e,t,n,r,o,i);else if(3===e.rank)a=hF(e,t,n,r,o,i);else{if(4!==e.rank)throw new JG(`batchNormalization is not implemented for array of rank ${e.rank} yet`);a=fF(e,t,n,r,o,i)}return a}HY.className="AlphaDropout",eL(HY);class XY extends GH{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=jH(e.betaInitializer||"zeros"),this.gammaInitializer=jH(e.gammaInitializer||"ones"),this.movingMeanInitializer=jH(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=jH(e.movingVarianceInitializer||"ones"),this.betaConstraint=uq(e.betaConstraint),this.gammaConstraint=uq(e.gammaConstraint),this.betaRegularizer=BX(e.betaRegularizer),this.gammaRegularizer=BX(e.gammaRegularizer)}build(e){e=RH(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new ZG(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new BH({ndim:e.length,axes:{[t]:n}})];const r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return tD((()=>{const n=null!=t.training&&t.training,r=NH(e),o=r.shape,i=o.length,a=VW(0,i),s=this.axis>=0?this.axis:this.axis+i;a.splice(s,1);const l=tW(1,i);l[s]=o[s];const u=a.slice();u.sort();const c=!RA(u,VW(0,i).slice(0,i-1));if(!n)return(()=>{if(c){const e=lF(this.movingMean.read(),l),t=lF(this.movingVariance.read(),l),n=this.center?lF(this.beta.read(),l):null,o=this.scale?lF(this.gamma.read(),l):null;return qY(r,e,t,n,o,this.epsilon)}return qY(r,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[d,p,h]=function(e,t,n,r,o=.001){return RA(r.slice().sort(),VW(0,e.rank-1))?function(e,t,n,r,o=.001){return tD((()=>{const i=uB(e,r),a=i.mean,s=i.variance;return[qY(e,a,s,n,t,o),a,s]}))}(e,t,n,r,o):function(e,t,n,r,o=.001){return tD((()=>{const i=uB(e,r),a=i.mean,s=i.variance,l=[];for(const t of VW(0,e.rank))-1!==r.indexOf(t)?l.push(1):l.push(e.shape[t]);const u=lF(a,l),c=lF(s,l),d=null==t?null:lF(t,l),p=null==n?null:lF(n,l);return[qY(e,u,c,p,d,o),a,s]}))}(e,t,n,r,o)}(r,this.gamma.read(),this.beta.read(),a,this.epsilon),f=(e,t,n)=>{tD((()=>{const r=1-n,o=e.read(),i=GD(aL(o,t),r);e.write(aL(o,i))}))};return(()=>{f(this.movingMean,p,this.momentum),f(this.movingVariance,h,this.momentum)})(),d}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:IH(this.betaInitializer),gammaInitializer:IH(this.gammaInitializer),movingMeanInitializer:IH(this.movingMeanInitializer),movingVarianceInitializer:IH(this.movingVarianceInitializer),betaRegularizer:LX(this.betaRegularizer),gammaRegularizer:LX(this.gammaRegularizer),betaConstraint:sq(this.betaConstraint),gammaConstraint:sq(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}XY.className="BatchNormalization",eL(XY);class YY extends GH{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"==typeof this.axis){if(!Number.isInteger(this.axis))throw new Error(`Expected axis to be an integer, but received ${this.axis}`)}else{if(!Array.isArray(this.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(this.axis)}`);for(const e of this.axis)if(!Number.isInteger(e))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(this.axis)}`)}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=jH(e.betaInitializer||"zeros"),this.gammaInitializer=jH(e.gammaInitializer||"ones"),this.betaRegularizer=BX(e.betaRegularizer),this.gammaRegularizer=BX(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=RH(e)).length;"number"==typeof this.axis&&(this.axis=[this.axis]);for(let e=0;e<this.axis.length;++e)this.axis[e]<0&&(this.axis[e]+=t);for(const e of this.axis)if(e<0||e>=t)throw new Error(`Invalid axis: ${e}`);if(this.axis.length!==hW(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);const n=this.axis.map((t=>e[t]));this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,!0):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,!0):this.beta=null,this.built=!0}call(e,t){const n=NH(e),r=n.shape,o=r.length;return tD((()=>{let{mean:e,variance:t}=uB(n,this.axis,!0);const i=tW(1,o);for(const e of this.axis)i[e]=r[e];const a=e=>null!=e&&e.shape.length!==o?lF(e,i):e;let s=this.scale?a(this.gamma.read()):null,l=this.center?a(this.beta.read()):null;const u=[],c=[];for(let e=0;e<o;++e)-1!==this.axis.indexOf(e)?(u.push(r[e]),c.push(1)):(u.push(1),c.push(r[e]));return e=MF(e,u),t=MF(t,u),null!=s&&(s=MF(s,c)),null!=l&&(l=MF(l,c)),qY(n,e,t,l,s,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:IH(this.betaInitializer),gammaInitializer:IH(this.gammaInitializer),betaRegularizer:LX(this.betaRegularizer),gammaRegularizer:LX(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}YY.className="LayerNormalization",eL(YY);class KY extends GH{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"==typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new ZG(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);let t,n;if("number"==typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new ZG(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(t=e.padding[0],2!==e.padding[1].length)throw new ZG(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new BH({ndim:4})]}computeOutputShape(e){let t,n;return e=RH(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return tD((()=>function(e,t,n){return tD((()=>{if(4!==e.rank)throw new ZG(`temporalPadding expects input tensor to be 4-D, but received a ${e.rank}-D tensor.`);if(null==t&&(t=[[1,1],[1,1]]),2!==t.length||2!==t[0].length||2!==t[1].length)throw new ZG("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==n&&(n="channelsLast"),"channelsLast"!==n&&"channelsFirst"!==n)throw new ZG(`Unknown data format: ${n}. Supported data formats are 'channelsLast' and 'channelsFirst.`);let r;return r="channelsFirst"===n?[[0,0],[0,0],t[0],t[1]]:[[0,0],t[0],t[1],[0,0]],gB(e,r)}))}(NH(e),this.padding,this.dataFormat)))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function ZY(e,t,n,r,o,i){return tD((()=>{let a;AW(o),NW(i),OW(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==o&&(o="channelsLast"),null==i&&(i="max"),e=YX(e,o);const s="same"===r?"same":"valid";return a="max"===i?oB(e,t,n,s):uF(e,t,n,s),"channelsFirst"===o&&(a=qB(a,[0,3,1,2])),a}))}function JY(e,t,n,r,o,i){return tD((()=>{let a;AW(o),NW(i),OW(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==o&&(o="channelsLast"),null==i&&(i="max"),e=KX(e,o);const s="same"===r?"same":"valid";return a="max"===i?iB(e,t,n,s):cF(e,t,n,s),"channelsFirst"===o&&(a=qB(a,[0,4,1,2,3])),a}))}KY.className="ZeroPadding2D",eL(KY);class QY extends GH{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"==typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!=typeof e.poolSize[0])throw new ZG(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);this.poolSize=e.poolSize}if(bW(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"==typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!=typeof e.strides[0])throw new ZG(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);this.strides=e.strides}bW(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,OW(this.padding),this.inputSpec=[new BH({ndim:3})]}computeOutputShape(e){const t=qX((e=RH(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return tD((()=>{this.invokeCallHook(e,t),e=qW(NH(e),2);const n=this.poolingFunction(NH(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return LB(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class eK extends QY{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return AW(o),OW(r),ZY(e,t,n,r,o,"max")}}eK.className="MaxPooling1D",eL(eK);class tK extends QY{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return AW(o),OW(r),ZY(e,t,n,r,o,"avg")}}tK.className="AveragePooling1D",eL(tK);class nK extends GH{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new ZG(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides];bW(this.poolSize,"poolSize"),bW(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,AW(this.dataFormat),OW(this.padding),this.inputSpec=[new BH({ndim:4})]}computeOutputShape(e){e=RH(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=qX(t,this.poolSize[0],this.padding,this.strides[0]),n=qX(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return tD((()=>(this.invokeCallHook(e,t),this.poolingFunction(NH(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class rK extends nK{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return AW(o),OW(r),ZY(e,t,n,r,o,"max")}}rK.className="MaxPooling2D",eL(rK);class oK extends nK{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return AW(o),OW(r),ZY(e,t,n,r,o,"avg")}}oK.className="AveragePooling2D",eL(oK);class iK extends GH{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new ZG(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];bW(this.poolSize,"poolSize"),bW(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,AW(this.dataFormat),OW(this.padding),this.inputSpec=[new BH({ndim:5})]}computeOutputShape(e){e=RH(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=qX(t,this.poolSize[0],this.padding,this.strides[0]),n=qX(n,this.poolSize[1],this.padding,this.strides[1]),r=qX(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}call(e,t){return tD((()=>(this.invokeCallHook(e,t),this.poolingFunction(NH(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class aK extends iK{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return AW(o),OW(r),JY(e,t,n,r,o,"max")}}aK.className="MaxPooling3D",eL(aK);class sK extends iK{constructor(e){super(e)}poolingFunction(e,t,n,r,o){return AW(o),OW(r),JY(e,t,n,r,o,"avg")}}sK.className="AveragePooling3D",eL(sK);class lK extends GH{constructor(e){super(e),this.inputSpec=[new BH({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new JG}}class uK extends lK{constructor(e){super(e||{})}call(e,t){return tD((()=>{const t=NH(e);return aB(t,1)}))}}uK.className="GlobalAveragePooling1D",eL(uK);class cK extends lK{constructor(e){super(e||{})}call(e,t){return tD((()=>{const t=NH(e);return GF(t,1)}))}}cK.className="GlobalMaxPooling1D",eL(cK);class dK extends GH{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,AW(this.dataFormat),this.inputSpec=[new BH({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new JG}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class pK extends dK{call(e,t){return tD((()=>{const t=NH(e);return"channelsLast"===this.dataFormat?aB(t,[1,2]):aB(t,[2,3])}))}}pK.className="GlobalAveragePooling2D",eL(pK);class hK extends dK{call(e,t){return tD((()=>{const t=NH(e);return"channelsLast"===this.dataFormat?GF(t,[1,2]):GF(t,[2,3])}))}}hK.className="GlobalMaxPooling2D",eL(hK);class fK extends GH{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t,n={}){const r=wq(t.layer,n);delete t.layer;const o={layer:r};return Object.assign(o,t),new e(o)}}class mK extends fK{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=RH(e)).length<3)throw new ZG(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=RH(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}call(e,t){return tD((()=>dY(((e,n)=>[NH(this.layer.call(e,t)),[]]),e=NH(e),[],!1,null,null,!1,!0)[1]))}}mK.className="TimeDistributed",eL(mK);class gK extends fK{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=wq(n),t.goBackwards=!0!==t.goBackwards;const r={};var o;if(r.className=e.layer.getClassName(),r.config=t,this.backwardLayer=wq(r),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,o=this.mergeMode,mW(IW,"BidirectionalMergeMode",o),e.weights)throw new JG("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,r,o=this.forwardLayer.computeOutputShape(e);return Array.isArray(o)&&Array.isArray(o[0])||(o=[o]),this.returnState?(r=o.slice(1),t=o[0]):t=o[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):oW(n)}apply(e,t){let n=null==t?null:t.initialState,r=null==t?null:t.constants;null==t&&(t={});const o=cY(e,n,r,this.numConstants);if(e=o.inputs,n=o.initialState,r=o.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==r)return super.apply(e,t);const i=[],a=[];if(null!=n){const e=n.length;if(e%2>0)throw new ZG("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,i.push(...n);const r=n.map((e=>new BH({shape:e.shape})));this.forwardLayer.stateSpec=r.slice(0,e/2),this.backwardLayer.stateSpec=r.slice(e/2),a.push(...r)}if(null!=r)throw new JG("Support for constants in Bidirectional layers is not implemented yet.");const s=i[0]instanceof $H;for(const e of i)if(e instanceof $H!==s)throw new ZG("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(s){const n=[e].concat(i),r=this.inputSpec.concat(a),o=this.inputSpec;this.inputSpec=r;const s=super.apply(n,t);return this.inputSpec=o,s}return super.apply(e,t)}call(e,t){return tD((()=>{const n=t.initialState;let r,o,i,a;if(null==n)r=this.forwardLayer.call(e,t),o=this.backwardLayer.call(e,t);else{const i=n.slice(0,n.length/2),a=n.slice(n.length/2);r=this.forwardLayer.call(e,Object.assign(t,{initialState:i})),o=this.backwardLayer.call(e,Object.assign(t,{initialState:a}))}return this.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(o.slice(1))),r=r[0],o=o[0]),this.returnSequences&&(o=EB(o,1)),"concat"===this.mergeMode?a=ZW([r,o]):"sum"===this.mergeMode?a=zD(r,o):"ave"===this.mergeMode?a=GD(.5,zD(r,o)):"mul"===this.mergeMode?a=GD(r,o):null==this.mergeMode&&(a=[r,o]),this.returnState?null==this.mergeMode?a.concat(i):[a].concat(i):a}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){PW(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),PW(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=wq(t.layer);if(delete t.layer,null!=t.numConstants)throw new JG("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const r=t;return r.layer=n,new e(r)}}gK.className="Bidirectional",eL(gK);class bK extends GH{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return tD((()=>("float32"!==(e=NH(e)).dtype&&(e=HW(e,"float32")),zD(GD(e,this.scale),this.offset))))}}bK.className="Rescaling",eL(bK);const{resizeBilinear:yK,cropAndResize:vK}=W$;class xK extends GH{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,r,o,i,a,s){return tD((()=>{let l,u=!1;const c=[t/i,n/a,(r+t)/i,(o+n)/a],d=[];3===e.rank?(u=!0,l=FB([e])):l=e;for(let e=0;e<l.shape[0];e++)d.push(c);const p=KM(d,[d.length,4]),h=_B(0,d.length,1,"int32"),f=vK(l,p,h,[r,o],"nearest");return HW(u?NH(VB(f)):f,s)}))}upsize(e,t,n,r){return tD((()=>HW(yK(e,[t,n]),r)))}call(e,t){return tD((()=>{const t=NH(e),n=t.dtype,r=t.shape,o=r[r.length-3],i=r[r.length-2];let a=0;o!==this.height&&(a=Math.floor((o-this.height)/2));let s=0;return i!==this.width&&(s=Math.floor((i-this.width)/2),0===s&&(s=1)),a>=0&&s>=0?this.centerCrop(t,a,s,this.height,this.width,o,i,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=RH(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}xK.className="CenterCrop",eL(xK);class wK extends GH{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=RH(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return tD((()=>{let n;if("int32"!==(e=NH(e)).dtype&&(e=HW(e,"int32")),void 0!==t.countWeights){if("count"!==this.outputMode)throw new ZG(`countWeights is not used when outputMode !== count.\n              Received countWeights=${t.countWeights}`);n=NH(t.countWeights)}const r=GF(e),o=sB(e),i=BF(this.numTokens,r).bufferSync().get(0),a=$F(o,0).bufferSync().get(0);if(!i||!a)throw new ZG(`Input values must be between 0 < values <= numTokens with numTokens=${this.numTokens}`);return function(e,t,n,r){let o=NH(e);if("int32"!==o.dtype&&(o=HW(o,"int32")),"int"===t)return o;const i=o.shape;if(0===o.rank&&(o=PF(o,-1)),"oneHot"===t&&1!==o.shape[o.shape.length-1]&&(o=PF(o,-1)),o.rank>2)throw new ZG(`When outputMode is not int, maximum output rank is 2 Received outputMode ${t} and input shape ${i} which would result in output rank ${o.rank}.`);const a=["multiHot","oneHot"].includes(t);let s;if(s=jF(o,void 0!==r&&"count"===t?r:[],n,a),"tfIdf"!==t)return s;if(r)return GD(s,r);throw new ZG("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}wK.className="CategoryEncoding",eL(wK);const kK=new Set(["bilinear","nearest"]);class _K extends GH{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!kK.has(e.interpolation))throw new ZG(`Invalid interpolation parameter: ${e.interpolation} is not implemented`);this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=RH(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return tD((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return W$.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return W$.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error(`Interpolation is ${this.interpolation} but only ${[...kK]} are supported`)}))}}_K.className="Resizing",eL(_K);class SK{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}SK.className="RandomSeed";class EK extends GH{constructor(e){super(e),this.randomGenerator=new SK(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}EK.className="BaseRandomLayer";const TK=new Set(["bilinear","nearest"]);class CK extends EK{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new ZG(`Invalid factor: ${this.factor}. Must be positive number or tuple of 2 numbers`);this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new ZG(`factor must have values larger than -1. Got: ${this.factor}`);if(this.widthUpper<this.widthLower)throw new ZG(`factor cannot have upper bound less than lower bound.\n        Got upper bound: ${this.widthUpper}.\n        Got lower bound: ${this.widthLower}\n      `);if(n){if(!TK.has(n))throw new ZG(`Invalid interpolation parameter: ${n} is not implemented`);this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=RH(e))[2];return[this.imgHeight,-1,t]}call(e,t){return tD((()=>{const t=NH(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=kB([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let r=this.widthFactor.dataSync()[0]*n;r=Math.round(r);const o=[this.imgHeight,r];switch(this.interpolation){case"bilinear":return W$.resizeBilinear(e,o);case"nearest":return W$.resizeNearestNeighbor(e,o);default:throw new Error(`Interpolation is ${this.interpolation}\n          but only ${[...TK]} are supported`)}}))}}var IK,jK,AK,OK;function NK(e,t,n=new Map,r=new Set){if(null==e)return null;if("function"==typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const o=t(e);if(o.recurse&&null!==o.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(o.recurse){if(DK(e)){const o=Array.isArray(e)?[]:{};r.add(e);for(const i in e){const a=NK(e[i],t,n,r);o[i]=a}return r.delete(e),e.__proto__&&(o.__proto__=e.__proto__),o}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,o.value),o.value}function RK(e,t=MK){return PK(e,t)}function PK(e,t,n=new Set){const r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");const o=t(e);if(o.recurse&&null!==o.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(o.recurse){if(DK(r)){const o=Array.isArray(r)?[]:{};n.add(r);for(const i in r){const r=e.map((e=>e[i])),a=PK(r,t,n);o[i]=a}return n.delete(r),o}throw new Error(`Can't recurse into non-iterable type: ${r}`)}return o.value}function MK(e){return null===e?null:DK(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function DK(e){let t=!1;if(uO().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:n}=i(4977);t=e instanceof n}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"==typeof e&&!(e instanceof gM)&&!(e instanceof Promise)&&!t)}function LK(e){return NK(e,FK)}function FK(e){return e instanceof gM?{value:e.clone(),recurse:!1}:DK(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}CK.className="RandomWidth",eL(CK),uO().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(IK||(IK={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(jK||(jK={})),Error,new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);class BK{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class $K extends BK{constructor(){super($K.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let e=0;e<n;e++)t[e]=this.get(this.wrap(this.begin+e));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}$K.INITIAL_CAPACITY=32;class zK{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new KK(this,e)}filter(e){return new XK(this,e)}map(e){return new YK(this,e)}mapAsync(e){return new ZK(this,e)}serialMapAsync(e){return new ZK(this,e).serial()}flatmap(e){return new QK(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e,t=!0){return new qK(this,e,t)}columnMajorBatch(e,t=!0,n=MK){return this.rowMajorBatch(e,t).map((e=>RK(e,n)))}concatenate(e,t){return new eZ(new UK([this,e]),t)}take(e){return e<0||null==e?this:new HK(this,e)}skip(e){return e<0||null==e?this:new WK(this,e)}prefetch(e){return new tZ(this,e)}shuffle(e,t){return new nZ(this,e,t)}serial(){return new GK(this)}}class UK extends zK{constructor(e){super(),this.items=e,this.trav=0}summary(){return`Array of ${this.items.length} items`}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:LK(e),done:!1}}}class VK extends zK{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}}class GK extends zK{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Serial`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class WK extends zK{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Skip`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;nD(e.value)}return this.upstream.next()}}class HK extends zK{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return`${this.upstream.summary()} -> Take`}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class qK extends zK{constructor(e,t,n=!0){super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> RowMajorBatch`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class XK extends zK{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> Filter`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;nD(e.value)}}}class YK extends zK{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Map`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=OM(e.value),n=this.transform(e.value),r=OM(n);for(const e of t)AM(e,r)||e.dispose();return{value:n,done:!1}}}class KK extends zK{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return`${this.upstream.summary()} -> handleErrors`}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}}class ZK extends zK{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> AsyncMap`}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=OM(e.value),n=await this.transform(e.value),r=OM(n);for(const e of t)AM(e,r)||e.dispose();return{value:n,done:!1}}}class JK extends zK{constructor(){super(),this.outputQueue=new $K,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class QK extends JK{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return`${this.upstream.summary()} -> Flatmap`}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=OM(e.value),n=this.transform(e.value),r=OM(n);this.outputQueue.pushAll(n);for(const e of t)AM(e,r)||e.dispose();return!0}}class eZ extends zK{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"TODO: fill in upstream of chained summaries -> Chained"}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}(OK=AK||(AK={}))[OK.FAIL=0]="FAIL",OK[OK.SHORTEST=1]="SHORTEST",OK[OK.LONGEST=2]="LONGEST";class tZ extends zK{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new BK(t)}summary(){return`${this.upstream.summary()} -> Prefetch`}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class nZ extends tZ{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=yB.alea(n||KP().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class rZ{constructor(){this.size=null}batch(e,t=!0){const n=this;let r;return jA(e>0,(()=>`batchSize needs to be positive, but it is\n      ${e}`)),r=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),oZ((async()=>(await n.iterator()).columnMajorBatch(e,t,iZ)),r)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,oZ((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,oZ((async()=>(await t.iterator()).filter((t=>tD((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return oZ((async()=>(await t.iterator()).map((t=>tD((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return oZ((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return oZ((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,oZ((async()=>{return n=function(e){return new VK(e)}((async()=>({value:await t.iterator(),done:!1}))).take(e),new eZ(n,r);var n,r}),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,oZ((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t,n=!0){if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);const r=this,o=yB.alea(t||KP().toString());return oZ((async()=>{let t=o.int32();return n&&(t+=o.int32()),(await r.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,oZ((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function oZ(e,t=null){return new class extends rZ{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function iZ(e){if(null===e)return null;return null==(t=e[0])||null===(n=t)||"object"!=typeof n&&"function"!=typeof n||Array.isArray(t)||"object"==typeof t&&t instanceof gM||QP(t)?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof gM?FB(e):KM(e)}(e),recurse:!1}:{value:null,recurse:!0};var t,n}function aZ(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&jA("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}rZ.MAX_BUFFER_SIZE=1e4,Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");const sZ=iU;class lZ extends _A{nextDataId(){return lZ.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new kA(this,QM())}write(e,t,n){this.firstUse&&(this.firstUse=!1,uO().get("IS_NODE")&&_P("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&WA(n[0])){const o=n.map((e=>ZP(e)));r=this.write(o,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){this.data.get(e).refCount++}decRef(e){this.data.has(e)&&this.data.get(e).refCount--}move(e,t,n,r,o){this.data.set(e,{values:t,dtype:r,refCount:o})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);return"complex64"===t?_z(this.readSync(n.real.dataId),this.readSync(n.imag.dataId)):function(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error(`Unknown dtype ${t}`)}(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>JP(e)));return LD(e.shape,e.dtype,n)}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return LD(e.shape,e.dtype,t)}makeOutput(e,t,n){return QM().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e,t=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=KP();return e(),{kernelMs:KP()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){aZ([e],"where");const t=this.readSync(e.dataId);return sZ(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}function uZ(e){return(t,n,r)=>{const o=UA(n,t.length);for(let n=0;n<t.length;++n)o[n]=e(t[n],r);return o}}function cZ(e,t,n){return dZ(e,uZ(t),n)}function dZ(e,t,n){return({inputs:r,attrs:o,backend:i})=>{const{x:a}=r;aZ(a,e);const s=i,l=s.data.get(a.dataId).values;let u;if("string"===a.dtype){if(!Array.isArray(l))throw new Error("String tensor's value was not an instance of Array");u=rU(l)}else u=l;const c=n||a.dtype,d=t(u,c,o);return s.makeTensorInfo(a.shape,c,d)}}lZ.nextDataId=0,oD("cpu",(()=>new lZ),1);const pZ=cZ(dN,(e=>e>=0?e:Math.exp(e)-1)),hZ={kernelName:dN,backendName:"cpu",kernelFunc:pZ};function fZ(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const mZ={kernelName:IN,backendName:"cpu",kernelFunc:fZ};function gZ(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:i}=r;aZ([o],"leakyRelu");const a=NA(o.shape),s=n.data.get(o.dataId).values,l=zA("float32",a);for(let e=0;e<s.length;e++)l[e]=s[e]<0?i*s[e]:s[e];return n.makeTensorInfo(o.shape,"float32",l)}const bZ={kernelName:PN,backendName:"cpu",kernelFunc:gZ};function yZ(e){return(t,n,r,o,i)=>{const a=dL(t,n),s=a.length,l=KA(a),u=zA(i,NA(a)),c=t.length,d=n.length,p=KA(t),h=KA(n),f=uL(t,a),m=uL(n,a);if(f.length+m.length===0)for(let t=0;t<u.length;++t)u[t]=e(r[t%r.length],o[t%o.length]);else for(let t=0;t<u.length;++t){const n=oO(t,s,l),i=n.slice(-c);f.forEach((e=>i[e]=0));const a=rO(i,c,p),g=n.slice(-d);m.forEach((e=>g[e]=0));const b=rO(g,d,h);u[t]=e(r[a],o[b])}return[u,a]}}const vZ=yZ(((e,t)=>e<0?t*e:e));function xZ(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t;aZ([r,o],"prelu");const i=n.data.get(r.dataId).values,a=n.data.get(o.dataId).values,[s,l]=vZ(r.shape,o.shape,i,a,"float32");return n.makeTensorInfo(l,"float32",s)}const wZ={kernelName:mR,backendName:"cpu",kernelFunc:xZ},kZ=cZ(_R,(e=>Math.max(0,e))),_Z={kernelName:_R,backendName:"cpu",kernelFunc:kZ},SZ=cZ(jR,(e=>Math.min(Math.max(0,e),6))),EZ={kernelName:jR,backendName:"cpu",kernelFunc:SZ},TZ=uZ((e=>1/(1+Math.exp(-e)))),CZ=cZ(UR,(e=>1/(1+Math.exp(-e)))),IZ={kernelName:UR,backendName:"cpu",kernelFunc:CZ};function jZ(e,t,n,r,o){if("linear"===n)return fZ({inputs:{x:t},backend:e});if("relu"===n)return kZ({inputs:{x:t},backend:e});if("elu"===n)return pZ({inputs:{x:t},backend:e});if("relu6"===n)return SZ({inputs:{x:t},backend:e});if("prelu"===n)return xZ({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return gZ({inputs:{x:t},backend:e,attrs:{alpha:o}});if("sigmoid"===n)return CZ({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function AZ(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,i=n.data.get(r.dataId).values,a=n.data.get(o.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(o.shape,"float32",a)},s}const OZ={kernelName:$O,backendName:"cpu",kernelFunc:AZ};function NZ(e,t,n="float32"){if("complex64"===n)return AZ({inputs:{real:NZ(e,t,"float32"),imag:NZ(e,t,"float32")},backend:e});const r=eO(NA(t),n);return e.makeTensorInfo(t,n,r)}function RZ(e){const{inputs:t,backend:n}=e,{input:r}=t,o=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,i)}const PZ={kernelName:wR,backendName:"cpu",kernelFunc:RZ};function MZ(e,t,n,r){if("int32"===r)return[t,"int32",Int32Array.from(e)];if("bool"===r){const r=YP([0],n),[o,i]=yZ(((e,t)=>e!==t?1:0))(t,[],e,r,"bool");return[i,"bool",o]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function DZ(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dtype:i}=r;if("complex64"===i){if("complex64"===o.dtype)return fZ({inputs:{x:o},backend:n});const e=NZ(n,o.shape,o.dtype),t=DZ({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),r=AZ({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===o.dtype){const e=RZ({inputs:{input:o},backend:n}),t=DZ({inputs:{x:e},backend:n,attrs:{dtype:i}});return n.disposeIntermediateTensorInfo(e),t}if(!VA(o.dtype,i)){const e=fZ({inputs:{x:o},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:i}}const a=n.data.get(o.dataId).values,[s,l,u]=MZ(a,o.shape,o.dtype,i);return n.makeTensorInfo(s,l,u)}const LZ={kernelName:LO,backendName:"cpu",kernelFunc:DZ};function FZ(e,t,n,r){return null==n?({inputs:n,backend:o})=>{const{a:i,b:a}=n,s=o;aZ([i,a],e);const l=s.data.get(i.dataId).values,u=s.data.get(a.dataId).values,c="string"===i.dtype?rU(l):l,d="string"===i.dtype?rU(u):u,p=r||i.dtype,[h,f]=t(i.shape,a.shape,c,d,p);return s.makeTensorInfo(f,p,h)}:({inputs:e,backend:o})=>{const{a:i,b:a}=e,s=o;if("complex64"===i.dtype||"complex64"===a.dtype){const e=DZ({inputs:{x:i},backend:s,attrs:{dtype:"complex64"}}),t=s.data.get(e.dataId),r=t.complexTensorInfos.real,o=t.complexTensorInfos.imag,l=s.data.get(r.dataId).values,u=s.data.get(o.dataId).values,c=DZ({inputs:{x:a},backend:s,attrs:{dtype:"complex64"}}),d=s.data.get(c.dataId),p=d.complexTensorInfos.real,h=d.complexTensorInfos.imag,f=s.data.get(p.dataId).values,m=s.data.get(h.dataId).values,[g,b,y]=n(i.shape,a.shape,l,u,f,m),v=s.makeTensorInfo(y,"float32",g),x=s.makeTensorInfo(y,"float32",b),w=AZ({inputs:{real:v,imag:x},backend:s});return s.disposeIntermediateTensorInfo(e),s.disposeIntermediateTensorInfo(c),s.disposeIntermediateTensorInfo(v),s.disposeIntermediateTensorInfo(x),w}{const e=s.data.get(i.dataId).values,n=s.data.get(a.dataId).values,o=r||i.dtype,[l,u]=t(i.shape,a.shape,e,n,o);return s.makeTensorInfo(u,o,l)}}}function BZ(e){return(t,n,r,o,i,a)=>{const s=dL(t,n),l=NA(s),u=s.length,c=KA(s),d=zA("float32",l),p=zA("float32",l),h=uL(t,s),f=uL(n,s),m=_z(r,o),g=_z(i,a),b=t.length,y=KA(t),v=n.length,x=KA(n);if(h.length+f.length===0)for(let t=0;t<d.length;t++){const n=t%m.length,r=t%g.length,o=e(m[2*n],m[2*n+1],g[2*r],g[2*r+1]);d[t]=o.real,p[t]=o.imag}else for(let t=0;t<d.length;t++){const n=oO(t,u,c),r=n.slice(-b);h.forEach((e=>r[e]=0));const o=rO(r,b,y),i=n.slice(-v);f.forEach((e=>i[e]=0));const a=rO(i,v,x),s=e(m[2*o],m[2*o+1],g[2*a],g[2*a+1]);d[t]=s.real,p[t]=s.imag}return[d,p,s]}}const $Z=yZ(((e,t)=>e+t)),zZ=BZ(((e,t,n,r)=>({real:e+n,imag:t+r}))),UZ=FZ(bO,$Z,zZ),VZ={kernelName:bO,backendName:"cpu",kernelFunc:UZ};function GZ(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:i}=r,a=NA(o.shape),s=FA(i,a),l=NA(s);jA(a===l,(()=>`The new shape (${s}) has ${l} elements and the old shape (${o.shape}) has ${a} elements. The new shape and old shape must have the same number of elements.`)),n.incRef(o.dataId);const u=n.data.get(o.dataId);if(null!=u.complexTensorInfos){const e=u.complexTensorInfos.real,t=u.complexTensorInfos.imag;e.shape=s,t.shape=s}return{dataId:o.dataId,shape:s,dtype:o.dtype}}const WZ={kernelName:SR,backendName:"cpu",kernelFunc:GZ};function HZ(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i}=t,{transposeA:a,transposeB:s}=r;aZ([o,i],"matMul");const l=o.shape.length,u=i.shape.length,c=a?o.shape[l-2]:o.shape[l-1],d=s?i.shape[u-1]:i.shape[u-2],p=a?o.shape[l-1]:o.shape[l-2],h=s?i.shape[u-2]:i.shape[u-1],f=o.shape.slice(0,-2),m=i.shape.slice(0,-2),g=NA(f),b=NA(m),y=dL(o.shape.slice(0,-2),i.shape.slice(0,-2)).concat([p,h]);jA(c===d,(()=>`Error in matMul: inner shapes (${c}) and (${d}) of Tensors with shapes ${o.shape} and ${i.shape} and transposeA=${a} and transposeB=${s} must match.`));const v=s?[b,h,d]:[b,d,h],x=GZ({inputs:{x:o},backend:n,attrs:{shape:a?[g,c,p]:[g,p,c]}}),w=GZ({inputs:{x:i},backend:n,attrs:{shape:v}}),k=a?x.shape[1]:x.shape[2],_=a?x.shape[2]:x.shape[1],S=s?w.shape[1]:w.shape[2],E=Math.max(g,b),T=n.data.get(x.dataId).values,C=n.data.get(w.dataId).values,I=KA(x.shape),j=KA(w.shape),[A,O,N]=a?[I[0],1,I[1]]:[I[0],I[1],1],[R,P,M]=s?[1,j[1],j[0]]:[j[1],1,j[0]],D=_*S,L=LD([E,_,S],x.dtype),F=L.values,B=n.blockSize;for(let e=0;e<E;e++){const t=e%g,n=e%b;for(let r=0;r<_;r+=B){const o=Math.min(r+B,_);for(let i=0;i<S;i+=B){const a=Math.min(i+B,S);for(let s=0;s<k;s+=B){const l=Math.min(s+B,k);for(let u=r;u<o;u++)for(let r=i;r<a;r++){let o=0;for(let e=s;e<l;e++)o+=T[t*A+u*O+e*N]*C[e*R+r*P+n*M];F[e*D+(u*S+r)]+=o}}}}}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(w),n.makeTensorInfo(y,L.dtype,L.values)}const qZ={kernelName:NO,backendName:"cpu",kernelFunc:HZ},XZ={kernelName:xP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i,bias:a,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;let p,h,f;const m=[];p=HZ({inputs:{a:o,b:i},attrs:{transposeA:l,transposeB:u},backend:n}),a&&(h=UZ({inputs:{a:p,b:a},backend:n}),m.push(p),p=h),c&&(f=jZ(n,p,c,s,d),m.push(p),p=f);for(const e of m)n.disposeIntermediateTensorInfo(e);return p}};function YZ(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const KZ={kernelName:fO,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;aZ(t,"abs");let r=new Float32Array(NA(t.shape));return r=YZ(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},ZZ=cZ(mO,(e=>Math.acos(e))),JZ={kernelName:mO,backendName:"cpu",kernelFunc:ZZ},QZ=cZ(gO,(e=>Math.acosh(e))),eJ={kernelName:gO,backendName:"cpu",kernelFunc:QZ},tJ={kernelName:yO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,r=t;aZ(t,"addN");const o=r.map((e=>n.data.get(e.dataId).values)),i=LD(r[0].shape,r[0].dtype),a=i.values;for(let e=0;e<r.length;e++){const t=o[e];for(let e=0;e<a.length;e++)a[e]+=t[e]}return n.makeTensorInfo(i.shape,i.dtype,i.values)}};function nJ(e,t,n,r,o){const i=t.length,a=NA(t),s=KA(t),l=KA(o),u=zA(n,NA(o));for(let t=0;t<a;++t){const n=oO(t,i,s),o=new Array(n.length);for(let e=0;e<o.length;e++)o[e]=n[r[e]];u[rO(o,i,l)]=e[t]}return u}function rJ(e){const{inputs:t,attrs:n,backend:r}=e,{x:o}=t,{perm:i}=n;aZ(o,"transpose");const a=o.shape.length,s=new Array(a);for(let e=0;e<s.length;e++)s[e]=o.shape[i[e]];const l=nJ(r.data.get(o.dataId).values,o.shape,o.dtype,i,s);return{dataId:r.write(l,s,o.dtype),shape:s,dtype:o.dtype}}const oJ={kernelName:hP,backendName:"cpu",kernelFunc:rJ},iJ={kernelName:vO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;aZ(o,"all");const s=BA(i,o.shape);let l=s;const u=JF(l,o.shape.length);let c=o;null!=u&&(c=rJ({inputs:{x:o},backend:n,attrs:{perm:u}}),l=eB(l.length,o.shape.length)),ZF("all",l,c.shape.length);const[d,p]=YF(c.shape,l),h=NA(p),f=eO(NA(d),c.dtype),m=n.data.get(c.dataId).values;for(let e=0;e<f.length;++e){const t=e*h;let n=m[t];for(let e=0;e<h;++e){const r=m[t+e];n=n&&r}f[e]=n}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(a){const e=GZ({inputs:{x:g},backend:n,attrs:{shape:KF(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}},aJ={kernelName:xO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;aZ(o,"any");const s=BA(i,o.shape);let l=s;const u=JF(l,o.shape.length);let c=o;null!=u&&(c=rJ({inputs:{x:o},backend:n,attrs:{perm:u}}),l=eB(l.length,o.shape.length)),ZF("any",l,c.shape.length);const[d,p]=YF(c.shape,l),h=NA(p),f=eO(NA(d),c.dtype),m=n.data.get(c.dataId).values;for(let e=0;e<f.length;++e){const t=e*h;let n=m[t];for(let e=0;e<h;++e){const r=m[t+e];n=n||r}f[e]=n}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(a){const e=GZ({inputs:{x:g},backend:n,attrs:{shape:KF(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}},sJ={kernelName:wO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;aZ(o,"argMax");let a=BA(i,o.shape);const s=JF(a,o.shape.length);let l=o;const u=[];null!=s&&(l=rJ({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),a=eB(a.length,l.shape.length)),a=[a[0]],ZF("argMax",a,l.shape.length);const[c,d]=YF(l.shape,a),p=eO(NA(c),"int32"),h=NA(d),f=n.data.get(l.dataId).values;for(let e=0;e<p.length;++e){const t=e*h;let n=f[t],r=0;for(let e=0;e<h;++e){const o=f[t+e];o>n&&(n=o,r=e)}p[e]=r}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",p)}},lJ={kernelName:kO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;aZ(o,"argMin");let a=BA(i,o.shape);const s=JF(a,o.shape.length);let l=o;const u=[];null!=s&&(l=rJ({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),a=eB(a.length,l.shape.length)),a=[a[0]],ZF("argMin",a,l.shape.length);const[c,d]=YF(l.shape,a),p=eO(NA(c),"int32"),h=NA(d),f=n.data.get(l.dataId).values;for(let e=0;e<p.length;++e){const t=e*h;let n=f[t],r=0;for(let e=0;e<h;++e){const o=f[t+e];o<n&&(n=o,r=e)}p[e]=r}return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c,"int32",p)}},uJ=cZ(_O,(e=>Math.asin(e))),cJ={kernelName:_O,backendName:"cpu",kernelFunc:uJ},dJ=cZ(SO,(e=>Math.asinh(e))),pJ={kernelName:SO,backendName:"cpu",kernelFunc:dJ},hJ=cZ(EO,(e=>Math.atan(e))),fJ={kernelName:EO,backendName:"cpu",kernelFunc:hJ},mJ=yZ(((e,t)=>Math.atan2(e,t))),gJ=FZ(CO,mJ),bJ={kernelName:CO,backendName:"cpu",kernelFunc:gJ},yJ=cZ(TO,(e=>Math.atanh(e))),vJ={kernelName:TO,backendName:"cpu",kernelFunc:yJ};function xJ(e,t,n,r,o,i){const a=o.strideHeight,s=o.strideWidth,l=o.dilationHeight,u=o.dilationWidth,c=o.effectiveFilterHeight,d=o.effectiveFilterWidth,p=o.padInfo.top,h=o.padInfo.left,f="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=LD(o.outShape,n),g=m.values,b=o.outShape[1]*o.outShape[2]*o.outShape[3],y=o.outShape[2]*o.outShape[3],v=o.outShape[3];for(let t=0;t<o.batchSize;++t){const n=t*b,m=t*r[0];for(let t=0;t<o.inChannels;++t)for(let b=0;b<o.outHeight;++b){const x=b*a-p,w=Math.max(0,x),k=Math.min(o.inHeight,c+x),_=n+b*y;for(let n=0;n<o.outWidth;++n){const a=n*s-h,c=Math.max(0,a),p=Math.min(o.inWidth,d+a);let b=f,y=0,x=0;for(let n=w;n<k;n+=l){const o=m+n*r[1];for(let n=c;n<p;n+=u){const a=e[o+n*r[2]+t];"max"===i&&a>b?b=a:"avg"===i&&(y+=a,x++)}if(isNaN(b))break}g[_+n*v+t]="avg"===i?y/x:b}}}return m}function wJ(e,t,n,r,o=!1,i=!1){const a=LD(r.outShape,"int32"),s=r.strideHeight,l=r.strideWidth,u=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,f=r.padInfo.left,m=LD(t,n,e);for(let e=0;e<r.batchSize;++e)for(let t=0;t<r.inChannels;++t)for(let n=0;n<r.outHeight;++n){const g=n*s-h;let b=g;for(;b<0;)b+=u;const y=Math.min(r.inHeight,d+g);for(let s=0;s<r.outWidth;++s){const d=s*l-f;let h=d;for(;h<0;)h+=c;const v=Math.min(r.inWidth,p+d);let x=Number.NEGATIVE_INFINITY,w=-1;for(let n=b;n<y;n+=u){const a=n-g;for(let s=h;s<v;s+=c){const l=s-d,u=m.get(e,n,s,t);u>x&&(x=u,w=o?i?((e*r.inHeight+n)*r.inWidth+s)*r.inChannels+t:(n*r.inWidth+s)*r.inChannels+t:a*p+l)}}a.set(w,e,n,s,t)}}return a}function kJ(e,t,n,r,o,i){const a=o.strideDepth,s=o.strideHeight,l=o.strideWidth,u=o.dilationDepth,c=o.dilationHeight,d=o.dilationWidth,p=o.effectiveFilterDepth,h=o.effectiveFilterHeight,f=o.effectiveFilterWidth,m=o.padInfo.front,g=o.padInfo.top,b=o.padInfo.left,y="max"===i?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=LD(o.outShape,n),x=v.values,w=o.outShape[1]*o.outShape[2]*o.outShape[3]*o.outShape[4],k=o.outShape[2]*o.outShape[3]*o.outShape[4],_=o.outShape[3]*o.outShape[4],S=o.outShape[4];for(let t=0;t<o.batchSize;++t){const n=t*w,v=t*r[0];for(let t=0;t<o.inChannels;++t)for(let w=0;w<o.outDepth;++w){const E=w*a-m;let T=E;for(;T<0;)T+=u;const C=Math.min(o.inDepth,p+E),I=n+w*k;for(let n=0;n<o.outHeight;++n){const a=n*s-g;let p=a;for(;p<0;)p+=c;const m=Math.min(o.inHeight,h+a),w=I+n*_;for(let n=0;n<o.outWidth;++n){const a=n*l-b;let s=a;for(;s<0;)s+=d;const h=Math.min(o.inWidth,f+a),g=w+n*S;let k=y,_=0,E=0;for(let n=T;n<C;n+=u){const o=v+n*r[1];for(let n=p;n<m;n+=c){const a=o+n*r[2];for(let n=s;n<h;n+=d){const o=e[a+n*r[3]+t];if("max"===i&&o>k?k=o:"avg"===i&&(_+=o,E++),isNaN(k))break}if(isNaN(k))break}if(isNaN(k))break}x[g+t]="avg"===i?_/Math.max(E,1):k}}}}return v}const _J={kernelName:IO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;aZ(o,"avgPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r;jA(oF(a,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const u=XL(o.shape,i,a,1,s,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&RA(u.inShape,u.outShape))c=fZ({inputs:{x:o},backend:n});else{const e=n.data.get(o.dataId).values,t=KA(o.shape),r=xJ(e,o.shape,o.dtype,t,u,"avg");c=n.makeTensorInfo(u.outShape,o.dtype,r.values)}return c}},SJ={kernelName:AO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:l,dataFormat:u}=r;aZ(o,"avgPool3d");const c=YL(o.shape,i,a,1,s,l,u),d=kJ(n.data.get(o.dataId).values,o.shape,o.dtype,KA(o.shape),c,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}},EJ={kernelName:OO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,{filterSize:a,strides:s,pad:l,dimRoundingMode:u}=r;aZ([o,i],"avgPool3DGrad");const c=YL(i.shape,a,s,1,l,u),d=c.strideDepth,p=c.strideHeight,h=c.strideWidth,f=c.filterDepth,m=c.filterHeight,g=c.filterWidth,b=c.dilationDepth,y=c.dilationHeight,v=c.dilationWidth,x=c.effectiveFilterDepth,w=c.effectiveFilterHeight,k=c.effectiveFilterWidth,_=x-1-c.padInfo.front,S=k-1-c.padInfo.left,E=w-1-c.padInfo.top,T=LD(i.shape,"float32"),C=1/(f*m*g),I=n.bufferSync(o);for(let e=0;e<c.batchSize;++e)for(let t=0;t<c.inChannels;++t)for(let n=0;n<c.inDepth;++n)for(let r=0;r<c.inHeight;++r)for(let o=0;o<c.inWidth;++o){const i=n-_,a=r-E,s=o-S;let l=0;for(let n=0;n<x;n+=b){const r=(i+n)/d;if(!(r<0||r>=c.outDepth||Math.floor(r)!==r))for(let n=0;n<w;n+=y){const o=(a+n)/p;if(!(o<0||o>=c.outHeight||Math.floor(o)!==o))for(let n=0;n<k;n+=v){const i=(s+n)/h;i<0||i>=c.outWidth||Math.floor(i)!==i||(l+=I.get(e,r,o,i,t))}}}T.set(l*C,e,n,r,o,t)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}},TJ={kernelName:jO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i;aZ([o,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=XL(a.shape,s,l,1,u),d=c.strideHeight,p=c.strideWidth,h=c.filterHeight,f=c.filterWidth,m=c.dilationHeight,g=c.dilationWidth,b=c.effectiveFilterHeight,y=c.effectiveFilterWidth,v=y-1-c.padInfo.left,x=b-1-c.padInfo.top,w=LD(a.shape,"float32"),k=1/(h*f),_=n.data.get(o.dataId).values,S=LD(o.shape,"float32",_);for(let e=0;e<c.batchSize;++e)for(let t=0;t<c.inChannels;++t)for(let n=0;n<c.inHeight;++n)for(let r=0;r<c.inWidth;++r){const o=n-x,i=r-v;let a=0;for(let n=0;n<b;n+=m){const r=(o+n)/d;if(!(r<0||r>=c.outHeight||Math.floor(r)!==r))for(let n=0;n<y;n+=g){const o=(i+n)/p;o<0||o>=c.outWidth||Math.floor(o)!==o||(a+=S.get(e,r,o,t))}}w.set(a*k,e,n,r,t)}return n.makeTensorInfo(w.shape,w.dtype,w.values)}},CJ={kernelName:_N,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,scale:i,offset:a,mean:s,variance:l}=t;jA(s.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),jA(null==a||s.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),jA(null==i||s.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),aZ([o,s,l,i,a],"batchNorm");let{varianceEpsilon:u}=r;null==u&&(u=.001);const c=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,p=n.data.get(l.dataId).values,h=i?n.data.get(i.dataId).values:new Float32Array([1]),f=a?n.data.get(a.dataId).values:new Float32Array([0]),m=new Float32Array(c.length),g=f.length,b=h.length,y=p.length,v=d.length;let x=0,w=0,k=0,_=0;for(let e=0;e<c.length;++e)m[e]=f[x++]+(c[e]-d[w++])*h[k++]/Math.sqrt(p[_++]+u),x>=g&&(x=0),w>=v&&(w=0),k>=b&&(k=0),_>=y&&(_=0);return n.makeTensorInfo(o.shape,o.dtype,m)}};function IJ(e,t,n,r,o){const i=BL(r,t,n),a=NA(n),s=KA(r);if(i){const n=$L(t,s);return"string"===o?e.slice(n,n+a):e.subarray(n,n+a)}const l=LD(r,o,"string"===o?rU(e):e),u=LD(n,o);for(let e=0;e<u.size;++e){const n=u.indexToLoc(e),r=n.map(((e,n)=>e+t[n]));u.set(l.get(...r),...n)}return"string"===o?oU(u.values):u.values}function jJ(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,size:a}=r;aZ(o,"slice");const[s,l]=zL(o,i,a);CL(o,s,l);const u=IJ(n.data.get(o.dataId).values,s,l,o.shape,o.dtype);return n.makeTensorInfo(l,o.dtype,u)}const AJ={kernelName:FR,backendName:"cpu",kernelFunc:jJ},OJ={kernelName:RO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,crops:a}=r;aZ([o],"batchToSpaceND");const s=i.reduce(((e,t)=>e*t)),l=az(o.shape,i,s),u=sz(l.length,i.length),c=lz(o.shape,i,s),d=uz(a,i.length),p=cz(c,a,i.length),h=GZ({inputs:{x:o},backend:n,attrs:{shape:l}}),f=rJ({inputs:{x:h},backend:n,attrs:{perm:u}}),m=GZ({inputs:{x:f},backend:n,attrs:{shape:c}}),g=jJ({inputs:{x:m},backend:n,attrs:{begin:d,size:p}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function NJ(e,t,n,r,o){const i=NA(r),a=eO(o,n);for(let n=0;n<e.length;n++){const r=e[n];if(r<0)throw new Error("Input x must be non-negative!");r>=o||(a[r]+=i>0?t[n]:1)}return a}function RJ(e,t,n,r=!1){const o=e.shape[0],i=e.shape[1],a=LD([o,n],t.dtype);for(let s=0;s<o;s++)for(let o=0;o<i;o++){const i=e.get(s,o);if(i<0)throw new Error("Input x must be non-negative!");i>=n||(r?a.set(1,s,i):t.size>0?a.set(a.get(s,i)+t.get(s,o),s,i):a.set(a.get(s,i)+1,s,i))}return a}const PJ={kernelName:PO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a}=r,s=NJ(n.data.get(o.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,s)}},MJ=yZ(((e,t)=>e&t)),DJ={kernelName:MO,backendName:"cpu",kernelFunc:FZ(MO,MJ)},LJ={kernelName:DO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:o}=t,i=n.data.get(r.dataId).values,a=n.data.get(o.dataId).values,s=dL(Array.from(i),Array.from(a));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},FJ=uZ((e=>Math.ceil(e))),BJ=dZ(FO,FJ),$J={kernelName:FO,backendName:"cpu",kernelFunc:BJ},zJ=cZ(BO,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),UJ={kernelName:BO,backendName:"cpu",kernelFunc:zJ},VJ={kernelName:zO,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,r=new Float32Array(NA(t.shape)),o=n.data.get(t.dataId),i=o.complexTensorInfos.real,a=o.complexTensorInfos.imag,s=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values;for(let e=0;e<s.length;e++){const t=s[e],n=l[e];r[e]=Math.hypot(t,n)}return n.makeOutput(r,t.shape,"float32")}};function GJ(e,t,n,r){const o=UA(n,NA(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=NA(e.shape);o.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const i="string"===n?rU(e.vals):e.vals;let a=0;for(let n=0;n<e.shape[0];++n){const s=n*t[1]+r;for(let t=0;t<e.shape[1];++t)o[s+t]=i[a++]}r+=e.shape[1]}))}return o}function WJ(e){const{inputs:t,backend:n}=e,{input:r}=t,o=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(o.dataId).values;return n.makeTensorInfo(o.shape,o.dtype,i)}const HJ={kernelName:AN,backendName:"cpu",kernelFunc:WJ};function qJ(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,i=BA(o,t[0].shape)[0];K$(t.map((e=>e.shape)),i);let a=Z$(t.map((e=>e.shape)),i);if(0===NA(a))return n.makeTensorInfo(a,t[0].dtype,[]);const s=t.filter((e=>NA(e.shape)>0));if(1===s.length)return fZ({inputs:{x:s[0]},backend:n});if("complex64"===s[0].dtype){const e=s.map((e=>RZ({inputs:{input:e},backend:n}))),t=s.map((e=>WJ({inputs:{input:e},backend:n}))),r=qJ({inputs:e,backend:n,attrs:{axis:i}}),o=qJ({inputs:t,backend:n,attrs:{axis:i}}),a=AZ({inputs:{real:r,imag:o},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),a}const l=s.map((e=>{const t=NA(e.shape.slice(i));return GZ({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),u=l.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));a=Z$(l.map((e=>e.shape)),1);const c=1===l[0].shape[0],d=GJ(u,a,t[0].dtype,c),p=Z$(s.map((e=>e.shape)),i),h=n.makeTensorInfo(p,t[0].dtype,d);return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}const XJ={kernelName:UO,backendName:"cpu",kernelFunc:qJ};function YJ(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r;aZ([o,i],"conv2d");const d=aF(l),p=KL(o.shape,i.shape,a,u,s,c,!1,d),h=p.filterHeight,f=p.filterWidth,m=p.dilationHeight,g=p.dilationWidth,b=p.padInfo.left,y=p.padInfo.top,v="channelsLast"===p.dataFormat,x=new pM(p.outShape,o.dtype),w=KA(o.shape),k=KA(i.shape),_=w[0],S=v?w[1]:w[2],E=v?w[2]:1,T=v?1:w[1],C=x.strides[0],I=v?x.strides[1]:x.strides[2],j=v?x.strides[2]:1,A=v?1:x.strides[1],O=n.data.get(o.dataId).values,N=n.data.get(i.dataId).values,R=x.values;for(let e=0;e<p.batchSize;++e){const t=e*_,n=e*C;for(let e=0;e<p.outHeight;++e){const r=n+e*I,o=e*p.strideHeight-y;for(let e=0;e<h;++e){const n=o+e*m;if(n<0||n>=p.inHeight)continue;const i=e*k[0],a=t+n*S;for(let e=0;e<p.outWidth;++e){const t=r+e*j,n=e*p.strideWidth-b;for(let e=0;e<f;++e){const r=n+e*g;if(r<0||r>=p.inWidth)continue;const o=a+r*E;let s=i+e*k[1];for(let e=0;e<p.inChannels;++e){const n=O[o+e*T];for(let e=0;e<p.outChannels;++e)R[t+e*A]+=n*N[s+e];s+=p.outChannels}}}}}}return n.makeTensorInfo(x.shape,x.dtype,R)}const KJ={kernelName:VO,backendName:"cpu",kernelFunc:YJ},ZJ={kernelName:GO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r;aZ([o,i],"conv2dBackpropFilter");const d=aF(l),p=KL(o.shape,c,a,1,s,u,!1,d),{strideHeight:h,strideWidth:f,filterHeight:m,filterWidth:g}=p,b="channelsLast"===p.dataFormat,y=new pM(p.filterShape,"float32"),v=p.padInfo.left,x=p.padInfo.top,w=n.data.get(o.dataId).values,k=n.data.get(i.dataId).values,_=new pM(o.shape,o.dtype,w),S=new pM(i.shape,i.dtype,k);for(let e=0;e<m;++e){const t=Math.max(0,Math.ceil((x-e)/h)),n=Math.min(p.outHeight,(p.inHeight+x-e)/h);for(let r=0;r<g;++r){const o=Math.max(0,Math.ceil((v-r)/f)),i=Math.min(p.outWidth,(p.inWidth+v-r)/f);for(let a=0;a<p.inChannels;++a)for(let s=0;s<p.outChannels;++s){let l=0;for(let u=0;u<p.batchSize;++u)for(let c=t;c<n;++c){const t=e+c*h-x;for(let e=o;e<i;++e){const n=r+e*f-v;l+=b?_.get(u,t,n,a)*S.get(u,c,e,s):_.get(u,a,t,n)*S.get(u,s,c,e)}}y.set(l,e,r,a,s)}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}},JJ={kernelName:WO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{inputShape:a,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r;aZ([o,i],"conv2dBackpropInput");const d=KA(i.shape),p=KA(o.shape);let h=aF(u);const f=KL(a,i.shape,s,1,l,c,!1,h),m=new pM(f.inShape,"float32"),g=m.values,b=n.data.get(o.dataId).values,y=n.data.get(i.dataId).values,[v,x,w]=d,{batchSize:k,filterHeight:_,filterWidth:S,inChannels:E,inHeight:T,inWidth:C,outChannels:I,outHeight:j,outWidth:A,strideHeight:O,strideWidth:N}=f;h=f.dataFormat;const R=_-1-f.padInfo.top,P=S-1-f.padInfo.left,M="channelsLast"===h,D=m.strides[0],L=M?m.strides[1]:m.strides[2],F=M?m.strides[2]:1,B=M?1:m.strides[1],$=p[0],z=M?p[1]:p[2],U=M?p[2]:1,V=M?1:p[1];for(let e=0;e<k;++e)for(let t=0;t<E;++t)for(let n=0;n<T;++n){const r=n-R,o=Math.max(0,Math.ceil(r/O)),i=Math.min(j,(_+r)/O);for(let a=0;a<C;++a){const s=a-P,l=Math.max(0,Math.ceil(s/N)),u=Math.min(A,(S+s)/N);let c=0;for(let n=o;n<i;++n){const o=n*O-r;for(let r=l;r<u;++r){const i=$*e+z*n+U*r,a=v*(_-1-o)+x*(S-1-(r*N-s))+w*t;for(let e=0;e<I;++e)c+=b[i+V*e]*y[a+e]}}g[D*e+L*n+F*a+B*t]=c}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}},QJ={kernelName:HO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l}=r;aZ([o,i],"conv3d");const u=ZL(o.shape,i.shape,a,l,s),{filterDepth:c,filterHeight:d,filterWidth:p,dilationDepth:h,dilationHeight:f,dilationWidth:m,padInfo:g}=u,b=g.front,y=g.left,v=g.top,x=new pM(u.outShape,o.dtype),w=n.data.get(o.dataId).values,k=n.data.get(i.dataId).values,_=x.values,S=KA(o.shape),E=KA(i.shape);for(let e=0;e<u.batchSize;++e){const t=e*S[0],n=e*x.strides[0];for(let e=0;e<u.outDepth;++e){const r=n+e*x.strides[1],o=e*u.strideDepth-b;for(let e=0;e<c;++e){const n=o+e*h;if(n<0||n>=u.inDepth)continue;const i=e*E[0],a=t+n*S[1];for(let e=0;e<u.outHeight;++e){const t=r+e*x.strides[2],n=e*u.strideHeight-v;for(let e=0;e<d;++e){const r=n+e*f;if(r<0||r>=u.inHeight)continue;const o=i+e*E[1],s=a+r*S[2];for(let e=0;e<u.outWidth;++e){const n=t+e*u.outChannels,r=e*u.strideWidth-y;for(let e=0;e<p;++e){const t=r+e*m;if(t<0||t>=u.inWidth)continue;const i=o+e*E[2],a=s+t*u.inChannels;let l=i;for(let e=0;e<u.inChannels;++e){const t=w[a+e];for(let e=0;e<u.outChannels;++e)_[n+e]+=t*k[l+e];l+=u.outChannels}}}}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}},eQ={kernelName:qO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,filterShape:l}=r;aZ([o,i],"conv3dBackpropFilterV2");const u=KA(o.shape),c=KA(i.shape),d=ZL(o.shape,l,a,1,s),p=d.strideDepth,h=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,b=d.filterWidth,y=new pM(d.filterShape,"float32"),v=y.values,[x,w,k,_]=y.strides,S=n.data.get(i.dataId).values,[E,T,C,I]=c,j=n.data.get(o.dataId).values,[A,O,N,R]=u,P=d.padInfo.front,M=d.padInfo.left,D=d.padInfo.top;for(let e=0;e<m;++e){const t=Math.max(0,Math.ceil((P-e)/p)),n=Math.min(d.outDepth,(d.inDepth+P-e)/p),r=e*x;for(let o=0;o<g;++o){const i=Math.max(0,Math.ceil((D-o)/h)),a=Math.min(d.outHeight,(d.inHeight+D-o)/h),s=o*w+r;for(let r=0;r<b;++r){const l=Math.max(0,Math.ceil((M-r)/f)),u=Math.min(d.outWidth,(d.inWidth+M-r)/f),c=r*k+s;for(let s=0;s<d.inChannels;++s){const m=s*_+c;for(let c=0;c<d.outChannels;++c){let g=0;for(let m=0;m<d.batchSize;++m){const d=m*A,b=m*E;for(let m=t;m<n;++m){const t=(e+m*p-P)*O+d,n=m*T+b;for(let e=i;e<a;++e){const i=(o+e*h-D)*N+t,a=e*C+n;for(let e=l;e<u;++e){const t=e*I+a;g+=j[(r+e*f-M)*R+i+s]*S[t+c]}}}}v[m+c]=g}}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}},tQ={kernelName:XO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{pad:a,strides:s,inputShape:l}=r;aZ([o],"conv3dBackpropInputV2");const u=KA(o.shape),c=KA(i.shape),d=ZL(l,i.shape,s,1,a),p=new pM(d.inShape,"float32"),h=p.values,[f,m,g,b]=p.strides,y=n.data.get(o.dataId).values,[v,x,w,k]=u,_=n.data.get(i.dataId).values,[S,E,T,C]=c,{batchSize:I,filterDepth:j,filterHeight:A,filterWidth:O,inChannels:N,inDepth:R,inHeight:P,inWidth:M,outChannels:D,outDepth:L,outHeight:F,outWidth:B,strideDepth:$,strideHeight:z,strideWidth:U}=d,V=j-1-d.padInfo.front,G=A-1-d.padInfo.top,W=O-1-d.padInfo.left;for(let e=0;e<I;++e)for(let t=0;t<N;++t)for(let n=0;n<R;++n){const r=n-V,o=Math.max(0,Math.ceil(r/$)),i=Math.min(L,(j+r)/$);for(let a=0;a<P;++a){const s=a-G,l=Math.max(0,Math.ceil(s/z)),u=Math.min(F,(A+s)/z);for(let c=0;c<M;++c){const d=c-W,p=Math.max(0,Math.ceil(d/U)),I=Math.min(B,(O+d)/U);let N=0;for(let n=o;n<i;++n){const o=n*$-r;for(let r=l;r<u;++r){const i=r*z-s;for(let a=p;a<I;++a){const s=v*e+x*n+w*r+k*a,l=S*(j-1-o)+E*(A-1-i)+T*(O-1-(a*U-d))+C*t;for(let e=0;e<D;++e)N+=y[s+e]*_[l+e]}}}h[f*e+m*n+g*a+b*c+t]=N}}}return n.makeTensorInfo(p.shape,p.dtype,p.values)}},nQ=cZ(YO,(e=>Math.cos(e))),rQ={kernelName:YO,backendName:"cpu",kernelFunc:nQ},oQ=cZ(KO,(e=>Math.cosh(e))),iQ={kernelName:KO,backendName:"cpu",kernelFunc:oQ},aQ={kernelName:QO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:i,boxInd:a}=t,{cropSize:s,method:l,extrapolationValue:u}=r,[c,d,p,h]=o.shape,f=i.shape[0],[m,g]=s,b=LD([f,m,g,h],"float32"),y=n.data.get(i.dataId).values,v=n.data.get(a.dataId).values,x=n.data.get(o.dataId).values,w=KA(o.shape),k=KA(b.shape);for(let e=0;e<f;e++){const t=4*e,n=y[t],r=y[t+1],o=y[t+2],i=y[t+3],a=v[e];if(a>=c)continue;const s=m>1?(o-n)*(d-1)/(m-1):0,f=g>1?(i-r)*(p-1)/(g-1):0;for(let t=0;t<m;t++){const c=m>1?n*(d-1)+t*s:.5*(n+o)*(d-1);if(c<0||c>d-1)for(let n=0;n<g;n++)for(let r=0;r<h;r++){const o=r+n*k[2]+t*k[1]+e*k[0];b.values[o]=u}else if("bilinear"===l){const n=Math.floor(c),o=Math.ceil(c),s=c-n;for(let l=0;l<g;l++){const c=g>1?r*(p-1)+l*f:.5*(r+i)*(p-1);if(c<0||c>p-1){for(let n=0;n<h;n++){const r=n+l*k[2]+t*k[1]+e*k[0];b.values[r]=u}continue}const d=Math.floor(c),m=Math.ceil(c),y=c-d;for(let r=0;r<h;r++){let i=r+d*w[2]+n*w[1]+a*w[0];const u=x[i];i=r+m*w[2]+n*w[1]+a*w[0];const c=x[i];i=r+d*w[2]+o*w[1]+a*w[0];const p=x[i];i=r+m*w[2]+o*w[1]+a*w[0];const h=u+(c-u)*y,f=p+(x[i]-p)*y;i=r+l*k[2]+t*k[1]+e*k[0],b.values[i]=h+(f-h)*s}}}else for(let n=0;n<g;++n){const o=g>1?r*(p-1)+n*f:.5*(r+i)*(p-1);if(o<0||o>p-1){for(let r=0;r<h;r++){const o=r+n*k[2]+t*k[1]+e*k[0];b.values[o]=u}continue}const s=Math.round(o),l=Math.round(c);for(let r=0;r<h;r++){const o=r+s*w[2]+l*w[1]+a*w[0],i=r+n*k[2]+t*k[1]+e*k[0];b.values[i]=x[o]}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}},sQ={kernelName:ZO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;aZ(o,"cumprod");const l=JF([i],o.shape.length);let u=o;null!=l&&(u=rJ({inputs:{x:o},backend:n,attrs:{perm:l}}));const c=eB(1,o.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=EM(u.dtype,"int32"),p=QA(NA(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<h.length;e+=f)for(let t=0;t<f;t++){const n=m(e,t);if(0===t)p[n]=a?1:h[n];else{const r=m(e,t-1);p[n]=a?h[r]*p[r]:h[n]*p[r]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=rJ({inputs:{x:g},backend:n,attrs:{perm:QF(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}},lQ={kernelName:JO,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;aZ(o,"cumsum");const l=JF([i],o.shape.length);let u=o;null!=l&&(u=rJ({inputs:{x:o},backend:n,attrs:{perm:l}}));const c=eB(1,o.shape.length)[0];if(c!==u.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${u.shape.length-1} but got axis=${c}`);const d=EM(u.dtype,"int32"),p=eO(NA(u.shape),d),h=n.data.get(u.dataId).values,f=u.shape[u.shape.length-1],m=s?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let e=0;e<h.length;e+=f)for(let t=0;t<f;t++){const n=m(e,t);if(0===t)p[n]=a?0:h[n];else{const r=m(e,t-1);p[n]=a?h[r]+p[r]:h[n]+p[r]}}const g=n.makeTensorInfo(u.shape,d,p);if(null!=l){const e=rJ({inputs:{x:g},backend:n,attrs:{perm:QF(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(u),e}return g}},uQ={kernelName:eN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a,binaryOutput:s}=r;if(1===o.shape.length){const e=NJ(n.data.get(o.dataId).values,n.data.get(i.dataId).values,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,e)}if(2===o.shape.length){const e=RJ(n.bufferSync(o),n.bufferSync(i),a,s);return n.makeTensorInfo(e.shape,i.dtype,e.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}},cQ={kernelName:tN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:i,dataFormat:a}=r;jA("NHWC"===a,(()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${a}`));const s=o.shape[0],l=o.shape[1],u=o.shape[2],c=o.shape[3],d=l*i,p=u*i,h=c/(i*i),f=n.data.get(o.dataId).values,m=new Float32Array(s*d*p*h);let g=0;for(let e=0;e<s;++e)for(let t=0;t<d;++t){const n=Math.floor(t/i),r=t%i;for(let t=0;t<p;++t){const o=Math.floor(t/i),a=(r*i+t%i)*h;for(let t=0;t<h;++t){const r=t+a+c*(o+u*(n+l*e));m[g++]=f[r]}}}return n.makeTensorInfo([s,d,p,h],o.dtype,m)}};function dQ(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l,dimRoundingMode:u}=r;aZ([o,i],"depthwiseConv2DNative");const c=KA(o.shape),d=KA(i.shape);let p=l;null==p&&(p=[1,1]),jA(oF(a,p),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${p}'`));const h=KL(o.shape,i.shape,a,p,s,u,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:b,padInfo:y}=h,v=y.left,x=y.top,w=h.outChannels/h.inChannels,k=new pM(h.outShape,o.dtype),_=n.data.get(o.dataId).values,S=n.data.get(i.dataId).values,E=k.values;for(let e=0;e<h.batchSize;++e){const t=e*c[0],n=e*k.strides[0];for(let e=0;e<h.outHeight;++e){const r=n+e*k.strides[1],o=e*h.strideHeight-x;for(let e=0;e<f;++e){const n=o+e*g;if(n<0||n>=h.inHeight)continue;const i=e*d[0],a=t+n*c[1];for(let e=0;e<h.outWidth;++e){const t=r+e*k.strides[2],n=e*h.strideWidth-v;for(let e=0;e<m;++e){const r=n+e*b;if(r<0||r>=h.inWidth)continue;const o=i+e*d[1],s=a+r*h.inChannels;let l=t,u=o;for(let e=0;e<h.inChannels;++e){const t=_[s+e];for(let e=0;e<w;++e)E[l+e]+=t*S[u+e];l+=w,u+=w}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const pQ={kernelName:nN,backendName:"cpu",kernelFunc:dQ},hQ={kernelName:rN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r;aZ([o,i],"depthwiseConv2dNativeBackpropFilter");const d=KL(o.shape,c,a,s,l,u,!0),{strideHeight:p,strideWidth:h,filterHeight:f,filterWidth:m}=d,g=new pM(d.filterShape,"float32"),b=d.padInfo.left,y=d.padInfo.top,v=d.outChannels/d.inChannels,x=n.data.get(o.dataId).values,w=new pM(o.shape,o.dtype,x),k=n.data.get(i.dataId).values,_=new pM(i.shape,i.dtype,k);for(let e=0;e<f;++e){const t=Math.max(0,Math.ceil((y-e)/p)),n=Math.min(d.outHeight,(d.inHeight+y-e)/p);for(let r=0;r<m;++r){const o=Math.max(0,Math.ceil((b-r)/h)),i=Math.min(d.outWidth,(d.inWidth+b-r)/h);for(let a=0;a<d.outChannels;++a){const s=Math.trunc(a/v),l=a%v;let u=0;for(let l=0;l<d.batchSize;++l)for(let c=t;c<n;++c){const t=e+c*p-y;for(let e=o;e<i;++e){const n=r+e*h-b;u+=w.get(l,t,n,s)*_.get(l,c,e,a)}}g.set(u,e,r,s,l)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}},fQ={kernelName:oN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:a,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r;aZ([o,i],"depthwiseConv2DNativeBackpropInput");const d=KA(o.shape),p=KA(i.shape),h=KL(c,i.shape,a,s,l,u,!0),f=new pM(h.inShape,"float32"),m=f.values,[g,b,y]=f.strides,v=n.data.get(o.dataId).values,[x,w,k]=d,_=n.data.get(i.dataId).values,[S,E,T]=p,{batchSize:C,filterHeight:I,filterWidth:j,inChannels:A,inHeight:O,inWidth:N,outChannels:R,outHeight:P,outWidth:M,strideHeight:D,strideWidth:L}=h,F=I-1-h.padInfo.top,B=j-1-h.padInfo.left,$=R/A;for(let e=0;e<C;++e)for(let t=0;t<A;++t)for(let n=0;n<O;++n){const r=n-F,o=Math.max(0,Math.ceil(r/D)),i=Math.min(P,(I+r)/D);for(let a=0;a<N;++a){const s=a-B,l=Math.max(0,Math.ceil(s/L)),u=Math.min(M,(j+s)/L);let c=0;for(let n=o;n<i;++n){const o=n*D-r;for(let r=l;r<u;++r){const i=x*e+w*n+k*r,a=S*(I-1-o)+E*(j-1-(r*L-s))+T*t;for(let e=0;e<$;++e)c+=v[i+(t*$+e)]*_[a+e]}}m[g*e+b*n+y*a+t]=c}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}},mQ={kernelName:iN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=NA(r.shape),i=n.data.get(r.dataId).values,a=LD([o,o],r.dtype),s=a.values;for(let e=0;e<i.length;e++)s[e*o+e]=i[e];const l=[...r.shape,...r.shape];return n.makeTensorInfo(l,a.dtype,a.values)}},gQ={kernelName:aN,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:o}=e,{strides:i,pad:a,dilations:s}=n,l=t,u=l.data.get(r.dataId).values,c=r.shape.length,d=l.data.get(o.dataId).values,p=o.shape.length,{batchSize:h,inHeight:f,inWidth:m,inChannels:g,outHeight:b,outWidth:y,padInfo:v,strideHeight:x,strideWidth:w,filterHeight:k,filterWidth:_,dilationHeight:S,dilationWidth:E,outShape:T}=qL(r.shape,o.shape,i,a,"NHWC",s),C=NA(T),I=T.length,j=UA(r.dtype,C);for(let e=0;e<h;++e)for(let t=0;t<b;++t){const n=t*x-v.top;for(let i=0;i<y;++i){const a=i*w-v.left;for(let s=0;s<g;++s){let l=Number.MIN_SAFE_INTEGER;for(let t=0;t<k;++t){const i=n+t*S;if(i>=0&&i<f)for(let n=0;n<_;++n){const h=a+n*E;if(h>=0&&h<m){const a=rO([e,i,h,s],c,KA(r.shape)),f=rO([t,n,s],p,KA(o.shape)),m=u[a]+d[f];m>l&&(l=m)}}}j[rO([e,t,i,s],I,KA(T))]=l}}}return{dataId:l.write(YP(j,r.dtype),T,r.dtype),shape:T,dtype:r.dtype}}},bQ={kernelName:lN,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:o,dy:i}=e,{strides:a,pad:s,dilations:l}=n,u=t,c=JA(r.shape,u.data.get(r.dataId).values),d=JA(o.shape,u.data.get(o.dataId).values),{batchSize:p,inHeight:h,inWidth:f,inChannels:m,outHeight:g,outWidth:b,padInfo:y,strideHeight:v,strideWidth:x,filterHeight:w,filterWidth:k,dilationHeight:_,dilationWidth:S,outShape:E}=qL(r.shape,o.shape,a,s,"NHWC",l);jA(i.rank===E.length,(()=>`Error in ${lN}, dy must have the same rank as output ${E.length}, but got ${i.rank}`));const T=JA(E,u.data.get(i.dataId).values),C=tO(o.shape,o.dtype);for(let e=0;e<p;++e)for(let t=0;t<g;++t){const n=t*v-y.top;for(let r=0;r<b;++r){const o=r*x-y.left;for(let i=0;i<m;++i){let a=Number.MIN_SAFE_INTEGER,s=0,l=0;for(let t=0;t<w;++t){const r=n+t*_;if(r>=0&&r<h)for(let n=0;n<k;++n){const u=o+n*S;if(u>=0&&u<f){const o=c[e][r][u][i]+d[t][n][i];o>a&&(a=o,s=t,l=n)}}}C[s][l][i]+=T[e][t][r][i]}}}return{dataId:u.write(YP(C,r.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},yQ={kernelName:sN,backendName:"cpu",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,filter:o,dy:i}=e,{strides:a,pad:s,dilations:l}=n,u=t,c=JA(r.shape,u.data.get(r.dataId).values),d=JA(o.shape,u.data.get(o.dataId).values),{batchSize:p,inHeight:h,inWidth:f,inChannels:m,outHeight:g,outWidth:b,padInfo:y,strideHeight:v,strideWidth:x,filterHeight:w,filterWidth:k,dilationHeight:_,dilationWidth:S,outShape:E}=qL(r.shape,o.shape,a,s,"NHWC",l);jA(i.rank===E.length,(()=>`Error in ${sN}, dy must have the same rank as output ${E.length}, but got ${i.rank}`));const T=JA(E,u.data.get(i.dataId).values),C=tO(r.shape,r.dtype);for(let e=0;e<p;++e)for(let t=0;t<g;++t){const n=t*v-y.top;for(let r=0;r<b;++r){const o=r*x-y.left;for(let i=0;i<m;++i){let a=Number.MIN_SAFE_INTEGER,s=n<0?0:n,l=o<0?0:o;for(let t=0;t<w;++t){const r=n+t*_;if(r>=0&&r<h)for(let n=0;n<k;++n){const u=o+n*S;if(u>=0&&u<f){const o=c[e][r][u][i]+d[t][n][i];o>a&&(a=o,s=r,l=u)}}}C[e][s][l][i]+=T[e][t][r][i]}}}return{dataId:u.write(YP(C,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},vQ={kernelName:"Draw",backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o}=t,{canvas:i,options:a}=r,{contextOptions:s,imageOptions:l}=a||{},u=(null==l?void 0:l.alpha)||1,c=(null==s?void 0:s.contextType)||"2d";if("2d"!==c)throw new Error(`Context type ${s.contextType} is not supported by the CPU backend.`);const d=i.getContext(c,(null==s?void 0:s.contextAttributes)||{});if(null==d)throw new Error(`Could not get the context with ${c} type.`);const[p,h]=o.shape.slice(0,2),f=2===o.shape.length?1:o.shape[2],m=n.data.get(o.dataId).values,g="float32"===o.dtype?255:1,b=new Uint8ClampedArray(h*p*4);for(let e=0;e<p*h;++e){const t=[0,0,0,255*u];for(let n=0;n<f;n++){const r=m[e*f+n];if("float32"===o.dtype){if(r<0||r>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${r}.`)}else if("int32"===o.dtype&&(r<0||r>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${r}.`);1===f?(t[0]=r*g,t[1]=r*g,t[2]=r*g):t[n]=r*g}const n=4*e;b[n+0]=Math.round(t[0]),b[n+1]=Math.round(t[1]),b[n+2]=Math.round(t[2]),b[n+3]=Math.round(t[3])}i.width=h,i.height=p;const y=new ImageData(b,h,p);return d.putImageData(y,0,0),o}},xQ=yZ(((e,t)=>e*t)),wQ=BZ(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n}))),kQ=FZ(oR,xQ,wQ),_Q={kernelName:oR,backendName:"cpu",kernelFunc:kQ};function SQ(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;let s;aZ(o,"sum"),s="bool"===o.dtype?DZ({inputs:{x:o},backend:n,attrs:{dtype:"int32"}}):fZ({inputs:{x:o},backend:n});const l=s.shape.length,u=BA(i,s.shape),c=JF(u,l);let d=u,p=s;null!=c&&(p=rJ({inputs:{x:s},backend:n,attrs:{perm:c}}),d=eB(d.length,l)),ZF("sum",d,p.shape.length);const[h,f]=YF(p.shape,d);let m=NZ(n,h,EM(p.dtype,"int32"));const g=NA(f),b=n.data.get(m.dataId).values,y=n.data.get(p.dataId).values;for(let e=0;e<b.length;++e){const t=e*g;let n=0;for(let e=0;e<g;++e)n+=y[t+e];b[e]=n}if(a){const e=m;m=GZ({inputs:{x:m},backend:n,attrs:{shape:KF(m.shape,u)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(s),null!=c&&n.disposeIntermediateTensorInfo(p),m}const EQ={kernelName:WR,backendName:"cpu",kernelFunc:SQ},TQ={kernelName:cN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,i=t,{allDims:a,summedDims:s,idDims:l}=Mz(o,i.length);Lz(a.length,l,i);const{path:u,steps:c}=Fz(s,l),d=c.length;let p=null,h=a.length;const f=[];for(let e=0;e<d;++e){for(const t of c[e]){const{permutationIndices:e,expandDims:r}=Dz(h,l[t]);let o;Bz(e)?o=i[t]:(o=rJ({inputs:{x:i[t]},backend:n,attrs:{perm:e}}),f.push(o));const a=o.shape.slice();for(let e=0;e<r.length;++e)a.splice(r[e],0,1);RA(o.shape,a)||(o=GZ({inputs:{x:o},backend:n,attrs:{shape:a}}),f.push(o)),null===p?p=o:(p=kQ({inputs:{a:o,b:p},backend:n}),f.push(p))}e<d-1&&(u[e]>=0&&(p=SQ({inputs:{x:p},backend:n,attrs:{axis:u[e]-(a.length-h),keepDims:!1}}),f.push(p)),h--)}for(const e of f)e!==p&&n.disposeIntermediateTensorInfo(e);return p}},CQ={kernelName:pN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:r,y:o}=t;aZ([r,o],"eluGrad");const i=new Float32Array(NA(o.shape)),a=n.data.get(o.dataId).values,s=n.data.get(r.dataId).values;for(let e=0;e<a.length;++e){const t=a[e];i[e]=t>=0?s[e]:s[e]*(t+1)}return n.makeTensorInfo(o.shape,"float32",i)}},IQ=yZ(((e,t)=>e===t?1:0)),jQ=FZ(fN,IQ,null,"bool"),AQ={kernelName:fN,backendName:"cpu",kernelFunc:jQ},OQ=bz,NQ=yz,RQ=vz,PQ=xz,MQ=wz,DQ=kz,LQ=cZ(hN,(e=>{const t=Math.sign(e),n=Math.abs(e),r=1/(1+OQ*n);return t*(1-((((DQ*r+MQ)*r+PQ)*r+RQ)*r+NQ)*r*Math.exp(-n*n))})),FQ={kernelName:hN,backendName:"cpu",kernelFunc:LQ},BQ=uZ((e=>Math.exp(e))),$Q=dZ(mN,BQ,"float32"),zQ={kernelName:mN,backendName:"cpu",kernelFunc:$Q};function UQ(e){const{inputs:t,backend:n,attrs:r}=e,{input:o}=t,{dim:i}=r,a=o.shape.length,s=o.shape.slice();let l=i;return i<0&&(jA(-(a+1)<=i,(()=>`Axis must be in the interval [${-(a+1)}, ${a}]`)),l=a+i+1),s.splice(l,0,1),GZ({inputs:{x:o},backend:n,attrs:{shape:s}})}const VQ={kernelName:gN,backendName:"cpu",kernelFunc:UQ},GQ=uZ((e=>Math.expm1(e))),WQ=dZ(bN,GQ),HQ={kernelName:bN,backendName:"cpu",kernelFunc:WQ},qQ=yZ(((e,t)=>e/t)),XQ=FZ(uN,qQ),YQ={kernelName:uN,backendName:"cpu",kernelFunc:XQ},KQ=yZ(((e,t)=>e-t)),ZQ=BZ(((e,t,n,r)=>({real:e-n,imag:t-r}))),JQ=FZ(sP,KQ,ZQ),QQ={kernelName:sP,backendName:"cpu",kernelFunc:JQ};function e0(e,t,n){const r=e.shape,o=r[0],i=r[1],a=n.data.get(e.dataId),s=a.complexTensorInfos.real,l=a.complexTensorInfos.imag,u=[o,i],c=NA(u),d=zA("float32",c),p=zA("float32",c);for(let e=0;e<o;e++){const r=jJ({inputs:{x:s},backend:n,attrs:{begin:[e,0],size:[1,i]}}),o=jJ({inputs:{x:l},backend:n,attrs:{begin:[e,0],size:[1,i]}}),a=AZ({inputs:{real:r,imag:o},backend:n}),{real:u,imag:c}=t0(a,t,n),h=_z(u,c);for(let t=0;t<i;t++){const n=Cz(h,t);d[e*i+t]=n.real,p[e*i+t]=n.imag}n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(a)}const h=n.makeTensorInfo(u,"float32",d),f=n.makeTensorInfo(u,"float32",p),m=AZ({inputs:{real:h,imag:f},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}function t0(e,t,n){const r=NA(e.shape),o=n.data.get(e.dataId),i=n.data.get(o.complexTensorInfos.real.dataId).values,a=n.data.get(o.complexTensorInfos.imag.dataId).values;if(function(e){return 0==(e&e-1)}(r)){const o=n0(i,a,r,t,n),s=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(s,"float32",o.real),t=n.makeTensorInfo(s,"float32",o.imag),i=n.makeTensorInfo([],"float32",XP(r,"float32")),a=fZ({inputs:{x:i},backend:n}),l=YQ.kernelFunc({inputs:{a:e,b:i},backend:n}),u=YQ.kernelFunc({inputs:{a:t,b:a},backend:n}),c=n.data.get(l.dataId).values,d=n.data.get(u.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),{real:c,imag:d}}return o}{const e=function(e,t,n){const r=new Float32Array(2*t);for(let o=0;o<t;o++){let i=0,a=0;for(let r=0;r<t;r++){const s=Az(o*r,t,n),l=Cz(e,r);i+=l.real*s.real-l.imag*s.imag,a+=l.real*s.imag+l.imag*s.real}n&&(i/=t,a/=t),Iz(r,i,a,o)}return r}(_z(i,a),r,t);return Sz(e)}}function n0(e,t,n,r,o){if(1===n)return{real:e,imag:t};const i=_z(e,t),a=n/2,s=Ez(i),l=s.real,u=s.imag,c=[l.length],d=o.makeTensorInfo(c,"float32",l),p=o.makeTensorInfo(c,"float32",u),h=AZ({inputs:{real:d,imag:p},backend:o}),f=Tz(i),m=f.real,g=f.imag,b=[m.length],y=o.makeTensorInfo(b,"float32",m),v=o.makeTensorInfo(b,"float32",g),x=AZ({inputs:{real:y,imag:v},backend:o}),w=n0(l,u,a,r,o),k=w.real,_=w.imag,S=[k.length],E=o.makeTensorInfo(S,"float32",k),T=o.makeTensorInfo(S,"float32",_),C=AZ({inputs:{real:E,imag:T},backend:o}),I=n0(m,g,a,r,o),j=I.real,A=I.imag,O=[j.length],N=o.makeTensorInfo(O,"float32",j),R=o.makeTensorInfo(O,"float32",A),P=AZ({inputs:{real:N,imag:R},backend:o}),M=jz(n,r),D=[M.real.length],L=o.makeTensorInfo(D,"float32",M.real),F=o.makeTensorInfo(D,"float32",M.imag),B=AZ({inputs:{real:L,imag:F},backend:o}),$=kQ({inputs:{a:B,b:P},backend:o}),z=UZ({inputs:{a:C,b:$},backend:o}),U=JQ({inputs:{a:C,b:$},backend:o}),V=RZ({inputs:{input:z},backend:o}),G=RZ({inputs:{input:U},backend:o}),W=WJ({inputs:{input:z},backend:o}),H=WJ({inputs:{input:U},backend:o}),q=qJ({inputs:[V,G],backend:o,attrs:{axis:0}}),X=qJ({inputs:[W,H],backend:o,attrs:{axis:0}}),Y=o.data.get(q.dataId).values,K=o.data.get(X.dataId).values;return o.disposeIntermediateTensorInfo(d),o.disposeIntermediateTensorInfo(p),o.disposeIntermediateTensorInfo(h),o.disposeIntermediateTensorInfo(y),o.disposeIntermediateTensorInfo(v),o.disposeIntermediateTensorInfo(x),o.disposeIntermediateTensorInfo(E),o.disposeIntermediateTensorInfo(T),o.disposeIntermediateTensorInfo(C),o.disposeIntermediateTensorInfo(N),o.disposeIntermediateTensorInfo(R),o.disposeIntermediateTensorInfo(P),o.disposeIntermediateTensorInfo(L),o.disposeIntermediateTensorInfo(F),o.disposeIntermediateTensorInfo(B),o.disposeIntermediateTensorInfo($),o.disposeIntermediateTensorInfo(z),o.disposeIntermediateTensorInfo(U),o.disposeIntermediateTensorInfo(V),o.disposeIntermediateTensorInfo(W),o.disposeIntermediateTensorInfo(G),o.disposeIntermediateTensorInfo(H),o.disposeIntermediateTensorInfo(q),o.disposeIntermediateTensorInfo(X),{real:Y,imag:K}}const r0={kernelName:yN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,o=NA(r.shape),i=r.shape[r.shape.length-1],a=GZ({inputs:{x:r},backend:n,attrs:{shape:[o/i,i]}}),s=e0(a,!1,n),l=GZ({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),l}};function o0(e){const{backend:t,attrs:n}=e,{shape:r,value:o,dtype:i}=n,a=i||qA(o),s=UA(a,NA(r));return function(e,t,n){e.fill(t)}(s,o),t.makeTensorInfo(r,a,s)}const i0={kernelName:vN,backendName:"cpu",kernelFunc:o0},a0={kernelName:xN,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,o=n,i=zA(r.dtype,NA(r.shape)),[a,s,l,u]=r.shape,c=o.data.get(r.dataId).values;for(let e=0;e<a;e++){const t=e*l*s*u;for(let e=0;e<s;e++){const n=e*(l*u);for(let e=0;e<l;e++){const r=e*u;for(let o=0;o<u;o++){const a=Math.round(l-e-1),s=t+n+r+o;let d=c[s];a>=0&&a<l&&(d=c[t+n+a*u+o]),i[s]=d}}}}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},s0=uZ((e=>Math.floor(e))),l0=dZ(wN,s0),u0={kernelName:wN,backendName:"cpu",kernelFunc:l0},c0=yZ(((e,t)=>Math.floor(e/t))),d0=FZ(kN,c0,null,"int32"),p0={kernelName:kN,backendName:"cpu",kernelFunc:d0},h0={kernelName:wP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=YJ({inputs:{x:o,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(a){const e=m;if("NCHW"===c&&1===a.shape.length&&1!==a.shape[0]){const e=GZ({inputs:{x:a},backend:n,attrs:{shape:[a.shape[0],1,1]}});m=UZ({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=UZ({inputs:{a:m,b:a},backend:n});n.disposeIntermediateTensorInfo(e)}if(h){const e=m;if("NCHW"===c&&"prelu"===h&&1===s.shape.length&&1!==s.shape[0]){const e=GZ({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=jZ(n,m,h,e,f),n.disposeIntermediateTensorInfo(e)}else m=jZ(n,m,h,s,f);n.disposeIntermediateTensorInfo(e)}return m}},f0={kernelName:kP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r;let m=dQ({inputs:{x:o,filter:i},backend:n,attrs:{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p}});if(a){const e=m;m=UZ({inputs:{a:m,b:a},backend:n}),n.disposeIntermediateTensorInfo(e)}if(h){const e=m;m=jZ(n,m,h,s,f),n.disposeIntermediateTensorInfo(e)}return m}};function m0(e,t,n,r,o,i,a,s,l){const u=LD([r,i],n);for(let n=0;n<r;n++){const r=[];let c=0;for(let t=0;t<o;t++){const i=e[n*o+t];c+=i*a[t],r.push(i)}if(c<0||c>=l/i)throw new Error(`Invalid indices: ${r} does not index into ${s}`);for(let e=0;e<i;e++)u.values[n*i+e]=t.get(...t.indexToLoc(c*i+e))}return u}const g0={kernelName:EN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:o}=t,i=NA(r.shape),a=o.shape,s=a[a.length-1],[l,u,c,d]=dz(r,o);if(0===u)return n.makeTensorInfo(l,r.dtype,[]);const p=m0(n.data.get(o.dataId).values,n.bufferSync(r),r.dtype,u,s,c,d,r.shape,i);return n.makeTensorInfo(l,r.dtype,p.values)}};function b0(e,t,n){const r=LD(n,e.dtype);for(let n=0;n<r.size;++n){const o=r.indexToLoc(n).slice(),i=o[0],a=o[2],s=t.locToIndex([i,a]);o[2]=t.values[s];const l=e.locToIndex(o);0<=l&&l<e.values.length&&(r.values[n]=e.values[l])}return r}const y0={kernelName:SN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,indices:i}=t,{axis:a,batchDims:s}=r;aZ([o,i],"gatherV2");const l=BA(a,o.shape)[0],u=n.data.get(i.dataId).values,c=o.shape[l];for(let e=0;e<u.length;++e){const t=u[e];jA(t<=c-1&&t>=0,(()=>`GatherV2: the index value ${t} is not in [0, ${c-1}]`))}let d=s;null==s&&(d=0);const p=NA(i.shape),h=nU(o,i,l,d),f=GZ({inputs:{x:o},backend:n,attrs:{shape:[h.batchSize,h.outerSize,h.dimSize,h.sliceSize]}}),m=GZ({inputs:{x:i},backend:n,attrs:{shape:[h.batchSize,p/h.batchSize]}}),g=[h.batchSize,h.outerSize,p/h.batchSize,h.sliceSize],b=n.bufferSync(m),y=b0(n.bufferSync(f),b,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(h.outputShape,y.dtype,y.values)}},v0=yZ(((e,t)=>e>t?1:0)),x0=FZ(TN,v0,null,"bool"),w0={kernelName:TN,backendName:"cpu",kernelFunc:x0},k0=yZ(((e,t)=>e>=t?1:0)),_0=FZ(CN,k0,null,"bool"),S0={kernelName:CN,backendName:"cpu",kernelFunc:_0},E0={kernelName:jN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t,o=NA(r.shape),i=r.shape[r.shape.length-1],a=GZ({inputs:{x:r},backend:n,attrs:{shape:[o/i,i]}}),s=e0(a,!0,n),l=GZ({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),l}},T0=cZ(ON,(e=>Number.isFinite(e)?1:0),"bool"),C0={kernelName:ON,backendName:"cpu",kernelFunc:T0},I0=cZ(NN,(e=>Math.abs(e)===1/0?1:0),"bool"),j0={kernelName:NN,backendName:"cpu",kernelFunc:I0},A0=cZ(RN,(e=>Number.isNaN(e)?1:0),"bool"),O0={kernelName:RN,backendName:"cpu",kernelFunc:A0},N0=yZ(((e,t)=>e<t?1:0)),R0=FZ(MN,N0,null,"bool"),P0={kernelName:MN,backendName:"cpu",kernelFunc:R0},M0=yZ(((e,t)=>e<=t?1:0)),D0=FZ(DN,M0,null,"bool"),L0={kernelName:DN,backendName:"cpu",kernelFunc:D0};function F0(e,t,n){const r=(t-e)/(n-1),o=eO(n,"float32");o[0]=e;for(let e=1;e<o.length;e++)o[e]=o[e-1]+r;return o}const B0={kernelName:LN,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,num:i}=n,a=F0(r,o,i);return t.makeTensorInfo([a.length],"float32",a)}},$0=uZ((e=>Math.log(e))),z0=dZ(FN,$0),U0={kernelName:FN,backendName:"cpu",kernelFunc:z0},V0=cZ(BN,(e=>Math.log1p(e))),G0={kernelName:BN,backendName:"cpu",kernelFunc:V0},W0=yZ(((e,t)=>e&&t)),H0=FZ($N,W0,null,"bool"),q0={kernelName:$N,backendName:"cpu",kernelFunc:H0},X0=cZ(zN,(e=>e?0:1),"bool"),Y0={kernelName:zN,backendName:"cpu",kernelFunc:X0},K0=yZ(((e,t)=>e||t)),Z0=FZ(UN,K0,null,"bool"),J0={kernelName:UN,backendName:"cpu",kernelFunc:Z0},Q0={kernelName:VN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:i,bias:a,alpha:s,beta:l}=r;aZ(o,"LRN");const u=o.shape[3],c=u-1,d=n.data.get(o.dataId).values,p=NA(o.shape),h=new Float32Array(p);function f(e){const t=e%u;let n=e-t+Math.max(0,t-i);const r=e-t+Math.min(t+i,c);let o=0;for(;n<=r;n++){const e=d[n];o+=e*e}return o}for(let e=0;e<p;e++){const t=f(e),n=d[e]*Math.pow(a+s*t,-l);h[e]=n}return n.makeTensorInfo(o.shape,o.dtype,h)}},e1={kernelName:GN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,y:i,dy:a}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r;aZ(a,"LRNGrad");const d=NA(a.shape),p=a.shape[3],h=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,m=n.data.get(i.dataId).values,g=new Float32Array(d),b=d;for(let e=0;e<b;e++){const t=e%p,n=e-t+Math.max(0,t-s),r=e-t+Math.min(p,t+s+1);let o=0;for(let e=n;e<r;e++)o+=Math.pow(f[e],2);o=u*o+l;for(let t=n;t<r;t++){let n=-2*u*c*f[t]*m[e]/o;e===t&&(n+=Math.pow(o,-c)),n*=h[e],g[t]+=n}}return n.makeTensorInfo(a.shape,o.dtype,g)}};function t1(e,t,n,r){const o=zA(r,NA(n));for(let n=0;n<o.length;++n){const r=n*t;let i=e[r];for(let n=0;n<t;++n){const t=e[r+n];(Number.isNaN(t)||t>i)&&(i=t)}o[n]=i}return o}function n1(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:i,keepDims:a}=r,s=n;let l=o.shape;const u=l.length,c=BA(i,l);let d=c;const p=JF(d,u);let h=s.data.get(o.dataId).values;if(null!=p){const e=new Array(u);for(let t=0;t<e.length;t++)e[t]=l[p[t]];h=nJ(h,l,o.dtype,p,e),d=eB(d.length,u),l=e}aZ(o,"max"),ZF("max",d,u);const[f,m]=YF(l,d),g=t1(h,NA(m),f,o.dtype),b=s.write(g,f,o.dtype);let y=f;return a&&(y=KF(f,c)),{dataId:b,shape:y,dtype:o.dtype}}const r1={kernelName:WN,backendName:"cpu",kernelFunc:n1},o1=yZ(((e,t)=>Math.max(e,t))),i1=FZ(HN,o1),a1={kernelName:HN,backendName:"cpu",kernelFunc:i1},s1={kernelName:qN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;aZ(o,"maxPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r;jA(oF(a,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const u=XL(o.shape,i,a,1,s,l);let c;if(1===u.filterWidth&&1===u.filterHeight&&RA(u.inShape,u.outShape))c=fZ({inputs:{x:o},backend:n});else{const e=n.data.get(o.dataId).values,t=KA(o.shape),r=xJ(e,o.shape,o.dtype,t,u,"max");c=n.makeTensorInfo(u.outShape,o.dtype,r.values)}return c}},l1={kernelName:YN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:l,dataFormat:u}=r;aZ(o,"maxPool3d");const c=YL(o.shape,i,a,1,s,l,u),d=kJ(n.data.get(o.dataId).values,o.shape,o.dtype,KA(o.shape),c,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}},u1={kernelName:KN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,{filterSize:a,strides:s,pad:l,dimRoundingMode:u}=r;aZ([o,i],"maxPool3DGrad");const c=YL(i.shape,a,s,1,l,u),d=function(e,t){const n=LD(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,i=t.strideWidth,a=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let b=0;b<t.outDepth;++b){const y=b*r-p;let v=y;for(;v<0;)v+=a;const x=Math.min(t.inDepth,u+y);for(let r=0;r<t.outHeight;++r){const u=r*o-h;let p=u;for(;p<0;)p+=s;const w=Math.min(t.inHeight,c+u);for(let o=0;o<t.outWidth;++o){const h=o*i-f;let k=h;for(;k<0;)k+=l;const _=Math.min(t.inWidth,d+h);let S=Number.NEGATIVE_INFINITY,E=-1;for(let t=v;t<x;t+=a){const n=t-y;for(let r=p;r<w;r+=s){const o=r-u;for(let i=k;i<_;i+=l){const a=i-h,s=e.get(m,t,r,i,g);s>=S&&(S=s,E=n*c*d+o*c+a)}}}n.set(E,m,b,r,o,g)}}}return n}(n.bufferSync(i),c),p=c.strideDepth,h=c.strideHeight,f=c.strideWidth,m=c.dilationDepth,g=c.dilationHeight,b=c.dilationWidth,y=c.effectiveFilterDepth,v=c.effectiveFilterHeight,x=c.effectiveFilterWidth,w=y-1-c.padInfo.front,k=x-1-c.padInfo.left,_=v-1-c.padInfo.top,S=LD(i.shape,"float32"),E=n.bufferSync(o);for(let e=0;e<c.batchSize;++e)for(let t=0;t<c.inChannels;++t)for(let n=0;n<c.inDepth;++n)for(let r=0;r<c.inHeight;++r)for(let o=0;o<c.inWidth;++o){const i=n-w,a=r-_,s=o-k;let l=0;for(let n=0;n<y;n+=m){const r=(i+n)/p;if(!(r<0||r>=c.outDepth||Math.floor(r)!==r))for(let o=0;o<v;o+=g){const i=(a+o)/h;if(!(i<0||i>=c.outHeight||Math.floor(i)!==i))for(let a=0;a<x;a+=b){const u=(s+a)/f;if(u<0||u>=c.outWidth||Math.floor(u)!==u)continue;const p=y*v*x-1-d.get(e,r,i,u,t)===n*v*x+o*x+a?1:0;0!==p&&(l+=E.get(e,r,i,u,t)*p)}}}S.set(l,e,n,r,o,t)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}},c1={kernelName:XN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i,output:a}=t,s=i;aZ([i,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=XL(s.shape,l,u,1,c,d),h=n.data.get(s.dataId).values,f=LD(p.outShape,s.dtype,wJ(h,s.shape,s.dtype,p).values),m=p.strideHeight,g=p.strideWidth,b=p.dilationHeight,y=p.dilationWidth,v=p.effectiveFilterHeight,x=p.effectiveFilterWidth,w=x-1-p.padInfo.left,k=v-1-p.padInfo.top,_=LD(s.shape,"float32"),S=n.data.get(o.dataId).values,E=LD(o.shape,"float32",S);for(let e=0;e<p.batchSize;++e)for(let t=0;t<p.inChannels;++t)for(let n=0;n<p.inHeight;++n)for(let r=0;r<p.inWidth;++r){const o=n-k,i=r-w;let a=0;for(let n=0;n<v;n+=b){const r=(o+n)/m;if(!(r<0||r>=p.outHeight||Math.floor(r)!==r))for(let o=0;o<x;o+=y){const s=(i+o)/g;if(s<0||s>=p.outWidth||Math.floor(s)!==s)continue;const l=v*x-1-f.get(e,r,s,t)===n*x+o?1:0;0!==l&&(a+=E.get(e,r,s,t)*l)}}_.set(a,e,n,r,t)}return n.makeTensorInfo(_.shape,_.dtype,_.values)}},d1={kernelName:ZN,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:o,strides:i,pad:a,includeBatchInIndex:s}=t,l=n;aZ(r,"MaxPoolWithArgmax");const u=l.data.get(r.dataId).values,c=XL(r.shape,o,i,[1,1],a),[d,p]=function(e,t,n,r,o){const i=xJ(e,0,n,KA(t),o,"max"),a=wJ(e,t,n,o,!0,r);return[i.values,a.values]}(u,r.shape,r.dtype,s,c),h=l.write(d,c.outShape,r.dtype),f=l.write(p,c.outShape,r.dtype);return[{dataId:h,shape:c.outShape,dtype:r.dtype},{dataId:f,shape:c.outShape,dtype:"int32"}]}},p1={kernelName:JN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=BA(i,o.shape),l=NA(YF(o.shape,s)[1]),u=[],c=n.makeTensorInfo([],"float32",new Float32Array([l]));u.push(c);const d=DZ({inputs:{x:o},backend:n,attrs:{dtype:"float32"}});u.push(d);const p=XQ({inputs:{a:d,b:c},backend:n});u.push(p);const h=SQ({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:a}});return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}},h1={kernelName:QN,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;aZ(o,"min");const s=BA(i,o.shape);let l=s;const u=JF(l,o.shape.length);let c=o;null!=u&&(c=rJ({inputs:{x:o},backend:n,attrs:{perm:u}}),l=eB(l.length,o.shape.length)),ZF("min",l,c.shape.length);const[d,p]=YF(c.shape,l),h=NA(p),f=eO(NA(d),c.dtype),m=n.data.get(c.dataId).values;for(let e=0;e<f.length;++e){const t=e*h;let n=m[t];for(let e=0;e<h;++e){const r=m[t+e];(Number.isNaN(r)||r<n)&&(n=r)}f[e]=n}null!=u&&n.disposeIntermediateTensorInfo(c);const g=n.makeTensorInfo(d,c.dtype,f);if(a){const e=GZ({inputs:{x:g},backend:n,attrs:{shape:KF(d,s)}});return n.disposeIntermediateTensorInfo(g),e}return g}},f1=yZ(((e,t)=>Math.min(e,t))),m1=FZ(eR,f1),g1={kernelName:eR,backendName:"cpu",kernelFunc:m1},b1={kernelName:tR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,mode:a}=r;aZ(o,"mirrorPad");const s=i.map(((e,t)=>e[0]+o.shape[t]+e[1])),l=i.map((e=>e[0])),u=i.map(((e,t)=>e[0]+o.shape[t])),c="reflect"===a?0:1,d=n.data.get(o.dataId).values,p=o.shape.length,h=KA(o.shape),f=NA(s),m=s.length,g=KA(s),b=zA(o.dtype,f);for(let e=0;e<f;e++){let t=oO(e,m,g);for(let e=0;e<m;e++)t[e]<l[e]?t[e]=2*l[e]-t[e]-c:t[e]>=u[e]&&(t[e]=2*(u[e]-1)-t[e]+c);t=t.map(((e,t)=>e-l[t]));const n=rO(t,p,h);b[e]=d[n]}return{dataId:n.write(b,s,o.dtype),shape:s,dtype:o.dtype}}},y1=yZ(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),v1=FZ(nR,y1),x1={kernelName:nR,backendName:"cpu",kernelFunc:v1};function w1(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:i}=r,a=o.shape.length;let s=i;if(-1===s&&(s=a-1),s!==a-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a} and dim was ${s}`);const l=BA([s],o.shape),u=n1({inputs:{x:o},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),c=KF(u.shape,l),d=GZ({inputs:{x:u},backend:n,attrs:{shape:c}}),p=JQ({inputs:{a:o,b:d},backend:n}),h=$Q({inputs:{x:p},backend:n}),f=SQ({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),m=GZ({inputs:{x:f},backend:n,attrs:{shape:c}}),g=XQ({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const k1={kernelName:XR,backendName:"cpu",kernelFunc:w1},_1={kernelName:rR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:i,seed:a,normalized:s}=r;aZ(o,"multinomial");const l=s?o:w1({inputs:{logits:o},backend:n,attrs:{dim:-1}}),u=l.shape[0],c=l.shape[1],d=n.data.get(l.dataId).values,p=[u,i],h=eO(NA(p),"int32");for(let e=0;e<u;++e){const t=e*c,n=new Float32Array(c-1);n[0]=d[t];for(let e=1;e<n.length;++e)n[e]=n[e-1]+d[t+e];const r=yB.alea(a.toString()),o=e*i;for(let e=0;e<i;++e){const t=r();h[o+e]=n.length;for(let r=0;r<n.length;r++)if(t<n[r]){h[o+e]=r;break}}}return s||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(p,"int32",h)}};function S1(e,t,n){const r=XP(-1,n);return xQ([],t,r,e,n)}const E1={kernelName:iR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;aZ(r,"neg");const o=n.data.get(r.dataId).values,[i,a]=S1(o,r.shape,r.dtype);return n.makeTensorInfo(a,r.dtype,i)}},T1=x$,C1={kernelName:sR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l}=r;aZ(o,"NonMaxSuppression");const u=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values,{selectedIndices:d}=T1(u,c,a,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},I1=w$,j1={kernelName:lR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r;aZ(o,"NonMaxSuppressionPadded");const c=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values,{selectedIndices:p,validOutputs:h}=I1(c,d,a,s,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},A1=k$,O1={kernelName:uR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r;aZ(o,"NonMaxSuppressionWithScore");const c=n.data.get(o.dataId).values,d=n.data.get(i.dataId).values,p=a,h=s,f=l,m=u,{selectedIndices:g,selectedScores:b}=A1(c,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([b.length],"float32",new Float32Array(b))]}},N1=yZ(((e,t)=>e!==t?1:0)),R1=FZ(aR,N1,null,"bool"),P1={kernelName:aR,backendName:"cpu",kernelFunc:R1},M1={kernelName:dR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:i,depth:a,onValue:s,offValue:l}=r;aZ(o,"oneHot");const u=NA(o.shape),c=new Float32Array(u*a);c.fill(l);const d=n.data.get(o.dataId).values;for(let e=0;e<u;++e)d[e]>=0&&d[e]<a&&(c[e*a+d[e]]=s);return n.makeTensorInfo([...o.shape,a],i,c)}};function D1(e){const{inputs:t,backend:n}=e,{x:r}=t;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){const e=RZ({inputs:{input:r},backend:n}),t=D1({inputs:{x:e},backend:n}),o=WJ({inputs:{input:r},backend:n}),i=D1({inputs:{x:o},backend:n}),a=AZ({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),a}return o0({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const L1={kernelName:bP,backendName:"cpu",kernelFunc:D1},F1={kernelName:cR,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:o}=n;if("string"===o.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===o.dtype){const t=RZ({inputs:{input:o},backend:r}),n=e({inputs:{x:t},backend:r}),i=WJ({inputs:{input:o},backend:r}),a=D1({inputs:{x:i},backend:r}),s=AZ({inputs:{real:n,imag:a},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}return o0({backend:r,attrs:{shape:o.shape,value:1,dtype:o.dtype}})}};function B1(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return UQ({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const i=t[0].shape,a=t[0].dtype;t.forEach((e=>{AA(i,e.shape,"All tensors passed to stack must have matching shapes"),jA(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=qJ({inputs:t.map((e=>{const t=UQ({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}const $1={kernelName:pR,backendName:"cpu",kernelFunc:B1},z1={kernelName:hR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,constantValue:a}=r;aZ(o,"pad");const s=i.map(((e,t)=>e[0]+o.shape[t]+e[1])),l=i.map((e=>e[0])),u=n.data.get(o.dataId).values,c=NA(o.shape),d=o.shape.length,p=KA(o.shape),h=NA(s),f=s.length,m=KA(s),g=zA(o.dtype,h);0!==a&&g.fill(a);for(let e=0;e<c;e++){g[rO(oO(e,d,p).map(((e,t)=>e+l[t])),f,m)]=u[e]}return{dataId:n.write(g,s,o.dtype),shape:s,dtype:o.dtype}}},U1=yZ(((e,t)=>Math.pow(e,t))),V1=FZ(fR,U1),G1={kernelName:fR,backendName:"cpu",kernelFunc:V1};function W1(e,t,n,r){const[o,i]=YF(e,r),a=EM(t,"int32"),s=eO(NA(o),a),l=NA(i);for(let e=0;e<s.length;++e){const t=e*l;let r=1;for(let e=0;e<l;++e)r*=n[t+e];s[e]=r}return{outVals:s,outShape:o,outDtype:a}}const H1={kernelName:gR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;aZ(o,"prod");const s=o.shape.length,l=BA(i,o.shape),u=JF(l,s);let c=l,d=o;const p=[];null!=u&&(d=rJ({inputs:{x:o},backend:n,attrs:{perm:u}}),p.push(d),c=eB(c.length,s));const h=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=W1(d.shape,d.dtype,h,c);let b=m;return a&&(b=KF(m,l)),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(b,g,f)}};function q1(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let r=t;r<e.length;r++)n[t-1]*=e[r];return n}function X1(e,t,n,r,o,i,a,s){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,r)=>{if(e<0||e>=n){const o=oO(r,t.length,KA(t)).join(",");throw new Error(`indices[${o}] = ${e} is not in [0, ${n})`)}}))}(i,a,t[0][0]-1),0===r.length)throw new Error("params.rank must be nonzero");const l=r[0],{outSplits:u,valueSlices:c,numValues:d}=function(e,t,n,r){const o=[];let i=0;const a=t.length-1+n.length,s=new Array(a).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const r=e[n],o=n===e.length-1?t:e[n+1].length;if(0===r.length)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>o)throw new Error("Ragged splits must not point past values");for(let e=1;e<r.length;++e)if(r[e-1]>r[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,r);let l=1;for(let e=0;e<t.length-1;++e){l*=t[e];const n=t[e+1];for(let t=1;t<l+1;++t)s[e].push(t*n)}for(let r=0;r<e.length;++r){let a=e[r],l=e[r]+1;for(let e=0;e<n.length;++e){const r=n[e],o=e+t.length-1;if(o>=0){const e=s[o],t=e[e.length-1]-r[a];for(let e=a;e<l;++e)s[o].push(r[e+1]+t)}a=r[a],l=r[l]}l!==a&&(o.push([a,l]),i+=l-a)}return{outSplits:s,valueSlices:o,numValues:i}}(i,a,e,l),p=function(e){const t=[];for(let n=0;n<e.length;++n){const r=UA("int32",e[n].length);t.push(r),e[n].forEach(((e,t)=>r[t]=e))}return t}(u),h=function(e,t,n,r,o){const i=t.slice();i[0]=o;const a=UA(n,NA(i)),s=e.length;return function(e,t,n,r,o,i){const a=q1(t,2)[1],s=q1(i,2)[1];let l=0;for(const t of n)for(let n=t[0];n<t[1];++n){for(let t=0;t<r;++t)o[l*s+t]=e[n*a+t];++l}}(e,t,r,0===s?0:s/t[0],a,i),[a,i]}(n,r,o,c,d);return[p,h[0],h[1]]}const Y1={kernelName:bR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:o,paramsDenseValues:i,indices:a}=t,{outputRaggedRank:s}=r,l=o.map((e=>n.data.get(e.dataId).values)),u=o.map((e=>e.shape)),c=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,[p,h,f]=X1(l,u,c,i.shape,i.dtype,d,a.shape),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,i.dtype,h);return m.concat([g])}},K1=2147483647;function Z1(e,t,n,r,o,i,a){if(t.length>1)throw new Error("starts must be a scalar or vector");if(o.length>1)throw new Error("limits must be a scalar or vector");if(a.length>1)throw new Error("deltas must be a scalar or vector");const s=0===t.length,l=0===o.length,u=0===a.length,c=[];s||c.push(t[0]),l||c.push(o[0]),u||c.push(a[0]);for(let e=1;e<c.length;++e)if(c[e]!==c[e-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===c.length?1:c[0],p=UA("int32",d+1);p[0]=0;for(let t=0;t<d;++t){const n=s?e[0]:e[t],o=l?r[0]:r[t],a=u?i[0]:i[t];if(0===a)throw new Error("Requires delta != 0");let c;if(a>0&&o<n||a<0&&o>n)c=0;else if(c=Math.ceil(Math.abs((o-n)/a)),c>K1)throw new Error(`Requires ((limit - start) / delta) <= ${K1}`);p[t+1]=p[t]+c}const h=UA(n,p[d]);let f=0;for(let t=0;t<d;++t){const n=p[t+1]-p[t];let r=s?e[0]:e[t];const o=u?i[0]:i[t];for(let e=0;e<n;++e)h[f++]=r,r+=o}return[p,h]}const J1={kernelName:yR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:o,deltas:i}=t,a=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values,[u,c]=Z1(a,r.shape,r.dtype,s,o.shape,l,i.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}};var Q1=J$;class e2{constructor(e,t,n,r,o,i,a,s,l,u){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=r,this.valuesDType=o,this.defaultValue=i,this.defaultValueShape=a,this.rowPartitionValues=s,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=ez(u),this.raggedRank=tz(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Q1.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Q1.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Q1.VALUE_ROWIDS:return e2.getMaxWidthValueRowID(t);case Q1.ROW_SPLITS:return e2.getMaxWidthRowSplit(t);default:throw new Error(`Cannot handle partition type ${Q1[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let r=0;r<t-1;++r){const t=e[r+1]-e[r];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,r=e[0],o=0;for(let i=1;i<t;++i){const t=e[i];t!==r&&(r=t,o=Math.max(i-n,o),n=i)}return Math.max(t-n,o)}tensorShapeFromTensor(e,t,n=!0){if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return n2(e,n)}calculateOutputSize(e){const t=this.valuesShape;nz(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),r=Q$(this.raggedRank,n,t);r[0]<0&&(r[0]=e);for(let e=1;e<=this.raggedRank;++e)r[e]<0&&(r[e]=this.getMaxWidth(e));return r}calculateFirstParentOutputIndex(e,t,n){const r=Math.min(e,n),o=[];let i=0;for(let e=0;e<r;++e,i+=t)o.push(i);for(let t=r;t<e;++t)o.push(-1);return jA(o.length===e,(()=>"Final length of result must be equal to firstDimension.")),o}calculateOutputIndexRowSplit(e,t,n,r){const o=e.length,i=[];for(let a=0;a<o-1;++a){const o=e[a+1]-e[a];let s=Math.min(r,o),l=t[a];-1===l&&(s=0);for(let e=0;e<s;++e)i.push(l),l+=n;for(let e=0;e<o-s;++e)i.push(-1)}if(o>0&&i.length!==e[o-1])throw new Error("Invalid row split size.");return i}calculateOutputIndexValueRowID(e,t,n,r){const o=e.length,i=[];if(0===o)return[];let a=0,s=e[0];if(s>=t.length)throw new Error(`Got currentValueRowId=${s}, which is not less than ${t.length}`);let l=t[s];i.push(l);for(let u=1;u<o;++u){const o=e[u];if(o===s)l>=0&&(++a,a<r?l+=n:l=-1);else{if(a=0,s=o,o>=t.length)throw new Error(`Got nextValueRowId=${o} which is not less than ${t.length}`);l=t[o]}i.push(l)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}calculateOutputIndex(e,t,n,r){const o=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case Q1.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(o,t,n,r);case Q1.ROW_SPLITS:if(o.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${o.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(o,t,n,r);default:throw new Error(`Unsupported partition type: ${Q1[i]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case Q1.FIRST_DIM_SIZE:return e[0];case Q1.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Q1.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Q1[t]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let e=n.length-2;e>=0;--e)n[e]=n[e+1]*t[e+1];const r=n2(t,!1),o=UA(this.valuesDType,NA(r));if(n[0]*t[0]>0){let i=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e)i=this.calculateOutputIndex(e-1,i,n[e],t[e]);this.setOutput(this.raggedRank,i,o,r)}return[r,o]}setOutput(e,t,n,r){if(0===n.length)return;const o=this.values,i=n;let a=r.slice();a=a.slice(e+1);const s=NA(a),l=t.length;let u=this.defaultValue;if(u.length!==s&&1!==u.length){const e=this.defaultValueShape;tD((()=>{const t=lF(u,e),n=mF(t,a);u=n.dataSync()}))}let c=0,d=0,p=0;for(let e=0;e<=l;++e){let r=e<l?t[e]:-1;if(r!==p){if(d<p){const e=o.subarray(c*s);t2(i.subarray(d*s),e,(p-d)*s)}if(e>=l){const e=n.length;r=Math.floor(e/s)}if(r>p)if(1===this.defaultValue.length)i.subarray(p*s,r*s).fill(this.defaultValue[0]),p=r;else for(;r>p;)t2(i.slice(p*s),u,s),++p;r<0?(c=e+1,d=p):(c=e,d=p,p=d+1)}else++p}}}function t2(e,t,n){for(let r=0;r<n;r++)e[r]=t[r]}function n2(e,t){const n=[];for(let r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function r2(e,t,n,r,o,i,a,s,l,u){return new e2(e,t,n,r,o,i,a,s,l,u).compute()}const o2={kernelName:vR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:o,values:i,defaultValue:a,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.data.get(o.dataId).values,c=n.data.get(i.dataId).values,d=n.data.get(a.dataId).values,p=s.map((e=>n.data.get(e.dataId).values)),h=s.map((e=>e.shape)),[f,m]=r2(u,o.shape,c,i.shape,i.dtype,d,a.shape,p,h,l);return n.makeTensorInfo(f,i.dtype,m)}};function i2(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return eO(0,r);const o=eO(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(let e=1;e<o.length;e++)o[e]=o[e-1]+n;return o}const a2={kernelName:xR,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,dtype:i,step:a}=n,s=i2(r,o,a,i);return t.makeTensorInfo([s.length],i,s)}},s2=cZ(kR,(e=>1/e)),l2={kernelName:kR,backendName:"cpu",kernelFunc:s2},u2={kernelName:CR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r;aZ(o,"resizeBilinear");const l=KA(o.shape),[u,c]=s,[d,p,h,f]=o.shape,m=n.data.get(o.dataId).values,g=new Float32Array(NA([d,u,c,f])),b=[i&&u>1?p-1:p,i&&c>1?h-1:h],y=[i&&u>1?u-1:u,i&&c>1?c-1:c];let v=0;const x=b[0]/y[0],w=b[1]/y[1];for(let e=0;e<d;e++)for(let t=0;t<u;t++){let n;n=a?x*(t+.5)-.5:x*t;const r=Math.max(0,Math.floor(n)),o=n-r,i=Math.min(p-1,Math.ceil(n)),s=e*l[0]+r*l[1],u=e*l[0]+i*l[1];for(let e=0;e<c;e++){let t;t=a?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),r=t-n,i=Math.min(h-1,Math.ceil(t)),c=s+n*l[2],d=u+n*l[2],p=s+i*l[2],b=u+i*l[2];for(let e=0;e<f;e++){const t=m[c+e],n=m[d+e],i=t+(m[p+e]-t)*r,a=i+(n+(m[b+e]-n)*r-i)*o;g[v++]=a}}}return n.makeTensorInfo([d,u,c,f],"float32",g)}},c2={kernelName:IR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r;aZ([i,o],"resizeBilinearGrad");const s=KA(o.shape),[l,u,c,d]=o.shape,[,p,h]=i.shape,f=new Float32Array(l*u*c*d),m=[a&&p>1?u-1:u,a&&h>1?c-1:c],g=[a&&p>1?p-1:p,a&&h>1?h-1:h],b=m[0]/g[0],y=m[1]/g[1],v=n.data.get(i.dataId).values;let x=0;for(let e=0;e<l;e++){const t=e*s[0];for(let e=0;e<p;e++){const n=e*b,r=Math.floor(n),o=Math.min(Math.ceil(n),u-1),i=t+r*s[1],a=t+o*s[1],l=n-r,p=1-l;for(let e=0;e<h;e++){const t=e*y,n=Math.floor(t),r=Math.min(Math.ceil(t),c-1),o=t-n,u=1-o,h=i+n*s[2],m=i+r*s[2],g=a+n*s[2],b=a+r*s[2],w=p*u,k=p*o,_=l*u,S=l*o;for(let e=0;e<d;e++){const t=v[x++];f[h+e]+=t*w,f[m+e]+=t*k,f[g+e]+=t*_,f[b+e]+=t*S}}}}return n.makeTensorInfo([l,c,u,d],"float32",f)}},d2={kernelName:ER,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r;aZ(o,"resizeNearestNeighbor");const l=KA(o.shape),[u,c]=s,[d,p,h,f]=o.shape,m=n.data.get(o.dataId).values,g=new Float32Array(d*u*c*f),b=[i&&u>1?p-1:p,i&&c>1?h-1:h],y=[i&&u>1?u-1:u,i&&c>1?c-1:c],v=b[0]/y[0],x=b[1]/y[1];let w=0;for(let e=0;e<d;e++){const t=e*l[0];for(let e=0;e<u;e++){const n=a?v*(e+.5):v*e;let r=Math.min(p-1,i?Math.round(n):Math.floor(n));a&&(r=Math.max(0,r));const o=t+r*l[1];for(let e=0;e<c;e++){const t=a?x*(e+.5):x*e;let n=Math.min(h-1,i?Math.round(t):Math.floor(t));a&&(n=Math.max(0,n));const r=o+n*l[2];for(let e=0;e<f;e++){const t=m[r+e];g[w++]=t}}}}return n.makeTensorInfo([d,u,c,f],o.dtype,g)}},p2={kernelName:TR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r;aZ([i,o],"resizeNearestNeighborGrad");const s=KA(o.shape),l=KA(i.shape),[u,c,d,p]=o.shape,[,h,f]=i.shape,m=new Float32Array(u*c*d*p),g=n.data.get(i.dataId).values,b=[a&&h>1?c-1:c,a&&f>1?d-1:d],y=[a&&h>1?h-1:h,a&&f>1?f-1:f],v=b[0]/y[0],x=b[1]/y[1],w=1/v,k=1/x,_=2*Math.ceil(w)+2,S=2*Math.ceil(k)+2;for(let e=0;e<u;e++){const t=e*s[0];for(let e=0;e<c;e++){const n=t+e*s[1],r=Math.floor(e*w),o=Math.floor(r-_/2);for(let r=0;r<d;r++){const i=n+r*s[2],u=Math.floor(r*k),b=Math.floor(u-S/2);for(let n=0;n<p;n++){let s=0;for(let i=0;i<_;i++){const u=i+o;if(u<0||u>=h)continue;const p=t+u*l[1],m=u*v;if(e===Math.min(c-1,a?Math.round(m):Math.floor(m)))for(let e=0;e<S;e++){const t=e+b;if(t<0||t>=f)continue;const o=p+t*l[2],i=t*x;r===Math.min(d-1,a?Math.round(i):Math.floor(i))&&(s+=g[o+n])}}m[i+n]=s}}}}return n.makeTensorInfo(o.shape,o.dtype,m)}},h2={kernelName:AR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:i}=r;aZ(o,"reverse");const a=o.shape.length,s=BA(i,o.shape);if(0===a)return fZ({inputs:{x:o},backend:n});const l=new pM(o.shape,o.dtype),u=n.bufferSync(o);for(let e=0;e<l.size;e++){const t=l.indexToLoc(e),n=t.slice();s.forEach((e=>n[e]=o.shape[e]-1-n[e])),l.set(u.get(...n),...t)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},f2={kernelName:vP,backendName:"cpu",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:o,fillValue:i,center:a}=t,s=n,l=zA(r.dtype,NA(r.shape)),[u,c,d,p]=r.shape,[h,f]=iz(a,c,d),m=Math.sin(o),g=Math.cos(o),b=s.data.get(r.dataId).values;for(let e=0;e<u;e++){const t=e*d*c*p;for(let e=0;e<c;e++){const n=e*(d*p);for(let r=0;r<d;r++){const o=r*p;for(let a=0;a<p;a++){const s=[u,e,r,a],y=s[2],v=s[1];let x=(y-h)*g-(v-f)*m,w=(y-h)*m+(v-f)*g;x=Math.round(x+h),w=Math.round(w+f);let k=i;"number"!=typeof i&&(k=3===a?255:i[a]),x>=0&&x<d&&w>=0&&w<c&&(k=b[t+w*(d*p)+x*p+a]),l[t+n+o+a]=k}}}}return{dataId:s.write(l,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},m2=cZ(OR,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2==0?t:t+1})),g2={kernelName:OR,backendName:"cpu",kernelFunc:m2},b2=uZ((e=>1/Math.sqrt(e))),y2=dZ(NR,b2),v2={kernelName:NR,backendName:"cpu",kernelFunc:y2};function x2(e,t,n,r,o,i,a,s,l,u){const c=[r/o,o],d=e.values,p=t.values;if(0===r)return LD(n,t.dtype);const h=l instanceof pM?l:LD(c,t.dtype);"string"==typeof l||"number"==typeof l?h.values.fill(l):"boolean"==typeof l&&h.values.fill(+l);for(let e=0;e<i;e++){const i=[];let l=0;for(let t=0;t<a;t++){const n=d[e*a+t];i.push(n),l+=n*s[t]}if(l<0||l>=r/o)throw new Error(`Invalid indices: ${i} does not index into ${n}`);for(let n=0;n<o;n++)u?h.values[l*o+n]+=p[e*o+n]:h.values[l*o+n]=0===t.rank?p[0]:p[e*o+n]}return h}const w2={kernelName:RR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:i}=t,{shape:a}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=fz(0,o,a),p=x2(n.bufferSync(o),n.bufferSync(i),a,d,u,l,s,c,0,!0);return n.makeTensorInfo(a,p.dtype,p.values)}};function k2(e,t){let n=0,r=e.length,o=0;for(;n<r;)o=Math.floor((n+r)/2),e[o]<t?n=o+1:r=o;return r}function _2(e,t){let n=0,r=e.length,o=0;for(;n<r;)o=Math.floor((n+r)/2),e[o]<=t?n=o+1:r=o;return r}const S2={kernelName:MR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:o,values:i}=t,{side:a}=r,s=function(e,t,n,r,o,i){const a=UA("int32",n*o);for(let s=0;s<n;++s){const n=e.slice(s*r,(s+1)*r),l=s*o;for(let e=0;e<o;++e)a[l+e]="left"===i?k2(n,t[e+l]):_2(n,t[e+l])}return a}(n.data.get(o.dataId).values,n.data.get(i.dataId).values,o.shape[0],o.shape[1],i.shape[1],a);return n.makeTensorInfo(i.shape,"int32",s)}},E2={kernelName:DR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:i}=t;aZ([r,o,i],"select");const a=r.shape.length,s=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,u=n.data.get(i.dataId).values,c=EM(o.dtype,i.dtype),d=eO(NA(o.shape),c);let p=0;const h=0===a||a>1||1===o.shape.length?1:NA(o.shape.slice(1));for(let e=0;e<s.length;e++)for(let t=0;t<h;t++)1===s[e]?d[p++]=l[e]:d[p++]=u[e];return n.makeTensorInfo(o.shape,c,d)}},T2=mz,C2=gz,I2=cZ(LR,(e=>e>=0?C2*e:T2*(Math.exp(e)-1))),j2={kernelName:LR,backendName:"cpu",kernelFunc:I2},A2=cZ(zR,(e=>e<0?-1:e>0?1:0)),O2={kernelName:zR,backendName:"cpu",kernelFunc:A2},N2=cZ(BR,(e=>Math.sin(e))),R2={kernelName:BR,backendName:"cpu",kernelFunc:N2},P2=cZ($R,(e=>Math.sinh(e))),M2={kernelName:$R,backendName:"cpu",kernelFunc:P2},D2=Math.log(1.1920928955078125e-7)+2,L2=cZ(VR,(e=>{const t=e>-D2,n=e<D2,r=Math.exp(e);let o;return o=n?r:t?e:Math.log(1+r),o})),F2={kernelName:VR,backendName:"cpu",kernelFunc:L2},B2={kernelName:HR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,paddings:a}=r;aZ([o],"spaceToBatchND");const s=NA(i),l=[[0,0]];l.push(...a);for(let e=1+i.length;e<o.shape.length;++e)l.push([0,0]);const u=z1.kernelFunc({inputs:{x:o},backend:n,attrs:{paddings:l,constantValue:0}}),c=az(u.shape,i,s,!1),d=sz(c.length,i.length,!1),p=lz(u.shape,i,s,!1),h=GZ({inputs:{x:u},backend:n,attrs:{shape:c}}),f=rJ({inputs:{x:h},backend:n,attrs:{perm:d}}),m=GZ({inputs:{x:f},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),m}};function $2(e,t,n,r,o,i,a){const s=t[0],l=i[0],u=new Array(l),c=new Array(s),d=t[1];if(0===l){if(0!==s)throw new Error(Uz(s));return[UA(n,0),[0,d],UA(o,0),u,c]}let p=!0,h=0;const f=new Array(l).fill(0);for(let t=0;t<s;++t){const n=e[t*d];if(n<0)throw new Error(Vz(t,n));if(n>=l)throw new Error(Gz(t,n,l));++f[n],p=p&&n>=h,h=n}let m=!0;for(let e=0;e<l;++e){const t=0===f[e];u[e]=t,m=m&&!t,f[e]=Math.max(f[e],1),e>0&&(f[e]+=f[e-1])}if(m&&p){const t=e,n=r;for(let e=0;e<s;++e)c[e]=e;return[t,[s,d],n,u,c]}{const t=f[l-1],i=UA(n,t*d),p=UA(o,t),h=new Array(l).fill(0);for(let t=0;t<s;++t){const n=e[t*d],o=h[n],a=(0===n?0:f[n-1])+o;h[n]++;for(let n=0;n<d;++n)i[a*d+n]=e[t*d+n];p[a]=r[t],c[t]=a}for(let e=0;e<l;++e)if(0===h[e]){const t=0===e?0:f[e-1];i[t*d+0]=e;for(let e=1;e<d;++e)i[t*d+e]=0;p[t]=a}return[i,[t,d],p,u,c]}}const z2={kernelName:YR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:i,defaultValue:a}=t;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${r.shape}`);if(1!==o.shape.length)throw new Error(`Values must be a vector, saw:\n        ${o.shape}`);if(0!==a.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${a.shape}`);const s=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,u=n.data.get(i.dataId).values,c=n.data.get(a.dataId).values[0],[d,p,h,f,m]=$2(s,r.shape,r.dtype,l,o.dtype,u,c);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],o.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}};function U2(e,t,n,r,o){const i=NA(r),a=t[0],s=o.length,l=[];let u=1,c=-1;for(let e=0;e<s;++e){const t=o[e];if(-1===t){if(-1!==c)throw new Error(Wz(c,e));c=e,l.push(1)}else{if(t<0)throw new Error(Hz(e,t));u*=t,l.push(t)}}if(-1!==c){if(u<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(i/u);if(u*e!==i)throw new Error(Xz(r,l));l[c]=e}if(NA(l)!==i)throw new Error(Yz(r,l));const d=r.length,p=[];if(d>0){p[d-1]=1;for(let e=d-2;e>=0;--e)p[e]=p[e+1]*r[e+1]}const h=[];if(s>0){h[s-1]=1;for(let e=s-2;e>=0;--e)h[e]=h[e+1]*l[e+1]}const f=UA(n,a*s);for(let t=0;t<a;++t){let n=0;for(let r=0;r<d;++r)n+=e[t*d+r]*p[r];for(let e=0;e<s;++e)f[t*s+e]=Math.trunc(n/h[e]),n%=h[e]}return[f,[a,s],l]}const V2={kernelName:KR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:i}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==o.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${o.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.data.get(o.dataId).values),s=n.data.get(r.dataId).values,l=Array.from(n.data.get(i.dataId).values),[u,c,d]=U2(s,r.shape,r.dtype,a,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}};function G2(e,t,n,r,o,i=!1,a=0){const s=r.length,l=[t[0],e.length/t[0]],u=l[1],c=s>0?o[s-1]+1:0;if(c<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=c;const p=d.reduce(((e,t)=>e*t),1),h=UA(n,p);if(0===s)return c>0&&h.fill(a),[h,d];if(c<=0)throw new Error("segment ids must be >= 0");let f=0,m=1,g=0,b=o[f];for(;;){let t=0;if(m<s){if(t=o[m],b===t){++m;continue}if(b>=t)throw new Error("segment ids are not increasing")}if(b<0||b>=c)throw new Error(Jz(b,c));b>g&&h.fill(a,g*u,b*u);for(let t=f;t<m;++t){const n=r[t];if(n<0||n>=l[0])throw new Error(Qz(t,r[t],l[0]));for(let t=0;t<u;t++)h[b*u+t]+=e[n*u+t]}if(i)for(let e=0;e<u;e++)h[b*u+e]/=m-f;if(f=m,++m,g=b+1,b=t,m>s)break}return g<c&&h.fill(a,g*u,c*u),[h,d]}const W2={kernelName:ZR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${o.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${i.shape}`);if(o.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values,[u,c]=G2(a,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}},H2={kernelName:JR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${o.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${i.shape}`);if(o.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");const a=n.data.get(r.dataId).values,s=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values,[u,c]=G2(a,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}},q2={kernelName:QR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:i,defaultValue:a}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=fz(0,o,s),h=!1,f=n.bufferSync(o);let m;switch(i.dtype){case"bool":m=x2(f,n.bufferSync(i),s,p,c,u,l,d,Boolean(n.data.get(a.dataId).values[0]),h);break;case"float32":case"int32":m=x2(f,n.bufferSync(i),s,p,c,u,l,d,n.data.get(a.dataId).values[0],h);break;case"string":m=x2(f,n.bufferSync(i),s,p,c,u,l,d,JP(n.data.get(a.dataId).values[0]),h);break;default:throw new Error(`Unsupported type ${i.dtype}`)}return n.makeTensorInfo(s,m.dtype,m.values)}},X2={kernelName:qR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:i,axis:a}=r,s=BA(a,o.shape)[0],l=zz(o,i,s),u=new Array(o.shape.length).fill(0),c=o.shape.slice();return l.map((e=>{const t=[...c];t[s]=e;const r=jJ({inputs:{x:o},backend:n,attrs:{begin:u,size:t}});return u[s]+=e,r}))}},Y2=uZ((e=>Math.sqrt(e))),K2=cZ(GR,(e=>Math.sqrt(e))),Z2={kernelName:GR,backendName:"cpu",kernelFunc:K2},J2={kernelName:tP,backendName:"cpu",kernelFunc:({inputs:e,backend:t})=>{const{x:n}=e,r=t;aZ(n,"square");const o=r.data.get(n.dataId).values,i=new Float32Array(o.length);for(let e=0;e<o.length;++e){const t=o[e];i[e]=t*t}return{dataId:r.write(i,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}},Q2=yZ(((e,t)=>{const n=e-t;return n*n})),e3=FZ(eP,Q2),t3={kernelName:eP,backendName:"cpu",kernelFunc:e3},n3=uZ(((e,t)=>{const{pattern:n,replaceGlobal:r,rewrite:o}=t;return e.replace(new RegExp(n,r?"g":""),o)})),r3={kernelName:nP,backendName:"cpu",kernelFunc:dZ(nP,n3)},o3=cZ(yP,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),i3={kernelName:yP,backendName:"cpu",kernelFunc:o3};function a3(e,t,n,r){const o=LD(e,t.dtype);for(let e=0;e<o.size;e++){const i=o.indexToLoc(e),a=new Array(i.length);for(let e=0;e<a.length;e++)a[e]=i[e]*n[e]+r[e];o.set(t.get(...a),...i)}return o}const s3={kernelName:rP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,end:a,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r;aZ(o,"stridedSlice");const{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:b,begin:y,end:v,strides:x}=UL(o.shape,i,a,s,l,u,c,d,p);let w;if(m)w=GZ({inputs:{x:o},backend:n,attrs:{shape:f}});else if(g||b){jA(o.shape.length>=1,(()=>`Input must have rank at least 1, got: ${o.shape.length}`));const e=jL(y,v,x),t=jJ({inputs:{x:o},backend:n,attrs:{begin:y,size:e}});w=GZ({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=a3(h,n.bufferSync(o),x,y);w=n.makeTensorInfo(f,e.dtype,e.values)}return w}};class l3{constructor(e,t,n,r,o,i){this.separator=ZP(e),this.nGramWidths=t,this.leftPad=ZP(n),this.rightPad=ZP(r),this.padWidth=o,this.preserveShort=i}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,o,i){for(let a=0;a<o;++a){const s=this.getPadWidth(i),l=Math.max(0,s-a),u=Math.max(0,s-(o-(a+1))),c=i-(l+u),d=t+(l>0?0:a-s);let p=0;p+=l*this.leftPad.length;for(let t=0;t<c;++t)p+=e[d+t].length;p+=u*this.rightPad.length,p+=(l+u+c-1)*this.separator.length,n[r+a]=new Uint8Array(p);const h=n[r+a];let f=0;const m=e=>e.forEach((e=>h[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<c-1;++t)m(e[d+t]),m(this.separator);if(c>0){m(e[d+c-1]);for(let e=0;e<u;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<u-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let o=1;o<r;++o){let r=t[o]>=e;if(r=r&&t[o]<=n,!r)throw new Error(`Invalid split value ${t[o]}, must be in [${e}, ${n}]`);e=t[o]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const o=r-1,i=UA("int32",r);if(0===n||0===r){const e=new Array(n);for(let e=0;e<=o;++e)i[e]=0;return[e,i]}i[0]=0;for(let e=1;e<=o;++e){const n=t[e]-t[e-1];let r=0;this.nGramWidths.forEach((e=>{r+=this.getNumNGrams(n,e)})),this.preserveShort&&n>0&&0===r&&(r=1),i[e]=i[e-1]+r}const a=new Array(i[o]);for(let n=0;n<o;++n){const r=t[n];let o=i[n];if(this.nGramWidths.forEach((i=>{const s=t[n+1]-t[n],l=this.getNumNGrams(s,i);this.createNGrams(e,r,a,o,l,i),o+=l})),this.preserveShort&&o===i[n]){const i=t[n+1]-t[n];if(0===i)continue;const s=i+2*this.padWidth,l=1;this.createNGrams(e,r,a,o,l,s)}}return[a,i]}}function u3(e,t,n,r,o,i,a,s){return new l3(n,r,o,i,a,s).compute(e,t)}const c3={kernelName:oP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:i,leftPad:a,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.data.get(c.dataId).values,h=n.data.get(d.dataId).values,[f,m]=u3(p,h,o,i,a,s,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};function d3(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const o=t[0];let i=e.indexOf(o);for(;-1!==i;){const t=e.subarray(0,i);n&&0===t.length||r.push(t),i=(e=e.subarray(i+1)).indexOf(o)}return void(n&&0===e.length||r.push(e))}let o=0;for(let i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){const t=e.subarray(o,i);n&&0===t.length||r.push(t),o=i+1}}function p3(e,t,n){const r=e.length,o=[];let i=0,a=0;const s=new Array(r);for(let l=0;l<r;++l){const r=o.length;d3(e[l],t,n,o);const u=o.length-r;s[l]=u,i+=u,a=Math.max(a,u)}const l=UA("int32",2*i),u=new Array(i),c=[r,a];let d=0;for(let e=0;e<r;++e)for(let t=0;t<s[e];++t)l[2*d]=e,l[2*d+1]=t,u[d]=o[d],++d;return[l,u,c]}const h3={kernelName:iP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:i,delimiter:a}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==a.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const s=n.data.get(i.dataId).values,l=n.data.get(a.dataId).values[0],[u,c,d]=p3(s,l,o),p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};function f3(e,t){const n=UA("int32",e.length);for(let r=0;r<e.length;++r)n[r]=qP(e[r]).modulo(t).getLowBitsUnsigned();return n}const m3={kernelName:aP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const a=f3(n.data.get(i.dataId).values,o);return n.makeTensorInfo(i.shape,"int32",a)}},g3=cZ(lP,(e=>Math.tan(e))),b3={kernelName:lP,backendName:"cpu",kernelFunc:g3},y3=cZ(uP,(e=>Math.tanh(e))),v3={kernelName:PR,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:r,indices:o,updates:i}=t,{sliceRank:a,numUpdates:s,sliceSize:l,strides:u,outputSize:c}=fz(0,o,r.shape),d=n.bufferSync(o),p=n.bufferSync(i),h=n.bufferSync(r),f=x2(d,p,r.shape,c,l,s,a,u,h,!1);return n.makeTensorInfo(r.shape,f.dtype,f.values)}};function x3(e,t){const n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];const r=LD(n,e.dtype);for(let t=0;t<r.values.length;++t){const n=r.indexToLoc(t),o=new Array(e.rank);for(let t=0;t<o.length;t++)o[t]=n[t]%e.shape[t];const i=e.locToIndex(o);r.values[t]=e.values[i]}return r}const w3={kernelName:cP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:i}=r;aZ(o,"tile");const a=x3(n.bufferSync(o),i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}},k3=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function _3(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const o=r-n+1,i=t-n+1,a=Math.log(o),s=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*s*(o-s)/o)*Math.sign(i-o/2);_3(e,t,Math.max(n,Math.floor(t-i*s/o+l)),Math.min(r,Math.floor(t+(o-i)*s/o+l)))}const o=e[t];let i=n,a=r;for(IA(e,n,t),k3(e[r],o)>0&&IA(e,n,r);i<a;){for(IA(e,i,a),i++,a--;k3(e[i],o)<0;)i+=1;for(;k3(e[a],o)>0;)a-=1}0===k3(e[n],o)?IA(e,n,a):(a+=1,IA(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}}function S3(e,t,n,r,o){const i=t[t.length-1],[a,s]=[e.length/i,i],l=zA(n,a*r),u=zA("int32",a*r);for(let t=0;t<a;t++){const n=t*s,i=e.subarray(n,n+s);let a=new Array(i.length);i.forEach(((e,t)=>a[t]={value:e,index:t})),r<a.length&&(_3(a,r),a=a.slice(0,r)),o&&a.sort(k3);const c=t*r,d=l.subarray(c,c+r),p=u.subarray(c,c+r);for(let e=0;e<r;e++)d[e]=a[e].value,p[e]=a[e].index}const c=t.slice();return c[c.length-1]=r,[LD(c,n,l),LD(c,"int32",u)]}const E3={kernelName:dP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:i,sorted:a}=r;aZ(o,"topk");const s=n.data.get(o.dataId).values,[l,u]=S3(s,o.shape,o.dtype,i,a);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(u.shape,u.dtype,u.values)]}},T3={kernelName:pP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{image:o,transforms:i}=t,{interpolation:a,fillMode:s,fillValue:l,outputShape:u}=n,[c,d,p,h]=o.shape,[f,m]=null!=u?u:[d,p],g=[c,f,m,h],b=KA(o.shape),y=b[0],v=b[1],x=b[2],w=KA(g),k=w[0],_=w[1],S=w[2],E=zA(o.dtype,NA(g));E.fill(l);const T=r.data.get(o.dataId).values,C=r.data.get(i.dataId).values;for(let e=0;e<c;++e){const t=1===i.shape[0]?C:C.subarray(8*e,8*e+8);for(let n=0;n<f;++n)for(let r=0;r<m;++r)for(let o=0;o<h;++o){let i;const u=t[6]*r+t[7]*n+1;if(0===u)continue;const c=(t[0]*r+t[1]*n+t[2])/u,h=(t[3]*r+t[4]*n+t[5])/u,f=C3(c,p,s),m=C3(h,d,s);switch(a){case"nearest":i=j3(T,d,p,y,v,x,e,m,f,o,l);break;case"bilinear":i=A3(T,d,p,y,v,x,e,m,f,o,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${a}`)}E[e*k+n*_+r*S+o]=i}return r.makeTensorInfo(g,o.dtype,E)}return{dataId:r.write(E,g,o.dtype),shape:o.shape,dtype:o.dtype}}};function C3(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return TA(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return TA(0,n,t-1)}(e,t);case"nearest":return function(e,t){return TA(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function I3(e,t,n,r,o,i,a,s,l,u,c){return 0<=s&&s<t&&0<=l&&l<n?e[a*r+s*o+l*i+u]:c}function j3(e,t,n,r,o,i,a,s,l,u,c){return I3(e,t,n,r,o,i,a,Math.round(s),Math.round(l),u,c)}function A3(e,t,n,r,o,i,a,s,l,u,c){const d=Math.floor(s),p=Math.floor(l),h=d+1,f=p+1;return(h-s)*((f-l)*I3(e,t,n,r,o,i,a,d,p,u,c)+(l-p)*I3(e,t,n,r,o,i,a,d,f,u,c))+(s-d)*((f-l)*I3(e,t,n,r,o,i,a,h,p,u,c)+(l-p)*I3(e,t,n,r,o,i,a,h,f,u,c))}function O3(e,t,n,r){const o=BA(t,n)[0],i=[1,n[0],1];for(let e=0;e<o;e++)i[0]*=n[e];i[1]=n[o];for(let e=o+1;e<n.length;e++)i[2]*=n[e];const a=new Map,s=new Int32Array(n[o]),l=new pM(i,r,e),u=[],c=1===i[0]&&1===i[2];for(let t=0;t<n[o];t++){let n;if(c)n=e[t].toString();else{const e=[];for(let n=0;n<i[0];n++)for(let r=0;r<i[2];r++)e.push(l.get(n,t,r));n=e.join(",")}const r=a.get(n);if(null!=r)s[t]=r;else{const e=a.size;a.set(n,e),s[t]=e,u.push(t)}}const d=i.slice();d[1]=a.size;const p=new pM(d,r);u.forEach(((e,t)=>{for(let n=0;n<i[0];n++)for(let r=0;r<i[2];r++)p.set(l.get(n,e,r),n,t,r)}));const h=n.slice();return h[o]=d[1],{outputValues:p.values,outputShape:h,indices:s}}const N3={kernelName:fP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:i}=t;aZ(i,"unique");const a=r.data.get(i.dataId).values,{outputValues:s,outputShape:l,indices:u}=O3(a,o,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}},R3={kernelName:mP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:i}=r;i<0&&(i+=o.shape.length);const a=o.shape.length,s=o.shape[i],l=new Array(a-1);let u=0;for(let e=0;e<a;e++)e!==i&&(l[u++]=o.shape[e]);const c=new Array(a).fill(0),d=o.shape.slice();d[i]=1;const p=new Array(s);for(let e=0;e<p.length;e++){c[i]=e;const t=jJ({inputs:{x:o},backend:n,attrs:{begin:c,size:d}});p[e]=GZ({inputs:{x:t},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(t)}return p}},P3={kernelName:gP,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:i}=t,{numSegments:a}=r;aZ(o,"unsortedSegmentSum");const s=[],l=[],u=o.shape.length-i.shape.length;let c=i;for(let e=0;e<u;++e){const t=UQ({inputs:{input:c},backend:n,attrs:{dim:e+1}});c=t,l.push(t)}for(let e=0;e<a;++e){const t=XP(e,"int32"),r=n.makeTensorInfo([],"int32",t),i=jQ({inputs:{a:r,b:c},backend:n}),a=DZ({inputs:{x:i},backend:n,attrs:{dtype:"float32"}}),u=kQ({inputs:{a,b:o},backend:n}),d=SQ({inputs:{x:u},backend:n,attrs:{axis:0,keepDims:!1}});s.push(d),l.push(r),l.push(i),l.push(a),l.push(u),l.push(d)}const d=B1({inputs:s,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},M3=[XZ,KZ,JZ,eJ,VZ,tJ,iJ,aJ,sJ,lJ,cJ,pJ,fJ,bJ,vJ,_J,SJ,EJ,TJ,qZ,CJ,OJ,PJ,DJ,LJ,LZ,$J,UJ,OZ,VJ,XJ,KJ,ZJ,JJ,QJ,eQ,tQ,rQ,iQ,aQ,sQ,lQ,uQ,cQ,pQ,hQ,fQ,mQ,gQ,bQ,yQ,vQ,TQ,hZ,CQ,AQ,FQ,zQ,VQ,HQ,r0,i0,a0,u0,p0,h0,f0,g0,y0,w0,S0,mZ,E0,HJ,C0,j0,O0,bZ,P0,L0,B0,U0,G0,q0,Y0,J0,Q0,e1,r1,a1,s1,l1,u1,c1,d1,p1,h1,g1,b1,x1,_1,_Q,E1,C1,j1,O1,P1,M1,F1,$1,z1,G1,wZ,H1,Y1,J1,o2,a2,PZ,YQ,l2,_Z,EZ,WZ,u2,c2,d2,p2,h2,f2,g2,v2,w2,S2,E2,j2,IZ,O2,R2,M2,AJ,k1,F2,B2,z2,V2,W2,H2,q2,X2,Z2,J2,t3,r3,i3,s3,c3,h3,m3,QQ,EQ,b3,{kernelName:uP,backendName:"cpu",kernelFunc:y3},v3,w3,E3,T3,oJ,N3,R3,P3,L1];for(const e of M3)AP(e);const D3={},L3={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function F3(e,t){if(!(e in D3)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(uO().getBool("IS_SAFARI")||"undefined"==typeof OffscreenCanvas||2!==e){if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;return n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete D3[e]}),!1),uO().getBool("SOFTWARE_WEBGL_ENABLED")&&(L3.failIfMajorPerformanceCaveat=!1),1===e?n.getContext("webgl",L3)||n.getContext("experimental-webgl",L3):n.getContext("webgl2",L3)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;D3[e]=n}const n=D3[e];return null==n||n.isContextLost()?(delete D3[e],F3(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),D3[e])}var B3,$3,z3;function U3(e,t){return[t,e]}function V3(e){const t=NA(e);return MA(Math.ceil(t/4))}function G3(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function W3(e,t){const n=e;let r,o,i,a,s,l,u,c,d,p;return 2===uO().getNumber("WEBGL_VERSION")?(r=n.R32F,o=n.R16F,i=n.RGBA16F,a=n.RGBA32F,s=n.RED,u=4,c=1,d=n.HALF_FLOAT,p=n.FLOAT,l=n.RGBA8):(r=e.RGBA,o=e.RGBA,i=e.RGBA,a=n.RGBA,s=e.RGBA,u=4,c=4,d=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,l=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:i,internalFormatPackedFloat:a,textureFormatFloat:s,downloadTextureFormat:l,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:p}}function H3(e,t){const n=t();return uO().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}function q3(e){return!!(uO().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function X3(e,t){return r5(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(B3||(B3={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}($3||($3={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(z3||(z3={}));const Y3=/ERROR: [0-9]+:([0-9]+):/g;function K3(e,t){const n=Y3.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],o=e.split("\n"),i=o.length.toString().length+2,a=o.map(((e,t)=>DA((t+1).toString(),i)+e));let s=0;for(let e=0;e<a.length;e++)s=Math.max(a[e].length,s);const l=a.slice(0,r-1),u=a.slice(r-1,r),c=a.slice(r);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${DA(u[0],s)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(c.join("\n"))}function Z3(e,t){if(H3(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function J3(e,t,n,r,o,i,a){const s=e.getAttribLocation(t,n);return-1!==s&&(H3(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),H3(e,(()=>e.vertexAttribPointer(s,o,e.FLOAT,!1,i,a))),H3(e,(()=>e.enableVertexAttribArray(s))),!0)}function Q3(e,t,n,r){H3(e,(()=>function(e,t,n){(function(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error(`textureUnit must be in [gl.TEXTURE0, gl.TEXTURE${n}].`)})(e,n),H3(e,(()=>e.activeTexture(e.TEXTURE0+n))),H3(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),H3(e,(()=>e.uniform1i(n,r)))}function e5(e,t,n){H3(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),H3(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function t5(e,t){H3(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),H3(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function n5(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function r5(e,t,n){const r=H3(e,(()=>t()));if(null==r)throw new Error(n);return r}function o5(e,t=2){return NA(e.slice(0,e.length-t))}function i5(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function a5(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[o5(e),...i5(e)]),t}function s5(e){return e%2==0}function l5(e,t){if(RA(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],r=t[t.length-1];if(n===r)return!0;if(s5(n)&&s5(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&s5(e[0])&&s5(t[0])}let u5,c5;function d5(e,t){return null!=e.getExtension(t)}function p5(e){try{if(null!=F3(e))return!0}catch(e){return console.log("Error when getting WebGL context: ",e),!1}return!1}function h5(e){const t=W3(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function f5(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&jA("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the WebGL backend.`))}))}const m5=uO();function g5(){let e,t,n,r,o,i,a,s,l,u;return 2===uO().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",i="outputColor",a="out vec4 outputColor;",s=uO().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",i="gl_FragColor",a="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:i,defineOutput:a,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}function b5(e,t,n="index"){const r=KA(t);return r.map(((t,o)=>`int ${e[o]} = ${n} / ${t}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${t}`:`index -= ${e[o]} * ${t}`};`)).join("")}function y5(e,t,n="index"){const r=KA(t);return r.map(((t,o)=>`int ${e[o]} = ${n} / outShapeStrides[${o}]; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * outShapeStrides[${o}]`:`index -= ${e[o]} * outShapeStrides[${o}]`};`)).join("")}function v5(e){const t=KA(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}m5.registerFlag("HAS_WEBGL",(()=>m5.getNumber("WEBGL_VERSION")>0)),m5.registerFlag("WEBGL_VERSION",(()=>p5(2)?2:p5(1)?1:0)),m5.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),m5.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===m5.get("WEBGL_VERSION"))),m5.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),m5.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),m5.registerFlag("WEBGL_PACK",(()=>m5.getBool("HAS_WEBGL"))),m5.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_PACK_CLIP",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_PACK_REDUCE",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_LAZILY_UNPACK",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_CONV_IM2COL",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>m5.getBool("WEBGL_PACK"))),m5.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==u5){const t=F3(e);u5=t.getParameter(t.MAX_TEXTURE_SIZE)}return u5}(m5.getNumber("WEBGL_VERSION")))),m5.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==c5){const t=F3(e);c5=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,c5)}(m5.getNumber("WEBGL_VERSION")))),m5.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=m5.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=F3(e);return t=d5(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:d5(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),m5.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>m5.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!BM())),m5.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=F3(e);if(1===e){if(!d5(t,"OES_texture_float"))return!1}else if(!d5(t,"EXT_color_buffer_float"))return!1;return h5(t)}(m5.getNumber("WEBGL_VERSION")))),m5.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!m5.getBool("WEBGL_FORCE_F16_TEXTURES")&&m5.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),m5.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>function(e){if(0===e)return!1;const t=F3(e);if(1!==e){if(d5(t,"EXT_color_buffer_float"))return h5(t);const e="EXT_color_buffer_half_float";if(d5(t,e)){const n=t.getExtension(e);return function(e,t){const n=W3(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),i}(t,n)}return!1}return!!d5(t,"OES_texture_float")&&!!d5(t,"WEBGL_color_buffer_float")&&h5(t)}(m5.getNumber("WEBGL_VERSION")))),m5.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=m5.getNumber("WEBGL_VERSION"))&&null!=F3(e).fenceSync;var e})),m5.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>m5.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),m5.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!=typeof e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),m5.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>BM()?1:-1),(e=>{if("number"!=typeof e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be a number but got ${e}.`);if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),m5.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),m5.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),m5.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),m5.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),m5.registerFlag("WEBGL_EXP_CONV",(()=>!1)),m5.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>m5.getBool("IS_TEST"))),m5.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),m5.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),m5.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),m5.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const x5="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:w5}=r;function k5(e,t,n){const r=[];if(e.forEach((e=>{const t=NA(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=N5(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const o=r.join("\n"),i=e.map((e=>function(e,t,n=!1,r){let o="";o+=n?S5(e,r):_5(e,r);const i=e.shapeInfo.logicalShape,a=t.logicalShape;return i.length<=a.length&&(o+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=e.shapeInfo.logicalShape.length,a=t.logicalShape.length,s=w5(e.shapeInfo.logicalShape,t.logicalShape),l=O5(a),u=a-i;let c;const d=["x","y","z","w","u","v"];c=0===i?"":a<2&&s.length>=1?"coords = 0;":s.map((e=>`coords.${d[e+u]} = 0;`)).join("\n");let p="";p=a<2&&i>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${d[t+u]}`)).join(", ");let h="return outputValue;";const f=1===NA(e.shapeInfo.logicalShape),m=1===NA(t.logicalShape);if(1!==i||f||m){if(f&&!m)h=1===a?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(s.length){const e=i-2,t=i-1;s.indexOf(e)>-1&&s.indexOf(t)>-1?h="return vec4(outputValue.x);":s.indexOf(e)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":s.indexOf(t)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${o}() {\n      ${l} coords = getOutputCoords();\n      ${c}\n      vec4 outputValue = get${r}(${p});\n      ${h}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",i=t.texShape,a=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&RA(a,i))return`\n      float ${o}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=O5(l),c=w5(e.shapeInfo.logicalShape,t.logicalShape),d=l-s;let p;const h=["x","y","z","w","u","v"];p=0===s?"":l<2&&c.length>=1?"coords = 0;":c.map((e=>`coords.${h[e+d]} = 0;`)).join("\n");let f="";return f=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+d]}`)).join(", "),`\n    float ${o}() {\n      ${u} coords = getOutputCoords();\n      ${p}\n      return get${r}(${f});\n    }\n  `}(e,t)),o}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),a=t.texShape,s=g5(),l=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(s);let u,c,d=function(e){return`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${E5}\n    ${T5}\n    ${C5}\n  `}(s);return t.isPacked?(u=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===r[0]?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `:1===r[1]?n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `:n?"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(RA(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const o=Math.ceil(e[1]/2);return n?"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[2]/2),i=o*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],o=Math.ceil(e[e.length-1]/2),i=o*Math.ceil(e[e.length-2]/2);let a=i,s="",l="b, r, c";for(let t=2;t<e.length-1;t++)a*=e[e.length-t-1],s=`\n      int b${t} = index / ${a};\n      index -= b${t} * ${a};\n    `+s,l=`b${t}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${s}\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,a,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(s)):(u=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){return 1===t[0]?n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `:1===t[1]?n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `:n?"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ":`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){return RA(e,t)?n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `:1===e[1]?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `:1===e[0]?n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `:n?"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ":`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${y5(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`;const r=b5(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n)return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${y5(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `;const r=b5(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=b5(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=b5(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,a,n.enableShapeUniforms),c=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(s)),n.packedInputs&&(d+=I5),[d,l,c,o,u,i,n.userCode].join("\n")}function _5(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[o,i]=e.shapeInfo.texShape;if(1===o&&1===i)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const a=j5(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[s,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${s}, ${l}, ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${A5(e)}\n      }\n    `;const o=e.shapeInfo.texShape,i=o[0],a=o[1];if(1===a&&1===i)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=j5(n);return 1===a?t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${i}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `:1===i?t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${a}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:t?`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `:`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${i}, ${a}, index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&RA(n,i)){if(t)return`\n      float ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=i[0];return`\n    float ${o}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${i[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:a,keptDims:s}=$A(n),l=a;if(l.length<n.length){const n=["row","col"];return`\n      ${_5(R5(e,l),t)}\n      float ${o}(int row, int col) {\n        return ${o}(${P5(n,s)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${A5(e)}\n      }\n    `;const u=i[0],c=i[1],d=j5(r);return 1===c?t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `:1===u?t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${d}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${d}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${c}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `:t?`\n      float ${o}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${d};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n  float ${o}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${d};\n    vec2 uv = uvFromFlat(${u}, ${c}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],a=n[2],{newShape:s,keptDims:l}=$A(n),u=s;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${_5(R5(e,u),t)}\n        float ${o}(int row, int col, int depth) {\n          return ${o}(${P5(n,l)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${i}, ${a}, 1)));\n        ${A5(e)}\n      }\n    `;const c=e.shapeInfo.texShape,d=c[0],p=c[1],h=e.shapeInfo.flatOffset;if(p===i&&null==h)return t?`\n      float ${o}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${o}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${a}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${p}.0, ${d}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(p===a&&null==h)return t?`\n      float ${o}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${p}.0, ${d}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const f=j5(r);return t?`\n    float ${o}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ${f};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `:`\n      float ${o}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i} + col * ${a} + depth + ${f};\n        vec2 uv = uvFromFlat(${d}, ${p}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],a=n[2]*i,s=n[1]*a,{newShape:l,keptDims:u}=$A(n);if(l.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${_5(R5(e,l),t)}\n      float ${o}(int row, int col, int depth, int depth2) {\n        return ${o}(${P5(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${s}, ${a}, ${i}, 1)));\n        ${A5(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1],f=`int stride2 = ${r}Shape[3];`,m=`int stride1 = ${r}Shape[2] * stride2;`,g=`int stride0 = ${r}Shape[1] * stride1;`;if(h===s&&null==c)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        ${f}\n        ${m}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${a}, ${i}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(h===i&&null==c)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${p}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const b=j5(r);return t?`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${f}\n      ${m}\n      ${g}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${b});\n      return sampleTexture(${r}, uv);\n    }\n  `:`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${a} +\n          depth * ${i} + depth2;\n      vec2 uv = uvFromFlat(${p}, ${h}, index + ${b});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],i=t[3]*o,a=t[2]*i,s=t[1]*a,{newShape:l,keptDims:u}=$A(t);if(l.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${_5(R5(e,l))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${P5(t,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${s}, ${a}, ${i}, ${o})) +\n          depth3;\n        ${A5(e)}\n      }\n    `;const c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],h=d[1];if(h===s&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${a}, ${i}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(h===o&&null==c)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${p}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${a} + depth * ${i} +\n          depth2 * ${o} + depth3 + ${j5(n)};\n      vec2 uv = uvFromFlat(${p}, ${h}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:o,keptDims:i}=$A(t);if(o.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${_5(R5(e,o))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${P5(t,i)});\n      }\n    `}const a=t[5],s=t[4]*a,l=t[3]*s,u=t[2]*l,c=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${c}, ${u}, ${l}, ${s})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${a}, 1)));\n        ${A5(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,h=p[0],f=p[1];if(f===c&&null==d)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${l}, ${s}, ${a})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${f}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(f===a&&null==d)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${f}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${c} + col * ${u} + depth * ${l} +\n          depth2 * ${s} + depth3 * ${a} + depth4 + ${j5(n)};\n      vec2 uv = uvFromFlat(${h}, ${f}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function S5(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name;return`\n    vec4 ${"get"+t.charAt(0).toUpperCase()+t.slice(1)}() {\n      return ${g5().texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,i=g5();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `;const a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${a[0]}, ${a[1]}, index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=i[0],s=i[1],l=g5();if(null!=i&&RA(n,i))return t?`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}.0, ${a}.0);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${o}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;const u=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return`\n    vec4 ${o}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${Math.ceil(n[1]/2)}, ${u[0]}, ${u[1]}, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){const r=[1,2],i=["b","row","col"];return`\n        ${S5(R5(e,n.slice(1)),t)}\n        vec4 ${o}(int b, int row, int col) {\n          return ${o}(${P5(i,r)});\n        }\n      `}const s=g5();if(t)return`\n    vec4 ${o}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `;const l=a[0],u=a[1],c=Math.ceil(n[2]/2);return`\n    vec4 ${o}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${u}, ${c*Math.ceil(n[1]/2)}, ${c}, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=g5();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${o.texture2D}(${n}, uv);\n    }\n  `;const i=e.shapeInfo.logicalShape,a=i.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],u=l[0],c=l[1],d=Math.ceil(i[a-1]/2);let p=d*Math.ceil(i[a-2]/2),h="int b, int row, int col",f=`b * ${p} + (row / 2) * ${d} + (col / 2)`;for(let e=2;e<a-1;e++)h=`int b${e}, `+h,p*=i[a-e-1],f=`b${e} * ${p} + `+f;return`\n    vec4 ${r}(${h}) {\n      int index = ${f};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${u});\n      return ${o.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const E5="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",T5="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",C5="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",I5="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function j5(e){return`offset${e}`}function A5(e){const t=e.name,n=NA(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function O5(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function N5(e,t,n){const{newShape:r,keptDims:o}=$A(t),i=t.length,a=e&&3===i&&1===t[0],s=a?t.slice(1):r,l=!e&&i>1&&!RA(t,n)&&r.length<i||a;return{useSqueezeShape:l,uniformShape:l?s:t,keptDims:o}}function R5(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function P5(e,t){return t.map((t=>e[t])).join(", ")}function M5(e,t,n){const r=[],o=[];let i,a,s,l=null,u=null;u=e.getUniformLocation(n,"NAN",!1),1===uO().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const c=!1;for(const o of t.variableNames){const i={name:o,uniform:e.getUniformLocation(n,o,c),offset:e.getUniformLocation(n,`offset${o}`,c)};t.enableShapeUniforms&&(i.shape=e.getUniformLocation(n,`${o}Shape`,c),i.texShape=e.getUniformLocation(n,`${o}TexShape`,c)),r.push(i)}if(t.enableShapeUniforms&&(i=e.getUniformLocation(n,"outShape",c),s=e.getUniformLocation(n,"outShapeStrides",c),a=e.getUniformLocation(n,"outTexShape",c)),t.customUniforms)for(const r of t.customUniforms)o.push(e.getUniformLocation(n,r.name,c));return{variablesLocations:r,customUniformLocations:o,infLoc:l,nanLoc:u,outShapeLocation:i,outShapeStridesLocation:s,outTexShapeLocation:a}}function D5(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const r=e.logicalShape,o=t[n],i=o.shape;if(!RA(r,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${i} must match`);if(e.isUniform&&o.isUniform)return;const a=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!RA(a,s))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${a} and ${s} must match`)}))}function L5(e){return uO().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class F5{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=B3.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=g5();this.outputShape=e,this.enableShapeUniforms=L5(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?y5(["r","c","d"],e):b5(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class B5{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=B3.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=g5();this.outputShape=e,this.enableShapeUniforms=L5(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?y5(["r","c","d"],e):b5(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class $5{constructor(e){this.variableNames=["A"],this.outTexUsage=$3.DOWNLOAD;const t=g5();this.outputShape=e,this.userCode=`\n      ${x5}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class z5{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=$3.DOWNLOAD;const t=g5();this.outputShape=e,this.userCode=`\n      ${x5}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}const U5={R:0,G:1,B:2,A:3};class V5{constructor(e,t=!1,n="RGBA"){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const r=g5();this.outputShape=e,this.enableShapeUniforms=L5(this.outputShape.length);let o="result";t&&(o="floor(result * 255. + 0.5)");let i="";for(let e=0;e<n.length;e++){const t=n[e];i+=`\n          if(offset == ${e}) {\n            result = values[${U5[t]}];\n          }`}this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":v5(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ${n.length});\n\n        flatIndex = idiv(flatIndex, ${n.length}, 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ${r.texture2D}(A, uv);\n          ${i}\n        }\n        ${r.output} = vec4(${o}, 0., 0., 0.);\n      }\n    `}}class G5{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=g5();this.outputShape=e,this.enableShapeUniforms=L5(this.outputShape.length);let r="",o="result";t&&(o="floor(result * 255. + 0.5)");for(let t=0;t<=1;t++)for(let o=0;o<=1;o++){const i=2*t+o;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${o} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${o};\n          if (localCoords[1] + ${t} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${t};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${i}] = values[0];\n            } else if (offset == 1) {\n              result[${i}] = values[1];\n            } else if (offset == 2) {\n              result[${i}] = values[2];\n            } else {\n              result[${i}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":v5(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${o};\n        }\n    `}}function W5(e,t,n,r,o,i){!function(e,t){const n=uO().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const a=function(e){return r5(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return H3(e,(()=>e.bindTexture(s,a))),H3(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),H3(e,(()=>e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),H3(e,(()=>e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST))),H3(e,(()=>e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===uO().getNumber("WEBGL_VERSION")?H3(e,(()=>e.texImage2D(s,0,r,t,n,0,o,i,null))):H3(e,(()=>e.texStorage2D(s,1,r,t,n))),H3(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:a,texShape:[n,t]}}function H5(e){return e.internalFormatFloat}function q5(e){return e.internalFormatHalfFloat}function X5(e){return e.downloadTextureFormat}function Y5(e){return e.internalFormatPackedFloat}function K5(e){return e.internalFormatPackedHalfFloat}class Z5{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=uO().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){D3[e]=t}(t,e)):this.gl=F3(t),e=this.gl,2===uO().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>H3(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>H3(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>H3(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>H3(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>H3(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>H3(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>H3(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>H3(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===uO().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=X3(this.gl,e),d5(this.gl,t))this.textureHalfFloatExtension=X3(this.gl,t);else if(uO().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),d5(this.gl,r))this.colorBufferHalfFloatExtension=X3(this.gl,r);else if(uO().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",d5(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!d5(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=function(e){return function(e,t){const n=r5(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return H3(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),H3(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}(this.gl),this.indexBuffer=function(e){return function(e,t){const n=r5(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return H3(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),H3(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}(this.gl),this.framebuffer=function(e){return r5(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=W3(this.gl,this.textureHalfFloatExtension)}get debug(){return uO().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;H3(e,(()=>e.finish())),H3(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),H3(e,(()=>e.deleteFramebuffer(this.framebuffer))),H3(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),H3(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),H3(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=U3(t,n);return W5(e,o,i,H5(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=U3(t,n);return W5(e,o,i,q5(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=U3(t,n);return W5(e,o,i,X5(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){H3(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===uO().getNumber("WEBGL_VERSION")?H3(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):H3(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===uO().getNumber("WEBGL_VERSION")?H3(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):H3(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),H3(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,o,i){let a,s,l;H3(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),o instanceof Uint8Array?(a=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(a=new Float32Array(n*r*4),s=e.FLOAT,l=i.internalFormatPackedFloat),a.set(o),2===uO().getNumber("WEBGL_VERSION")?H3(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,a))):H3(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,a))),H3(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=G3(t,n);return W5(e,o,i,K5(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[o,i]=G3(t,n);return W5(e,o,i,Y5(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(t5(this.gl,this.framebuffer),this.outputTexture=null),H3(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[o,i]=U3(t,n),a=new Uint8Array(t*n*4);return H3(e,(()=>e.readPixels(0,0,o,i,r.downloadTextureFormat,e.UNSIGNED_BYTE,a))),new Float32Array(a.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,o,i){return function(e,t,n,r,o,i,a,s){const l=e,u=new Float32Array(function(e,t){const[n,r]=G3(e,t);return n*r*4}(i,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}(this.gl,e,0,0,0,o,i,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n,r){const o=e.createBuffer();H3(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,o)));const i=16*t*n;return H3(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ))),H3(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),H3(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),o}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(uO().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,o=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(o,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=o}else uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return H3(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=function(e){const t=g5();return function(e,t){const n=r5(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(H3(e,(()=>e.shaderSource(n,t))),H3(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}(t));const n=function(e){return r5(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);H3(t,(()=>t.attachShader(n,this.vertexShader))),H3(t,(()=>t.attachShader(n,e))),function(e,t){if(H3(e,(()=>e.linkProgram(t))),!uO().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n);const r=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&Z3(t,r),r}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;H3(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){H3(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),J3(e,t,"clipSpacePos",n,3,20,0)&&J3(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(H3(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&Z3(this.gl,this.program),H3(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return r5(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),H3(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Q3(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,o]=G3(t,n);this.setOutputMatrixTextureDriver(e,r,o)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&Z3(this.gl,this.program),n5(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}H3(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),H3(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=X3(this.gl,2===uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await LA((()=>this.disposed||this.isQueryAvailable(e,uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in uO().platform&&(n=uO().platform.setTimeoutCustom.bind(uO().platform)),LA((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),e5(this.gl,e,this.framebuffer),this.debug&&n5(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(e5(this.gl,this.outputTexture,this.framebuffer),this.debug&&n5(this.gl)):t5(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;e5(r,e,this.framebuffer),this.debug&&n5(r),this.outputTexture=e,H3(r,(()=>r.viewport(0,0,t,n))),H3(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),H3(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:J5,bincountImpl:Q5,bincountReduceImpl:e4,bitwiseAndImpl:t4,castImpl:n4,ceilImpl:r4,concatImpl:o4,equalImpl:i4,expImpl:a4,expm1Impl:s4,floorImpl:l4,gatherNdImpl:u4,gatherV2Impl:c4,greaterImpl:d4,greaterEqualImpl:p4,lessImpl:h4,lessEqualImpl:f4,linSpaceImpl:m4,logImpl:g4,maxImpl:b4,maximumImpl:y4,minimumImpl:v4,multiplyImpl:x4,negImpl:w4,notEqualImpl:k4,prodImpl:_4,raggedGatherImpl:S4,raggedRangeImpl:E4,raggedTensorToTensorImpl:T4,rangeImpl:C4,rsqrtImpl:I4,scatterImpl:j4,sigmoidImpl:A4,simpleAbsImpl:O4,sliceImpl:N4,sparseFillEmptyRowsImpl:R4,sparseReshapeImpl:P4,sparseSegmentReductionImpl:M4,sqrtImpl:D4,staticRegexReplaceImpl:L4,stridedSliceImpl:F4,stringNGramsImpl:B4,stringSplitImpl:$4,stringToHashBucketFastImpl:z4,subImpl:U4,tileImpl:V4,topKImpl:G4,transposeImpl:W4,uniqueImpl:H4}=o;function q4(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}function X4(e,t){return 1===t?[e]:q4(e,t)}class Y4{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=L5(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=X4("rc",this.rank),t=O5(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),o=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${o}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let o=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)o=`${e[e.length-1-t]},`+o;t.push(o)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);return 1===this.rank?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class K4{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=L5(this.outputShape.length);let n="";for(let e=0;e<4;e++){let t="thisRC = rc;";e%2==1&&(t+="thisRC.z += 1;"),e>1&&(t+="thisRC.y += 1;"),n+=`\n        ${t}\n        ${e>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${e}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${e>0?"}":""}\n      `}var r,o;this.userCode=`\n      ${r=t,o=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${o?function(e,t,n="index"){const r=function(e,t){const n=e.length,r=e.map((e=>`${t}[${e}]`)),o=new Array(n-1);o[n-2]=r[n-1];for(let e=n-3;e>=0;--e)o[e]=`(${o[e+1]} * ${r[e+1]})`;return o}(e.map(((e,t)=>t)),t);return r.map(((t,o)=>`int ${e[o]} = ${n} / ${r[o]}; ${o===r.length-1?`int ${e[o+1]} = ${n} - ${e[o]} * ${r[o]}`:`index -= ${e[o]} * ${r[o]}`};`)).join("")}(["r","c","d"],"inputShape"):b5(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":v5(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class Z4{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const r=Q4(t,n),o=e6(e,r,n);o in this.freeTextures||(this.freeTextures[o]=[]),o in this.usedTextures||(this.usedTextures[o]=[]);const i=J4(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[o].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();const e=this.freeTextures[o].pop();return this.usedTextures[o].push(e),e}let a;return r===z3.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===z3.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===z3.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===z3.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===z3.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[o].push(a),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),a}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const o=Q4(n,r),i=e6(t,o,r);i in this.freeTextures||(this.freeTextures[i]=[]);const a=J4(t,o,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=uO().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=a):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=a),this.numUsedTextures--;const l=this.usedTextures[i],u=l&&l.indexOf(e);if(null==u||u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[u]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function J4(e,t,n,r,o){const i=function(e,t){switch(e){case z3.PACKED_2X2_FLOAT32:return Y5(t);case z3.PACKED_2X2_FLOAT16:return K5(t);case z3.UNPACKED_FLOAT32:return H5(t);case z3.UNPACKED_FLOAT16:return q5(t);case z3.PACKED_4X1_UNSIGNED_BYTE:return X5(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let a;if(o){const[t,n]=G3(e[0],e[1]);a=t*n}else{const[t,n]=U3(e[0],e[1]);a=t*n}const s=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,i);return a*s}function Q4(e,t){if(e===$3.UPLOAD)return z3.PACKED_2X2_FLOAT32;if(e===$3.RENDER||null==e)return function(e){return uO().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?z3.PACKED_2X2_FLOAT32:z3.UNPACKED_FLOAT32:e?z3.PACKED_2X2_FLOAT16:z3.UNPACKED_FLOAT16}(t);if(e===$3.DOWNLOAD||e===$3.PIXELS)return z3.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function e6(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class t6{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=L5(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const n6="if (isnan(x)) return x;",r6="return x;",o6="return abs(x);",i6="return (x >= 0.0) ? x : (exp(x) - 1.0);",a6=n6+"\n  return (x < 0.0) ? 0.0 : x;\n",s6=n6+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",l6="return x;",u6="return 1.0 / (1.0 + exp(-1.0 * x));",c6="return x;",d6="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",p6="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",h6="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",f6="return 1.0 / (1.0 + exp(-1.0 * x));";class m6{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=L5(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class g6{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=L5(this.outputShape.length);const t=e.length,n=X4("rc",t),r=O5(t),o=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),i=n.slice(-2),a=t<=1?"rc":`vec2(${i.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${o});\n\n        setOutput(getChannel(packedInput, ${a}));\n      }\n    `}}const b6=iU,y6={},v6=uO().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class x6 extends _A{nextDataId(){return x6.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!uO().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof Z5)t=e;else{const n=F3(uO().getNumber("WEBGL_VERSION"),e);t=new Z5(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=F3(uO().getNumber("WEBGL_VERSION"));t=new Z5(e),this.binaryCache=((n=uO().getNumber("WEBGL_VERSION"))in y6||(y6[n]={}),y6[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new Z4(this.gpgpu),this.numMBBeforeWarning=null==uO().global.screen?1024:uO().global.screen.height*uO().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new kA(this,QM())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,r,o,i){const a=this.makeTensorInfo(t,n),s=this.texData.get(a.dataId);s.isPacked=!1,s.texture={texture:e,texShape:[r,o]},s.texShape=[r,o];const l=a5(t),u=new V5(l,!1,i),c=this.runWebGLProgram(u,[a],n,[[r,o]]);return c.shape=t,s.texture=null,this.disposeIntermediateTensorInfo(a),c.dataId}write(e,t,n){if((uO().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||uO().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:$3.UPLOAD,refCount:1}),r}refCount(e){return this.texData.has(e)?this.texData.get(e).refCount:0}incRef(e){this.texData.get(e).refCount++}decRef(e){this.texData.has(e)&&this.texData.get(e).refCount--}move(e,t,n,r,o){if(uO().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:$3.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:o,slice:i,shape:a,isPacked:s}=t;if(null!=i){let t;t=s?new m6(a,l6):new t6(a,l6);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:r}],r),o=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const l=null!=this.activeTimers;let u,c;return l&&(u=KP()),c="complex64"===r?_z(this.readSync(o.real.dataId),this.readSync(o.imag.dataId)):this.getValuesFromTexture(e),l&&(this.downloadWaitMs+=KP()-u),this.convertAndCacheOnCPU(e,c)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:o,dtype:i,complexTensorInfos:a,isPacked:s}=t;if(null!=o){let t;t=s?new m6(r,l6):new t6(r,l6);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:i}],i),o=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),o}if(null!=n)return this.convertAndCacheOnCPU(e);if(uO().getBool("DEBUG")&&!uO().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===uO().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,u,c=null;if("complex64"!==i&&uO().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);c=this.gpgpu.createBufferFromTexture(t.texture.texture,...V3(r))}if(this.pendingRead.set(e,[]),"complex64"!==i&&await this.gpgpu.createAndWaitForFence(),"complex64"===i){const e=await Promise.all([this.read(a.real.dataId),this.read(a.imag.dataId)]);u=_z(e[0],e[1])}else if(null==c)u=this.getValuesFromTexture(e);else{const e=NA(r);u=this.gpgpu.downloadFloat32MatrixFromBuffer(c,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=c){const e=this.gpgpu.gl;H3(e,(()=>e.deleteBuffer(c)))}const d=this.convertAndCacheOnCPU(e,u),p=this.pendingRead.get(e);return this.pendingRead.delete(e),p.forEach((e=>e(d))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&QM().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e,t={}){const n=this.texData.get(e),{values:r,shape:o,slice:i,dtype:a,isPacked:s,texture:l}=n;if("complex64"===a)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){let n;n=s?new m6(o,l6):new t6(o,l6);const r=this.runWebGLProgram(n,[{dataId:e,shape:o,dtype:a}],a),i=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),i}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,t.customTexShape),c=QM().makeTensorFromTensorInfo(u),d=this.texData.get(u.dataId);return Object.assign({tensorRef:c},d.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>JP(e)));return LD(e.shape,e.dtype,n)}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return LD(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!q3(n)){if(uO().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),o=NA(t);if(uO().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...V3(t)).subarray(0,o);return this.disposeIntermediateTensorInfo(n),i}const i=uO().getBool("WEBGL_PACK")&&!0===r,a=i?a5(t):t,s=i?new z5(a):new $5(a),l=this.runWebGLProgram(s,[{shape:a,dtype:n,dataId:e}],"float32"),u=this.texData.get(l.dataId),c=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(l),c}timerAvailable(){return uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const o=eM(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),i=eM(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const a={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(o);a.kernelMs=function(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}(e),a.getExtraProfileInfo=()=>e.map(((e,t)=>({name:i[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else a.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,a})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:KP(),endMs:null}}endTimer(e){return uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=KP(),e)}async getQueryTime(e){if(uO().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:o,isPacked:i,slice:a}=this.texData.get(e),s=a&&a.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,o,i)));const u=this.texData.get(e);u.texture=null,u.texShape=null,u.isPacked=!1,u.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=v6){return uO().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&NA(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){_P("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return b6(e.shape,t)}packedUnaryOp(e,t,n){const r=new m6(e.shape,t),o=this.compileAndRun(r,[e],n);return QM().makeTensorFromTensorInfo(o)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=O4(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(uO().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,o6,e.dtype);const t=new t6(e.shape,o6),n=this.compileAndRun(t,[e]);return QM().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&WA(n[0])){const o=n.map((e=>ZP(e)));r=this.write(o,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){return QM().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new g6(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new Y4(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[o5(e.shape),...i5(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[o5(t),...i5(t)],i=new K4(o,n),a=[n],s=this.runWebGLProgram(i,[r],e.dtype,a,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:o,dtype:i}=n;null!=t&&jA(NA(o)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."));const a=a5(o);let s;s=r?new B5(a):new F5(a);const l=[null!=t?t:V3(a)];return{dtype:i,shape:o,dataId:this.runWebGLProgram(s,[{shape:a,dtype:i,dataId:e}],i,l,!0,t).dataId}}runWebGLProgram(e,t,n,r,o=!1,i){const a=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(a.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===B3.DENSE){const t=null!=i?i:V3(e.outputShape);s.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===NA(a.shape))return s.values=zA(a.dtype,0),a;const l=[],u=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&NA(t.shape)<=uO().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!=!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!l5(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),l.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(a.dataId);const c={shape:a.shape,texData:s,isUniform:!1},d=function(e,t,n){let r="";t.concat(n).forEach((t=>{const o=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const i=t.texData.texShape,{useSqueezeShape:a,uniformShape:s,keptDims:l}=N5(e.packedInputs,t.shape,i);let u="",c="",d="";if(1===s.length&&e.packedInputs){const e=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];u=`${e[0]>1}_${e[1]>1}`}else if(2!==s.length||e.packedInputs){if(s.length>2&&!e.packedInputs){const e=KA(s);d=`${e[0]===i[1]}_${e[e.length-1]===i[1]}`}}else c=`${s[0]>1}_${s[1]>1}`;const p=t.shape.length,h=2===s.length&&RA(t.shape,i),f=1===NA(t.shape),m=uL(t.shape,n.shape),g=!e.packedInputs&&p===n.shape.length&&RA(i,n.texData.texShape),b=e.packedInputs||s.length>2?"":`${i[0]>1}_${i[1]>1}`;r+=`${p}_${g}_${a?l:""}_${s.length}_${f}_${m}_${h}_${u}_${c}_${d}_${b}_${o}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${o}`}}));const o=e.userCode;let i=e.constructor.name;return i+="_"+r+"_"+o+`${uO().getNumber("WEBGL_VERSION")}`,i}(e,u,c),p=this.getAndSaveBinary(d,(()=>function(e,t,n,r){const o=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=o.map((e=>e.shapeInfo)),a={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=k5(o,a,t),l=function(e,t){const n=r5(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(H3(e,(()=>e.shaderSource(n,t))),H3(e,(()=>e.compileShader(n))),uO().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw K3(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,s),u=e.createProgram(l);return uO().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:a,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(u),Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:u,inShapeInfos:i,outShapeInfo:a},M5(e,t,u)))}(this.gpgpu,e,u,c))),h=null!=this.activeTimers;let f;h&&(f=this.startTimer()),uO().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,o){t.program.enableShapeUniforms||(D5(t.inShapeInfos,n),D5([t.outShapeInfo],[r]));const i=r.texData.texture,a=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,a[0],a[1]):e.setOutputMatrixTexture(i.texture,a[0],a[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===uO().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let r=0;r<n.length;++r){const o=n[r],{uniform:i,offset:a,shape:s,texShape:l}=t.variablesLocations[r];if(s){const{uniformShape:n}=N5(t.program.packedInputs,o.shape,o.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(s,new Int32Array(n));break;case 2:e.gl.uniform2iv(s,new Int32Array(n));break;case 3:e.gl.uniform3iv(s,new Int32Array(n));break;case 4:e.gl.uniform4iv(s,new Int32Array(n))}}if(l&&e.gl.uniform2i(l,o.texData.texShape[0],o.texData.texShape[1]),null!=i)if(o.isUniform)if(NA(o.shape)<2)e.gl.uniform1f(i,o.uniformValues[0]);else{let t=o.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(i,t)}else null!=o.texData.slice&&null!=a&&e.gl.uniform1i(a,o.texData.slice.flatOffset),e.setInputMatrixTexture(o.texData.texture.texture,i,r)}const s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=KA(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&o)for(let n=0;n<t.program.customUniforms.length;++n){const r=t.program.customUniforms[n],i=t.customUniformLocations[n],a=o[n];if("float"===r.type)e.gl.uniform1fv(i,a);else if("vec2"===r.type)e.gl.uniform2fv(i,a);else if("vec3"===r.type)e.gl.uniform3fv(i,a);else if("vec4"===r.type)e.gl.uniform4fv(i,a);else if("int"===r.type)e.gl.uniform1iv(i,a);else if("ivec2"===r.type)e.gl.uniform2iv(i,a);else if("ivec3"===r.type)e.gl.uniform3iv(i,a);else{if("ivec4"!==r.type)throw Error(`uniform type ${r.type} is not supported yet.`);e.gl.uniform4iv(i,a)}}e.executeProgram()}(this.gpgpu,p,u,c,r),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),h&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=uO().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=KP();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!uO().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){const e=this.unpackTensor(a);return this.disposeIntermediateTensorInfo(a),e}return a}compileAndRun(e,t,n,r,o=!1){return n=n||t[0].dtype,this.runWebGLProgram(e,t,n,r,o)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){this.disposed||(uO().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]})),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=tD((()=>{if(!uO().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=uO().getBool("DEBUG");uO().set("DEBUG",!1);const t=this.abs(YD(1e-8)).dataSync()[0];if(uO().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:o,texture:i,usage:a,isPacked:s}=t;if(null!=i)return;const l=null!=this.activeTimers;let u;l&&(u=KP());let c=t.texShape;if(null==c&&(c=function(e,t=!1){let n=uO().getNumber("WEBGL_MAX_TEXTURE_SIZE"),r=uO().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(r===1/0&&uO().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(r=n/2),t&&(n*=2,r*=2,1===(e=e.map(((t,n)=>n>=e.length-2?CA(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=$A(e);e=t.newShape}let o=NA(e),i=null;e.length<=1&&o<=n?i=[1,o]:2===e.length&&e[0]<=n&&e[1]<=n?i=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?i=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?i=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?i=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(i=[e[0],e[1]*e[2]*e[3]]);const a=null!=i&&Math.max(...i)>r&&Math.min(...i)<=(t?2:1)&&Math.min(...i)>0;if(null==i||a)if(t){const t=o5(e);let n=2,r=2;e.length&&([n,r]=i5(e)),o=t*(n/2)*(r/2),i=MA(o).map((e=>2*e))}else i=MA(o);return i}(n,s),t.texShape=c),null!=o){const e=a5(n);let i,a=c[1],d=c[0];const p=o instanceof Uint8Array||o instanceof Uint8ClampedArray;!s&&p||([a,d]=G3(c[0],c[1])),i=s?new G5(e,p):new V5(e,p);const h=p?[d,a]:c,f=this.makeTensorInfo(h,r),m=this.texData.get(f.dataId);m.usage=p?$3.PIXELS:$3.UPLOAD,m.texShape=h,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),a,d,o);const g=[[d,a]],b=!0,y=this.runWebGLProgram(i,[f],r,g,b),v=this.texData.get(y.dataId);t.texShape=v.texShape,t.isPacked=v.isPacked,t.usage=v.usage,uO().get("ENGINE_COMPILE_ONLY")?this.disposeData(y.dataId):(t.texture=v.texture,t.values=null,this.texData.delete(y.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=KP()-u)}else{const e=this.acquireTexture(c,a,r,s);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*GA(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(e){throw e}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await Y$(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw K3(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:r,nanLoc:o,outShapeLocation:i,outShapeStridesLocation:a,outTexShapeLocation:s}=M5(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=r,e.nanLoc=o,e.outShapeLocation=i,e.outShapeStridesLocation=a,e.outTexShapeLocation=s}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:r,height:o,width:i,channels:a}=e,s=QM().backend;if(!s.gpgpu.gl.isTexture(r))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=s.writeTexture(r,t,n,o,i,a);return QM().makeTensorFromDataId(l,t,n,s)}}x6.nextDataId=0,$M()&&oD("webgl",(()=>new x6),2);const w6="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class k6{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=dL(t,n),this.enableShapeUniforms=L5(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${e}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `}}const _6="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class S6{constructor(e,t,n,r=!1){this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=dL(t,n);const o=this.outputShape.length;this.enableShapeUniforms=L5(o);let i="";if(r)if(0===o||1===NA(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(i=`\n          ${O5(o)} coords = getOutputCoords();\n        `,1===o)this.enableShapeUniforms?i+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":i+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{const e=X4("coords",o);this.enableShapeUniforms?i+=`\n            bool nextRowOutOfBounds =\n              (${e[o-2]} + 1) >= outShape[${o} - 2];\n            bool nextColOutOfBounds =\n              (${e[o-1]} + 1) >= outShape[${o} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:i+=`\n            bool nextRowOutOfBounds =\n              (${e[o-2]} + 1) >= ${this.outputShape[o-2]};\n            bool nextColOutOfBounds =\n              (${e[o-1]} + 1) >= ${this.outputShape[o-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${e}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${i}\n\n        setOutput(result);\n      }\n    `}}function E6(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const T6={kernelName:IN,backendName:"webgl",kernelFunc:E6};function C6(e){const{inputs:t,backend:n}=e,{real:r,imag:o}=t,i=n.makeTensorInfo(r.shape,"complex64"),a=n.texData.get(i.dataId),s=E6({inputs:{x:r},backend:n}),l=E6({inputs:{x:o},backend:n});return a.complexTensorInfos={real:s,imag:l},i}const I6={kernelName:$O,backendName:"webgl",kernelFunc:C6},j6="return (a < 0.) ? b * a : a;",A6="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",O6={kernelName:PN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{alpha:i}=r,a=n.makeTensorInfo([],"float32",XP(i,"float32")),s=uO().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new S6(A6,o.shape,a.shape):new k6(j6,o.shape,a.shape),l=n.runWebGLProgram(s,[o,a],"float32");return n.disposeIntermediateTensorInfo(a),l}},N6="return (a < 0.) ? b * a : a;",R6="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",P6={kernelName:mR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r,alpha:o}=t,i=uO().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new S6(R6,r.shape,o.shape):new k6(N6,r.shape,o.shape);return n.runWebGLProgram(i,[r,o],"float32")}},M6="if (isnan(x)) return x;";function D6({opSnippet:e,packedOpSnippet:t,cpuKernelImpl:n,dtype:r}){return({inputs:o,backend:i})=>{const{x:a}=o,s=i,l=r||a.dtype;if(s.shouldExecuteOnCPU([a])&&null!=n){const e=s.texData.get(a.dataId),t=n(e.values,l);return s.makeTensorInfo(a.shape,l,t)}let u;return u=uO().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=t?new m6(a.shape,t):new t6(a.shape,e),s.runWebGLProgram(u,[a],l)}}function L6({opSnippet:e,packedOpSnippet:t,checkOutOfBounds:n=!1,supportsComplex:r=!1,cpuKernelImpl:o,dtype:i}){return({inputs:a,backend:s})=>{const{a:l,b:u}=a,c=s;if(r&&"complex64"===l.dtype){const t=c.texData.get(l.dataId),n=c.texData.get(u.dataId),[r,o]=[[t.complexTensorInfos.real,n.complexTensorInfos.real],[t.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((t=>{const[n,r]=t,o={dataId:n.dataId,dtype:n.dtype,shape:l.shape},i={dataId:r.dataId,dtype:r.dtype,shape:u.shape},a=new k6(e,l.shape,u.shape);return c.runWebGLProgram(a,[o,i],EM(n.dtype,r.dtype))})),i=C6({inputs:{real:r,imag:o},backend:c});return c.disposeIntermediateTensorInfo(r),c.disposeIntermediateTensorInfo(o),i}const d=i||EM(l.dtype,u.dtype);if(("string"===l.dtype||"string"===u.dtype||c.shouldExecuteOnCPU([l,u]))&&null!=o){const e=c.texData.get(l.dataId).values,t=c.texData.get(u.dataId).values,n="string"===l.dtype?rU(e):e,r="string"===l.dtype?rU(t):t,[i,a]=o(l.shape,u.shape,n,r,d),s=c.makeTensorInfo(a,d);return c.texData.get(s.dataId).values=i,s}let p;return p=uO().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=t?new S6(t,l.shape,u.shape,n):new k6(e,l.shape,u.shape),c.runWebGLProgram(p,[l,u],d)}}function F6(e,t=!1){if("linear"===e)return t?c6:r6;if("relu"===e)return t?p6:a6;if("elu"===e)return t?d6:i6;if("relu6"===e)return t?h6:s6;if("prelu"===e)return t?R6:N6;if("leakyrelu"===e)return t?A6:j6;if("sigmoid"===e)return t?f6:u6;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}class B6{constructor(e,t,n,r=!1,o=!1,i=!1,a=null,s=!1,l=!1){this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=L5(this.outputShape.length);const u=r?e[1]:e[2],c=Math.ceil(u/2),d=r?"i * 2, rc.y":"rc.y, i * 2",p=o?"rc.z, i * 2":"i * 2, rc.z",h=r?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";a&&(m=s?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${a}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${a}\n        }`:`vec4 activation(vec4 x) {\n          ${a}\n        }`,g="result = activation(result);");const b=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),s&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let y="rc.x",v="rc.x";e[0]<t[0]?y=`imod(rc.x, ${e[0]})`:t[0]<e[0]&&(v=`imod(rc.x, ${t[0]})`),this.userCode=`\n      ${m}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${c}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ${y};\n        int batchB = ${v};\n        for (int i = 0; i < ${c}; i++) {\n          vec4 a = getMatrixA(batchA, ${d});\n          vec4 b = getMatrixB(batchB, ${p});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${h[0]} * ${f[0]});\n          result += (${h[1]} * ${f[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${b}\n\n        ${g}\n\n        setOutput(result);\n      }\n    `}}const $6={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class z6{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=dL(t,n),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${e}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `}}const U6="return a * b;";function V6(e){const{inputs:t,backend:n}=e,{a:r,b:o}=t,i=EM(r.dtype,o.dtype);if("complex64"===r.dtype){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),i=new z6($6.REAL,r.shape,o.shape),a=new z6($6.IMAG,r.shape,o.shape),s=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:r.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:r.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:o.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:o.shape}],l=n.runWebGLProgram(i,s,"float32"),u=n.runWebGLProgram(a,s,"float32"),c=C6({inputs:{real:l,imag:u},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(u),c}if(n.shouldExecuteOnCPU([r,o])){const e=n.texData.get(r.dataId),t=n.texData.get(o.dataId),[a,s]=x4(r.shape,o.shape,e.values,t.values,i),l=n.makeTensorInfo(s,i);return n.texData.get(l.dataId).values=a,l}let a;return a=uO().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new S6(U6,r.shape,o.shape):new k6(U6,r.shape,o.shape),n.runWebGLProgram(a,[r,o],i)}const G6={kernelName:oR,backendName:"webgl",kernelFunc:V6};function W6(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{shape:i}=r,a=n,s=NA(o.shape),l=FA(i,s),u=NA(l);jA(s===u,(()=>`The new shape (${l}) has ${u} elements and the old shape (${o.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`));const c=a.texData.get(o.dataId);return!c.isPacked||l5(o.shape,l)||null!==c.texture&&l5(c.shape,l)?(a.incRef(o.dataId),{dataId:o.dataId,shape:l,dtype:o.dtype}):function(e,t,n){const r=[o5(e.shape),...i5(e.shape)],o={dtype:e.dtype,shape:r,dataId:e.dataId},i=[o5(t),...i5(t)],a=new K4(i,r),s=[r],l=n.runWebGLProgram(a,[o],e.dtype,s,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(o,l,a)}const H6={kernelName:SR,backendName:"webgl",kernelFunc:W6};class q6{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:i}=e;this.outputShape=[r,i];const a=4*Math.floor(n/4),s=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l=`sumValue += dot(values * ${PA(e)?e.toPrecision(2):e}, ones);`}let u="";o%n>0&&(u=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${u}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${a}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${l}\n        }\n\n        int inIdx = inOffset + ${a};\n        if (${1===s}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${l}\n        } else if (${2===s}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${l}\n        } else if (${3===s}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${l}\n        }\n        setOutput(sumValue);\n      }\n    `}}class X6{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:r,inSize:o,outSize:i}=e;this.outputShape=[r,i];let a="0.0",s="";"prod"===t?a="1.0":"min"===t?(a="1.0 / 1e-20",s="min"):"max"===t&&(a="-1.0 / 1e-20",s="max");let l=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const u=4*Math.floor(n/4),c=n%4;let d=`\n      if (${"sum"===t}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===t}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${s}(values, minMaxValue);\n        if (${"min"===t} || ${"max"===t}) {\n          minMaxValue = ${s}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,p="vec4";"all"===t?(a="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(a="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");let h="";o%n>0&&(h=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${a};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${h}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${n};\n\n        vec4 minMaxValue = vec4(${a});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${d}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${2===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${d}\n        } else if (${3===c}) {\n          ${p} values = ${p}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${d}\n        }\n        setOutput(${l});\n      }\n    `}}function Y6(e,t,n,r){const o=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],r=oz(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape);let i=e;for(let a=0;a<o.length;a++){const{inSize:s,windowSize:l,outSize:u}=o[a];let c,d;c="mean"===n?0===a?new q6({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},s):new q6({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u}):new X6({windowSize:l,inSize:s,batchSize:e.shape[0],outSize:u},n),d=i,i=r.runWebGLProgram(c,[i],t),d.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(d)}return i}class K6{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;const r=O5(this.rank),o=function(e){const t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t);for(let t=0;t<e.length;t++)r[e[t]]=n[t];return r.join()}(t);this.userCode=`\n    void main() {\n      ${r} resRC = getOutputCoords();\n      setOutput(getA(${o}));\n    }\n    `}}class Z6{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const r=O5(this.rank),o=q4("rc",this.rank),i=new Array(this.rank);for(let e=0;e<t.length;e++)i[t[e]]=o[e];const a=`vec2(${i.slice(-2).join()})`,s=`++${o[this.rank-1]} < ${n[this.rank-1]}`,l=`getChannel(getA(${i.join()}), ${a})`;this.userCode=`\n    void main() {\n      ${r} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${l};\n      if(${s}) {\n        result[1] = ${l};\n      }\n      --${o[this.rank-1]};\n      if(++${o[this.rank-2]} < ${n[this.rank-2]}) {\n        result[2] = ${l};\n        if(${s}) {\n          result[3] = ${l};\n        }\n      }\n      setOutput(result);\n    }\n    `}}function J6(e,t,n){const r=uO().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Z6(e.shape,t):new K6(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function Q6(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r;return function(e,t,n,r){const o=t,i=e.shape.length,a=BA(o,e.shape);let s=a;const l=JF(s,i),u=null!=l;let c=e;u&&(c=J6(e,l,r),s=eB(s.length,i)),ZF("sum",s,i);const[d,p]=YF(c.shape,s);let h=d;n&&(h=KF(d,a));const f=NA(p),m=W6({inputs:{x:c},attrs:{shape:[NA(e.shape)/f,f]},backend:r}),g=Y6(m,TM(e.dtype),"sum",r),b=W6({inputs:{x:g},attrs:{shape:h},backend:r});return r.disposeIntermediateTensorInfo(m),r.disposeIntermediateTensorInfo(g),u&&r.disposeIntermediateTensorInfo(c),b}(o,i,a,n)}const e8={kernelName:WR,backendName:"webgl",kernelFunc:Q6};function t8(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{perm:i}=r,a=n,s=o.shape.length,l=new Array(s);for(let e=0;e<l.length;e++)l[e]=o.shape[i[e]];let u;if(a.shouldExecuteOnCPU([o])){const e=a.texData.get(o.dataId).values,t=W4(e,o.shape,o.dtype,i,l);u=a.makeTensorInfo(l,o.dtype),a.texData.get(u.dataId).values=t}else u=J6(o,i,a);return u}const n8={kernelName:hP,backendName:"webgl",kernelFunc:t8},r8=1e3;function o8({a:e,b:t,transposeA:n,transposeB:r,backend:o,bias:i=null,preluActivationWeights:a=null,leakyreluAlpha:s=0,activation:l=null}){const u=e.shape.length,c=t.shape.length,d=n?e.shape[u-2]:e.shape[u-1],p=r?t.shape[c-1]:t.shape[c-2],h=n?e.shape[u-1]:e.shape[u-2],f=r?t.shape[c-2]:t.shape[c-1],m=e.shape.slice(0,-2),g=t.shape.slice(0,-2),b=NA(m),y=NA(g),v=dL(e.shape.slice(0,-2),t.shape.slice(0,-2)).concat([h,f]);jA(d===p,(()=>`Error in matMul: inner shapes (${d}) and (${p}) of Tensors with shapes ${e.shape} and ${t.shape} and transposeA=${n} and transposeB=${r} must match.`));const x=n?[b,d,h]:[b,h,d],w=r?[y,f,p]:[y,p,f],k=W6({inputs:{x:e},backend:o,attrs:{shape:x}}),_=W6({inputs:{x:t},backend:o,attrs:{shape:w}}),S=[k,_],E=Math.max(b,y),T=n?k.shape[1]:k.shape[2],C=null!=i,I=null!=a,j="leakyrelu"===l,A=null!=l?F6(l,!0):null;let O;if((1===h||1===f)&&T>r8&&!1===(C||I||j||null!=A)){let e=k,t=_;n&&(e=t8({inputs:{x:k},backend:o,attrs:{perm:[0,2,1]}}),S.push(e)),r&&(t=t8({inputs:{x:_},backend:o,attrs:{perm:[0,2,1]}}),S.push(t));const i=1===f;let a=e;1!==f&&(a=W6({inputs:{x:e},backend:o,attrs:{shape:[E,T,1]}}),S.push(a));const s=1===f?2:1;let l=t;i&&(l=W6({inputs:{x:t},backend:o,attrs:{shape:[E,1,T]}}),S.push(l));const u=V6({inputs:{a,b:l},backend:o});O=Q6({inputs:{x:u},backend:o,attrs:{axis:s,keepDims:!0}}),S.push(u)}else{const l=EM(e.dtype,t.dtype),u=new B6(x,w,[E,h,f],n,r,C,A,I,j),c=[k,_];if(null!=i&&c.push(i),I&&c.push(a),j){const e=o.makeTensorInfo([],"float32",XP(s,"float32"));c.push(e),S.push(e)}O=o.runWebGLProgram(u,c,l)}const N=W6({inputs:{x:O},backend:o,attrs:{shape:v}});S.push(O);for(const e of S)o.disposeIntermediateTensorInfo(e);return N}const i8={kernelName:xP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i,bias:a,preluActivationWeights:s}=t,{transposeA:l,transposeB:u,activation:c,leakyreluAlpha:d}=r;return o8({a:o,b:i,transposeA:l,transposeB:u,backend:n,bias:a,preluActivationWeights:s,leakyreluAlpha:d,activation:c})}},a8="return abs(x);",s8={kernelName:fO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])&&"complex64"!==r.dtype){const e=n.texData.get(r.dataId),t=O4(e.values);return n.makeTensorInfo(r.shape,r.dtype,t)}let o;return o=uO().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new m6(r.shape,a8):new t6(r.shape,a8),n.runWebGLProgram(o,[r],r.dtype)}},l8=D6({opSnippet:n6+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),u8={kernelName:mO,backendName:"webgl",kernelFunc:l8},c8=D6({opSnippet:n6+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),d8={kernelName:gO,backendName:"webgl",kernelFunc:c8},p8="return a + b;",h8=L6({opSnippet:p8,packedOpSnippet:p8,supportsComplex:!0,cpuKernelImpl:J5}),f8={kernelName:bO,backendName:"webgl",kernelFunc:h8};class m8{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`float v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        float result = ${r};\n        setOutput(result);\n      }\n    `}}class g8{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>`T${t}`));const n=[];this.variableNames.forEach((e=>{n.push(`vec4 v${e} = get${e}AtOutCoords();`)}));const r=this.variableNames.map((e=>`v${e}`)).join(" + ");this.userCode=`\n      void main() {\n        ${n.join("\n        ")}\n\n        vec4 result = ${r};\n        setOutput(result);\n      }\n    `}}const b8={kernelName:yO,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,o=n;if(1===o.length)return E6({inputs:{x:o[0]},backend:r});if(o.length>uO().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(o.length/2),n=e({inputs:o.slice(0,t),backend:r}),i=e({inputs:o.slice(t),backend:r});return e({inputs:[n,i],backend:r})}const i=o.map((e=>e.dtype)).reduce(((e,t)=>EM(e,t))),a=o.map((e=>e.shape)),s=uO().getBool("WEBGL_PACK")?new g8(o[0].shape,a):new m8(o[0].shape,a);return r.runWebGLProgram(s,o,i)}},y8={kernelName:vO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,l=BA(i,o.shape);let u=l;const c=JF(u,s);let d=o;null!=c&&(d=t8({inputs:{x:o},backend:n,attrs:{perm:c}}),u=eB(u.length,s)),ZF("all",u,s);const[p,h]=YF(d.shape,u),f=W6({inputs:{x:d},backend:n,attrs:{shape:[-1,NA(h)]}}),m=Y6(f,f.dtype,"all",n);let g;return g=W6(a?{inputs:{x:m},backend:n,attrs:{shape:KF(p,l)}}:{inputs:{x:m},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}},v8={kernelName:xO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,l=BA(i,o.shape);let u=l;const c=JF(u,s);let d=o;null!=c&&(d=t8({inputs:{x:o},backend:n,attrs:{perm:c}}),u=eB(u.length,s)),ZF("any",u,s);const[p,h]=YF(d.shape,u),f=W6({inputs:{x:d},backend:n,attrs:{shape:[-1,NA(h)]}}),m=Y6(f,f.dtype,"any",n);let g;return g=W6(a?{inputs:{x:m},backend:n,attrs:{shape:KF(p,l)}}:{inputs:{x:m},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}};class x8{constructor(e,t,n){this.variableNames=["A"];const{windowSize:r,batchSize:o,outSize:i}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];const a="max"===t?">":"<",s=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${r}; i++) {\n          int inIdx = ${s};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${a} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `}}class w8{constructor(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,jA(e.length>2,(()=>`Packed arg${n.charAt(0).toUpperCase()+n.slice(1)} supports only inputs with rank above 2.`));const o=e[e.length-1],i=Math.ceil(o/t);this.outputShape=e.slice(0,-1),i>1&&this.outputShape.push(i),r||this.variableNames.push("bestIndicesA");const a=this.outputShape,s=a.length,l=O5(s),u=X4("coords",s);let c,d;if(1===i){d=s+1;const e=O5(d);c=`\n        ${e} sourceLocR = ${e}(${u.join()}, 0);\n        ++${u[s-1]};\n        ${e} sourceLocG = ${e}(${u.join()}, 0);\n        ++${u[s-2]};\n        ${e} sourceLocA = ${e}(${u.join()}, 0);\n        --${u[s-1]};\n        ${e} sourceLocB = ${e}(${u.join()}, 0);\n        --${u[s-2]};`}else d=s,c=`\n        ${l} sourceLocR = coords;\n        ++${u[s-1]};\n        ${l} sourceLocG = coords;\n        ++${u[s-2]};\n        ${l} sourceLocA = coords;\n        --${u[s-1]};\n        ${l} sourceLocB = coords;\n        --${u[s-2]};`;const p=["x","y","z","w","u","v"].slice(0,d),h="."+p[d-1],f=p.map((e=>"int "+e)),m=X4("sourceLocR",d-1).concat("inIdx.r"),g=X4("sourceLocG",d-1).concat("inIdx.g"),b=X4("sourceLocB",d-1).concat("inIdx.b"),y=X4("sourceLocA",d-1).concat("inIdx.a"),v="max"===n?"greaterThan":"lessThan",x=r?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${m.join()}),\n                             getBestIndicesAChannel(${g.join()}),\n                             getBestIndicesAChannel(${b.join()}),\n                             getBestIndicesAChannel(${y.join()})));`,w=`vec4(\n            getAChannel(${m.join()}),\n            hasNextCol ? getAChannel(${g.join()}) : 0.,\n            hasNextRow ? getAChannel(${b.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${y.join()}) : 0.)`,k=r?"":`\n      float getBestIndicesAChannel(${f.join()}) {\n        return getChannel(getBestIndicesA(${p.join()}),\n                                          vec2(${p.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${f.join()}) {\n        return getChannel(getA(${p.join()}),\n                               vec2(${p.slice(-2).join()}));\n      }\n      ${k}\n      void main() {\n        ${l} coords = getOutputCoords();\n        bool hasNextCol = ${u[s-1]} < ${a[s-1]-1};\n        bool hasNextRow = ${u[s-2]} < ${a[s-2]-1};\n        ${c}\n        ivec4 srcIdx = ivec4(sourceLocR${h}, sourceLocG${h},\n          sourceLocB${h}, sourceLocA${h}) * ${t};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${w};\n\n        for (int i = 0; i < ${t}; i++) {\n          inIdx = srcIdx;\n          ${x}\n          vec4 candidate = ${w};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${v}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}}function k8(e,t,n,r=null){let o=t.shape[0],i=t.shape[1];null!=r&&(o=r.shape[0],i=r.shape[1]);const a=oz(i),s={windowSize:a,inSize:i,batchSize:o,outSize:Math.ceil(i/a)},l=new x8(s,n,null==r),u=[t];null!=r&&u.push(r);const c=e.runWebGLProgram(l,u,"int32");if(1===c.shape[1])return c;const d=k8(e,t,n,c);return e.disposeIntermediateTensorInfo(c),d}function _8(e,t,n,r=null){const o=null!=r?r.shape:t.shape,i=oz(o[o.length-1]),a=new w8(o,i,n,null==r),s=null==r?[t]:[t,r],l=e.runWebGLProgram(a,s,"int32");if(l.shape.length===t.shape.length){const r=_8(e,t,n,l);return e.disposeIntermediateTensorInfo(l),r}return l}function S8(e,t,n,r){const o=[n];if(ZF("arg"+r.charAt(0).toUpperCase()+r.slice(1),o,t.shape.length),!uO().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],i=e.texData.get(t.dataId);let a=t;null!==i&&i.isPacked&&(a=e.unpackTensor(t),n.push(a));const[s,l]=YF(a.shape,o),u=NA(l),c=W6({inputs:{x:a},backend:e,attrs:{shape:[-1,u]}});n.push(c);const d=k8(e,c,r);n.push(d);const p=W6({inputs:{x:d},backend:e,attrs:{shape:s}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),p}return _8(e,t,r)}const E8={kernelName:wO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;let a=BA(i,o.shape);const s=JF(a,o.shape.length);let l=o;const u=[];null!=s&&(l=t8({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),a=eB(a.length,l.shape.length)),ZF("argMax",[a[0]],l.shape.length);const c=S8(n,l,a[0],"max");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}},T8={kernelName:kO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i}=r;let a=BA(i,o.shape);const s=JF(a,o.shape.length);let l=o;const u=[];null!=s&&(l=t8({inputs:{x:o},backend:n,attrs:{perm:s}}),u.push(l),a=eB(a.length,l.shape.length)),ZF("argMin",[a[0]],l.shape.length);const c=S8(n,l,a[0],"min");return u.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}},C8=D6({opSnippet:n6+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),I8={kernelName:_O,backendName:"webgl",kernelFunc:C8},j8=D6({opSnippet:n6+"return log(x + sqrt(x * x + 1.0));"}),A8={kernelName:SO,backendName:"webgl",kernelFunc:j8},O8=D6({opSnippet:n6+"\n  return atan(x);\n"}),N8={kernelName:EO,backendName:"webgl",kernelFunc:O8},R8=L6({opSnippet:w6+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+_6+"\n  return result;\n"}),P8={kernelName:CO,backendName:"webgl",kernelFunc:R8},M8=D6({opSnippet:n6+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),D8={kernelName:TO,backendName:"webgl",kernelFunc:M8};class L8{constructor(e,t,n,r=!1,o=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,a=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterHeight,d=e.effectiveFilterWidth,p=e.padInfo.top,h=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m=`((batch  * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + d`,g=`(xR * ${e.inWidth} + xC) * ${e.inChannels} + d`;let b="0.0";if(f||(b="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec2 strides = ivec2(${a}, ${s});\n        const ivec2 pads = ivec2(${p}, ${h});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${c};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${d};\n                wC += ${u}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ${t} currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${r?o?m:g:`wR * ${d} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let y=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(y="avgValue / max(count, 1.0)");const v=4*Math.floor(i/4),x=i%4,w=`\n      if (${f}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${a}, ${s});\n      const ivec2 pads = ivec2(${p}, ${h});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${c};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${v}; wC += 4) {\n            int xC = xCCorner + wC * ${u};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              getValue(batch, xR, xC + 3 * ${u}, d)\n            );\n\n            ${w}\n          }\n\n          int xC = xCCorner + ${v};\n          if (${1===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${2===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${w}\n          } else if (${3===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${u}, d),\n              getValue(batch, xR, xC + 2 * ${u}, d),\n              initializationValue\n            );\n\n            ${w}\n          }\n        }\n        setOutput(${y});\n      }\n    `}}class F8{constructor(e,t,n,r=!1,o=!1){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const i=e.filterWidth,a=e.strideDepth,s=e.strideHeight,l=e.strideWidth,u=e.dilationDepth,c=e.dilationHeight,d=e.dilationWidth,p=e.effectiveFilterDepth,h=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,b=e.padInfo.left;this.outputShape=e.outShape;const y="avg"===t;let v="0.0";if(y||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode=`\n        const ivec3 strides =\n            ivec3(${a}, ${s}, ${l});\n        const ivec3 pads = ivec3(${m}, ${g}, ${b});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${p};\n              wD += ${u}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${h};\n                wR += ${c}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${f};\n                  wC += ${d}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ${t} currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${r?o?`(((batch * ${e.inDepth} + xD) * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`((xD * ${e.inHeight} + xR) * ${e.inWidth} + xC) * ${e.inChannels} + ch`:`wD * ${h} * ${f} +\n                      wR * ${f} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `)}let x=`${t}(${t}(${t}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===t&&(x="avgValue / max(count, 1.0)");const w=4*Math.floor(i/4),k=i%4,_=`\n      if (${y}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${a}, ${s}, ${l});\n      const ivec3 pads = ivec3(${m}, ${g}, ${b});\n      const float initializationValue = ${v};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${e.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${v});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${p};\n            wD += ${u}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${h};\n            wR += ${c}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${w}; wC += 4) {\n              int xC = xCCorner + wC * ${d};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${d}, ch)\n              );\n\n              ${_}\n            }\n\n            int xC = xCCorner + ${w};\n            if (${1===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${_}\n            } else if (${2===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${_}\n            } else if (${3===k}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${d}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${d}, ch),\n                initializationValue\n              );\n\n              ${_}\n            }\n          }\n        }\n        setOutput(${x});\n      }\n    `}}const B8={kernelName:IO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;f5(o,"avgPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r;jA(oF(a,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const u=XL(o.shape,i,a,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&RA(u.inShape,u.outShape))return E6({inputs:{x:o},backend:n});const c=new L8(u,"avg",!1);return n.runWebGLProgram(c,[o],"float32")}},$8={kernelName:AO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dimRoundingMode:l,dataFormat:u}=r,c=YL(o.shape,i,a,[1,1,1],s,l,u),d=new F8(c,"avg",!1);return n.runWebGLProgram(d,[o],"float32")}};class z8{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,d=1/(t*n);this.userCode=`\n      const ivec2 pads = ivec2(${u}, ${c});\n      const float avgMultiplier = float(${d});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${s};\n            wR += ${i}) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${a}) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class U8{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=c-1-e.padInfo.front,f=d-1-e.padInfo.top,m=p-1-e.padInfo.left,g=1/(t*n*r);this.userCode=`\n      const ivec3 pads = ivec3(${h}, ${f}, ${m});\n      const float avgMultiplier = float(${g});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${c};\n            wD += ${s}) {\n          float dyD = float(dyDCorner + wD) / ${o}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${d};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${p};\n                wC += ${u}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const V8={kernelName:OO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=YL(a.shape,s,l,[1,1,1],u,c),p=new U8(d);return n.runWebGLProgram(p,[o],a.dtype)}},G8={kernelName:jO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i;f5([o,i],"avgPoolGrad");const{filterSize:s,strides:l,pad:u}=r,c=XL(a.shape,s,l,1,u),d=new z8(c);return n.runWebGLProgram(d,[o],a.dtype)}},W8={kernelName:NO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{a:o,b:i}=t,{transposeA:a,transposeB:s}=r;return o8({a:o,b:i,transposeA:a,transposeB:s,backend:n})}};class H8{constructor(e,t,n,r,o,i){this.outputShape=[],this.variableNames=["x","mean","variance"],dL(e,t),dL(e,n);let a="0.0";null!=r&&(dL(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let s="1.0";null!=o&&(dL(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${a};\n        float scale = ${s};\n        float inv = scale * inversesqrt(variance + float(${i}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `}}class q8{constructor(e,t,n,r,o,i){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],dL(e,t),dL(e,n);let a="vec4(0.0)";null!=r&&(dL(e,r),this.variableNames.push("offset"),a="getOffsetAtOutCoords()");let s="vec4(1.0)";null!=o&&(dL(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode=`\n      void main() {\n        vec4 offset = ${a};\n        vec4 scale = ${s};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${i}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `}}const X8={kernelName:_N,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r,mean:o,variance:i,offset:a,scale:s}=e;jA(o.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),jA(null==a||o.shape.length===a.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),jA(null==s||o.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:l}=n;null==l&&(l=.001);const u=[r,o,i];let c=null;null!=a&&(c=a.shape,u.push(a));let d=null;null!=s&&(d=s.shape,u.push(s));const p=uO().getBool("WEBGL_PACK_NORMALIZATION")?new q8(r.shape,o.shape,i.shape,c,d,l):new H8(r.shape,o.shape,i.shape,c,d,l);return t.runWebGLProgram(p,u,u[0].dtype)}};class Y8{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=O5(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return K8.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);let r;r=`\n        ${t} sourceLoc;\n        ${t} coords = getOutputCoords();\n        ${e.map(((e,t)=>`sourceLoc.${K8[t]} = start[${t}] + coords.${K8[t]};`)).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${n}));\n      }\n    `}}const K8=["x","y","z","w","u","v"];class Z8{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=O5(this.rank),n=X4("coords",this.rank),r=X4("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":`vec2(${r.slice(-2).join()})`,i=`getChannel(getSource(${r.join()}), ${o})`,a=`\n      result.x = ${i};\n      if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n        ++${r[this.rank-1]};\n        result.y = ${i};\n        --${r[this.rank-1]};\n      }\n    `,s=1===this.rank?"":`\n      --${n[this.rank-1]};\n      if (++${n[this.rank-2]} < ${e[this.rank-2]}) {\n        ++${r[this.rank-2]};\n        result.z = ${i};\n        if (++${n[this.rank-1]} < ${e[this.rank-1]}) {\n          ++${r[this.rank-1]};\n          result.w = ${i};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${t}(${e.map(((e,t)=>`start[${t}]`)).join()});`:e.map(((e,t)=>`${r[t]} = ${n[t]} + start[${t}];`)).join("\n");this.userCode=`\n      void main() {\n        ${t} coords = getOutputCoords();\n        ${t} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${a}\n        ${s}\n        setOutput(result);\n      }\n    `}}function J8(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,size:a}=r,[s,l]=zL(o,i,a);if(CL(o,s,l),0===NA(l))return n.makeTensorInfo(l,o.dtype,[]);if(n.shouldExecuteOnCPU([o])||"string"===o.dtype){const e=n.texData.get(o.dataId),t=N4(e.values,s,l,o.shape,o.dtype);return n.makeTensorInfo(l,o.dtype,t)}const{isPacked:u}=n.texData.get(o.dataId),c=BL(o.shape,s,l);if(u||!c){const e=uO().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Z8(l):new Y8(l),t=[s];return n.runWebGLProgram(e,[o],o.dtype,t)}return n.uploadToGPU(o.dataId),function(e,t,n,r){const o=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),a=r.texData.get(i.dataId);Object.assign(a,o),a.refCount=1,a.shape=n,a.dtype=e.dtype;let s=$L(t,KA(e.shape));o.slice&&(s+=o.slice.flatOffset),a.slice={flatOffset:s,origDataId:o.slice&&o.slice.origDataId||e.dataId};const l=r.dataRefCount.get(a.slice.origDataId)||1;return r.dataRefCount.set(a.slice.origDataId,l+1),i}(o,s,l,n)}const Q8={kernelName:FR,backendName:"webgl",kernelFunc:J8},e7={kernelName:RO,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,crops:a}=r;jA(o.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const s=i.reduce(((e,t)=>e*t)),l=az(o.shape,i,s),u=sz(l.length,i.length),c=lz(o.shape,i,s),d=uz(a,i.length),p=cz(c,a,i.length),h=[],f=W6({inputs:{x:o},backend:n,attrs:{shape:l}}),m=t8({inputs:{x:f},backend:n,attrs:{perm:u}}),g=W6({inputs:{x:m},backend:n,attrs:{shape:c}}),b=J8({inputs:{x:g},backend:n,attrs:{begin:d,size:p}});return h.push(f),h.push(m),h.push(g),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}},t7={kernelName:PO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a}=r,s=n.readSync(o.dataId),l=n.readSync(i.dataId),u=Q5(s,l,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,u)}},n7={kernelName:MO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:r,b:o}=t,i=uO().getBool("WEBGL_PACK_BINARY_OPERATIONS"),a=uO().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([r,o])||1===a){const e=n.texData.get(r.dataId).values,t=n.texData.get(o.dataId).values,[i,a]=t4(r.shape,o.shape,e,t,r.dtype),s=n.makeTensorInfo(a,r.dtype);return n.texData.get(s.dataId).values=i,s}let s;return s=i?new S6("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",r.shape,o.shape,!1):new k6("\n  return float(int(a.r) & int(b.r));\n",r.shape,o.shape),n.runWebGLProgram(s,[r,o],r.dtype)}},r7={kernelName:DO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:r,s1:o}=t,i=n.readSync(r.dataId),a=n.readSync(o.dataId),s=dL(Array.from(i),Array.from(a));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},o7=L6({opSnippet:"return float(a != b);",cpuKernelImpl:k4,dtype:"bool"}),i7={kernelName:aR,backendName:"webgl",kernelFunc:o7};function a7(e){const{inputs:t,backend:n}=e,{input:r}=t;return E6({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}const s7={kernelName:wR,backendName:"webgl",kernelFunc:a7},l7={kernelName:LO,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r,attrs:o}=t,{x:i}=n,{dtype:a}=o;if("complex64"===a){if("complex64"===i.dtype)return E6({inputs:{x:i},backend:r});const t=hB(i.shape),n=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),o=C6({inputs:{real:n,imag:t},backend:r});return t.dispose(),r.disposeIntermediateTensorInfo(n),o}if("complex64"===i.dtype){const t=a7({inputs:{input:i},backend:r}),n=e({inputs:{x:t},backend:r,attrs:{dtype:a}});return r.disposeIntermediateTensorInfo(t),n}if(!VA(i.dtype,a)){const e=E6({inputs:{x:i},backend:r});return{dataId:e.dataId,shape:e.shape,dtype:a}}if(r.shouldExecuteOnCPU([i])){const e=r.texData.get(i.dataId).values,[t,n,o]=n4(e,i.shape,i.dtype,a);return r.makeTensorInfo(t,n,o)}if("int32"===a)return function(e,t){const n=new t6(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===a){const e=r.makeTensorInfo([],"bool",zA("bool",1)),t=o7({inputs:{a:i,b:e},backend:r});return r.disposeIntermediateTensorInfo(e),t}throw new Error(`Error in Cast: failed to cast ${i.dtype} to ${a}`)}},u7="return ceil(x);",c7=D6({opSnippet:u7,packedOpSnippet:u7,cpuKernelImpl:r4}),d7={kernelName:FO,backendName:"webgl",kernelFunc:c7};class p7{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class h7{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const f7={kernelName:BO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{clipValueMin:i,clipValueMax:a}=r;let s;s=uO().getBool("WEBGL_PACK_CLIP")?new h7(o.shape):new p7(o.shape);const l=[[i],[a]];return n.runWebGLProgram(s,[o],o.dtype,l)}};class m7{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function g7(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const b7={kernelName:zO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=n.texData.get(r.dataId),i=new m7(r.shape),a=[g7(r,o.complexTensorInfos.real),g7(r,o.complexTensorInfos.imag)];return n.runWebGLProgram(i,a,a[0].dtype)}};class y7{constructor(e){this.outputShape=[],this.outputShape=Z$(e,1),this.variableNames=e.map(((e,t)=>`T${t}`));const t=new Array(e.length-1);t[0]=e[0][1];for(let n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];const n=[`if (yC < ${t[0]}) setOutput(getT0(yR, yC));`];for(let e=1;e<t.length;e++){const r=t[e-1];n.push(`else if (yC < ${t[e]}) setOutput(getT${e}(yR, yC-${r}));`)}const r=t.length,o=t[t.length-1];n.push(`else setOutput(getT${r}(yR, yC-${o}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${n.join("\n        ")}\n      }\n    `}}class v7{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=Z$(e,t);const n=this.outputShape,r=n.length,o=O5(r),i=X4("coords",r),a=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(((e,t)=>`T${t}`));const s=new Array(e.length-1);s[0]=e[0][t];for(let n=1;n<s.length;n++)s[n]=s[n-1]+e[n][t];const l=a[t],u=a.slice(-2),c=a.join();let d=`if (${l} < ${s[0]}) {\n        return getChannel(\n            getT0(${c}), vec2(${u.join()}));\n        }`;for(let e=1;e<s.length;e++){const t=s[e-1];d+=`\n        if (${l} < ${s[e]}  && ${l} >= ${s[e-1]}) {\n          return getChannel(\n            getT${e}(${x7(a,l,t)}),\n            vec2(${x7(u,l,t)}));\n        }`}const p=s.length,h=s[s.length-1];d+=`\n        return getChannel(\n          getT${p}(${x7(a,l,h)}),\n          vec2(${x7(u,l,h)}));`,this.userCode=`\n      float getValue(${a.map((e=>"int "+e))}) {\n        ${d}\n      }\n\n      void main() {\n        ${o} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${i}), 0., 0., 0.);\n\n        ${i[r-1]} = ${i[r-1]} + 1;\n        if (${i[r-1]} < ${n[r-1]}) {\n          result.g = getValue(${i});\n        }\n\n        ${i[r-2]} = ${i[r-2]} + 1;\n        if (${i[r-2]} < ${n[r-2]}) {\n          result.a = getValue(${i});\n        }\n\n        ${i[r-1]} = ${i[r-1]} - 1;\n        if (${i[r-2]} < ${n[r-2]} &&\n            ${i[r-1]} < ${n[r-1]}) {\n          result.b = getValue(${i});\n        }\n        setOutput(result);\n      }\n    `}}function x7(e,t,n){const r=e.indexOf(t);return e.map(((e,t)=>t===r?`${e} - ${n}`:e)).join()}function w7(e){const{inputs:t,backend:n}=e,{input:r}=t;return E6({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}const k7={kernelName:AN,backendName:"webgl",kernelFunc:w7};function _7(e,t,n){const r=e[0].dtype;if("complex64"===r){const r=e.map((e=>a7({inputs:{input:e},backend:n}))),o=e.map((e=>w7({inputs:{input:e},backend:n}))),i=_7(r,t,n),a=_7(o,t,n),s=C6({inputs:{real:i,imag:a},backend:n});return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),o.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(a),s}let o=n.shouldExecuteOnCPU(e);if("string"===r&&(o=!0),o){const o=e.map((e=>{const r=NA(e.shape.slice(t));return W6({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),i=o.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),a=Z$(o.map((e=>e.shape)),1),s=1===o[0].shape[0],l=o4(i,a,r,s),u=Z$(e.map((e=>e.shape)),t),c=n.makeTensorInfo(u,r,l);return o.forEach((e=>n.disposeIntermediateTensorInfo(e))),c}const i=e.filter((e=>NA(e.shape)>0)),a=uO().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&i[0].shape.length>1;if(1===i.length){const t=a?new t6(e[0].shape,l6):new m6(e[0].shape,l6);return n.runWebGLProgram(t,e,r)}const s=uO().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(i.length>s){const e=[];for(let r=0;r<i.length;r+=s){const o=i.slice(r,r+s);e.push(_7(o,t,n))}const r=_7(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return r}if(a){const e=new v7(i.map((e=>e.shape)),t);return n.runWebGLProgram(e,i,r)}const{tensors2D:l,outShape:u}=function(e,t,n){const r=Z$(e.map((e=>e.shape)),t),o=e.map((e=>W6({inputs:{x:e},attrs:{shape:[-1,NA(e.shape.slice(t))]},backend:n})));return{tensors2D:o,outShape:r}}(i,t,n),c=new y7(l.map((e=>e.shape))),d=n.runWebGLProgram(c,l,r);l.forEach((e=>n.disposeIntermediateTensorInfo(e)));const p=W6({inputs:{x:d},attrs:{shape:u},backend:n});return n.disposeIntermediateTensorInfo(d),p}function S7(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r,i=BA(o,t[0].shape)[0];K$(t.map((e=>e.shape)),i);const a=Z$(t.map((e=>e.shape)),i);if(0===NA(a))return n.makeTensorInfo(a,t[0].dtype,[]);const s=t.filter((e=>NA(e.shape)>0));return 1===s.length?E6({inputs:{x:s[0]},backend:n}):_7(s,i,n)}const E7={kernelName:UO,backendName:"webgl",kernelFunc:S7};class T7{constructor(e,t=!1,n=null,r=!1,o=!1){this.variableNames=["x","W"],this.outputShape=e.outShape;const i=e.padInfo.top,a=e.padInfo.left,s=e.strideHeight,l=e.strideWidth,u=e.dilationHeight,c=e.dilationWidth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,b=m?2:3,y=m?3:1;let v="",x="";n&&(v=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,x="result = activation(result);");const w=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${v}\n\n      const ivec2 strides = ivec2(${s}, ${l});\n      const ivec2 pads = ivec2(${i}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${y}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${g}], coords[${b}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${d}; wR++) {\n          int xR = xRCorner + wR * ${u};\n\n          if (xR < 0 || xR >= ${e.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${p}; wC++) {\n            int xC = xCCorner + wC * ${c};\n\n            if (xC < 0 || xC >= ${e.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${h}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${m}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===f}) {\n\n              if (${m}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${h}) *\n                    getW(wR, wC, ${h}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${h}, xR, xC) *\n                    getW(wR, wC, ${h}, d2);\n              }\n\n            } else if (${2===f}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2)\n              );\n\n              if (${m}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===f}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${h}, d2),\n                getW(wR, wC, ${h} + 1, d2),\n                getW(wR, wC, ${h} + 2, d2)\n              );\n\n              if (${m}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${h}),\n                  getX(batch, xR, xC, ${h} + 1),\n                  getX(batch, xR, xC, ${h} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${h}, xR, xC),\n                  getX(batch, ${h} + 1, xR, xC),\n                  getX(batch, ${h} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${w}\n        ${x}\n        setOutput(result);\n      }\n    `}}class C7{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,d=e.filterHeight,p=e.filterWidth,h=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${o}, ${i}, ${a});\n      const ivec3 pads = ivec3(${t}, ${n}, ${r});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${c}; wF++) {\n          int xF = xFCorner + wF * ${s};\n\n          if (xF < 0 || xF >= ${e.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${d}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${p}; wC++) {\n              int xC = xCCorner + wC * ${u};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${h}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===f}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${h}) *\n                  getW(wF, wR, wC, ${h}, d2);\n              } else if (${2===f}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===f}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${h}),\n                  getX(batch, xF, xR, xC, ${h} + 1),\n                  getX(batch, xF, xR, xC, ${h} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${h}, d2),\n                  getW(wF, wR, wC, ${h} + 1, d2),\n                  getW(wF, wR, wC, ${h} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class I7{constructor(e,t=!1,n=null,r=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=L5(this.outputShape.length);const i=e.padInfo.left,a=e.strideWidth,s=e.dilationWidth,l=e.filterHeight,u=e.filterWidth,c=u;let d="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<u;e++)d+=`\n           vec4 xTexelC${2*e};\n           int xTexelC${2*e}Ready;\n           vec4 xTexelC${2*e+1};\n           int xTexelC${2*e+1}Ready;\n           vec4 xC${e};`;d+=`\n     for (int r = 0; r < ${l}; r++) {\n      for (int d1 = 0; d1 < ${e.inChannels}; d1 += 2) {\n       `;for(let e=0;e<u;e++)d+=`\n           xTexelC${2*e} = vec4(0.0);\n           xTexelC${2*e}Ready = 0;\n           xTexelC${2*e+1} = vec4(0.0);\n           xTexelC${2*e+1}Ready = 0;\n           xC${e} = vec4(0.0);`;d+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let t=0;t<(c+1)/2;t++){const n=2*t;if(d+=`\n           xC = xCCorner + ${n*s};\n           `,1===a){if(n<u&&(i%2==1?(d+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n               `,d+=1===s&&n>0?`\n                 xC${n} = vec4(xTexelC${n-2}.zw, xTexelC${n}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${n} = vec4(previous.zw, xTexelC${n}.xy);\n                   } else {\n                     xC${n} = vec4(0.0, 0.0, xTexelC${n}.xy);\n                   }\n                   `):d+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n\n                 xC${n} = xTexelC${n};\n                 `,n+1<u)){const e=i%2==0?CA(s):s;s%2==0&&i%2==1||s%2!=0&&i%2!=1?(d+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n+1}Ready == 0) {\n                     xTexelC${n+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${n+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${n+1}Ready = 1;\n                   }\n                   `,d+=s>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${n+1} = vec4(previous.zw, xTexelC${n+1}.xy);\n                     } else {\n                      xC${n+1} = vec4(0.0, 0.0, xTexelC${n+1}.xy);\n                     }\n                     `:`\n                     xC${n+1} = vec4(xTexelC${n}.zw, xTexelC${n+1}.xy);\n                     `):d+=1===e?`\n                     xC${n+1} = xTexelC${n};\n                     `:`\n                     xCOffset = xC + ${e};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n+1}Ready == 0) {\n                       xTexelC${n+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${n+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${n+1}Ready = 1;\n                     }\n\n                     xC${n+1} = xTexelC${n+1};\n                     `}}else n<u&&(i%2==1?(d+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${n+1}Ready == 0) {\n                   xTexelC${n+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${n+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${n+1}Ready = 1;\n                 }\n\n                 xC${n} = vec4(xTexelC${n}.zw, xTexelC${n+1}.zw);\n               `,n+1<u&&(d+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${n+1} = vec4(xTexelC${n+1}.xy, final.xy);\n                 `)):(d+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${n}Ready == 0) {\n                   xTexelC${n} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${n}.zw = vec2(0.0);\n                   }\n                   xTexelC${n}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${n+1}Ready == 0) {\n                   xTexelC${n+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${n+1}.zw = vec2(0.);\n                   }\n                   xTexelC${n+1}Ready = 1;\n                 }\n\n                 xC${n} = vec4(\n                   xTexelC${n}.xy, xTexelC${n+1}.xy);\n               `,n+1<u&&(d+=`\n                   xC${n+1} = vec4(xTexelC${n}.zw, xTexelC${n+1}.zw);\n                 `)));n<u&&(d+=`\n             wTexel = getW(r, ${n}, d1, d2);\n             dotProd += xC${n}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${e.inChannels}) {\n               dotProd += xC${n}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,n+1<u&&(d+=`\n               wTexel = getW(r, ${n+1}, d1, d2);\n               dotProd += xC${n+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${e.inChannels}) {\n                 dotProd += xC${n+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}d+="\n     }\n   ",d+="\n     }\n   ",d+="\n     }\n   ";let p="",h="";n&&(p=r?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${n}\n         }`:o?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${n}\n         }`:`vec4 activation(vec4 x) {\n           ${n}\n         }`,h="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${p}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${d}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${f}\n         ${h}\n         setOutput(result);\n       }\n     `}}class j7{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=L5(this.outputShape.length);const{dataFormat:n}=t,r=g5(),o="channelsLast"===n,i=o?1:2,a=o?2:3,s=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${e[2]} && pos < ${e[1]}) {`;let l="";for(let e=0;e<=1;e++)for(let t=0;t<=1;t++)l+=`\n          blockIndex = rc.z + ${t};\n          pos = rc.y + ${e};\n\n          ${s}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${i}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${a}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${o}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*e+t}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*e+t}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${r.output} = result;\n      }\n    `}}function A7(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function O7({x:e,filter:t,convInfo:n,backend:r,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:s=null}){const l=e.shape,u=r.texData.get(e.dataId),c=n.inChannels,d=l[0]*l[1]*l[2],p=n.outChannels,h="channelsLast"===n.dataFormat;let f;const m=[];if(null!=i){const e=A7(i.shape,h);null!=e&&(i=W6({inputs:{x:i},backend:r,attrs:{shape:e}}),m.push(i))}if(null!=o){const e=A7(o.shape,h);null!=e&&(o=W6({inputs:{x:o},backend:r,attrs:{shape:e}}),m.push(o))}if((1!==d&&1!==p||!(c>r8))&&u.isPacked&&h&&null!=u.texture&&l[2]%2!=0&&RA(u.shape.slice(-3),l.slice(-3))){const c=l[0]*l[1]*(l[2]+1),d={dataId:e.dataId,shape:[1,c,n.inChannels],dtype:e.dtype},p=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,jA(l5(u.shape,d.shape),(()=>`packed reshape ${u.shape} to ${d.shape} isn't free`));const h=W6({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}});m.push(h);const g=o8({a:d,b:h,backend:r,transposeA:!1,transposeB:!1,bias:o,activation:s,preluActivationWeights:i,leakyreluAlpha:a}),b=r.texData.get(g.dataId);jA(b.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=p,b.shape=n.outShape,f=E6({inputs:{x:g},backend:r}),f.shape=n.outShape,m.push(g)}else{const l=n.outHeight*n.outWidth,u=W6({inputs:{x:e},backend:r,attrs:{shape:h?[n.batchSize,l,n.inChannels]:[n.batchSize,n.inChannels,l]}}),c=W6({inputs:{x:t},backend:r,attrs:{shape:[1,n.inChannels,n.outChannels]}}),d=o8({a:h?u:c,b:h?c:u,transposeA:!h,transposeB:!1,backend:r,bias:o,activation:s,preluActivationWeights:i,leakyreluAlpha:a});f=W6({inputs:{x:d},backend:r,attrs:{shape:n.outShape}}),m.push(u),m.push(c),m.push(d)}for(const e of m)r.disposeIntermediateTensorInfo(e);return f}function N7({x:e,filter:t,convInfo:n,backend:r,bias:o=null,preluActivationWeights:i=null,leakyreluAlpha:a=0,activation:s=null}){const{filterWidth:l,filterHeight:u,inChannels:c,outWidth:d,outHeight:p,dataFormat:h}=n,f="channelsLast"===h,m=l*u*c,g=p*d,b=[n.batchSize,m,g],y=[];if(null!=i){const e=A7(i.shape,f);null!=e&&(i=W6({inputs:{x:i},backend:r,attrs:{shape:e}}),y.push(i))}if(null!=o){const e=A7(o.shape,f);null!=e&&(o=W6({inputs:{x:o},backend:r,attrs:{shape:e}}),y.push(o))}const v=W6({inputs:{x:t},backend:r,attrs:{shape:[1,m,NA(t.shape)/m]}});y.push(v);const x=new j7(b,n),w=[e.shape,[n.padInfo.top,n.padInfo.left],[n.strideHeight,n.strideWidth],[n.dilationHeight,n.dilationWidth],[n.inChannels],[n.filterWidth*n.inChannels],[n.outWidth]],k=r.runWebGLProgram(x,[e],"float32",w),_=W6({inputs:{x:k},backend:r,attrs:{shape:b}});y.push(k),y.push(_);const S=null!=o,E=null!=i,T="leakyrelu"===s,C=s?F6(s,!0):null,I=new B6(f?_.shape:v.shape,f?v.shape:_.shape,f?[n.batchSize,g,n.outChannels]:[n.batchSize,n.outChannels,g],!0,!1,S,C,E,T),j=f?[_,v]:[v,_];if(o&&j.push(o),E&&j.push(i),T){const e=r.makeTensorInfo([],"float32",XP(a,"float32"));j.push(e),y.push(e)}const A=r.runWebGLProgram(I,j,"float32"),O=W6({inputs:{x:A},backend:r,attrs:{shape:n.outShape}});y.push(A);for(const e of y)r.disposeIntermediateTensorInfo(e);return O}const R7={kernelName:VO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dataFormat:l,dilations:u,dimRoundingMode:c}=r,d=aF(l),p=KL(o.shape,i.shape,a,u,s,c,!1,d);let h;if(1!==p.filterHeight||1!==p.filterWidth||1!==p.dilationHeight||1!==p.dilationWidth||1!==p.strideHeight||1!==p.strideWidth||"SAME"!==p.padInfo.type&&"VALID"!==p.padInfo.type)if(p.strideWidth<=2&&"channelsLast"===d&&uO().getBool("WEBGL_EXP_CONV")){const e=new I7(p),t=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];h=n.runWebGLProgram(e,[o,i],"float32",t)}else if(uO().getBool("WEBGL_CONV_IM2COL"))h=N7({x:o,filter:i,convInfo:p,backend:n});else{const e=new T7(p);h=n.runWebGLProgram(e,[o,i],"float32")}else h=O7({x:o,filter:i,convInfo:p,backend:n});const f=W6({inputs:{x:h},backend:n,attrs:{shape:p.outShape}});return n.disposeIntermediateTensorInfo(h),f}};class P7{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i="channelsLast"===e.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              ${i?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);"}\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class M7{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i="channelsLast"===e.dataFormat,a=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=i?1:2,u=i?2:3,c=i?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${c}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${u}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n\n              if (${i}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class D7{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,i=e.padInfo.top,a=e.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yF = 0; yF < ${e.outDepth}; yF++) {\n            int xF = wF + yF * ${t} - ${o};\n\n            if (xF < 0 || xF >= ${e.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${e.outHeight}; yR++) {\n              int xR = wR + yR * ${n} - ${i};\n\n              if (xR < 0 || xR >= ${e.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${e.outWidth}; yC++) {\n                int xC = wC + yC * ${r} - ${a};\n\n                if (xC < 0 || xC >= ${e.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class L7{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,i=e.strideHeight,a=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${s}, ${l}, ${u});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${t}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${o}.0;\n\n          if (dyF < 0.0 || dyF >= ${e.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${t} - 1 - wF;\n\n          for (int wR = 0; wR < ${n}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${i}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${n} - 1 - wR;\n\n            for (int wC = 0; wC < ${r}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${r} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${e.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const F7={kernelName:GO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,dataFormat:l,dimRoundingMode:u,filterShape:c}=r,d=aF(l),p=KL(o.shape,c,a,1,s,u,!1,d),h=new P7(p);return n.runWebGLProgram(h,[o,i],"float32")}};class B7{constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=L5(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,r=t-1-e.padInfo.top,o=n-1-e.padInfo.left;this.userCode=`\n      const ivec2 pads = ivec2(${r}, ${o});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            int wCPerm = ${n} - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ${e.outWidth}.0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ${e.outWidth}.0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ${e.outChannels}; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    `}}const $7={kernelName:WO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{inputShape:a,strides:s,pad:l,dataFormat:u,dimRoundingMode:c}=r,d=aF(u),p=KL(a,i.shape,s,1,l,c,!1,d);if(uO().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===d){const e=[[p.strideHeight,p.strideWidth]],t=new B7(p);return n.runWebGLProgram(t,[o,i],"float32",e)}{const e=new M7(p);return n.runWebGLProgram(e,[o,i],"float32")}}},z7={kernelName:HO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l}=r,u=ZL(o.shape,i.shape,a,l,s),c=new C7(u);return n.runWebGLProgram(c,[o,i],"float32")}},U7={kernelName:qO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,pad:s,filterShape:l}=r,u=ZL(o.shape,l,a,1,s),c=new D7(u);return n.runWebGLProgram(c,[o,i],"float32")}},V7={kernelName:XO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{pad:a,strides:s,inputShape:l}=r,u=ZL(l,i.shape,s,1,a),c=new L7(u);return n.runWebGLProgram(c,[o,i],"float32")}},G7=D6({opSnippet:M6+"\n  return cos(x);\n",packedOpSnippet:`\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ${_6}\n  return result;\n`}),W7={kernelName:YO,backendName:"webgl",kernelFunc:G7},H7=D6({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),q7={kernelName:KO,backendName:"webgl",kernelFunc:H7};class X7{constructor(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[i,a,s,l]=e,[u]=t,[c,d]=n;this.outputShape=[u,c,d,l];const p="bilinear"===r?1:0,[h,f]=[a-1+".0",s-1+".0"],[m,g,b]=c>1?[""+(a-1)/(c-1),"(y2-y1) * height_ratio",`y1*${h} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${h}`],[y,v,x]=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio",`x1*${f} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${f}`];this.userCode=`\n      const float height_ratio = float(${m});\n      const float width_ratio = float(${y});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${i}) {\n          return;\n        }\n\n        float height_scale = ${g};\n        float width_scale = ${v};\n\n        float in_y = ${b};\n        if( in_y < 0.0 || in_y > ${h} ) {\n          setOutput(float(${o}));\n          return;\n        }\n        float in_x = ${x};\n        if( in_x < 0.0 || in_x > ${f} ) {\n          setOutput(float(${o}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${p} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `}}const Y7={kernelName:QO,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{image:o,boxes:i,boxInd:a}=t,{cropSize:s,method:l,extrapolationValue:u}=r,c=new X7(o.shape,i.shape,s,l,u);return n.runWebGLProgram(c,[o,i,a],"float32")}};var K7;!function(e){e.Prod="*",e.Sum="+"}(K7||(K7={}));class Z7{constructor(e,t,n,r){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const o=this.outputShape.length,i=this.op===K7.Prod?"1.0":"0.0",a=n?i:`getX(${J7(o,"coords",this.op)})`,s=this.outputShape[this.outputShape.length-1];let l="",u="";n?(l=r?"end != "+(s-1):"end != 0",u=r?"end + 1":"end - 1"):(l=r?`end + pow2 < ${s}`:"end >= pow2",u=r?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${O5(o)} coords = getOutputCoords();\n        int end = ${Q7(o,"coords",this.op)};\n        float val = ${a};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${u};\n          ${Q7(o,"coords",this.op)} = idx;\n          val ${this.op}= getX(${J7(o,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}}function J7(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function Q7(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function e9(e,t,n,r,o,i){const a=t.shape.length,s=JF([r],a);let l=t;null!=s&&(l=t8({inputs:{x:t},backend:n,attrs:{perm:s}}));const u=eB(1,a)[0];if(u!==a-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);const c=l.shape[u];let d=E6({inputs:{x:l},backend:n});for(let t=0;t<=Math.ceil(Math.log2(c))-1;t++){const r=new Z7(e,l.shape,!1,i),o=[[t]],a=d;d=n.runWebGLProgram(r,[d],d.dtype,o),n.disposeIntermediateTensorInfo(a)}if(o){const t=new Z7(e,l.shape,o,i),r=d;d=n.runWebGLProgram(t,[d],d.dtype),n.disposeIntermediateTensorInfo(r)}if(null!=s){const e=t8({inputs:{x:d},backend:n,attrs:{perm:QF(s)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),e}return d}const t9={kernelName:ZO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;return e9(K7.Prod,o,n,i,a,s)}},n9={kernelName:JO,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,exclusive:a,reverse:s}=r;return e9(K7.Sum,o,n,i,a,s)}},r9={kernelName:eN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,weights:i}=t,{size:a,binaryOutput:s}=r;if(1===o.shape.length){const e=n.readSync(o.dataId),t=n.readSync(i.dataId),r=Q5(e,t,i.dtype,i.shape,a);return n.makeTensorInfo([a],i.dtype,r)}if(2===o.shape.length){const e=n.bufferSync(o),t=n.bufferSync(i),r=e4(e,t,a,s);return n.makeTensorInfo(r.shape,i.dtype,r.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${o.shape.length}.`)}};class o9{constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${t};\n      int offset_h = imod(h, ${t});\n      int in_w = w / ${t};\n      int offset_w = imod(w, ${t});\n      int offset_d = (offset_h * ${t} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const i9={kernelName:tN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockSize:i,dataFormat:a}=r,s=o.shape[0],l=("NHWC"===a?o.shape[1]:o.shape[2])*i,u=("NHWC"===a?o.shape[2]:o.shape[3])*i,c=("NHWC"===a?o.shape[3]:o.shape[1])/(i*i),d=new o9("NHWC"===a?[s,l,u,c]:[s,c,l,u],i,a);return n.runWebGLProgram(d,[o],o.dtype)}};class a9{constructor(e,t=!1,n=null,r=!1,o=!1){this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=L5(this.outputShape.length);const i=e.filterHeight,a=e.filterWidth,s=e.outChannels/e.inChannels;let l="",u="";n&&(l=r?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`\n          float activation(float x) {\n            ${n}\n          }\n        `,u="result = activation(result);");const c=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${s};\n        int q = d2 - d1 * ${s};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${i}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${a}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${c}\n        ${u}\n        setOutput(result);\n      }\n    `}}class s9{constructor(e,t=!1,n=null,r=!1,o=!1){this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=L5(this.outputShape.length);const i=e.outChannels/e.inChannels,a=e.padInfo.left,s=e.strideWidth,l=e.dilationWidth,u=e.filterHeight,c=e.filterWidth,d=c;let p="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let e=0;e<c;e++)p+=`\n          vec4 xTexelC${2*e};\n          int xTexelC${2*e}Ready;\n          vec4 xTexelC${2*e+1};\n          int xTexelC${2*e+1}Ready;\n          vec4 xC${e};`;p+=`\n    for (int r = 0; r < ${u}; r++) {\n      `;for(let e=0;e<c;e++)p+=`\n          xTexelC${2*e} = vec4(0.0);\n          xTexelC${2*e}Ready = 0;\n          xTexelC${2*e+1} = vec4(0.0);\n          xTexelC${2*e+1}Ready = 0;\n          xC${e} = vec4(0.0);`;p+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let e=0;e<(d+1)/2;e++){const t=2*e;if(p+=`\n          xC = xCCorner + ${t*l};\n          `,1===s){if(t<c&&(a%2==1?(p+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n              `,p+=1===l&&t>0?`\n                xC${t} = vec4(xTexelC${t-2}.zw, xTexelC${t}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${t} = vec4(previous.zw, xTexelC${t}.xy);\n                  } else {\n                    xC${t} = vec4(0.0, 0.0, xTexelC${t}.xy);\n                  }\n                  `):p+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xC${t} = xTexelC${t};\n                `,t+1<c)){const e=a%2==0?CA(l):l;l%2==0&&a%2==1||l%2!=0&&a%2!=1?(p+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${e};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                    xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${t+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${t+1}Ready = 1;\n                  }\n                  `,p+=l>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${t+1} = vec4(previous.zw, xTexelC${t+1}.xy);\n                    } else {\n                     xC${t+1} = vec4(0.0, 0.0, xTexelC${t+1}.xy);\n                    }\n                    `:`\n                    xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.xy);\n                    `):p+=1===e?`\n                    xC${t+1} = xTexelC${t};\n                    `:`\n                    xCOffset = xC + ${e};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                      xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${t+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${t+1}Ready = 1;\n                    }\n\n                    xC${t+1} = xTexelC${t+1};\n                    `}}else t<c&&(a%2==1?(p+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n              `,t+1<c&&(p+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${t+1} = vec4(xTexelC${t+1}.xy, final.xy);\n                `)):(p+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${t}Ready == 0) {\n                  xTexelC${t} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${t}.zw = vec2(0.0);\n                  }\n                  xTexelC${t}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${t+1}Ready == 0) {\n                  xTexelC${t+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${t+1}.zw = vec2(0.);\n                  }\n                  xTexelC${t+1}Ready = 1;\n                }\n\n                xC${t} = vec4(\n                  xTexelC${t}.xy, xTexelC${t+1}.xy);\n              `,t+1<c&&(p+=`\n                  xC${t+1} = vec4(xTexelC${t}.zw, xTexelC${t+1}.zw);\n                `)));t<c&&(p+=`\n            wTexel = getW(r, ${t}, d1, q);\n            dotProd += xC${t} * vec4(wTexel.xz, wTexel.xz);\n          `,t+1<c&&(p+=`\n              wTexel = getW(r, ${t+1}, d1, q);\n              dotProd += xC${t+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}p+="\n    }\n  ",p+="\n      }\n    ";let h="",f="";n&&(h=r?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${n}\n        }`:o?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${n}\n        }`:`vec4 activation(vec4 x) {\n          ${n}\n        }`,f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${h}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${i};\n        int q = d2 - d1 * ${i};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${p}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${m}\n        ${f}\n        setOutput(result);\n      }\n    `}}const l9={kernelName:nN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l,dimRoundingMode:u}=r;let c=l;null==c&&(c=[1,1]),jA(oF(a,c),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`));const d=KL(o.shape,i.shape,a,c,s,u,!0);let p;p=uO().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels==1?new s9(d):new a9(d);const h=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(p,[o,i],"float32",h)}};class u9{constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${i} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${e.batchSize}; b++) {\n          for (int yR = 0; yR < ${e.outHeight}; yR++) {\n            int xR = wR + yR * ${t} - ${r};\n\n            if (xR < 0 || xR >= ${e.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${e.outWidth}; yC++) {\n              int xC = wC + yC * ${n} - ${o};\n\n              if (xC < 0 || xC >= ${e.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class c9{constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,i=t-1-e.padInfo.top,a=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${i}, ${a});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${t}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${r}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${t} - 1 - wR;\n\n          for (int wC = 0; wC < ${n}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${o}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${n} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${s}; dm++) {\n              int d2 = d1 * ${s} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const d9={kernelName:rN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,dy:i}=t,{strides:a,dilations:s,pad:l,dimRoundingMode:u,filterShape:c}=r,d=KL(o.shape,c,a,s,l,u,!0),p=new u9(d);return n.runWebGLProgram(p,[o,i],"float32")}},p9={kernelName:oN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,filter:i}=t,{strides:a,dilations:s,pad:l,dimRoundingMode:u,inputShape:c}=r,d=KL(c,i.shape,a,s,l,u,!0),p=new c9(d);return n.runWebGLProgram(p,[o,i],"float32")}};class h9{constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const f9={kernelName:iN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t,o=[...r.shape,...r.shape],i=NA(r.shape),a=W6({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new h9(i),l=n.runWebGLProgram(s,[a],a.dtype),u=W6({inputs:{x:l},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(l),u}};class m9{constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:r,strideHeight:o,strideWidth:i,filterHeight:a,filterWidth:s,dilationHeight:l,dilationWidth:u}=e,{top:c,left:d}=r;this.userCode=`\n      const ivec2 strides = ivec2(${o}, ${i});\n      const ivec2 pads = ivec2(${c}, ${d});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${a}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${t}) {\n            for (int w = 0; w < ${s}; w++) {\n              int wIn = wBeg + w * ${u};\n\n              if (wIn >= 0 && wIn < ${n}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}}const g9={kernelName:aN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i}=t,{strides:a,pad:s,dilations:l}=r,u=qL(o.shape,i.shape,a,s,"NHWC",l);let c;const d=new m9(u);c=n.runWebGLProgram(d,[o,i],"float32");const p=W6({inputs:{x:c},backend:n,attrs:{shape:u.outShape}});return n.disposeIntermediateTensorInfo(c),p}},b9={kernelName:cN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{equation:o}=r,i=t,{allDims:a,summedDims:s,idDims:l}=Mz(o,i.length);Lz(a.length,l,i);const{path:u,steps:c}=Fz(s,l),d=c.length;let p=null,h=a.length;const f=[];for(let e=0;e<d;++e){for(const t of c[e]){const{permutationIndices:e,expandDims:r}=Dz(h,l[t]);let o;Bz(e)?o=i[t]:(o=t8({inputs:{x:i[t]},backend:n,attrs:{perm:e}}),f.push(o));const a=o.shape.slice();for(let e=0;e<r.length;++e)a.splice(r[e],0,1);RA(o.shape,a)||(o=W6({inputs:{x:o},backend:n,attrs:{shape:a}}),f.push(o)),null===p?p=o:(p=V6({inputs:{a:o,b:p},backend:n}),f.push(p))}e<d-1&&(u[e]>=0&&(p=Q6({inputs:{x:p},backend:n,attrs:{axis:u[e]-(a.length-h),keepDims:!1}}),f.push(p)),h--)}for(const e of f)e!==p&&n.disposeIntermediateTensorInfo(e);return p}},y9=D6({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),v9={kernelName:dN,backendName:"webgl",kernelFunc:y9},x9={kernelName:pN,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:r,y:o}=t,i=uO().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new S6("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,o.shape):new k6("return (b >= 0.0) ? a : a * (b + 1.0);",r.shape,o.shape);return n.runWebGLProgram(i,[r,o],r.dtype)}},w9=L6({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:i4}),k9={kernelName:fN,backendName:"webgl",kernelFunc:w9},_9=D6({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${bz};\n  float a1 = ${yz};\n  float a2 = ${vz};\n  float a3 = ${xz};\n  float a4 = ${wz};\n  float a5 = ${kz};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),S9={kernelName:hN,backendName:"webgl",kernelFunc:_9},E9=D6({opSnippet:M6+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:a4,dtype:"float32"}),T9={kernelName:mN,backendName:"webgl",kernelFunc:E9};function C9(e){const{inputs:t,attrs:n,backend:r}=e,{dim:o}=n,{input:i}=t,a=i.shape.length,s=i.shape.slice();let l=o;return o<0&&(jA(-(a+1)<=o,(()=>`Axis must be in the interval [${-(a+1)}, ${a}]`)),l=a+o+1),s.splice(l,0,1),W6({inputs:{x:i},backend:r,attrs:{shape:s}})}const I9={kernelName:gN,backendName:"webgl",kernelFunc:C9},j9="return exp(x) - 1.0;",A9=D6({opSnippet:j9,packedOpSnippet:j9,cpuKernelImpl:s4}),O9={kernelName:bN,backendName:"webgl",kernelFunc:A9};class N9{constructor(e,t,n){this.variableNames=["real","imag"];const r=t[1];this.outputShape=t;const o=n?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,i=n?`${r}.0`:"1.0";let a;if("real"===e)a="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error(`FFT component must be either "real" or "imag", got ${e}.`);a="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${o};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${a}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${r});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${r}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${i};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}}function R9(e,t,n){const r=n.texData.get(e.dataId),o=NA(e.shape),i=e.shape[e.shape.length-1],a=W6({inputs:{x:e},backend:n,attrs:{shape:[o/i,i]}}),s=a.shape,l=new N9("real",s,t),u=new N9("imag",s,t),c=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],d=n.runWebGLProgram(l,c,"float32"),p=n.runWebGLProgram(u,c,"float32"),h=C6({inputs:{real:d,imag:p},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p);const f=W6({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(h),f}const P9={kernelName:yN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return R9(r,!1,n)}};class M9{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function D9(e){const{backend:t,attrs:n}=e,{shape:r,value:o}=n;let{dtype:i}=n;if(i=i||qA(o),"string"===i){const e=UA(i,NA(r));return e.fill(o),t.makeTensorInfo(r,i,e)}{const e=new M9(r,o),n=[[o]];return t.runWebGLProgram(e,[],i,n)}}const L9={kernelName:vN,backendName:"webgl",kernelFunc:D9};class F9{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${t} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${t}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const B9={kernelName:xN,backendName:"webgl",kernelFunc:({inputs:e,backend:t})=>{const{image:n}=e,r=t,o=new F9(n.shape);return r.runWebGLProgram(o,[n],n.dtype)}},$9="return floor(x);",z9=D6({opSnippet:$9,packedOpSnippet:$9,cpuKernelImpl:l4}),U9={kernelName:wN,backendName:"webgl",kernelFunc:z9},V9=L6({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),G9={kernelName:kN,backendName:"webgl",kernelFunc:V9};class W9{constructor(e){this.variableNames=["A"];const t=g5(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}.0, ${n}.0);\n\n        vec4 values = ${t.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `}}class H9{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=g5(),[n,r]=e;this.outputShape=e,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${r}.0, ${n}.0);\n            vec4 values = ${t.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${t.output} = result;\n      }\n    `}}const q9={kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e;let{pixels:o}=t;const{numChannels:i}=r,a="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,[l,u]=a?[o.videoWidth,o.videoHeight]:[o.width,o.height],c=[u,l],d=[u,l,i];if(s||a){const e=uO().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=X9&&e===Y9||(Y9=e,X9=document.createElement("canvas").getContext("2d",{willReadFrequently:Y9})),X9.canvas.width=l,X9.canvas.height=u,X9.drawImage(o,0,0,l,u),o=X9.canvas}const p=n.makeTensorInfo(c,"int32");n.texData.get(p.dataId).usage=$3.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(p.dataId),o);const h=uO().getBool("WEBGL_PACK")?new H9(d):new W9(d),f=n.runWebGLProgram(h,[p],"int32");return n.disposeData(p.dataId),f}};let X9,Y9=uO().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const K9={kernelName:wP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:l,pad:u,dataFormat:c,dilations:d,dimRoundingMode:p,activation:h,leakyreluAlpha:f}=r,m=aF(c),g=KL(o.shape,i.shape,l,d,u,p,!1,m);let b;const y=[],v=null!=a,x=null!=s,w="leakyrelu"===h,k=()=>{const e=[o,i],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=W6({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return y.push(t),t}return e};if(v&&e.push(t(a,c)),x&&e.push(t(s,c)),w){const t=n.makeTensorInfo([],"float32",XP(f,"float32"));e.push(t),y.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&uO().getBool("WEBGL_EXP_CONV")){const e=h?F6(h,!0):null,t=new I7(g,v,e,x,w),r=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],o=k();b=n.runWebGLProgram(t,o,"float32",r)}else if(uO().getBool("WEBGL_CONV_IM2COL"))b=N7({x:o,filter:i,convInfo:g,backend:n,bias:a,activation:h,preluActivationWeights:s,leakyreluAlpha:f});else{const e=h?F6(h,!1):null,t=new T7(g,v,e,x,w),r=k();b=n.runWebGLProgram(t,r,"float32")}else b=O7({x:o,filter:i,convInfo:g,backend:n,bias:a,activation:h,preluActivationWeights:s,leakyreluAlpha:f});const _=W6({inputs:{x:b},backend:n,attrs:{shape:g.outShape}});return y.push(b),y.forEach((e=>n.disposeIntermediateTensorInfo(e))),_}},Z9={kernelName:kP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,filter:i,bias:a,preluActivationWeights:s}=t,{strides:l,pad:u,dilations:c,dimRoundingMode:d,activation:p,leakyreluAlpha:h}=r,f=[];let m=c;null==m&&(m=[1,1]),jA(oF(l,m),(()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${m}'`));const g=KL(o.shape,i.shape,l,m,u,d,!0),b=uO().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels==1,y=p?F6(p,b):null,v=[o,i],x=null!=a,w=null!=s,k="leakyrelu"===p;if(x&&v.push(a),w&&v.push(s),k){const e=n.makeTensorInfo([],"float32",XP(h,"float32"));v.push(e),f.push(e)}let _;_=b?new s9(g,x,y,w,k):new a9(g,x,y,w,k);const S=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],E=n.runWebGLProgram(_,v,"float32",S);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),E}};class J9{constructor(e,t,n,r){this.sliceDim=e,this.strides=t,this.paramsShape=r,this.variableNames=["x","indices"],this.outputShape=n;const o=O5(n.length);let i="\n    int index;";for(let e=0;e<this.sliceDim;e++)i+=`\n          index = round(getIndices(coords[0], ${e}));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ${this.paramsShape[e]};\n          flattenIndex += index * ${this.strides[e]};`;this.userCode=`\n         void main() {\n          ${o} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ${i}\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}}const Q9={kernelName:EN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:r,indices:o}=t,i=o.shape,a=i[i.length-1],s=NA(r.shape),[l,u,c,d]=dz(r,o),p=W6({inputs:{x:o},backend:n,attrs:{shape:[u,a]}}),h=W6({inputs:{x:r},backend:n,attrs:{shape:[NA(r.shape)/c,c]}});if(n.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=n.readSync(o.dataId),t=n.bufferSync(r),i=u4(e,t,r.dtype,u,a,c,d,r.shape,s);return n.makeTensorInfo(l,r.dtype,i.values)}const f=new J9(a,d,[u,c],r.shape),m=n.runWebGLProgram(f,[h,p],h.dtype),g=W6({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),g}};class eee{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=O5(this.rank),r=function(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[];for(let t=0;t<e.length;t++)2===t?r.push("index"):r.push(`${n[t]}`);return r.join()}(e);this.userCode=`\n      void main() {\n        ${n} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${e[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${r}));\n      }\n    `}}function tee(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,indices:i}=t,{axis:a,batchDims:s}=r,l=BA(a,o.shape)[0];if(uO().get("DEBUG")){const e=n.readSync(i.dataId),t=o.shape[l];for(let n=0;n<e.length;++n){const r=e[n];jA(r<=t-1&&r>=0,(()=>`GatherV2: the index value ${r} is not in [0, ${t-1}]`))}}const u=nU(o,i,l,s),c=NA(i.shape),d=[],p=W6({inputs:{x:o},backend:n,attrs:{shape:[u.batchSize,u.outerSize,u.dimSize,u.sliceSize]}}),h=W6({inputs:{x:i},backend:n,attrs:{shape:[u.batchSize,c/u.batchSize]}});d.push(p),d.push(h);const f=[u.batchSize,u.outerSize,c/u.batchSize,u.sliceSize];if(n.shouldExecuteOnCPU([o,i])||"string"===o.dtype){const e=n.bufferSync(h),t=n.bufferSync(p),r=c4(t,e,f);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u.outputShape,r.dtype,r.values)}const m=new eee(p.shape,f),g=n.runWebGLProgram(m,[p,h],p.dtype);d.push(g);const b=W6({inputs:{x:g},backend:n,attrs:{shape:u.outputShape}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}const nee={kernelName:SN,backendName:"webgl",kernelFunc:tee},ree=L6({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:d4,dtype:"bool"}),oee={kernelName:TN,backendName:"webgl",kernelFunc:ree},iee=L6({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:p4}),aee={kernelName:CN,backendName:"webgl",kernelFunc:iee},see={kernelName:jN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:r}=t;return R9(r,!0,n)}},lee=D6({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),uee={kernelName:ON,backendName:"webgl",kernelFunc:lee},cee=D6({opSnippet:"return float(isinf(x));",dtype:"bool"}),dee={kernelName:NN,backendName:"webgl",kernelFunc:cee},pee=D6({opSnippet:"return float(isnan(x));",dtype:"bool"}),hee={kernelName:RN,backendName:"webgl",kernelFunc:pee},fee=L6({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:h4,dtype:"bool"}),mee={kernelName:MN,backendName:"webgl",kernelFunc:fee},gee=L6({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:f4,dtype:"bool"}),bee={kernelName:DN,backendName:"webgl",kernelFunc:gee},yee={kernelName:LN,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:r,stop:o,num:i}=n,a=m4(r,o,i);return t.makeTensorInfo([a.length],"float32",a)}},vee=D6({opSnippet:M6+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:g4}),xee={kernelName:FN,backendName:"webgl",kernelFunc:vee},wee=D6({opSnippet:M6+"\n  return log(1.0 + x);\n"}),kee={kernelName:BN,backendName:"webgl",kernelFunc:wee},_ee=L6({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),See={kernelName:$N,backendName:"webgl",kernelFunc:_ee},Eee=D6({opSnippet:"return float(!(x >= 1.0));"}),Tee={kernelName:zN,backendName:"webgl",kernelFunc:Eee},Cee=L6({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),Iee={kernelName:UN,backendName:"webgl",kernelFunc:Cee};class jee{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];const i=t,a=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===o?`inversesqrt(${l})`:1===o?`1.0/(${l})`:`exp(log(${l}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${i}; j <= ${i}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${a}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${s};\n        setOutput(val);\n      }\n    `}}class Aee{constructor(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const i=t,a=e[3]-1;let s;this.outputShape=e;const l=`float(${n}) + float(${r}) * sum`;s=.5===o?`inversesqrt(${l})`:1===o?`1.0/(${l})`:`exp(log(${l}) * float(-${o}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${i};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${i}; j <= ${i}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${a}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${s};\n        setOutput(result);\n      }\n    `}}const Oee={kernelName:VN,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{depthRadius:i,bias:a,alpha:s,beta:l}=r,u=uO().getBool("WEBGL_PACK_NORMALIZATION")?new Aee(o.shape,i,a,s,l):new jee(o.shape,i,a,s,l);return n.runWebGLProgram(u,[o],o.dtype)}};class Nee{constructor(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${t})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${t} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${r}) * norm + float(${n});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${r})\n                * float(${o})\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${o});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `}}const Ree={kernelName:GN,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o,y:i,dy:a}=t,{depthRadius:s,bias:l,alpha:u,beta:c}=r,d=new Nee(o.shape,s,l,u,c);return n.runWebGLProgram(d,[o,i,a],o.dtype)}};function Pee(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reductionIndices:i,keepDims:a}=r,s=o.shape.length,l=BA(i,o.shape);let u=l;const c=JF(u,s),d=null!=c,p=n.shouldExecuteOnCPU([o]);let h=o;if(d){if(p){const e=n.texData.get(h.dataId).values,t=new Array(s);for(let e=0;e<t.length;e++)t[e]=o.shape[c[e]];const r=W4(e,o.shape,o.dtype,c,t);h=n.makeTensorInfo(t,o.dtype),n.texData.get(h.dataId).values=r}else h=J6(o,c,n);u=eB(u.length,s)}ZF("max",u,s);const[f,m]=YF(h.shape,u);let g,b=f;if(a&&(b=KF(f,l)),p){const e=n.texData.get(h.dataId).values,t=b4(e,NA(m),b,o.dtype);g=n.makeTensorInfo(b,o.dtype),n.texData.get(g.dataId).values=t}else g=function(e,t,n,r){const o=NA(t),i=W6({inputs:{x:e},attrs:{shape:[NA(e.shape)/o,o]},backend:r}),a=Y6(i,e.dtype,"max",r),s=W6({inputs:{x:a},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}(h,m,b,n);return d&&n.disposeIntermediateTensorInfo(h),g}const Mee={kernelName:WN,backendName:"webgl",kernelFunc:Pee},Dee=L6({opSnippet:w6+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+_6+"\n  return result;\n",cpuKernelImpl:y4}),Lee={kernelName:HN,backendName:"webgl",kernelFunc:Dee},Fee={kernelName:qN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;f5(o,"maxPool");const{filterSize:i,strides:a,pad:s,dimRoundingMode:l}=r;jA(oF(a,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '1'`));const u=XL(o.shape,i,a,1,s,l);if(1===u.filterWidth&&1===u.filterHeight&&RA(u.inShape,u.outShape))return E6({inputs:{x:o},backend:n});const c=new L8(u,"max",!1);return n.runWebGLProgram(c,[o],o.dtype)}},Bee={kernelName:YN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{filterSize:i,strides:a,pad:s,dataFormat:l,dimRoundingMode:u}=r,c=YL(o.shape,i,a,[1,1,1],s,u,l),d=new F8(c,"max",!1);return n.runWebGLProgram(d,[o],o.dtype)}};class $ee{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,i=e.effectiveFilterWidth,a=o-1-e.padInfo.top,s=i-1-e.padInfo.left,l=o*i-1;this.userCode=`\n      const ivec2 pads = ivec2(${a}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${o};\n          wR += ${r}) {\n          float dyR = float(dyRCorner + wR) / ${t}.0;\n\n          if (dyR < 0.0 || dyR >= ${e.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${i}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${n}.0;\n\n            if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${i} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}class zee{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,a=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,d=l-1-e.padInfo.top,p=u-1-e.padInfo.left,h=s*l*u-1;this.userCode=`\n      const ivec3 pads = ivec3(${c}, ${d}, ${p});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${s};\n           wD += ${o}) {\n          float dyD = float(dyDCorner + wD) / ${t}.0;\n\n          if (dyD < 0.0 || dyD >= ${e.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${i}) {\n            float dyR = float(dyRCorner + wR) / ${n}.0;\n\n            if (dyR < 0.0 || dyR >= ${e.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${u};\n                wC += ${a}) {\n              float dyC = float(dyCCorner + wC) / ${r}.0;\n\n              if (dyC < 0.0 || dyC >= ${e.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${h} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${u} +\n                  wR * ${u} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}}const Uee={kernelName:KN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i}=t,a=i,{filterSize:s,strides:l,pad:u,dimRoundingMode:c}=r,d=YL(a.shape,s,l,[1,1,1],u,c),p=new F8(d,"max",!0),h=n.runWebGLProgram(p,[a],a.dtype),f=new zee(d),m=n.runWebGLProgram(f,[o,h],a.dtype);return n.disposeIntermediateTensorInfo(h),m}},Vee={kernelName:XN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{dy:o,input:i,output:a}=t,s=i;f5([i,a],"maxPoolGrad");const{filterSize:l,strides:u,pad:c,dimRoundingMode:d}=r,p=XL(s.shape,l,u,1,c,d),h=new L8(p,"max",!0),f=n.runWebGLProgram(h,[s],s.dtype),m=new $ee(p),g=n.runWebGLProgram(m,[o,f],s.dtype);return n.disposeIntermediateTensorInfo(f),g}},Gee={kernelName:ZN,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{filterSize:o,strides:i,pad:a,includeBatchInIndex:s}=t,l=n;jA(4===r.shape.length,(()=>`Error in maxPool: input must be rank 4 but got rank ${r.shape.length}.`));const u=[1,1];jA(oF(i,u),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${i} and dilations '${u}'`));const c=XL(r.shape,o,i,u,a),[d,p]=function(e,t,n,r){let o=new L8(n,"max",!1);const i=r.runWebGLProgram(o,[e],"float32");return o=new L8(n,"max",!0,!0,t),[i,r.runWebGLProgram(o,[e],"float32")]}(r,s,c,l);return[d,p]}},Wee={kernelName:JN,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{x:r}=e,{keepDims:o,axis:i}=t,a=n,s=r.shape.length,l=BA(i,r.shape);let u=l;const c=JF(u,s),d=null!=c,p=a.shouldExecuteOnCPU([r]),h=[];let f=r;if(d){if(p){const e=a.texData.get(f.dataId).values,t=new Array(s);for(let e=0;e<t.length;e++)t[e]=r.shape[c[e]];const n=W4(e,r.shape,r.dtype,c,t);f=a.makeTensorInfo(t,r.dtype),a.texData.get(f.dataId).values=n}else f=J6(r,c,a);h.push(f),u=eB(u.length,s)}ZF("sum",u,s);const[m,g]=YF(f.shape,u);let b=m;o&&(b=KF(m,l));const y=function(e,t,n,r){const o=NA(t),i=W6({inputs:{x:e},attrs:{shape:[NA(e.shape)/o,o]},backend:r}),a=Y6(i,"float32","mean",r),s=W6({inputs:{x:a},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}(f,g,b,a);for(const e of h)a.disposeIntermediateTensorInfo(e);return y}},Hee={kernelName:QN,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,l=BA(i,o.shape);let u=l;const c=JF(u,s);let d=o;null!=c&&(d=t8({inputs:{x:o},backend:n,attrs:{perm:c}}),u=eB(u.length,o.shape.length)),ZF("min",u,s);const[p,h]=YF(d.shape,u),f=W6({inputs:{x:d},backend:n,attrs:{shape:[-1,NA(h)]}}),m=Y6(f,f.dtype,"min",n);let g;return g=W6(a?{inputs:{x:m},backend:n,attrs:{shape:KF(p,l)}}:{inputs:{x:m},backend:n,attrs:{shape:p}}),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=c&&n.disposeIntermediateTensorInfo(d),g}},qee=L6({opSnippet:w6+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+_6+"\n  return result;\n",cpuKernelImpl:v4}),Xee={kernelName:eR,backendName:"webgl",kernelFunc:qee};class Yee{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=O5(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r),l="reflect"===n?0:1;this.userCode=1!==r?`\n      ${o} start = ${o}(${i});\n      ${o} end = ${o}(${a});\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        for (int i = 0; i < ${r}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${o} coords = outC - start;\n        setOutput(getX(${s}));\n      }\n    `:`\n        int start = ${i};\n        int end = ${a};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `}}class Kee{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=O5(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=X4("rc",r),l=X4("source",r),u=`${s[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,d="reflect"===n?0:1;let p="";if(1===r){const e=`\n        ${o} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${d};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${d};\n        }\n        source -= start;\n      `;p=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${s[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n      `}else{const e=`\n        ${o} source = rc;\n        ${o} lt = ${o}(lessThan(source, start));\n        ${o} gte = ${o}(greaterThanEqual(source, end));\n        ${o} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${d}) +\n                gte * ((end - 1) * 2 - source + ${d});\n        source -= start;\n      `;p=`\n        ${o} rc = outputLoc;\n        ${e}\n        result[0] = getChannel(getX(${l.join()}), ${c});\n        ${s[r-1]} += 1;\n        if(${u}) {\n          ${e}\n          result[1] = getChannel(getX(${l.join()}), ${c});\n        }\n        rc = outputLoc;\n        ${s[r-2]} += 1;\n        if(${s[r-2]} < ${this.outputShape[r-2]}) {\n          ${e}\n          result[2] = getChannel(getX(${l.join()}), ${c});\n          ${s[r-1]} += 1;\n          if(${u}) {\n            ${e}\n            result[3] = getChannel(getX(${l.join()}), ${c});\n          }\n        }\n      `}this.userCode=`\n      const ${o} start = ${o}(${i});\n      const ${o} end = ${o}(${a});\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${p}\n        setOutput(result);\n      }\n    `}}const Zee={kernelName:tR,backendName:"webgl",kernelFunc:({inputs:e,backend:t,attrs:n})=>{const{x:r}=e,{paddings:o,mode:i}=n,a=uO().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Kee(r.shape,o,i):new Yee(r.shape,o,i);return t.runWebGLProgram(a,[r],r.dtype)}},Jee=L6({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+_6+"\n  return result;\n"}),Qee={kernelName:nR,backendName:"webgl",kernelFunc:Jee};class ete{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${t-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${t-1}));\n      }\n    `}}const tte=L6({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),nte={kernelName:uN,backendName:"webgl",kernelFunc:tte},rte="return a - b;",ote=L6({opSnippet:rte,packedOpSnippet:rte,supportsComplex:!0,cpuKernelImpl:U4}),ite={kernelName:sP,backendName:"webgl",kernelFunc:ote};function ate(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{dim:i}=r,a=BA([i],o.shape),s=Pee({inputs:{x:o},backend:n,attrs:{reductionIndices:a,keepDims:!1}}),l=KF(s.shape,a),u=W6({inputs:{x:s},backend:n,attrs:{shape:l}}),c=ote({inputs:{a:o,b:u},backend:n}),d=E9({inputs:{x:c},backend:n}),p=Q6({inputs:{x:d},backend:n,attrs:{axis:a,keepDims:!1}}),h=W6({inputs:{x:p},backend:n,attrs:{shape:l}}),f=tte({inputs:{a:d,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),f}const ste={kernelName:XR,backendName:"webgl",kernelFunc:ate},lte={kernelName:rR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{logits:o}=t,{numSamples:i,seed:a,normalized:s}=r,l=s?o:ate({inputs:{logits:o},backend:n,attrs:{dim:o.shape.length-1}}),u=l.shape[0],c=l.shape[1],d=new ete(u,c,i),p=[[a]],h=n.runWebGLProgram(d,[l],"int32",p);return s||n.disposeIntermediateTensorInfo(l),h}},ute=n6+"\n  return -x;\n",cte={kernelName:iR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:r}=t;if(n.shouldExecuteOnCPU([r])){const e=n.texData.get(r.dataId),[t,o]=w4(e.values,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,t)}let o;return o=uO().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new m6(r.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new t6(r.shape,ute),n.runWebGLProgram(o,[r],r.dtype)}},dte=x$,pte={kernelName:sR,backendName:"webgl",kernelFunc:function(e){_P("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l}=r,u=n.readSync(o.dataId),c=n.readSync(i.dataId),{selectedIndices:d}=dte(u,c,a,s,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},hte=w$,fte={kernelName:lR,backendName:"webgl",kernelFunc:function(e){_P("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,padToMaxOutputSize:u}=r,c=n.readSync(o.dataId),d=n.readSync(i.dataId),{selectedIndices:p,validOutputs:h}=hte(c,d,a,s,l,u);return[n.makeTensorInfo([p.length],"int32",new Int32Array(p)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},mte=k$,gte={kernelName:uR,backendName:"webgl",kernelFunc:function(e){_P("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:r}=e,{boxes:o,scores:i}=t,{maxOutputSize:a,iouThreshold:s,scoreThreshold:l,softNmsSigma:u}=r,c=n.readSync(o.dataId),d=n.readSync(i.dataId),p=a,h=s,f=l,m=u,{selectedIndices:g,selectedScores:b}=mte(c,d,p,h,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([b.length],"float32",new Float32Array(b))]}};class bte{constructor(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${r}), float(${n}),\n                      float(index == coords.y)));\n      }\n    `}}const yte={kernelName:dR,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{indices:o}=t,{dtype:i,depth:a,onValue:s,offValue:l}=r,u=NA(o.shape),c=new bte(u,a,s,l),d=W6({inputs:{x:o},backend:n,attrs:{shape:[u]}}),p=n.runWebGLProgram(c,[d],i);n.disposeIntermediateTensorInfo(d);const h=W6({inputs:{x:p},backend:n,attrs:{shape:[...o.shape,a]}});return n.disposeIntermediateTensorInfo(p),h}};function vte(e){const{inputs:t,backend:n}=e,{x:r}=t;if("complex64"===r.dtype){const e=a7({inputs:{input:r},backend:n}),t=vte({inputs:{x:e},backend:n}),o=w7({inputs:{input:r},backend:n}),i=vte({inputs:{x:o},backend:n}),a=C6({inputs:{real:t,imag:i},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),a}return D9({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}const xte={kernelName:bP,backendName:"webgl",kernelFunc:vte},wte={kernelName:cR,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:r}=t,{x:o}=n;if("string"===o.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===o.dtype){const t=a7({inputs:{input:o},backend:r}),n=e({inputs:{x:t},backend:r}),i=w7({inputs:{input:o},backend:r}),a=vte({inputs:{x:i},backend:r}),s=C6({inputs:{real:n,imag:a},backend:r});return r.disposeIntermediateTensorInfo(t),r.disposeIntermediateTensorInfo(n),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(a),s}return D9({attrs:{shape:o.shape,dtype:o.dtype,value:1},backend:r})}},kte={kernelName:pR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{axis:o}=r;if(1===t.length)return C9({inputs:{input:t[0]},backend:n,attrs:{dim:o}});const i=t[0].shape,a=t[0].dtype;t.forEach((e=>{AA(i,e.shape,"All tensors passed to stack must have matching shapes"),jA(a===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const s=[],l=S7({inputs:t.map((e=>{const t=C9({inputs:{input:e},backend:n,attrs:{dim:o}});return s.push(t),t})),backend:n,attrs:{axis:o}});return s.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}};class _te{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=O5(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?`\n      ${o} start = ${o}(${i});\n      ${o} end = ${o}(${a});\n\n      void main() {\n        ${o} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${o} coords = outC - start;\n          setOutput(getX(${s}));\n        }\n      }\n    `:`\n        int start = ${i};\n        int end = ${a};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `}}class Ste{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const r=e.length,o=O5(r),i=t.map((e=>e[0])).join(","),a=t.map(((t,n)=>t[0]+e[n])).join(","),s=X4("rc",r),l=X4("source",r),u=`${s[r-1]} < ${this.outputShape[r-1]}`,c=1===r?"source":`vec2(${l.slice(-2).join()})`,d=[`${o} rc = outputLoc;`,`${s[r-1]} += 1;\n       if(${u}) {\n      `,1===r?"":`}\n       rc = outputLoc;\n       ${s[r-2]} += 1;\n       if(${s[r-2]} < ${this.outputShape[r-2]}) {`,1===r?"":`  ${s[r-1]} += 1;\n         if(${u}) {`],p=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let h="";for(let e=0,t=1===r?2:4;e<t;e++)h+=`\n        ${d[e]}\n        if (${p}) {\n          result[${e}] = float(value);\n        } else {\n          ${o} source = rc - start;\n          result[${e}] = getChannel(getX(${l.join()}), ${c});\n        }\n      `;h+=1===r?"} ":"}}",this.userCode=`\n      const ${o} start = ${o}(${i});\n      const ${o} end = ${o}(${a});\n\n      void main() {\n        ${o} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${h}\n        setOutput(result);\n      }\n    `}}const Ete=e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{paddings:i,constantValue:a}=r;if(0===NA(o.shape)){const e=i.map(((e,t)=>e[0]+o.shape[t]+e[1]));return D9({backend:n,attrs:{shape:e,value:a,dtype:o.dtype}})}const s=uO().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Ste(o.shape,i,a):new _te(o.shape,i,a),l=[[a]];return n.runWebGLProgram(s,[o],o.dtype,l)},Tte={kernelName:hR,backendName:"webgl",kernelFunc:Ete},Cte=L6({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+_6+"\n  return result;\n"}),Ite={kernelName:fR,backendName:"webgl",kernelFunc:Cte},jte={kernelName:gR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{axis:i,keepDims:a}=r,s=o.shape.length,l=[],u=BA(i,o.shape);let c=u;const d=JF(c,s);let p,h=o;if(null!=d&&(h=t8({inputs:{x:o},backend:n,attrs:{perm:d}}),c=eB(c.length,s),l.push(h)),ZF("prod",c,s),n.shouldExecuteOnCPU([h])){const e=n.texData.get(h.dataId).values,{outVals:t,outShape:r,outDtype:o}=_4(h.shape,h.dtype,e,c);p=n.makeTensorInfo(r,o,t)}else{const[e,t]=YF(h.shape,c),r=NA(t),i=W6({inputs:{x:h},backend:n,attrs:{shape:[-1,r]}}),a=Y6(i,TM(o.dtype),"prod",n);p=W6({inputs:{x:a},backend:n,attrs:{shape:e}}),l.push(i),l.push(a)}if(a){l.push(p);const e=KF(p.shape,u);p=W6({inputs:{x:p},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}},Ate={kernelName:bR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{paramsNestedSplits:o,paramsDenseValues:i,indices:a}=t,{outputRaggedRank:s}=r,l=o.map((e=>n.readSync(e.dataId))),u=o.map((e=>e.shape)),c=n.readSync(i.dataId),d=n.readSync(a.dataId),[p,h,f]=S4(l,u,c,i.shape,i.dtype,d,a.shape,s),m=p.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,i.dtype,h);return m.concat([g])}},Ote={kernelName:yR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:r,limits:o,deltas:i}=t,a=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(i.dataId),[u,c]=E4(a,r.shape,r.dtype,s,o.shape,l,i.shape);return[n.makeTensorInfo([u.length],"int32",u),n.makeTensorInfo([c.length],r.dtype,c)]}},Nte={kernelName:vR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{shape:o,values:i,defaultValue:a,rowPartitionTensors:s}=t,{rowPartitionTypes:l}=r,u=n.readSync(o.dataId),c=n.readSync(i.dataId),d=n.readSync(a.dataId),p=s.map((e=>n.readSync(e.dataId))),h=s.map((e=>e.shape)),[f,m]=T4(u,o.shape,c,i.shape,i.dtype,d,a.shape,p,h,l);return n.makeTensorInfo(f,i.dtype,m)}},Rte=e=>{const{backend:t,attrs:n}=e,{start:r,stop:o,step:i,dtype:a}=n,s=C4(r,o,i,a);return t.makeTensorInfo([s.length],a,s)},Pte={kernelName:xR,backendName:"webgl",kernelFunc:Rte},Mte=D6({opSnippet:"return 1.0 / x;"}),Dte={kernelName:kR,backendName:"webgl",kernelFunc:Mte},Lte=D6({opSnippet:n6+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),Fte={kernelName:_R,backendName:"webgl",kernelFunc:Lte},Bte=D6({opSnippet:n6+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),$te={kernelName:jR,backendName:"webgl",kernelFunc:Bte};class zte{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[i,a,s,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?a-1:a,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${a}.0, ${s}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `}}class Ute{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,s,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?a-1:a,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n];let d;d=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${a}.0, ${s}.0,\n                                     ${s}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${d};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}}const Vte={kernelName:CR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r,[l,u]=s,c=uO().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new Ute(o.shape,l,u,i,a):new zte(o.shape,l,u,i,a);return n.runWebGLProgram(c,[o],"float32")}};class Gte{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,i,a]=e,s=[n&&i>1?r-1:r,n&&a>1?o-1:o],l=[n&&i>1?i-1:i,n&&a>1?a-1:a],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${r-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${o-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const Wte={kernelName:IR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r,s=new Gte(i.shape,o.shape,a);return n.runWebGLProgram(s,[i],i.dtype)}};class Hte{constructor(e,t,n,r,o){this.variableNames=["A"],this.outputShape=[];const[i,a,s,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?a-1:a,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]});\n      const vec2 inputShapeRC = vec2(${a}.0, ${s}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `}}class qte{constructor(e,t,n,r,o){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[i,a,s,l]=e;this.outputShape=[i,t,n,l];const u=[r&&t>1?a-1:a,r&&n>1?s-1:s],c=[r&&t>1?t-1:t,r&&n>1?n-1:n],d=r?"0.5":"0.0";let p;p=o?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${u[0]/c[0]},\n          ${u[1]/c[1]},\n          ${u[1]/c[1]});\n      const vec3 inputShapeRC = vec3(${a}.0, ${s}.0,\n                                     ${s}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${d})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${l-1};\n        bool hasNextRow = coords.z < ${n-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}}const Xte={kernelName:ER,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o}=t,{alignCorners:i,halfPixelCenters:a,size:s}=r,[l,u]=s,c=uO().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new qte(o.shape,l,u,i,a):new Hte(o.shape,l,u,i,a);return n.runWebGLProgram(c,[o],o.dtype)}};class Yte{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,r,o]=t,[,i,a]=e,s=[n&&i>1?r-1:r,n&&a>1?o-1:o],l=[n&&i>1?i-1:i,n&&a>1?a-1:a],u=s[0]/l[0],c=s[1]/l[1],d=1/u,p=1/c,h=2*Math.ceil(d)+2,f=2*Math.ceil(p)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${u});\n        const float widthScale = float(${c});\n\n        const float invHeightScale = float(${d});\n        const float invWidthScale = float(${p});\n\n        const int winHeight = int(${h});\n        const int winWidth = int(${f});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${i}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${a}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${s[0]}) *\n                (float(dyR) / float(${l[0]}));\n\n            float sourceFracCol =\n                float(${s[1]}) *\n                  (float(dyC) / float(${l[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${r}) - 1),\n                ${n} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${o}) - 1),\n                ${n} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}}const Kte={kernelName:TR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{images:o,dy:i}=t,{alignCorners:a}=r,s=new Yte(i.shape,o.shape,a);return n.runWebGLProgram(s,[i],i.dtype)}};class Zte{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);if(this.outputShape=e,1===n)return void(this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${e[0]} - coord - 1));\n        }\n      `);const r=e.map(((n,r)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - coords[${n}] - 1`:`coords[${n}]`)(r))).join(","),o=O5(n);this.userCode=`\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${r}));\n      }\n    `}}class Jte{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error(`WebGL backend: Reverse of rank-${n} tensor is not yet supported`);this.outputShape=e;const r=X4("rc",n),o=`${r[n-1]} + 1 < ${this.outputShape[n-1]}`,i=`${r[n-2]} + 1 < ${this.outputShape[n-2]}`,a=O5(n);function s(n){const r=e.map(((r,o)=>function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?`${e[n]} - ${r[n]} - 1`:`${r[n]}`}(o,n)));return`getChannel(getX(${r.join(",")}), vec2(${r.slice(-2).join(",")}))`}this.userCode=1===n?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${e[0]} - rc - 1),\n            ${e[0]} - rc - 1);\n          if(${o}){\n              result.g = getChannel(getX(${e[0]} - (rc  + 1) - 1),\n                ${e[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${a} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return s(e)}(r.slice())};\n          if(${o}){\n            result.g = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())};\n          }\n          if(${i}) {\n            result.b = ${function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())};\n            if(${o}) {\n              result.a = ${function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}}const Qte={kernelName:AR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dims:i}=r,a=o.shape.length,s=BA(i,o.shape);if(0===a)return E6({inputs:{x:o},backend:n});const l=uO().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Jte(o.shape,s):new Zte(o.shape,s);return n.runWebGLProgram(l,[o],o.dtype)}};class ene{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],r=e[2];this.outputShape=e;let o="";o="number"==typeof t?`float outputValue = ${t.toFixed(2)};`:`\n        vec3 fill = vec3(${t.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${o}\n          if(coordX >= 0 && coordX < ${r} && coordY >= 0 && coordY < ${n}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `}}const tne={kernelName:vP,backendName:"webgl",kernelFunc:({inputs:e,attrs:t,backend:n})=>{const{image:r}=e,{radians:o,fillValue:i,center:a}=t,s=n,l=new ene(r.shape,i),[u,c]=iz(a,r.shape[1],r.shape[2]),d=[[u,c,Math.sin(o),Math.cos(o)]];return s.runWebGLProgram(l,[r],r.dtype,d)}},nne=D6({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),rne={kernelName:OR,backendName:"webgl",kernelFunc:nne},one=D6({opSnippet:"return inversesqrt(x);",cpuKernelImpl:I4}),ine={kernelName:NR,backendName:"webgl",kernelFunc:one};class ane{constructor(e,t,n,r,o,i,a=!0,s=!1){this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;const l=O5(o.length),u=O5(i.length);let c="";1===n?c="i":2===n&&(c="i, j");const d=`getIndices(${c})`;let p="";1===r?p="i":2===r&&(p="i, coords[1]");const h=`getUpdates(${p})`;let f="";s&&(f="coords[0], coords[1]");const m=`getDefaultValue(${f})`,g=t>1?"strides[j]":"strides";this.userCode=`\n        ${l} strides = ${l}(${o});\n\n        void main() {\n          ${u} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${e}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${t}; j++) {\n              int index = round(${d});\n              flattenedIndex += index * ${g};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${h};\n              found = true;\n            }\n          }\n          setOutput(mix(${m}, sum, float(found)));\n        }\n      `}}class sne{constructor(e,t,n,r,o,i,a=!0,s=!1){this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=i;const l=O5(o.length),u=O5(i.length);let c="";1===n?c="i":2===n&&(c="i, j");const d=`getIndices(${c})`;let p="";1===r?p="i":2===r&&(p="i, coords[1]");const h=`getUpdates(${p})`;let f="";s&&(f="coords[0], coords[1]");const m=`getDefaultValue(${f})`,g=t>1?"strides[j]":"strides",b=t>1?"strides[j + 1]":"strides";this.userCode=`\n        ${l} strides = ${l}(${o});\n\n        void main() {\n          ${u} coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ${e}; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ${t}; j+=2) {\n              ivec4 index = round(${d});\n              flattenedIndex += index.xz * ${g};\n              if (j + 1 < ${t}) {\n                flattenedIndex += index.yw * ${b};\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ${h};\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(${m}, sum, found));\n        }\n      `}}const lne={kernelName:RR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{indices:o,updates:i}=t,{shape:a}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=fz(0,o,a),p=[d/u,u];if(0===d)return n.makeTensorInfo(a,o.dtype);const h=W6({inputs:{x:o},backend:n,attrs:{shape:[l,s]}}),f=W6({inputs:{x:i},backend:n,attrs:{shape:[l,u]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=uO().getBool("WEBGL_PACK")?new sne(l,s,h.shape.length,f.shape.length,c,p):new ane(l,s,h.shape.length,f.shape.length,c,p);const b=n.runWebGLProgram(g,[f,h,m],f.dtype),y=W6({inputs:{x:b},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(m),y}};class une{constructor(e,t,n,r){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const o=`for (int i = 0; i < ${Math.ceil(Math.log2(t+1))}; ++i) { if (left >= right) break;`,i=2===uO().getNumber("WEBGL_VERSION")?"while (left < right) {":o,a="left"===r?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${i}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${a} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}}const cne={kernelName:MR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sortedSequence:o,values:i}=t,{side:a}=r,s=new une(o.shape[0],o.shape[1],i.shape[1],a),l=[[o.shape[1]]];return n.runWebGLProgram(s,[o,i],"int32",l)}};class dne{constructor(e,t,n){let r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error(`Where for rank ${n} is not yet supported`);if(1===n)o="resRC",r="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],a=[];for(let r=0;r<t.length;r++)a.push(`${n[r]}`),r<e&&i.push(`${n[r]}`);r=i.join(),o=a.join()}const i=O5(n);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        float cVal = getC(${r});\n        if (cVal >= 1.0) {\n          setOutput(getA(${o}));\n        } else {\n          setOutput(getB(${o}));\n        }\n      }\n    `}}const pne={kernelName:DR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:r,t:o,e:i}=t,a=new dne(r.shape.length,o.shape,o.shape.length);return n.runWebGLProgram(a,[r,o,i],EM(o.dtype,i.dtype))}},hne=D6({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${mz};\n  float scale = ${gz};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),fne={kernelName:LR,backendName:"webgl",kernelFunc:hne},mne=D6({opSnippet:M6+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:A4}),gne={kernelName:UR,backendName:"webgl",kernelFunc:mne},bne=D6({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),yne={kernelName:zR,backendName:"webgl",kernelFunc:bne},vne=D6({opSnippet:M6+"\n  return sin(x);\n",packedOpSnippet:`\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ${_6}\n  return result;\n`}),xne={kernelName:BR,backendName:"webgl",kernelFunc:vne},wne=D6({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),kne={kernelName:$R,backendName:"webgl",kernelFunc:wne},_ne=D6({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),Sne={kernelName:VR,backendName:"webgl",kernelFunc:_ne},Ene={kernelName:HR,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{blockShape:i,paddings:a}=r;jA(o.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const s=i.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...a);for(let e=1+i.length;e<o.shape.length;++e)l.push([0,0]);const u=[],c=Ete({inputs:{x:o},backend:n,attrs:{paddings:l,constantValue:0}}),d=az(c.shape,i,s,!1),p=sz(d.length,i.length,!1),h=lz(c.shape,i,s,!1),f=W6({inputs:{x:c},backend:n,attrs:{shape:d}}),m=t8({inputs:{x:f},backend:n,attrs:{perm:p}}),g=W6({inputs:{x:m},backend:n,attrs:{shape:h}});return u.push(c),u.push(f),u.push(m),u.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}},Tne={kernelName:YR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:r,values:o,denseShape:i,defaultValue:a}=t;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${r.shape}`);if(1!==o.shape.length)throw new Error(`Values must be a vector, saw:\n         ${o.shape}`);if(0!==a.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${a.shape}`);const s=n.readSync(r.dataId),l=n.readSync(o.dataId),u=n.readSync(i.dataId),c=n.readSync(a.dataId)[0],[d,p,h,f,m]=R4(s,r.shape,r.dtype,l,o.dtype,u,c);return[n.makeTensorInfo(p,r.dtype,d),n.makeTensorInfo([p[0]],o.dtype,h),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],r.dtype,new Int32Array(m))]}},Cne={kernelName:KR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:r,inputShape:o,newShape:i}=t;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==o.shape.length)throw new Error(`Input shape should be a vector but received shape ${o.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);const a=Array.from(n.readSync(o.dataId)),s=n.readSync(r.dataId),l=Array.from(n.readSync(i.dataId)),[u,c,d]=P4(s,r.shape,r.dtype,a,l);return[n.makeTensorInfo(c,r.dtype,u),n.makeTensorInfo([d.length],i.dtype,new Int32Array(d))]}},Ine={kernelName:ZR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${o.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${i.shape}`);const a=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(i.dataId),[u,c]=M4(a,r.shape,r.dtype,s,l,!0);return n.makeTensorInfo(c,r.dtype,u)}},jne={kernelName:JR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:r,indices:o,segmentIds:i}=t;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==o.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${o.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${i.shape}`);const a=n.readSync(r.dataId),s=n.readSync(o.dataId),l=n.readSync(i.dataId),[u,c]=M4(a,r.shape,r.dtype,s,l);return n.makeTensorInfo(c,r.dtype,u)}},Ane={kernelName:QR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{sparseIndices:o,sparseValues:i,defaultValue:a}=t,{outputShape:s}=r,{sliceRank:l,numUpdates:u,sliceSize:c,strides:d,outputSize:p}=fz(0,o,s);if("string"===i.dtype){const e=n.bufferSync(o),t=n.bufferSync(i),r=JP(n.readSync(a.dataId)[0]),h=j4(e,t,s,p,c,u,l,d,r,!1);return n.makeTensorInfo(s,h.dtype,h.values)}const h=new ane(u,l,o.shape.length,i.shape.length,d,[p,1],!1),f=n.runWebGLProgram(h,[i,o,a],i.dtype),m=W6({inputs:{x:f},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(f),m}},One={kernelName:qR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{numOrSizeSplits:i,axis:a}=r,s=BA(a,o.shape)[0],l=zz(o,i,s),u=o.shape.length,c=new Array(u).fill(0),d=o.shape.slice();return l.map((e=>{const t=[...d];t[s]=e;const r=J8({inputs:{x:o},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,r}))}},Nne="return sqrt(x);",Rne=D6({opSnippet:Nne,packedOpSnippet:Nne,cpuKernelImpl:D4}),Pne={kernelName:GR,backendName:"webgl",kernelFunc:Rne},Mne={kernelName:tP,backendName:"webgl",kernelFunc:D6({opSnippet:"return x * x;"})},Dne="return (a - b) * (a - b);",Lne=L6({opSnippet:Dne,packedOpSnippet:Dne}),Fne={kernelName:eP,backendName:"webgl",kernelFunc:Lne},Bne={kernelName:nP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");const i=rU(n.readSync(o.dataId)),a=L4(i,"string",r);return n.makeTensorInfo(o.shape,"string",a)}},$ne={kernelName:yP,backendName:"webgl",kernelFunc:function({inputs:e,attrs:t,backend:n}){const{x:r}=e,o=n6+`\n    return x > 0.0 ? 1.0 : float(${t.alpha});\n  `,i=new t6(r.shape,o);return n.runWebGLProgram(i,[r],r.dtype)}};class zne{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const r=n.length,o=O5(n.length),i=O5(n.length);let a="";if(1===r)a="coords * strides + begin";else{let e=0;a=n.map(((t,r)=>(e++,1===n.length?`coords * strides[${r}] + begin[${r}]`:`coords[${e-1}] * strides[${r}] + begin[${r}]`))).join(",")}this.userCode=`\n      ${o} begin = ${o}(${e});\n      ${o} strides = ${o}(${t});\n\n      void main() {\n        ${i} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}}const Une={kernelName:rP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{begin:i,end:a,strides:s,beginMask:l,endMask:u,ellipsisMask:c,newAxisMask:d,shrinkAxisMask:p}=r,{finalShapeSparse:h,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:b,begin:y,end:v,strides:x}=UL(o.shape,i,a,s,l,u,c,d,p);let w;if(m)w=W6({inputs:{x:o},backend:n,attrs:{shape:f}});else if(g||b){jA(o.shape.length>=1,(()=>`Input must have rank at least 1, got: ${o.shape.length}`));const e=jL(y,v,x),t=J8({inputs:{x:o},backend:n,attrs:{begin:y,size:e}});w=W6({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else if(n.shouldExecuteOnCPU([o])){const e=n.readSync(o.dataId),t=LD(o.shape,o.dtype,e),r=F4(h,t,x,y);w=n.makeTensorInfo(f,o.dtype,r.values)}else{const e=new zne(y,x,h);w=n.runWebGLProgram(e,[o],o.dtype)}const k=W6({inputs:{x:w},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(w),k}},Vne={kernelName:oP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{separator:o,nGramWidths:i,leftPad:a,rightPad:s,padWidth:l,preserveShortSequences:u}=r,{data:c,dataSplits:d}=t,p=n.readSync(c.dataId),h=n.readSync(d.dataId),[f,m]=B4(p,h,o,i,a,s,l,u);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}},Gne={kernelName:iP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{skipEmpty:o}=r,{input:i,delimiter:a}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(1!==i.shape.length)throw new Error(`Input must be a vector, got shape: ${i.shape}`);if(0!==a.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${a.shape}`);const s=n.readSync(i.dataId),l=n.readSync(a.dataId)[0],[u,c,d]=$4(s,l,o),p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(d))]}},Wne={kernelName:aP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{numBuckets:o}=r,{input:i}=t;if("string"!==i.dtype)throw new Error("Input must be of datatype string");if(o<=0)throw new Error("Number of buckets must be at least 1");const a=n.readSync(i.dataId),s=z4(a,o);return n.makeTensorInfo(i.shape,"int32",s)}},Hne=D6({opSnippet:"return tan(x);"}),qne={kernelName:lP,backendName:"webgl",kernelFunc:Hne},Xne=D6({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),Yne={kernelName:uP,backendName:"webgl",kernelFunc:Xne},Kne={kernelName:PR,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{tensor:o,indices:i,updates:a}=t,{}=r,{sliceRank:s,numUpdates:l,sliceSize:u,strides:c,outputSize:d}=fz(0,i,o.shape),p=[d/u,u];if(0===d)return n.makeTensorInfo(o.shape,i.dtype);const h=W6({inputs:{x:i},backend:n,attrs:{shape:[l,s]}}),f=W6({inputs:{x:a},backend:n,attrs:{shape:[l,u]}}),m=W6({inputs:{x:o},backend:n,attrs:{shape:p}}),g=new ane(l,s,h.shape.length,f.shape.length,c,p,!1,!0),b=n.runWebGLProgram(g,[f,h,m],m.dtype),y=W6({inputs:{x:b},backend:n,attrs:{shape:o.shape}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),y}};class Zne{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;const r=O5(this.rank),o=function(e){const t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[];for(let t=0;t<e.length;t++)r.push(`imod(${n[t]}, ${e[t]})`);return r.join()}(e);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        setOutput(getA(${o}));\n      }\n    `}}function Jne(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{reps:i}=r;if("string"===o.dtype||o.shape.length>5){const e=n.readSync(o.dataId),t="string"===o.dtype?e.map((e=>JP(e))):e,r=LD(o.shape,o.dtype,t),a=V4(r,i);return n.makeTensorInfo(a.shape,a.dtype,a.values)}const a=new Zne(o.shape,i);return n.runWebGLProgram(a,[o],o.dtype)}const Qne={kernelName:cP,backendName:"webgl",kernelFunc:Jne};class ere{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class tre{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function nre(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function rre(e){let t=1;for(;t<e;)t*=2;return t}const ore={kernelName:dP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{k:i,sorted:a}=r,s=uO().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=uO().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),u=o.shape,c=u[u.length-1];if(n.shouldExecuteOnCPU([o])||c<s||i>l){const e=n.readSync(o.dataId),[t,r]=G4(e,u,o.dtype,i,a);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(r.shape,r.dtype,r.values)]}if(0===i)return u[u.length-1]=0,[n.makeTensorInfo(u,o.dtype,[]),n.makeTensorInfo(u,"int32",[])];if(1===c)return[o,D9({attrs:{shape:u,dtype:"int32",value:0},backend:n})];const d=n.texData.get(o.dataId),p=null!==d&&d.isPacked,h=p?n.unpackTensor(o):o,f=NA(u)/c,m=W6({inputs:{x:h},attrs:{shape:[f,c]},backend:n});p&&nre(n,h);const g=rre(i),b=rre(c);let y=null;const v=()=>null===y?[m,m]:[m,y],x=(e,t,r)=>{const o=v(),i=new ere(r),a=[[c],[null===y?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=y;y=n.runWebGLProgram(i,o,"int32",a),nre(n,s)};for(let e=1;e<g;e*=2){const t=2*e;for(let n=e;n>=1;n/=2)x(t,n,[f,b])}for(let e=b;e>g;e/=2){const t=v(),r=new tre([f,e/2]),o=[[c],[null===y?1:0],[g]],i=y;y=n.runWebGLProgram(r,t,"int32",o),nre(n,i);const a=g/2,s=2*a;for(let e=a;e>=1;e/=2)x(s,e,y.shape)}let w=y;y=J8({inputs:{x:y},backend:n,attrs:{begin:0,size:[f,i]}}),nre(n,w);let k=tee({inputs:{x:m,indices:y},backend:n,attrs:{axis:1,batchDims:1}});nre(n,m);const _=u.slice(0,-1);_.push(i),w=y,y=W6({inputs:{x:y},attrs:{shape:_},backend:n}),nre(n,w);const S=k;return k=W6({inputs:{x:k},attrs:{shape:_},backend:n}),nre(n,S),[k,y]}};class ire{constructor(e,t,n,r,o,i){this.variableNames=["Image","Transforms"],this.outputShape=i;const a="nearest"===n?1:2;let s;switch(r){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${s} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${e} && 0 <= coordX && coordX < ${t}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${o});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${o});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${t}));\n                float mapY = mapCoord(inY, float(${e}));\n\n                if (${a} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}}const are={kernelName:pP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{image:o,transforms:i}=t,{interpolation:a,fillMode:s,fillValue:l,outputShape:u}=r,[c,d,p,h]=o.shape,[f,m]=null!=u?u:[d,p],g=new ire(d,p,a,s,l,[c,f,m,h]);return n.runWebGLProgram(g,[o,i],"float32")}},sre={kernelName:fP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:r}=e,{axis:o}=n,{x:i}=t;f5(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const a=r.readSync(i.dataId),{outputValues:s,outputShape:l,indices:u}=H4(a,o,i.shape,i.dtype);return[r.makeTensorInfo(l,i.dtype,s),r.makeTensorInfo([u.length],"int32",u)]}},lre={kernelName:mP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{value:o}=t;let{axis:i}=r;i<0&&(i+=o.shape.length);const a=o,s=a.shape.length,l=o.shape[i],u=new Array(s-1);let c=0;for(let e=0;e<s;e++)e!==i&&(u[c++]=a.shape[e]);const d=[],p=new Array(s).fill(0),h=a.shape.slice();h[i]=1;const f=new Array(l);for(let e=0;e<f.length;e++){p[i]=e;const t=J8({inputs:{x:a},backend:n,attrs:{begin:p,size:h}}),r=W6({inputs:{x:t},backend:n,attrs:{shape:u}});f[e]=r,d.push(t)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class ure{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,r=e.batchSize,o=e.inSize,i=e.numSegments,a=i*Math.ceil(o/n);this.outputShape=[r,a];const s=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ";let c="";o%n>0&&(c=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return initializationValue;\n        }\n      `);let d="";o%n>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${o}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${c}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${d}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${i})) * float(${n}));\n        int currentSeg = int(mod(float(outIdx), float(${i})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${s}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${u}\n        }\n\n        int inIdx = inOffset + ${s};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${u}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${u}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${u}\n        }\n        setOutput(sumValue);\n      }\n    `}}const cre={kernelName:gP,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:r}=e,{x:o,segmentIds:i}=t,{numSegments:a}=r,s=o.shape.length,l=[];let u=0;const c=JF([u],s);let d=o;null!=c&&(d=t8({inputs:{x:o},backend:n,attrs:{perm:c}}),l.push(d),u=eB(1,s)[0]);const p=tU(d.shape,u,a),h=NA([d.shape[u]]),f=W6({inputs:{x:d},backend:n,attrs:{shape:[-1,h]}});l.push(f);const m=TM(o.dtype),g=(e,t,r,o,i)=>{const a=e.shape[0],s=e.shape[1],u=eU(s,i),c=new ure({windowSize:u,inSize:s,batchSize:a,numSegments:i},t),d=n.compileAndRun(c,[e,r],o);if(l.push(d),d.shape[1]===i)return d;const p=Rte({backend:n,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),h=Jne({inputs:{x:p},backend:n,attrs:{reps:[s/u]}});return l.push(p),l.push(h),g(d,t,h,o,i)},b=W6({inputs:{x:g(f,"unsortedSegmentSum",i,m,a)},backend:n,attrs:{shape:p}});let y=b;if(null!=c){l.push(b);const e=QF(c);y=t8({inputs:{x:y},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}},dre=[i8,s8,u8,d8,f8,b8,y8,v8,E8,T8,I8,A8,N8,P8,D8,B8,$8,V8,G8,W8,X8,e7,t7,n7,r7,l7,d7,f7,I6,b7,E7,R7,F7,$7,z7,U7,V7,W7,q7,Y7,t9,n9,r9,i9,l9,d9,p9,f9,g9,b9,v9,x9,k9,S9,T9,I9,O9,P9,L9,B9,U9,G9,q9,K9,Z9,Q9,nee,oee,aee,T6,see,k7,uee,dee,hee,O6,mee,bee,yee,xee,kee,See,Tee,Iee,Oee,Ree,Mee,Lee,Fee,Bee,Uee,Vee,Gee,Wee,Hee,Xee,Zee,Qee,lte,G6,cte,pte,fte,gte,i7,yte,wte,kte,Tte,Ite,P6,jte,Ate,Ote,Nte,Pte,s7,nte,Dte,Fte,$te,H6,Vte,Wte,Xte,Kte,Qte,tne,rne,ine,lne,cne,pne,fne,gne,yne,xne,kne,Q8,ste,Sne,Ene,Tne,Cne,Ine,jne,Ane,One,Pne,Mne,Fne,Bne,$ne,Une,Vne,Gne,Wne,ite,e8,qne,Yne,Kne,Qne,ore,are,n8,sre,lre,cre,xte];for(const e of dre)AP(e);const pre=()=>{const[e,t]=(0,l.useState)(null),[n,r]=(0,l.useState)("");return(0,l.useEffect)((()=>(async function(){try{"webgl"===LM.backendName?console.log("Using WebGL backend"):console.log("Using CPU backend");const e=new mX(void 0);e.add(new CY({units:1,inputShape:[1]})),e.compile({optimizer:"sgd",loss:"meanSquaredError"});const t=zB([1,2,3,4],[4,1]),n=zB([2,4,6,8],[4,1]);await e.fit(t,n,{epochs:100});const r=e.predict(zB([5],[1,1])).dataSync()[0];console.log("Prediction:",r)}catch(e){console.error("Error initializing model:",e)}}(),()=>{LM.disposeVariables()})),[]),l.createElement("div",{className:"iaStyles"},l.createElement("h1",null,"Simple Model Component"),l.createElement("p",null,"Verifica la consola para ver la prediccin del modelo."),l.createElement("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Ingresa una palabra para buscar una imagen"}),l.createElement("button",{onClick:async()=>{try{const e="UBY0Kz6IFJA3fuqc374tGGu4A9uodS7F9uT3PFwWOXuRz0YuabbOtFoM",r=n.split(",");let o=[];for(let t of r){const n=`https://api.pexels.com/v1/search?query=${t.trim()}&per_page=10`,r=await fetch(n,{headers:{Authorization:e}});if(!r.ok)throw new Error("Failed to fetch data");const i=await r.json();i.photos&&i.photos.length>0&&(o=[...o,...i.photos.map((e=>e.src.large))])}t(o)}catch(e){console.error("Error fetching data:",e)}}},"Buscar Imagen"),e&&l.createElement("div",null,l.createElement("h2",null,"Imagen Relacionada"),l.createElement("img",{src:e,alt:"Imagen Relacionada"})))};var hre=i(8844),fre={};fre.styleTagTransform=_(),fre.setAttributes=v(),fre.insert=b().bind(null,"head"),fre.domAPI=m(),fre.insertStyleElement=w(),h()(hre.Z,fre),hre.Z&&hre.Z.locals&&hre.Z.locals;const mre=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)(!0);return(0,l.useEffect)((()=>{(async()=>{const e=await(async()=>{try{const e=await fetch("http://localhost:3002/sketches/sketches"),t=await e.json();return console.log("Sketch Data:",t),t}catch(e){return console.error("Error fetching sketch data:",e),[]}})();t(e),r(!1)})()}),[]),l.createElement("div",{className:"sketchListContainer"},l.createElement("h2",{className:"titleSketch"},"SKETCHES"),n?l.createElement("div",{className:"loading"},"Loading..."):l.createElement("ul",{className:"sketchList"},e.map((e=>l.createElement("li",{key:e.ID},l.createElement(Fe,{to:`/${e.FilePath}`,style:{textDecoration:"none",color:"#27343a"}},l.createElement("h3",{className:"titleSketch"},e.Title),l.createElement("img",{className:"sketchImage",src:e.Image,alt:e.Title})))))))},gre=[{path:"/createSketch",element:l.createElement(Qw,null)},{path:"/DrawShapesSketch",element:l.createElement(Ej,null)},{path:"/DrawImagesSketch",element:l.createElement(Kw,null)},{path:"/StarsSketch",element:l.createElement(kj,null)},{path:"/AudioParticlesSketch",element:l.createElement(yA,null)},{path:"/AudioVisualizerSketch",element:l.createElement(pA,null)},{path:"/SphereImagesSketch",element:l.createElement(mA,null)},{path:"/ShapeSketch",element:l.createElement(wA,null)},{path:"/IAimages",element:l.createElement(pre,null)},{path:"/SketchList",element:l.createElement(mre,null)}];var bre=i(5237),yre={};yre.styleTagTransform=_(),yre.setAttributes=v(),yre.insert=b().bind(null,"head"),yre.domAPI=m(),yre.insertStyleElement=w(),h()(bre.Z,yre),bre.Z&&bre.Z.locals&&bre.Z.locals;const vre=()=>{const[e,t]=(0,l.useState)([]);return(0,l.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e=await fetch("http://localhost:3002/movies/movies");return e.ok?await e.json():(console.error("Error fetching movies"),[])}catch(e){return console.error("Error fetching movies:",e),[]}})();t(e)}catch(e){console.error("Error fetching videos:",e.message)}})()}),[]),l.createElement(l.Fragment,null,l.createElement("div",{className:"video-list-container"},l.createElement("h1",{className:"view-title"},"MOVIES"),l.createElement("div",{className:"video-list"},e.map((e=>l.createElement(Fe,{to:`/movie/${e.ID}`,key:e.ID,className:"video-item-link"},l.createElement("div",{className:"video-item"},l.createElement("video",{className:"video-pic"},l.createElement("source",{src:e.VideoImage,type:"video/mp4"})),l.createElement("p",{className:"video-list-title"},e.Title))))))))},xre=()=>{const[e,t]=(0,l.useState)(null),[n,r]=(0,l.useState)({Title:"",Duration:"",Description:"",Director:"",ArtistID:""}),[o,i]=(0,l.useState)([]),[a,s]=(0,l.useState)(!1),[u,c]=(0,l.useState)(0),[d,p]=(0,l.useState)(null);(0,l.useEffect)((()=>{(async()=>{const e=await tn();i(e)})()}),[]);const h=e=>{const{name:t,value:o}=e.target;r({...n,[t]:o})},f=(e,t="success")=>{p({message:e,type:t}),setTimeout((()=>{p(null)}),5e3)};return l.createElement("div",{className:"my-container-movie"},l.createElement("h3",{className:"form-title"}," CREATE MOVIE "),d&&l.createElement("div",{className:`alert ${d.type}`},d.message),l.createElement("form",{onSubmit:async t=>{t.preventDefault();try{s(!0);const t=new FormData;t.append("VideoFile",e),t.append("Title",n.Title),t.append("Duration",n.Duration),t.append("Description",n.Description),t.append("Director",n.Director),t.append("ArtistID",n.ArtistID);const r=await(async e=>{try{const t=await fetch("http://localhost:3002/movies/createMovie",{method:"POST",body:e});if(t.ok){const e=await t.json();return console.log("Video created successfully:",e),{success:!0,data:e}}return console.error("Error creating video"),{success:!1,error:"Error creating video"}}catch(e){return console.error("Error creating video:",e),{success:!1,error:"Error creating video"}}})(t);r.success?f("Video created successfully","success"):f("Error creating video","error")}catch(e){console.error("Error creating video:",e.message),f("Error creating video","error")}finally{s(!1),c(0)}},className:"my-container-form"},l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Title",className:"my-label-form"},"Title"),l.createElement("input",{type:"text",id:"Title",name:"Title",value:n.Title,onChange:h,className:"my-input-form"})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Duration",className:"my-label-form"},"Duration"),l.createElement("input",{type:"text",id:"Duration",name:"Duration",value:n.Duration,onChange:h,className:"my-input-form"})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Description",className:"my-label-form"},"Description"),l.createElement("textarea",{id:"Description",name:"Description",value:n.Description,onChange:h,className:"my-textarea-form"})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"Director",className:"my-label-form"},"Director"),l.createElement("input",{type:"text",id:"Director",name:"Director",value:n.Director,onChange:h,className:"my-input-form"})),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"ArtistID",className:"my-label-form"},"Artist:"),l.createElement("select",{id:"ArtistID",name:"ArtistID",value:n.ArtistID,onChange:h,className:"my-select-form"},l.createElement("option",{value:"",disabled:!0},"SELECT AN ARTIST"),o.map((e=>l.createElement("option",{key:e.ID,value:e.ID},e.Name))))),l.createElement("div",{className:"my-form-group"},l.createElement("label",{htmlFor:"VideoFile",className:"my-label-form"},"Video File"),l.createElement("input",{type:"file",id:"VideoFile",name:"VideoFile",onChange:e=>{t(e.target.files[0])},className:"my-input-form"})),l.createElement("button",{type:"submit",className:"my-button-form",disabled:a},a?`Uploading... ${u}%`:"Create Video"),a&&l.createElement("div",{className:"my-progress"},l.createElement("progress",{value:u,max:100}),l.createElement("span",null,u,"%"))))};var wre=i(5199),kre={};kre.styleTagTransform=_(),kre.setAttributes=v(),kre.insert=b().bind(null,"head"),kre.domAPI=m(),kre.insertStyleElement=w(),h()(wre.Z,kre),wre.Z&&wre.Z.locals&&wre.Z.locals;const _re=()=>{const{id:e}=ge(),{t}=et(),[n,r]=(0,l.useState)(null),[o,i]=(0,l.useState)("");return(0,l.useEffect)((()=>{(async()=>{try{const t=await(async e=>{try{const t=await fetch(`http://localhost:3002/movies/movies/${e}`);return t.ok?await t.json():(console.error("Error fetching movie details"),null)}catch(e){return console.error("Error fetching movie details:",e),null}})(e);r(t),i(t.Artist?t.Artist.name:"")}catch(e){console.error("Error fetching movie details:",e)}})()}),[e]),n?l.createElement("div",{className:"movie-container"},l.createElement("div",{className:"video-container"},l.createElement("li",{key:n.ID},l.createElement("video",{width:"420",height:"340",controls:!0},l.createElement("source",{src:n.VideoFile,type:"video/mp4"})))),l.createElement("div",{className:"movie-details-container"},l.createElement("h2",{className:"movie-title"},n.Title),l.createElement("p",{className:"movie-description"},n.Description),l.createElement("p",{className:"movie-description"},t("Duration"),": ",n.Duration),l.createElement("p",{className:"movie-description"},t("Director"),": ",n.Director),l.createElement("p",{className:"movie-description"},t("Artist"),": ",o))):l.createElement("p",null,"Loading...")},Sre=[...un,...Jw,...gre,{path:"/movies",element:l.createElement(vre,null)},{path:"/movieForm",element:l.createElement(xre,null)},{path:"/movie/:id",element:l.createElement(_re,null)}];var Ere=i(959),Tre={};Tre.styleTagTransform=_(),Tre.setAttributes=v(),Tre.insert=b().bind(null,"head"),Tre.domAPI=m(),Tre.insertStyleElement=w(),h()(Ere.Z,Tre),Ere.Z&&Ere.Z.locals&&Ere.Z.locals;const Cre=()=>l.createElement(l.Fragment,null,l.createElement("div",{className:"footer"},l.createElement("p",{className:"foot-text"}," 2023 Hologram . Todos los derechos reservados."),l.createElement("p",{className:"foot-text"},"hologram.workspace@gmail.com")));var Ire=i(7437),jre={};jre.styleTagTransform=_(),jre.setAttributes=v(),jre.insert=b().bind(null,"head"),jre.domAPI=m(),jre.insertStyleElement=w(),h()(Ire.Z,jre),Ire.Z&&Ire.Z.locals&&Ire.Z.locals;const Are=()=>l.createElement(l.Fragment,null,l.createElement("div",{className:"home-img"},l.createElement("div",{className:"home-sketch"}))),Ore=({handleLogin:e})=>{const{t}=et(),[n,r]=(0,l.useState)({Username:"",Password:""}),[o,i]=(0,l.useState)(""),a=e=>{const{name:t,value:o}=e.target;r({...n,[t]:o})};return l.createElement("div",{className:"my-container-login"},l.createElement("h3",{className:"form-title"},t("signIn")),l.createElement("form",{onSubmit:async r=>{r.preventDefault();try{const r=await(async e=>{try{const t=await fetch("http://localhost:3002/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=await t.json();return console.log("Inicio de sesin exitoso:",e),{success:!0,token:e.token,user:e.user}}return console.error("Error en el inicio de sesin"),{success:!1,error:"Error en el inicio de sesin"}}catch(e){return console.error("Error en la solicitud:",e),{success:!1,error:"Error en la solicitud"}}})(n);if(r.token)return localStorage.setItem("token",r.token),e(r.user),l.createElement(Ce,{to:"/profile"});i(t("loginError"))}catch(e){i(t("loginError"))}}},l.createElement("div",{className:"my-input-container-form"},l.createElement("label",{className:"my-label-form"}," ",t("username")),l.createElement("input",{type:"text",className:"my-input-form",name:"Username",value:n.Username,onChange:a})),l.createElement("div",{className:"my-input-container-form"},l.createElement("label",{className:"my-label-form"}," ",t("password")),l.createElement("input",{className:"my-input-form",type:"password",name:"Password",value:n.Password,onChange:a})),o&&l.createElement("div",{style:{color:"red"}},o),l.createElement("button",{className:"my-button-form",type:"submit"},t("signIn"))),l.createElement(Fe,{className:"my-link-form",to:"/Register"},t("signUp")))},Nre=({formData:e,isLoading:t,handleChange:n,handleSubmit:r})=>l.createElement("div",{className:"my-container-register"},l.createElement("h3",{className:"form-title"},"SIGN UP"),l.createElement("div",{className:"my-form-container-form"},t&&l.createElement("div",{className:"loading-form"},"LOADING..."),l.createElement("form",{className:"my-form-form",onSubmit:r,encType:"multipart/form-data"},l.createElement("div",{className:"my-form-group-form"},l.createElement("label",{className:"my-label-form",htmlFor:"Username"},"USERNAME"),l.createElement("input",{type:"text",className:"my-input-form",name:"Username",value:e.Username,onChange:n})),l.createElement("div",{className:"my-form-group-form"},l.createElement("label",{className:"my-label-form",htmlFor:"Password"},"PASSWORD"),l.createElement("input",{type:"password",className:"my-input-form",name:"Password",value:e.Password,onChange:n})),l.createElement("div",{className:"my-form-group-form"},l.createElement("label",{className:"my-label-form",htmlFor:"Email"},"EMAIL"),l.createElement("input",{type:"email",className:"my-input-form",name:"Email",value:e.Email,onChange:n})),l.createElement("div",{className:"my-form-group-form"},l.createElement("label",{className:"my-label-form",htmlFor:"Image"},"IMAGES"),l.createElement("input",{type:"file",className:"my-input-form",id:"inputGroupFile01",name:"Image",onChange:n})),l.createElement("input",{type:"submit",value:"Enviar",className:"my-button-form"})))),Rre=()=>{const[e,t]=(0,l.useState)({Username:"",Password:"",Email:"",Image:null}),[n,r]=(0,l.useState)(!1);return l.createElement(Nre,{formData:e,isLoading:n,handleChange:e=>{const{name:n,value:r}=e.target;t("Image"===n?t=>({...t,[n]:e.target.files[0]}):e=>({...e,[n]:r}))},handleSubmit:async n=>{n.preventDefault(),r(!0);const o=await(async e=>{try{const t="http://localhost:3002/users/createUser",n=new FormData;for(const t in e)n.append(t,e[t]);const r=await fetch(t,{method:"POST",body:n});if(r.ok){const e=await r.json();return console.log("Solicitud creada:",e),{success:!0,data:e}}return console.error("Error al crear la solicitud"),{success:!1,error:"Error al crear la solicitud"}}catch(e){return console.error("Error en la solicitud:",e),{success:!1,error:"Error en la solicitud"}}})(e);r(!1),o.success?(alert("Request sent correctly"),t({Username:"",Password:"",Email:"",DateOfBirth:"",PhoneNumber:"",Image:null})):console.error(o.error)}})};var Pre=i(475),Mre={};Mre.styleTagTransform=_(),Mre.setAttributes=v(),Mre.insert=b().bind(null,"head"),Mre.domAPI=m(),Mre.insertStyleElement=w(),h()(Pre.Z,Mre),Pre.Z&&Pre.Z.locals&&Pre.Z.locals;const Dre=i.p+"assets/pencil-icon.png",Lre=async e=>{try{const t=await fetch(`http://localhost:3002/media/byUser/${e}`);return await t.json()}catch(t){return console.error(`Error fetching media for user with ID ${e}:`,t),[]}},Fre=({isLoggedIn:e,userData:t,onPhotoUpload:n})=>{const[r,o]=(0,l.useState)(null),[i,a]=(0,l.useState)(null),[s,u]=(0,l.useState)(!1);return l.createElement("div",{className:"image-uploader"},i?l.createElement("p",null,i):l.createElement("div",null,e&&!s&&l.createElement("button",{className:"button-image-uploader",onClick:()=>{u(!0)}},"POST PHOTO"),s&&l.createElement("div",null,l.createElement("input",{className:"input-image-uploader",type:"file",onChange:e=>{o(e.target.files[0])}}),l.createElement("button",{className:"button-image-uploader",onClick:async()=>{if(!r)return void alert("Por favor selecciona un archivo");const e=new FormData;e.append("Image",r),e.append("UserID",t?t.ID:null);try{(await(async e=>{try{const t=await fetch("http://localhost:3002/media/upload",{method:"POST",body:e});if(t.ok){const e=await t.json();return console.log("Media uploaded successfully:",e),{success:!0,data:e}}return console.error("Error uploading media"),{success:!1,error:"Error uploading media"}}catch(e){return console.error("Error uploading media:",e),{success:!1,error:"Error uploading media"}}})(e)).success?(a("Foto subida exitosamente!"),window.location.reload()):a("Error al subir la foto")}catch(e){console.error("Error uploading photo:",e),a("Error al subir la foto")}}},"POST PHOTO"))))};function Bre(e,t,...n){if("undefined"!=typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let r=0;e=new Error(t.replace(/%s/g,(function(){return n[r++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}const $re="undefined"!=typeof window?l.useLayoutEffect:l.useEffect;function zre(e,t,n){return function(e,t,n){const[r,o]=function(e,t,n){const[r,o]=(0,l.useState)((()=>t(e))),i=(0,l.useCallback)((()=>{const i=t(e);kf(r,i)||(o(i),n&&n())}),[r,e,n]);return $re(i),[r,i]}(e,t,n);return $re((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(o,{handlerIds:[t]})}),[e,o]),r}(t,e||(()=>({})),(()=>n.reconnect()))}function Ure(e,t){const n=[...t||[]];return null==t&&"function"!=typeof e&&n.push(e),(0,l.useMemo)((()=>"function"==typeof e?e():e),n)}function Vre(e){return(0,l.useMemo)((()=>e.hooks.dragSource()),[e])}function Gre(e){return(0,l.useMemo)((()=>e.hooks.dragPreview()),[e])}function Wre(e,t,n,r){let o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;const s=Object.prototype.hasOwnProperty.bind(t);for(let a=0;a<i.length;a++){const l=i[a];if(!s(l))return!1;const u=e[l],c=t[l];if(o=n?n.call(r,u,c,l):void 0,!1===o||void 0===o&&u!==c)return!1}return!0}function Hre(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function qre(e){const t={};return Object.keys(e).forEach((n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const e=function(e){return(t=null,n=null)=>{if(!(0,l.isValidElement)(t)){const r=t;return e(r,n),r}const r=t;return function(e){if("string"==typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(r),function(e,t){const n=e.ref;return Bre("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,l.cloneElement)(e,{ref:e=>{Xre(n,e),Xre(t,e)}}):(0,l.cloneElement)(e,{ref:t})}(r,n?t=>e(t,n):e)}}(r);t[n]=()=>e}})),t}function Xre(e,t){"function"==typeof e?e(t):e.current=t}class Yre{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,n=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();n&&this.disconnectDragPreview(),this.handlerId&&(t?n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Wre(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Wre(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=qre({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,Hre(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,Hre(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}const Kre=(0,l.createContext)({dragDropManager:void 0});function Zre(){const{dragDropManager:e}=(0,l.useContext)(Kre);return Bre(null!=e,"Expected drag drop context"),e}let Jre=!1,Qre=!1;class eoe{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Bre(!Jre,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Jre=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Jre=!1}}isDragging(){if(!this.sourceId)return!1;Bre(!Qre,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Qre=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Qre=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}class toe{beginDrag(){const e=this.spec,t=this.monitor;let n=null;return n="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{},null!=n?n:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const n=this.spec,r=this.monitor,{isDragging:o}=n;return o?o(r):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,n=this.connector,{end:r}=e;r&&r(t.getItem(),t),n.reconnect()}constructor(e,t,n){this.spec=e,this.monitor=t,this.connector=n}}function noe(e,t){const n=Ure(e,t);Bre(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=function(){const e=Zre();return(0,l.useMemo)((()=>new eoe(e)),[e])}(),o=function(e,t){const n=Zre(),r=(0,l.useMemo)((()=>new Yre(n.getBackend())),[n]);return $re((()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource())),[r,e]),$re((()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview())),[r,t]),r}(n.options,n.previewOptions);return function(e,t,n){const r=Zre(),o=function(e,t,n){const r=(0,l.useMemo)((()=>new toe(e,t,n)),[t,n]);return(0,l.useEffect)((()=>{r.spec=e}),[e]),r}(e,t,n),i=function(e){return(0,l.useMemo)((()=>{const t=e.type;return Bre(null!=t,"spec.type must be defined"),t}),[e])}(e);$re((function(){if(null!=i){const[e,a]=function(e,t,n){const r=n.getRegistry(),o=r.addSource(e,t);return[o,()=>r.removeSource(o)]}(i,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),a}}),[r,t,n,o,i])}(n,r,o),[zre(n.collect,r,o),Vre(o),Gre(o)]}const roe=({id:e,image:t})=>{const[{isDragging:n},r]=noe((()=>({type:"image",item:{id:e},collect:e=>({isDragging:!!e.isDragging()})})));return l.createElement("div",{ref:r,style:{opacity:n?.5:1,cursor:"move",marginBottom:"8px"}},l.createElement("img",{src:t,alt:`Picture ${e}`,style:{width:"150px",border:"5px solid transparent"}}))};function ooe(e){return(0,l.useMemo)((()=>e.hooks.dropTarget()),[e])}class ioe{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Wre(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=qre({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,Hre(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}let aoe=!1;class soe{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;Bre(!aoe,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return aoe=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{aoe=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}class loe{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function uoe(e,t){const n=Ure(e,t),r=function(){const e=Zre();return(0,l.useMemo)((()=>new soe(e)),[e])}(),o=function(e){const t=Zre(),n=(0,l.useMemo)((()=>new ioe(t.getBackend())),[t]);return $re((()=>(n.dropTargetOptions=e||null,n.reconnect(),()=>n.disconnectDropTarget())),[e]),n}(n.options);return function(e,t,n){const r=Zre(),o=function(e,t){const n=(0,l.useMemo)((()=>new loe(e,t)),[t]);return(0,l.useEffect)((()=>{n.spec=e}),[e]),n}(e,t),i=function(e){const{accept:t}=e;return(0,l.useMemo)((()=>(Bre(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);$re((function(){const[e,a]=function(e,t,n){const r=n.getRegistry(),o=r.addTarget(e,t);return[o,()=>r.removeTarget(o)]}(i,o,r);return t.receiveHandlerId(e),n.receiveHandlerId(e),a}),[r,t,o,n,i.map((e=>e.toString())).join("|")])}(n,r,o),[zre(n.collect,r,o),ooe(o)]}var coe=i(1275),doe={};doe.styleTagTransform=_(),doe.setAttributes=v(),doe.insert=b().bind(null,"head"),doe.domAPI=m(),doe.insertStyleElement=w(),h()(coe.Z,doe),coe.Z&&coe.Z.locals&&coe.Z.locals;const poe=function({userId:e}){const[t,n]=(0,l.useState)([]),[r,o]=(0,l.useState)([]),[i,a]=(0,l.useState)(!0);(0,l.useEffect)((()=>{(async()=>{try{const t=await Lre(e);o(t),a(!1)}catch(e){console.error("Error fetching user media",e)}})()}),[e]),(0,l.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("board"));e&&n(e)}),[]),(0,l.useEffect)((()=>{localStorage.setItem("board",JSON.stringify(t))}),[t]),(0,l.useEffect)((()=>{localStorage.setItem("userMedia",JSON.stringify(r))}),[r]);const[{isOver:s},u]=uoe((()=>({accept:"image",drop:e=>{(e=>{const t=JSON.parse(localStorage.getItem("userMedia")).find((t=>t.ID===e));t?n((e=>[...e,t])):console.error("Image not found with ID:",e)})(e.id)},collect:e=>({isOver:!!e.isOver()})})));if(i)return l.createElement("div",{className:"loading"},"LOADING...");const c=Math.ceil(r.length/3),d=Array.from({length:3}).map(((e,t)=>r.slice(t*c,(t+1)*c)));return l.createElement("div",{className:"media-container"},l.createElement("div",{className:"photos"},l.createElement("div",{className:"columns-photos-container"},d.map(((e,t)=>l.createElement("div",{className:"column-photo",key:t},e.map((e=>l.createElement("div",{className:"",key:e.ID},l.createElement(roe,{id:e.ID,image:e.Image}))))))))),l.createElement("div",{className:"board",ref:u},t.map((e=>l.createElement("div",{className:"board-picture",key:e.ID},l.createElement(roe,{id:e.ID,image:e.Image}))))))};var hoe=i(5893);function foe(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var moe="function"==typeof Symbol&&Symbol.observable||"@@observable",goe=function(){return Math.random().toString(36).substring(7).split("").join(".")},boe={INIT:"@@redux/INIT"+goe(),REPLACE:"@@redux/REPLACE"+goe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+goe()}};function yoe(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(foe(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(foe(1));return n(yoe)(e,t)}if("function"!=typeof e)throw new Error(foe(2));var o=e,i=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){if(l)throw new Error(foe(3));return i}function d(e){if("function"!=typeof e)throw new Error(foe(4));if(l)throw new Error(foe(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(foe(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(foe(7));if(void 0===e.type)throw new Error(foe(8));if(l)throw new Error(foe(9));try{l=!0,i=o(i,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}return p({type:boe.INIT}),(r={dispatch:p,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error(foe(10));o=e,p({type:boe.REPLACE})}})[moe]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(foe(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[moe]=function(){return this},e},r}function voe(e){return"object"==typeof e}const xoe="dnd-core/INIT_COORDS",woe="dnd-core/BEGIN_DRAG",koe="dnd-core/PUBLISH_DRAG_SOURCE",_oe="dnd-core/HOVER",Soe="dnd-core/DROP",Eoe="dnd-core/END_DRAG";function Toe(e,t){return{type:xoe,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const Coe={type:xoe,payload:{clientOffset:null,sourceClientOffset:null}};function Ioe(e){return function(t=[],n={publishSource:!0}){const{publishSource:r=!0,clientOffset:o,getSourceClientOffset:i}=n,a=e.getMonitor(),s=e.getRegistry();e.dispatch(Toe(o)),function(e,t,n){Bre(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Bre(n.getSource(e),"Expected sourceIds to be registered.")}))}(t,a,s);const l=function(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,a);if(null==l)return void e.dispatch(Coe);let u=null;if(o){if(!i)throw new Error("getSourceClientOffset must be defined");!function(e){Bre("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(i),u=i(l)}e.dispatch(Toe(o,u));const c=s.getSource(l).beginDrag(a,l);if(null==c)return;!function(e){Bre(voe(e),"Item must be an object.")}(c),s.pinSource(l);const d=s.getSourceType(l);return{type:woe,payload:{itemType:d,item:c,sourceId:l,clientOffset:o||null,sourceClientOffset:u||null,isSourcePublic:!!r}}}}function joe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aoe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){joe(e,t,n[t])}))}return e}function Ooe(e){return function(t={}){const n=e.getMonitor(),r=e.getRegistry();!function(e){Bre(e.isDragging(),"Cannot call drop while not dragging."),Bre(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(n);const o=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(n);o.forEach(((o,i)=>{const a=function(e,t,n,r){const o=n.getTarget(e);let i=o?o.drop(r,e):void 0;return function(e){Bre(void 0===e||voe(e),"Drop result must either be an object or undefined.")}(i),void 0===i&&(i=0===t?{}:r.getDropResult()),i}(o,i,r,n),s={type:Soe,payload:{dropResult:Aoe({},t,a)}};e.dispatch(s)}))}}function Noe(e){return function(){const t=e.getMonitor(),n=e.getRegistry();!function(e){Bre(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const r=t.getSourceId();return null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource()),{type:Eoe}}}function Roe(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function Poe(e){return function(t,{clientOffset:n}={}){!function(e){Bre(Array.isArray(e),"Expected targetIds to be an array.")}(t);const r=t.slice(0),o=e.getMonitor(),i=e.getRegistry();return function(e,t,n){for(let r=e.length-1;r>=0;r--){const o=e[r];Roe(t.getTargetType(o),n)||e.splice(r,1)}}(r,i,o.getItemType()),function(e,t,n){Bre(t.isDragging(),"Cannot call hover while not dragging."),Bre(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){const r=e[t];Bre(e.lastIndexOf(r)===t,"Expected targetIds to be unique in the passed array."),Bre(n.getTarget(r),"Expected targetIds to be registered.")}}(r,o,i),function(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}(r,o,i),{type:_oe,payload:{targetIds:r,clientOffset:n||null}}}}function Moe(e){return function(){if(e.getMonitor().isDragging())return{type:koe}}}class Doe{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store,n=function(e){return{beginDrag:Ioe(e),publishDragSource:Moe(e),hover:Poe(e),drop:Ooe(e),endDrag:Noe(e)}}(this);return Object.keys(n).reduce(((r,o)=>{const i=n[o];var a;return r[o]=(a=i,(...n)=>{const r=a.apply(e,n);void 0!==r&&t(r)}),r}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function Loe(e,t){return{x:e.x-t.x,y:e.y-t.y}}const Foe=[],Boe=[];Foe.__IS_NONE__=!0,Boe.__IS_ALL__=!0;class $oe{subscribeToStateChange(e,t={}){const{handlerIds:n}=t;Bre("function"==typeof e,"listener must be a function."),Bre(void 0===n||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let r=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),o=t.stateId;try{const i=o===r||o===r+1&&!function(e,t){if(e===Foe)return!1;if(e===Boe||void 0===t)return!0;var n;return(n=e,t.filter((e=>n.indexOf(e)>-1))).length>0}(t.dirtyHandlerIds,n);i||e()}finally{r=o}}))}subscribeToOffsetChange(e){Bre("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const n=this.store.getState().dragOffset;n!==t&&(t=n,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return Bre(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);return Bre(t,`Expected to find a valid target. targetId=${e}`),!(!this.isDragging()||this.didDrop())&&(Roe(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e))}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);return Bre(t,`Expected to find a valid source. sourceId=${e}`),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:n}=t;if(!this.isDragging())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!Roe(r,o))return!1;const i=this.getTargetIds();if(!i.length)return!1;const a=i.indexOf(e);return n?a===i.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return t&&n&&r?Loe(function(e,t){return{x:e.x+t.x,y:e.y+t.y}}(t,r),n):null}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:n}=e;return t&&n?Loe(t,n):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const zoe="undefined"!=typeof global?global:self,Uoe=zoe.MutationObserver||zoe.WebKitMutationObserver;function Voe(e){return function(){const t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}const Goe="function"==typeof Uoe?function(e){let t=1;const n=new Uoe(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}:Voe;class Woe{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const Hoe=new class{enqueueTask(e){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,n=e.length-this.index;t<n;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Goe(this.flush),this.requestErrorThrow=Voe((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},qoe=new class{create(e){const t=this.freeTasks,n=t.length?t.pop():new Woe(this.onError,(e=>t[t.length]=e));return n.task=e,n}constructor(e){this.onError=e,this.freeTasks=[]}}(Hoe.registerPendingError),Xoe="dnd-core/ADD_SOURCE",Yoe="dnd-core/ADD_TARGET",Koe="dnd-core/REMOVE_SOURCE",Zoe="dnd-core/REMOVE_TARGET";function Joe(e,t){t&&Array.isArray(e)?e.forEach((e=>Joe(e,!1))):Bre("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Qoe;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(Qoe||(Qoe={}));let eie=0;function tie(e){switch(e[0]){case"S":return Qoe.SOURCE;case"T":return Qoe.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function nie(e,t){const n=e.entries();let r=!1;do{const{done:e,value:[,o]}=n.next();if(o===t)return!0;r=!!e}while(!r);return!1}class rie{addSource(e,t){Joe(e),function(e){Bre("function"==typeof e.canDrag,"Expected canDrag to be a function."),Bre("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),Bre("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);const n=this.addHandler(Qoe.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Xoe,payload:{sourceId:e}}}(n)),n}addTarget(e,t){Joe(e,!0),function(e){Bre("function"==typeof e.canDrop,"Expected canDrop to be a function."),Bre("function"==typeof e.hover,"Expected hover to be a function."),Bre("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);const n=this.addHandler(Qoe.TARGET,e,t);return this.store.dispatch(function(e){return{type:Yoe,payload:{targetId:e}}}(n)),n}containsHandler(e){return nie(this.dragSources,e)||nie(this.dropTargets,e)}getSource(e,t=!1){return Bre(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Bre(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Bre(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Bre(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return tie(e)===Qoe.SOURCE}isTargetId(e){return tie(e)===Qoe.TARGET}removeSource(e){var t;Bre(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Koe,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},Hoe.enqueueTask(qoe.create(t))}removeTarget(e){Bre(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Zoe,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);Bre(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){Bre(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,n){const r=function(e){const t=(eie++).toString();switch(e){case Qoe.SOURCE:return`S${t}`;case Qoe.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}(e);return this.types.set(r,t),e===Qoe.SOURCE?this.dragSources.set(r,n):e===Qoe.TARGET&&this.dropTargets.set(r,n),r}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const oie=(e,t)=>e===t;function iie(e=Foe,t){switch(t.type){case _oe:break;case Xoe:case Yoe:case Zoe:case Koe:return Foe;default:return Boe}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,o=function(e,t){const n=new Map,r=e=>{n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);const o=[];return n.forEach(((e,t)=>{1===e&&o.push(t)})),o}(n,r),i=o.length>0||!function(e,t,n=oie){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(n,r);if(!i)return Foe;const a=r[r.length-1],s=n[n.length-1];return a!==s&&(a&&o.push(a),s&&o.push(s)),o}function aie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const sie={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function lie(e=sie,t){const{payload:n}=t;switch(t.type){case xoe:case woe:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case _oe:return r=e.clientOffset,o=n.clientOffset,!r&&!o||r&&o&&r.x===o.x&&r.y===o.y?e:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){aie(e,t,n[t])}))}return e}({},e,{clientOffset:n.clientOffset});case Eoe:case Soe:return sie;default:return e}var r,o}function uie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){uie(e,t,n[t])}))}return e}const die={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function pie(e=die,t){const{payload:n}=t;switch(t.type){case woe:return cie({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case koe:return cie({},e,{isSourcePublic:!0});case _oe:return cie({},e,{targetIds:n.targetIds});case Zoe:return-1===e.targetIds.indexOf(n.targetId)?e:cie({},e,{targetIds:(r=e.targetIds,o=n.targetId,r.filter((e=>e!==o)))});case Soe:return cie({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Eoe:return cie({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var r,o}function hie(e=0,t){switch(t.type){case Xoe:case Yoe:return e+1;case Koe:case Zoe:return e-1;default:return e}}function fie(e=0){return e+1}function mie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){mie(e,t,n[t])}))}return e}function bie(e={},t){return{dirtyHandlerIds:iie(e.dirtyHandlerIds,{type:t.type,payload:gie({},t.payload,{prevTargetIds:(n=e,"dragOperation.targetIds",r=[],"dragOperation.targetIds".split(".").reduce(((e,t)=>e&&e[t]?e[t]:r||null),n))})}),dragOffset:lie(e.dragOffset,t),refCount:hie(e.refCount,t),dragOperation:pie(e.dragOperation,t),stateId:fie(e.stateId)};var n,r}function yie(e,t=void 0,n={},r=!1){const o=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return yoe(bie,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(r),i=new $oe(o,new rie(o)),a=new Doe(o,i),s=e(a,t,n);return a.receiveBackend(s),a}let vie=0;const xie=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var wie=(0,l.memo)((function(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,["children"]);const[r,o]=function(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=function(e,t=kie(),n,r){const o=t;return o[xie]||(o[xie]={dragDropManager:yie(e,t,n,r)}),o[xie]}(e.backend,e.context,e.options,e.debugMode);return[t,!e.context]}(n);return(0,l.useEffect)((()=>{if(o){const e=kie();return++vie,()=>{0==--vie&&(e[xie]=null)}}}),[]),(0,hoe.jsx)(Kre.Provider,{value:r,children:t})}));function kie(){return"undefined"!=typeof global?global:window}function _ie(e){let t=null;return()=>(null==t&&(t=e()),t)}class Sie{enter(e){const t=this.entered.length;return this.entered=function(e,t){const n=new Set,r=e=>n.add(e);e.forEach(r),t.forEach(r);const o=[];return n.forEach((e=>o.push(e))),o}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var n,r;return this.entered=(n=this.entered.filter(this.isNodeInDocument),r=e,n.filter((e=>e!==r))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class Eie{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((n=>{const r=this.config.exposeProperties[n];null!=r&&(t[n]={value:r(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Tie="__NATIVE_FILE__",Cie="__NATIVE_URL__",Iie="__NATIVE_TEXT__",jie="__NATIVE_HTML__";function Aie(e,t,n){const r=t.reduce(((t,n)=>t||e.getData(n)),"");return null!=r?r:n}const Oie={[Tie]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[jie]:{exposeProperties:{html:(e,t)=>Aie(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[Cie]:{exposeProperties:{urls:(e,t)=>Aie(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[Iie]:{exposeProperties:{text:(e,t)=>Aie(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Nie(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(Oie).filter((e=>{const n=Oie[e];return!!(null==n?void 0:n.matchesTypes)&&n.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const Rie=_ie((()=>/firefox/i.test(navigator.userAgent))),Pie=_ie((()=>Boolean(window.safari)));class Mie{interpolate(e){const{xs:t,ys:n,c1s:r,c2s:o,c3s:i}=this;let a=t.length-1;if(e===t[a])return n[a];let s,l=0,u=i.length-1;for(;l<=u;){s=Math.floor(.5*(l+u));const r=t[s];if(r<e)l=s+1;else{if(!(r>e))return n[s];u=s-1}}a=Math.max(0,u);const c=e-t[a],d=c*c;return n[a]+r[a]*c+o[a]*d+i[a]*c*d}constructor(e,t){const{length:n}=e,r=[];for(let e=0;e<n;e++)r.push(e);r.sort(((t,n)=>e[t]<e[n]?-1:1));const o=[],i=[],a=[];let s,l;for(let r=0;r<n-1;r++)s=e[r+1]-e[r],l=t[r+1]-t[r],i.push(s),o.push(l),a.push(l/s);const u=[a[0]];for(let e=0;e<i.length-1;e++){const t=a[e],n=a[e+1];if(t*n<=0)u.push(0);else{s=i[e];const r=i[e+1],o=s+r;u.push(3*o/((o+r)/t+(o+s)/n))}}u.push(a[a.length-1]);const c=[],d=[];let p;for(let e=0;e<u.length-1;e++){p=a[e];const t=u[e],n=1/i[e],r=t+u[e+1]-p-p;c.push((p-t-r)*n),d.push(r*n*n)}this.xs=e,this.ys=t,this.c1s=u,this.c2s=c,this.c3s=d}}const Die=1;function Lie(e){const t=e.nodeType===Die?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Fie(e){return{x:e.clientX,y:e.clientY}}class Bie{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function $ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){$ie(e,t,n[t])}))}return e}class Uie{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,n){return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,n){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);const r=t=>this.handleDragStart(t,e),o=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",r),t.addEventListener("selectstart",o),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",r),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const n=t=>this.handleDragEnter(t,e),r=t=>this.handleDragOver(t,e),o=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",n),t.addEventListener("dragover",r),t.addEventListener("drop",o),()=>{t.removeEventListener("dragenter",n),t.removeEventListener("dragover",r),t.removeEventListener("drop",o)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return zie({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return zie({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(a).some((t=>a[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const n=Oie[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new Eie(n);return r.loadDataTransfer(t),r}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&Lie(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const n=Fie(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});const{dataTransfer:r}=e,o=Nie(r);if(this.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),o=this.sourcePreviewNodes.get(e)||t;if(o){const{anchorX:e,anchorY:i,offsetX:a,offsetY:s}=this.getCurrentSourcePreviewNodeOptions(),l=function(e,t,n,r,o){const i="IMG"===(a=t).nodeName&&(Rie()||!(null===(s=document.documentElement)||void 0===s?void 0:s.contains(a)));var a,s;const l=Lie(i?e:t),u={x:n.x-l.x,y:n.y-l.y},{offsetWidth:c,offsetHeight:d}=e,{anchorX:p,anchorY:h}=r,{dragPreviewWidth:f,dragPreviewHeight:m}=function(e,t,n,r){let o=e?t.width:n,i=e?t.height:r;return Pie()&&e&&(i/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:i}}(i,t,c,d),{offsetX:g,offsetY:b}=o,y=0===b||b;return{x:0===g||g?g:new Mie([0,.5,1],[u.x,u.x/c*f,u.x+f-c]).interpolate(p),y:y?b:(()=>{let e=new Mie([0,.5,1],[u.y,u.y/d*m,u.y+m-d]).interpolate(h);return Pie()&&i&&(e+=(window.devicePixelRatio-1)*m),e})()}}(t,o,n,{anchorX:e,anchorY:i},{offsetX:a,offsetY:s});r.setDragImage(o,l.x,l.y)}}try{null==r||r.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(o)this.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)),!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:n}=e,r=Nie(n);r&&this.beginDragNativeItem(r,n)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:Fie(e)}),t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=e=>{var t;this.dragOverTargetIds=[],this.isDraggingNativeItem()&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=Fie(e),this.scheduleHover(t),(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;this.dropTargetIds=[],this.isDraggingNativeItem()?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):Nie(e.dataTransfer)&&e.preventDefault(),this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:Fie(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new Bie(t,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new Sie(this.isNodeInDocument)}}const Vie=function(e,t,n){return new Uie(e,t,n)},Gie=({children:e})=>l.createElement("div",{className:"centered-container"},l.createElement(wie,{backend:Vie},e)),Wie=function({isLoggedIn:e,userData:t,setUserData:n}){const[r,o]=(0,l.useState)(!1),[i,a]=(0,l.useState)(""),[s,u]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[p,h]=(0,l.useState)([]);(0,l.useEffect)((()=>{t&&t.ID&&(async e=>{try{const t=await Lre(e);h(t),console.log(t)}catch(e){console.error("Error fetching user media",e)}})(t.ID)}),[t]);const f=()=>{o(!0)};return l.createElement(l.Fragment,null,l.createElement("div",{className:"profile"},e&&t&&l.createElement("div",{className:"profile-container"},l.createElement("div",{className:"bio-username"},l.createElement("div",{className:"username-container"},r?l.createElement("input",{className:"input-edit-username",type:"text",value:s||t.Username,onChange:e=>{u(e.target.value)}}):l.createElement("span",{className:"username"},t.Username),l.createElement("div",{className:"edit-icon-container "+(r?"":"hidden"),onClick:f},l.createElement("img",{src:Dre,alt:"Edit",className:"edit-icon"}))),l.createElement("div",{className:"bio-container"},r?l.createElement("textarea",{value:c||t.Bio,onChange:e=>{d(e.target.value)},className:"input-edit-bio",rows:4}):l.createElement("span",{className:"bio"},t.Bio),l.createElement("div",{className:"edit-icon-container "+(r?"":"hidden"),onClick:f},l.createElement("img",{src:Dre,alt:"Edit",className:"edit-icon"})))),l.createElement("div",{className:"profile-image-container"},r?l.createElement("input",{className:"input-edit",type:"file",onChange:e=>{a(e.target.value)}}):l.createElement("img",{src:t.Image,alt:"Profile",className:"profile-image"}),l.createElement("div",{className:"edit-icon-container "+(r?"":"hidden"),onClick:f},l.createElement("img",{src:Dre,alt:"Edit",className:"edit-icon"}))),r&&l.createElement("button",{onClick:async()=>{const e=t.ID,r=localStorage.getItem("token"),a={Username:s||t.Username,Bio:c||t.Bio,Image:i||t.Image},l=await(async(e,t,n)=>{try{console.log("ID del usuario:",e),console.log("Token de autenticacin:",n);const r=`http://localhost:3002/users/user/${e}/edit`,o=new FormData;for(const e in t)o.append(e,t[e]);const i={method:"PUT",headers:{Authorization:`Bearer ${n}`},body:o};return(await fetch(r,i)).ok?(console.log("Perfil de usuario actualizado correctamente"),{success:!0}):(console.error("Error al actualizar el perfil del usuario"),{success:!1,error:"Error al actualizar el perfil del usuario"})}catch(e){return console.error("Error en la solicitud:",e),{success:!1,error:"Error en la solicitud"}}})(e,a,r);l.success?(console.log("Perfil de usuario actualizado correctamente"),n((e=>({...e,...a}))),localStorage.setItem("userData",JSON.stringify(t)),d(a.Bio)):console.error("Error al actualizar el perfil del usuario"),o(!1)}},"SAVE")),l.createElement("div",{className:"edit-profile"},e&&t&&l.createElement("button",{className:"button-edit-profile",onClick:f},"EDIT PROFILE"),l.createElement(Fre,{isLoggedIn:e,userData:t})),l.createElement(Gie,null,l.createElement(poe,{userId:t.ID}))))},Hie=()=>{const[e,t]=(0,l.useState)(""),[n,r]=(0,l.useState)(null);return(0,l.useEffect)((()=>{""!==e.trim()&&(async()=>{try{const t=await(async e=>{try{const t=await fetch(`http://localhost:3002/users/users/${e}`,{method:"GET"});if(t.ok){const e=await t.json();return console.log("Perfil del usuario encontrado:",e),{success:!0,user:e.user}}return console.error("Error al buscar el perfil del usuario"),{success:!1,error:"Error al buscar el perfil del usuario"}}catch(e){return console.error("Error en la solicitud:",e),{success:!1,error:"Error en la solicitud"}}})(e);t.success?r(t.user):r(null)}catch(e){console.error("Error fetching user profile:",e)}})()}),[e]),l.createElement(l.Fragment,null,l.createElement("div",{className:"search-input-container"},l.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"SEARCH PROFILE",className:"search-input-profile"}),n&&l.createElement(Fe,{to:`/searched-profile/${n.ID}`,className:"user-preview-link"},l.createElement("div",{className:"user-preview"},l.createElement("img",{src:n.Image,alt:"Profile",className:"profile-preview-image"}),l.createElement("p",{className:"username-preview"},n.Username)))))};var qie=i(975),Xie={};Xie.styleTagTransform=_(),Xie.setAttributes=v(),Xie.insert=b().bind(null,"head"),Xie.domAPI=m(),Xie.insertStyleElement=w(),h()(qie.Z,Xie),qie.Z&&qie.Z.locals&&qie.Z.locals;const Yie=function({userId:e}){const[t,n]=(0,l.useState)([]);(0,l.useEffect)((()=>{(async()=>{try{const e=await(async()=>{try{const e=await fetch("http://localhost:3002/media/media");if(!e.ok)throw new Error("Error fetching media");return await e.json()}catch(e){throw console.error("Error fetching media:",e),e}})();n(e)}catch(e){console.error("Error fetching media:",e)}})()}),[]);const r=e?t.filter((t=>t.UserID===e)):t;return l.createElement("div",{className:"media-container"},l.createElement("div",{className:"columns-photos-container"},Array.from({length:Math.ceil(r.length/3)}).map(((e,t)=>l.createElement("div",{className:"column-photo",key:t},r.filter(((e,n)=>n%3===t)).map((e=>l.createElement("div",{className:"photo-container",key:e.ID},l.createElement("img",{className:"photo-image",src:e.Image,alt:`Photo ${e.ID}`})))))))))},Kie=({userData:e})=>(console.log("userData:",e),e?(console.log("Rendering user profile with userData:",e),l.createElement(l.Fragment,null,l.createElement("div",{className:"full-profile-container"},l.createElement("div",{className:"bio-username"},l.createElement("div",{className:"username-container"},l.createElement("p",{className:"username"},e.Username)),l.createElement("div",{className:"bio-container"},l.createElement("p",{className:"Bio"},"Bio: ",e.Bio))),l.createElement("div",{className:"profile-image-container"},l.createElement("img",{src:e.Image,alt:"Profile",className:"profile-image"}))),l.createElement("div",{className:"search-media-container"},l.createElement(Yie,{userId:e.ID})))):(console.log("userData is null or undefined"),l.createElement("p",null,"Loading..."))),Zie=i.p+"assets/flan.png",Jie=()=>{const[e,t]=(0,l.useState)([]),[n,r]=(0,l.useState)(null);let o=0,i=0;class a{constructor(e,t,r){this.position=e.createVector(t,r),this.velocity=e.createVector(e.random(-1,1),e.random(-1,1)),this.acceleration=e.createVector(),this.maxSpeed=3,this.maxForce=.05,this.particleImg=n,this.radius=e.random(2,10),this.alpha=255,this.particleImg=e.loadImage(Zie),this.lifespan=30}update(e){this.velocity.add(this.acceleration),this.velocity.limit(this.maxSpeed),this.position.add(this.velocity),this.acceleration.mult(0),this.alpha-=105/this.lifespan}display(e){const t=this.particleImg.width/this.particleImg.height,n=2*this.radius,r=n/t;e.imageMode(e.CENTER),e.image(this.particleImg,this.position.x,this.position.y,n,r)}isDead(){return this.alpha<=0}}return l.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:-1}},l.createElement(Yw(),{setup:(t,n)=>{t.createCanvas(window.innerWidth,window.innerHeight).parent(n),t.angleMode(t.DEGREES),t.rectMode(t.CENTER),r(t.loadImage(Zie));for(let n=0;n<50;n++){const n=new a(t,t.random(t.width),t.random(t.height));e.push(n)}},draw:t=>{t.background(255),t.noFill();for(let n=e.length-1;n>=0;n--){const r=e[n];r.update(t),r.display(t),r.isDead()&&e.splice(n,1)}if(o!==t.mouseX||i!==t.mouseY){if(e.length<50){const n=new a(t,t.mouseX,t.mouseY);e.push(n)}o=t.mouseX,i=t.mouseY}}}))},Qie=function(){const e=localStorage.getItem("userData")?JSON.parse(localStorage.getItem("userData")):null,[t,n]=(0,l.useState)(!1),[r,o]=(0,l.useState)(e);(0,l.useEffect)((()=>{"true"===localStorage.getItem("isLoggedIn")&&n(!0)}),[]);const i=()=>{n(!1),localStorage.removeItem("userData"),localStorage.removeItem("isLoggedIn"),o(null)};return l.createElement(tt,{i18n:Yt},l.createElement(Me,null,l.createElement(Jie,null),l.createElement("div",{className:"App"},l.createElement("div",{className:"header-parent"},l.createElement(ct,{isLoggedIn:t,handleLogout:i,userData:r}),l.createElement(Ae,null,l.createElement(Ie,{path:"/",element:l.createElement(Are,null)}),Sre.map(((e,t)=>l.createElement(Ie,{key:t,path:e.path,element:e.element}))),l.createElement(Ie,{path:"/register",element:t?l.createElement(Ce,{to:"/"}):l.createElement(Rre,null)}),l.createElement(Ie,{path:"/login",element:t?l.createElement(Ce,{to:"/"}):l.createElement(Ore,{handleLogin:async e=>{n(!0),o(e),localStorage.setItem("userData",JSON.stringify(e)),localStorage.setItem("isLoggedIn","true")}})}),l.createElement(Ie,{path:"/profile",element:l.createElement(Wie,{isLoggedIn:t,handleLogout:i,userData:r,setUserData:o})}),l.createElement(Ie,{path:"/search-profile",element:l.createElement(Hie,null)}),l.createElement(Ie,{path:"/searched-profile/:userId",element:l.createElement(Kie,{userData:r})}),l.createElement(Ie,{path:"/upload-photo",element:l.createElement(Fre,{isLoggedIn:t,userData:r})}),l.createElement(Ie,{path:"/drag-and-drop",element:l.createElement(Gie,null,l.createElement(poe,null))}))))),l.createElement(Cre,null))};c.render(l.createElement(l.StrictMode,null,l.createElement(Qie,null)),document.getElementById("root"))})()})();